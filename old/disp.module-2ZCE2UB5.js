import{$ as Do,$a as Ve,$b as Xf,A as lc,Ab as ds,Ba as Wi,Bb as Uf,C as E,Ca as we,Cb as Ea,D as Ge,Da as Et,Db as Bl,Ea as Ms,Eb as mc,F as yo,Fa as Vl,G as Pr,Ga as fs,H as Ot,I as mn,Ia as vn,Ib as ms,J as U,Ja as jo,Jb as Wr,K as ne,Ka as ln,Kb as Dt,L as I,La as xn,Lb as qa,M as Ip,Ma as bn,Mb as gc,N as ko,Na as kf,Nb as Ga,O as Ba,Oa as kt,Ob as vo,P as Re,Pa as za,Pb as zl,Q as Pf,Qa as Df,Qb as or,R as G,Ra as Rf,Rb as Xr,S as K,Sa as Ff,Sb as kr,T as xe,Tb as Hl,U as Fe,Ub as Ks,V as Ne,Vb as Kf,W as it,Wa as Nf,Wb as Ua,X as We,Xa as Af,Xb as Zf,Y as Oe,Yb as Yf,Z as T,Zb as jf,_ as hs,_a as Vf,_b as Wf,a as Cr,aa as Gi,ab as un,ac as $f,b as Es,ba as Ct,bb as Ta,bc as Pp,ca as Je,cb as cc,cc as Qf,d as py,da as et,db as pc,dc as Jf,e as tt,ea as Zi,eb as hc,ec as ed,f as hy,fa as Qe,fb as Ha,g as rr,ga as Lt,gb as so,h as fy,ha as kn,hb as Lp,i as d,ia as cl,ib as Bf,ja as Ca,jb as Pi,k as Ir,ka as Ia,kb as wt,la as Sa,lb as Wn,m as Vt,ma as jn,mb as zf,na as Pt,nb as Er,o as je,oa as Yo,ob as fc,p as Bt,pa as nt,pb as Hf,qa as Hi,qb as qf,r as Al,ra as Vn,rb as pl,s as te,sa as Sp,sb as Gf,t as ie,ta as Tp,tb as ge,u as dt,ua as uc,ub as dc,v as Mt,va as Ep,w as ac,wa as Mp,x as qe,xb as xu,y as ps,ya as Op,yb as Us,z as Sr,za as Tr}from"./chunk-WKTSCIPX.js";var id=tt((_c,td)=>{(function(i,s){typeof _c=="object"&&typeof td<"u"?s(_c):typeof define=="function"&&define.amd?define(["exports"],s):(i=typeof globalThis<"u"?globalThis:i||self,s(i.leaflet={}))})(_c,function(i){"use strict";var s="1.9.4";function o(a){var p,m,v,b;for(m=1,v=arguments.length;m<v;m++){b=arguments[m];for(p in b)a[p]=b[p]}return a}var e=Object.create||function(){function a(){}return function(p){return a.prototype=p,new a}}();function r(a,p){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var v=m.call(arguments,2);return function(){return a.apply(p,v.length?v.concat(m.call(arguments)):arguments)}}var l=0;function h(a){return"_leaflet_id"in a||(a._leaflet_id=++l),a._leaflet_id}function g(a,p,m){var v,b,D,J;return J=function(){v=!1,b&&(D.apply(m,b),b=!1)},D=function(){v?b=arguments:(a.apply(m,arguments),setTimeout(J,p),v=!0)},D}function y(a,p,m){var v=p[1],b=p[0],D=v-b;return a===v&&m?a:((a-b)%D+D)%D+b}function w(){return!1}function k(a,p){if(p===!1)return a;var m=Math.pow(10,p===void 0?6:p);return Math.round(a*m)/m}function R(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function A(a){return R(a).split(/\s+/)}function Y(a,p){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?e(a.options):{});for(var m in p)a.options[m]=p[m];return a.options}function X(a,p,m){var v=[];for(var b in a)v.push(encodeURIComponent(m?b.toUpperCase():b)+"="+encodeURIComponent(a[b]));return(!p||p.indexOf("?")===-1?"?":"&")+v.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function S(a,p){return a.replace(j,function(m,v){var b=p[v];if(b===void 0)throw new Error("No value provided for variable "+m);return typeof b=="function"&&(b=b(p)),b})}var O=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function N(a,p){for(var m=0;m<a.length;m++)if(a[m]===p)return m;return-1}var F="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Z(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var ee=0;function re(a){var p=+new Date,m=Math.max(0,16-(p-ee));return ee=p+m,window.setTimeout(a,m)}var se=window.requestAnimationFrame||Z("RequestAnimationFrame")||re,B=window.cancelAnimationFrame||Z("CancelAnimationFrame")||Z("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function _e(a,p,m){if(m&&se===re)a.call(p);else return se.call(window,r(a,p))}function Te(a){a&&B.call(window,a)}var Pe={__proto__:null,extend:o,create:e,bind:r,get lastId(){return l},stamp:h,throttle:g,wrapNum:y,falseFn:w,formatNum:k,trim:R,splitWords:A,setOptions:Y,getParamString:X,template:S,isArray:O,indexOf:N,emptyImageUrl:F,requestFn:se,cancelFn:B,requestAnimFrame:_e,cancelAnimFrame:Te};function W(){}W.extend=function(a){var p=function(){Y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=p.__super__=this.prototype,v=e(m);v.constructor=p,p.prototype=v;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(p[b]=this[b]);return a.statics&&o(p,a.statics),a.includes&&(zt(a.includes),o.apply(null,[v].concat(a.includes))),o(v,a),delete v.statics,delete v.includes,v.options&&(v.options=m.options?e(m.options):{},o(v.options,a.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var D=0,J=v._initHooks.length;D<J;D++)v._initHooks[D].call(this)}},p},W.include=function(a){var p=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=p,this.mergeOptions(a.options)),this},W.mergeOptions=function(a){return o(this.prototype.options,a),this},W.addInitHook=function(a){var p=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,p)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function zt(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=O(a)?a:[a];for(var p=0;p<a.length;p++)a[p]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ie={on:function(a,p,m){if(typeof a=="object")for(var v in a)this._on(v,a[v],p);else{a=A(a);for(var b=0,D=a.length;b<D;b++)this._on(a[b],p,m)}return this},off:function(a,p,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var v in a)this._off(v,a[v],p);else{a=A(a);for(var b=arguments.length===1,D=0,J=a.length;D<J;D++)b?this._off(a[D]):this._off(a[D],p,m)}return this},_on:function(a,p,m,v){if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}if(this._listens(a,p,m)===!1){m===this&&(m=void 0);var b={fn:p,ctx:m};v&&(b.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b)}},_off:function(a,p,m){var v,b,D;if(this._events&&(v=this._events[a],!!v)){if(arguments.length===1){if(this._firingCount)for(b=0,D=v.length;b<D;b++)v[b].fn=w;delete this._events[a];return}if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}var J=this._listens(a,p,m);if(J!==!1){var le=v[J];this._firingCount&&(le.fn=w,this._events[a]=v=v.slice()),v.splice(J,1)}}},fire:function(a,p,m){if(!this.listens(a,m))return this;var v=o({},p,{type:a,target:this,sourceTarget:p&&p.sourceTarget||this});if(this._events){var b=this._events[a];if(b){this._firingCount=this._firingCount+1||1;for(var D=0,J=b.length;D<J;D++){var le=b[D],de=le.fn;le.once&&this.off(a,de,le.ctx),de.call(le.ctx||this,v)}this._firingCount--}}return m&&this._propagateEvent(v),this},listens:function(a,p,m,v){typeof a!="string"&&console.warn('"string" type argument expected');var b=p;typeof p!="function"&&(v=!!p,b=void 0,m=void 0);var D=this._events&&this._events[a];if(D&&D.length&&this._listens(a,b,m)!==!1)return!0;if(v){for(var J in this._eventParents)if(this._eventParents[J].listens(a,p,m,v))return!0}return!1},_listens:function(a,p,m){if(!this._events)return!1;var v=this._events[a]||[];if(!p)return!!v.length;m===this&&(m=void 0);for(var b=0,D=v.length;b<D;b++)if(v[b].fn===p&&v[b].ctx===m)return b;return!1},once:function(a,p,m){if(typeof a=="object")for(var v in a)this._on(v,a[v],p,!0);else{a=A(a);for(var b=0,D=a.length;b<D;b++)this._on(a[b],p,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[h(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[h(a)],this},_propagateEvent:function(a){for(var p in this._eventParents)this._eventParents[p].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};Ie.addEventListener=Ie.on,Ie.removeEventListener=Ie.clearAllEventListeners=Ie.off,Ie.addOneTimeEventListener=Ie.once,Ie.fireEvent=Ie.fire,Ie.hasEventListeners=Ie.listens;var ut=W.extend(Ie);function Be(a,p,m){this.x=m?Math.round(a):a,this.y=m?Math.round(p):p}var Ht=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};Be.prototype={clone:function(){return new Be(this.x,this.y)},add:function(a){return this.clone()._add(ye(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(ye(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new Be(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new Be(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ht(this.x),this.y=Ht(this.y),this},distanceTo:function(a){a=ye(a);var p=a.x-this.x,m=a.y-this.y;return Math.sqrt(p*p+m*m)},equals:function(a){return a=ye(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=ye(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+k(this.x)+", "+k(this.y)+")"}};function ye(a,p,m){return a instanceof Be?a:O(a)?new Be(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new Be(a.x,a.y):new Be(a,p,m)}function Ae(a,p){if(a)for(var m=p?[a,p]:a,v=0,b=m.length;v<b;v++)this.extend(m[v])}Ae.prototype={extend:function(a){var p,m;if(!a)return this;if(a instanceof Be||typeof a[0]=="number"||"x"in a)p=m=ye(a);else if(a=$(a),p=a.min,m=a.max,!p||!m)return this;return!this.min&&!this.max?(this.min=p.clone(),this.max=m.clone()):(this.min.x=Math.min(p.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(p.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return ye((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return ye(this.min.x,this.max.y)},getTopRight:function(){return ye(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var p,m;return typeof a[0]=="number"||a instanceof Be?a=ye(a):a=$(a),a instanceof Ae?(p=a.min,m=a.max):p=m=a,p.x>=this.min.x&&m.x<=this.max.x&&p.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=$(a);var p=this.min,m=this.max,v=a.min,b=a.max,D=b.x>=p.x&&v.x<=m.x,J=b.y>=p.y&&v.y<=m.y;return D&&J},overlaps:function(a){a=$(a);var p=this.min,m=this.max,v=a.min,b=a.max,D=b.x>p.x&&v.x<m.x,J=b.y>p.y&&v.y<m.y;return D&&J},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var p=this.min,m=this.max,v=Math.abs(p.x-m.x)*a,b=Math.abs(p.y-m.y)*a;return $(ye(p.x-v,p.y-b),ye(m.x+v,m.y+b))},equals:function(a){return a?(a=$(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function $(a,p){return!a||a instanceof Ae?a:new Ae(a,p)}function xt(a,p){if(a)for(var m=p?[a,p]:a,v=0,b=m.length;v<b;v++)this.extend(m[v])}xt.prototype={extend:function(a){var p=this._southWest,m=this._northEast,v,b;if(a instanceof st)v=a,b=a;else if(a instanceof xt){if(v=a._southWest,b=a._northEast,!v||!b)return this}else return a?this.extend(Se(a)||$e(a)):this;return!p&&!m?(this._southWest=new st(v.lat,v.lng),this._northEast=new st(b.lat,b.lng)):(p.lat=Math.min(v.lat,p.lat),p.lng=Math.min(v.lng,p.lng),m.lat=Math.max(b.lat,m.lat),m.lng=Math.max(b.lng,m.lng)),this},pad:function(a){var p=this._southWest,m=this._northEast,v=Math.abs(p.lat-m.lat)*a,b=Math.abs(p.lng-m.lng)*a;return new xt(new st(p.lat-v,p.lng-b),new st(m.lat+v,m.lng+b))},getCenter:function(){return new st((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new st(this.getNorth(),this.getWest())},getSouthEast:function(){return new st(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof st||"lat"in a?a=Se(a):a=$e(a);var p=this._southWest,m=this._northEast,v,b;return a instanceof xt?(v=a.getSouthWest(),b=a.getNorthEast()):v=b=a,v.lat>=p.lat&&b.lat<=m.lat&&v.lng>=p.lng&&b.lng<=m.lng},intersects:function(a){a=$e(a);var p=this._southWest,m=this._northEast,v=a.getSouthWest(),b=a.getNorthEast(),D=b.lat>=p.lat&&v.lat<=m.lat,J=b.lng>=p.lng&&v.lng<=m.lng;return D&&J},overlaps:function(a){a=$e(a);var p=this._southWest,m=this._northEast,v=a.getSouthWest(),b=a.getNorthEast(),D=b.lat>p.lat&&v.lat<m.lat,J=b.lng>p.lng&&v.lng<m.lng;return D&&J},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,p){return a?(a=$e(a),this._southWest.equals(a.getSouthWest(),p)&&this._northEast.equals(a.getNorthEast(),p)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function $e(a,p){return a instanceof xt?a:new xt(a,p)}function st(a,p,m){if(isNaN(a)||isNaN(p))throw new Error("Invalid LatLng object: ("+a+", "+p+")");this.lat=+a,this.lng=+p,m!==void 0&&(this.alt=+m)}st.prototype={equals:function(a,p){if(!a)return!1;a=Se(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(p===void 0?1e-9:p)},toString:function(a){return"LatLng("+k(this.lat,a)+", "+k(this.lng,a)+")"},distanceTo:function(a){return Yi.distance(this,Se(a))},wrap:function(){return Yi.wrapLatLng(this)},toBounds:function(a){var p=180*a/40075017,m=p/Math.cos(Math.PI/180*this.lat);return $e([this.lat-p,this.lng-m],[this.lat+p,this.lng+m])},clone:function(){return new st(this.lat,this.lng,this.alt)}};function Se(a,p,m){return a instanceof st?a:O(a)&&typeof a[0]!="object"?a.length===3?new st(a[0],a[1],a[2]):a.length===2?new st(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new st(a.lat,"lng"in a?a.lng:a.lon,a.alt):p===void 0?null:new st(a,p,m)}var qt={latLngToPoint:function(a,p){var m=this.projection.project(a),v=this.scale(p);return this.transformation._transform(m,v)},pointToLatLng:function(a,p){var m=this.scale(p),v=this.transformation.untransform(a,m);return this.projection.unproject(v)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var p=this.projection.bounds,m=this.scale(a),v=this.transformation.transform(p.min,m),b=this.transformation.transform(p.max,m);return new Ae(v,b)},infinite:!1,wrapLatLng:function(a){var p=this.wrapLng?y(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?y(a.lat,this.wrapLat,!0):a.lat,v=a.alt;return new st(m,p,v)},wrapLatLngBounds:function(a){var p=a.getCenter(),m=this.wrapLatLng(p),v=p.lat-m.lat,b=p.lng-m.lng;if(v===0&&b===0)return a;var D=a.getSouthWest(),J=a.getNorthEast(),le=new st(D.lat-v,D.lng-b),de=new st(J.lat-v,J.lng-b);return new xt(le,de)}},Yi=o({},qt,{wrapLng:[-180,180],R:6371e3,distance:function(a,p){var m=Math.PI/180,v=a.lat*m,b=p.lat*m,D=Math.sin((p.lat-a.lat)*m/2),J=Math.sin((p.lng-a.lng)*m/2),le=D*D+Math.cos(v)*Math.cos(b)*J*J,de=2*Math.atan2(Math.sqrt(le),Math.sqrt(1-le));return this.R*de}}),$i=6378137,Gt={R:$i,MAX_LATITUDE:85.0511287798,project:function(a){var p=Math.PI/180,m=this.MAX_LATITUDE,v=Math.max(Math.min(m,a.lat),-m),b=Math.sin(v*p);return new Be(this.R*a.lng*p,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(a){var p=180/Math.PI;return new st((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*p,a.x*p/this.R)},bounds:function(){var a=$i*Math.PI;return new Ae([-a,-a],[a,a])}()};function Bi(a,p,m,v){if(O(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=p,this._c=m,this._d=v}Bi.prototype={transform:function(a,p){return this._transform(a.clone(),p)},_transform:function(a,p){return p=p||1,a.x=p*(this._a*a.x+this._b),a.y=p*(this._c*a.y+this._d),a},untransform:function(a,p){return p=p||1,new Be((a.x/p-this._b)/this._a,(a.y/p-this._d)/this._c)}};function ze(a,p,m,v){return new Bi(a,p,m,v)}var ar=o({},Yi,{code:"EPSG:3857",projection:Gt,transformation:function(){var a=.5/(Math.PI*Gt.R);return ze(a,.5,-a,.5)}()}),Ut=o({},ar,{code:"EPSG:900913"});function lr(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Ai(a,p){var m="",v,b,D,J,le,de;for(v=0,D=a.length;v<D;v++){for(le=a[v],b=0,J=le.length;b<J;b++)de=le[b],m+=(b?"L":"M")+de.x+" "+de.y;m+=p?Ke.svg?"z":"x":""}return m||"M0 0"}var In=document.documentElement.style,ji="ActiveXObject"in window,ur=ji&&!document.addEventListener,Ao="msLaunchUri"in navigator&&!("documentMode"in document),at=jt("webkit"),Vi=jt("android"),Vo=jt("android 2")||jt("android 3"),uo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Bo=Vi&&jt("Google")&&uo<537&&!("AudioNode"in window),Qn=!!window.opera,Le=!Ao&&jt("chrome"),Ps=jt("gecko")&&!at&&!Qn&&!ji,Jo=!Le&&jt("safari"),rt=jt("phantom"),Co="OTransition"in In,tl=navigator.platform.indexOf("Win")===0,oe=ji&&"transition"in In,C="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Vo,P="MozPerspective"in In,z=!window.L_DISABLE_3D&&(oe||C||P)&&!Co&&!rt,q=typeof orientation<"u"||jt("mobile"),H=q&&at,fe=q&&C,ae=!window.PointerEvent&&window.MSPointerEvent,be=!!(window.PointerEvent||ae),me="ontouchstart"in window||!!window.TouchEvent,ue=!window.L_NO_TOUCH&&(me||be),pe=q&&Qn,Ce=q&&Ps,ve=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,gt=function(){var a=!1;try{var p=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",w,p),window.removeEventListener("testPassiveEventSupport",w,p)}catch{}return a}(),ct=function(){return!!document.createElement("canvas").getContext}(),St=!!(document.createElementNS&&lr("svg").createSVGRect),vt=!!St&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Qi=!St&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var p=a.firstChild;return p.style.behavior="url(#default#VML)",p&&typeof p.adj=="object"}catch{return!1}}(),Jn=navigator.platform.indexOf("Mac")===0,Rn=navigator.platform.indexOf("Linux")===0;function jt(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Ke={ie:ji,ielt9:ur,edge:Ao,webkit:at,android:Vi,android23:Vo,androidStock:Bo,opera:Qn,chrome:Le,gecko:Ps,safari:Jo,phantom:rt,opera12:Co,win:tl,ie3d:oe,webkit3d:C,gecko3d:P,any3d:z,mobile:q,mobileWebkit:H,mobileWebkit3d:fe,msPointer:ae,pointer:be,touch:ue,touchNative:me,mobileOpera:pe,mobileGecko:Ce,retina:ve,passiveEvents:gt,canvas:ct,svg:St,vml:Qi,inlineSvg:vt,mac:Jn,linux:Rn},_r=Ke.msPointer?"MSPointerDown":"pointerdown",Ji=Ke.msPointer?"MSPointerMove":"pointermove",_t=Ke.msPointer?"MSPointerUp":"pointerup",en=Ke.msPointer?"MSPointerCancel":"pointercancel",tn={touchstart:_r,touchmove:Ji,touchend:_t,touchcancel:en},nn={touchstart:Br,touchmove:js,touchend:js,touchcancel:js},Ri={},to=!1;function Ar(a,p,m){return p==="touchstart"&&on(),nn[p]?(m=nn[p].bind(this,m),a.addEventListener(tn[p],m,!1),m):(console.warn("wrong event specified:",p),w)}function ka(a,p,m){if(!tn[p]){console.warn("wrong event specified:",p);return}a.removeEventListener(tn[p],m,!1)}function Vr(a){Ri[a.pointerId]=a}function pu(a){Ri[a.pointerId]&&(Ri[a.pointerId]=a)}function rn(a){delete Ri[a.pointerId]}function on(){to||(document.addEventListener(_r,Vr,!0),document.addEventListener(Ji,pu,!0),document.addEventListener(_t,rn,!0),document.addEventListener(en,rn,!0),to=!0)}function js(a,p){if(p.pointerType!==(p.MSPOINTER_TYPE_MOUSE||"mouse")){p.touches=[];for(var m in Ri)p.touches.push(Ri[m]);p.changedTouches=[p],a(p)}}function Br(a,p){p.MSPOINTER_TYPE_TOUCH&&p.pointerType===p.MSPOINTER_TYPE_TOUCH&&Fn(p),js(a,p)}function ks(a){var p={},m,v;for(v in a)m=a[v],p[v]=m&&m.bind?m.bind(a):m;return a=p,p.type="dblclick",p.detail=2,p.isTrusted=!1,p._simulated=!0,p}var Sn=200;function Da(a,p){a.addEventListener("dblclick",p);var m=0,v;function b(D){if(D.detail!==1){v=D.detail;return}if(!(D.pointerType==="mouse"||D.sourceCapabilities&&!D.sourceCapabilities.firesTouchEvents)){var J=ts(D);if(!(J.some(function(de){return de instanceof HTMLLabelElement&&de.attributes.for})&&!J.some(function(de){return de instanceof HTMLInputElement||de instanceof HTMLSelectElement}))){var le=Date.now();le-m<=Sn?(v++,v===2&&p(ks(D))):v=1,m=le}}}return a.addEventListener("click",b),{dblclick:p,simDblclick:b}}function es(a,p){a.removeEventListener("dblclick",p.dblclick),a.removeEventListener("click",p.simDblclick)}var Io=Pl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),yr=Pl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),il=yr==="webkitTransition"||yr==="OTransition"?yr+"End":"transitionend";function Ra(a){return typeof a=="string"?document.getElementById(a):a}function Ds(a,p){var m=a.style[p]||a.currentStyle&&a.currentStyle[p];if((!m||m==="auto")&&document.defaultView){var v=document.defaultView.getComputedStyle(a,null);m=v?v[p]:null}return m==="auto"?null:m}function Wt(a,p,m){var v=document.createElement(a);return v.className=p||"",m&&m.appendChild(v),v}function bt(a){var p=a.parentNode;p&&p.removeChild(a)}function nl(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function zr(a){var p=a.parentNode;p&&p.lastChild!==a&&p.appendChild(a)}function Ws(a){var p=a.parentNode;p&&p.firstChild!==a&&p.insertBefore(a,p.firstChild)}function Ll(a,p){if(a.classList!==void 0)return a.classList.contains(p);var m=Fa(a);return m.length>0&&new RegExp("(^|\\s)"+p+"(\\s|$)").test(m)}function Ze(a,p){if(a.classList!==void 0)for(var m=A(p),v=0,b=m.length;v<b;v++)a.classList.add(m[v]);else if(!Ll(a,p)){var D=Fa(a);co(a,(D?D+" ":"")+p)}}function Tn(a,p){a.classList!==void 0?a.classList.remove(p):co(a,R((" "+Fa(a)+" ").replace(" "+p+" "," ")))}function co(a,p){a.className.baseVal===void 0?a.className=p:a.className.baseVal=p}function Fa(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function pt(a,p){"opacity"in a.style?a.style.opacity=p:"filter"in a.style&&Ju(a,p)}function Ju(a,p){var m=!1,v="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(v)}catch{if(p===1)return}p=Math.round(p*100),m?(m.Enabled=p!==100,m.Opacity=p):a.style.filter+=" progid:"+v+"(opacity="+p+")"}function Pl(a){for(var p=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in p)return a[m];return!1}function ys(a,p,m){var v=p||new Be(0,0);a.style[Io]=(Ke.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(m?" scale("+m+")":"")}function zi(a,p){a._leaflet_pos=p,Ke.any3d?ys(a,p):(a.style.left=p.x+"px",a.style.top=p.y+"px")}function Hr(a){return a._leaflet_pos||new Be(0,0)}var ha,Na,Me;if("onselectstart"in document)ha=function(){lt(window,"selectstart",Fn)},Na=function(){Kt(window,"selectstart",Fn)};else{var Xs=Pl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ha=function(){if(Xs){var a=document.documentElement.style;Me=a[Xs],a[Xs]="none"}},Na=function(){Xs&&(document.documentElement.style[Xs]=Me,Me=void 0)}}function po(){lt(window,"dragstart",Fn)}function zo(){Kt(window,"dragstart",Fn)}var fa,er;function Fi(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Nt(),fa=a,er=a.style.outlineStyle,a.style.outlineStyle="none",lt(window,"keydown",Nt))}function Nt(){fa&&(fa.style.outlineStyle=er,fa=void 0,er=void 0,Kt(window,"keydown",Nt))}function pn(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function hu(a){var p=a.getBoundingClientRect();return{x:p.width/a.offsetWidth||1,y:p.height/a.offsetHeight||1,boundingClientRect:p}}var bp={__proto__:null,TRANSFORM:Io,TRANSITION:yr,TRANSITION_END:il,get:Ra,getStyle:Ds,create:Wt,remove:bt,empty:nl,toFront:zr,toBack:Ws,hasClass:Ll,addClass:Ze,removeClass:Tn,setClass:co,getClass:Fa,setOpacity:pt,testProp:Pl,setTransform:ys,setPosition:zi,getPosition:Hr,get disableTextSelection(){return ha},get enableTextSelection(){return Na},disableImageDrag:po,enableImageDrag:zo,preventOutline:Fi,restoreOutline:Nt,getSizedParentNode:pn,getScale:hu};function lt(a,p,m,v){if(p&&typeof p=="object")for(var b in p)Hn(a,b,p[b],m);else{p=A(p);for(var D=0,J=p.length;D<J;D++)Hn(a,p[D],m,v)}return this}var So="_leaflet_events";function Kt(a,p,m,v){if(arguments.length===1)Li(a),delete a[So];else if(p&&typeof p=="object")for(var b in p)rl(a,b,p[b],m);else if(p=A(p),arguments.length===2)Li(a,function(le){return N(p,le)!==-1});else for(var D=0,J=p.length;D<J;D++)rl(a,p[D],m,v);return this}function Li(a,p){for(var m in a[So]){var v=m.split(/\d/)[0];(!p||p(v))&&rl(a,v,null,null,m)}}var da={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Hn(a,p,m,v){var b=p+h(m)+(v?"_"+h(v):"");if(a[So]&&a[So][b])return this;var D=function(le){return m.call(v||a,le||window.event)},J=D;!Ke.touchNative&&Ke.pointer&&p.indexOf("touch")===0?D=Ar(a,p,D):Ke.touch&&p==="dblclick"?D=Da(a,D):"addEventListener"in a?p==="touchstart"||p==="touchmove"||p==="wheel"||p==="mousewheel"?a.addEventListener(da[p]||p,D,Ke.passiveEvents?{passive:!1}:!1):p==="mouseenter"||p==="mouseleave"?(D=function(le){le=le||window.event,kl(a,le)&&J(le)},a.addEventListener(da[p],D,!1)):a.addEventListener(p,J,!1):a.attachEvent("on"+p,D),a[So]=a[So]||{},a[So][b]=D}function rl(a,p,m,v,b){b=b||p+h(m)+(v?"_"+h(v):"");var D=a[So]&&a[So][b];if(!D)return this;!Ke.touchNative&&Ke.pointer&&p.indexOf("touch")===0?ka(a,p,D):Ke.touch&&p==="dblclick"?es(a,D):"removeEventListener"in a?a.removeEventListener(da[p]||p,D,!1):a.detachEvent("on"+p,D),a[So][b]=null}function Ho(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Ui(a){return Hn(a,"wheel",Ho),this}function tr(a){return lt(a,"mousedown touchstart dblclick contextmenu",Ho),a._leaflet_disable_click=!0,this}function Fn(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function cr(a){return Fn(a),Ho(a),this}function ts(a){if(a.composedPath)return a.composedPath();for(var p=[],m=a.target;m;)p.push(m),m=m.parentNode;return p}function vs(a,p){if(!p)return new Be(a.clientX,a.clientY);var m=hu(p),v=m.boundingClientRect;return new Be((a.clientX-v.left)/m.x-p.clientLeft,(a.clientY-v.top)/m.y-p.clientTop)}var ma=Ke.linux&&Ke.chrome?window.devicePixelRatio:Ke.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function _n(a){return Ke.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/ma:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function kl(a,p){var m=p.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var To={__proto__:null,on:lt,off:Kt,stopPropagation:Ho,disableScrollPropagation:Ui,disableClickPropagation:tr,preventDefault:Fn,stop:cr,getPropagationPath:ts,getMousePosition:vs,getWheelDelta:_n,isExternalTarget:kl,addListener:lt,removeListener:Kt},hn=ut.extend({run:function(a,p,m,v){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=Hr(a),this._offset=p.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=_e(this._animate,this),this._step()},_step:function(a){var p=+new Date-this._startTime,m=this._duration*1e3;p<m?this._runFrame(this._easeOut(p/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,p){var m=this._startPos.add(this._offset.multiplyBy(a));p&&m._round(),zi(this._el,m),this.fire("step")},_complete:function(){Te(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),ht=ut.extend({options:{crs:ar,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,p){p=Y(this,p),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),p.maxBounds&&this.setMaxBounds(p.maxBounds),p.zoom!==void 0&&(this._zoom=this._limitZoom(p.zoom)),p.center&&p.zoom!==void 0&&this.setView(Se(p.center),p.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=yr&&Ke.any3d&&!Ke.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),lt(this._proxy,il,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,p,m){if(p=p===void 0?this._zoom:this._limitZoom(p),a=this._limitCenter(Se(a),p,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=o({animate:m.animate},m.zoom),m.pan=o({animate:m.animate,duration:m.duration},m.pan));var v=this._zoom!==p?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,p,m.zoom):this._tryAnimatedPan(a,m.pan);if(v)return clearTimeout(this._sizeTimer),this}return this._resetView(a,p,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,p){return this._loaded?this.setView(this.getCenter(),a,{zoom:p}):(this._zoom=a,this)},zoomIn:function(a,p){return a=a||(Ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,p)},zoomOut:function(a,p){return a=a||(Ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,p)},setZoomAround:function(a,p,m){var v=this.getZoomScale(p),b=this.getSize().divideBy(2),D=a instanceof Be?a:this.latLngToContainerPoint(a),J=D.subtract(b).multiplyBy(1-1/v),le=this.containerPointToLatLng(b.add(J));return this.setView(le,p,{zoom:m})},_getBoundsCenterZoom:function(a,p){p=p||{},a=a.getBounds?a.getBounds():$e(a);var m=ye(p.paddingTopLeft||p.padding||[0,0]),v=ye(p.paddingBottomRight||p.padding||[0,0]),b=this.getBoundsZoom(a,!1,m.add(v));if(b=typeof p.maxZoom=="number"?Math.min(p.maxZoom,b):b,b===1/0)return{center:a.getCenter(),zoom:b};var D=v.subtract(m).divideBy(2),J=this.project(a.getSouthWest(),b),le=this.project(a.getNorthEast(),b),de=this.unproject(J.add(le).divideBy(2).add(D),b);return{center:de,zoom:b}},fitBounds:function(a,p){if(a=$e(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,p);return this.setView(m.center,m.zoom,p)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,p){return this.setView(a,this._zoom,{pan:p})},panBy:function(a,p){if(a=ye(a).round(),p=p||{},!a.x&&!a.y)return this.fire("moveend");if(p.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new hn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),p.noMoveStart||this.fire("movestart"),p.animate!==!1){Ze(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,p.duration||.25,p.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,p,m){if(m=m||{},m.animate===!1||!Ke.any3d)return this.setView(a,p,m);this._stop();var v=this.project(this.getCenter()),b=this.project(a),D=this.getSize(),J=this._zoom;a=Se(a),p=p===void 0?J:p;var le=Math.max(D.x,D.y),de=le*this.getZoomScale(J,p),Ee=b.distanceTo(v)||1,He=1.42,ft=He*He;function It(Yn){var wr=Yn?-1:1,yn=Yn?de:le,sc=de*de-le*le+wr*ft*ft*Ee*Ee,ul=2*yn*ft*Ee,t=sc/ul,n=Math.sqrt(t*t+1)-t,u=n<1e-9?-18:Math.log(n);return u}function Lr(Yn){return(Math.exp(Yn)-Math.exp(-Yn))/2}function Pn(Yn){return(Math.exp(Yn)+Math.exp(-Yn))/2}function gr(Yn){return Lr(Yn)/Pn(Yn)}var br=It(0);function cs(Yn){return le*(Pn(br)/Pn(br+He*Yn))}function na(Yn){return le*(Pn(br)*gr(br+He*Yn)-Lr(br))/ft}function mt(Yn){return 1-Math.pow(1-Yn,1.5)}var qs=Date.now(),ba=(It(1)-br)/He,ra=m.duration?1e3*m.duration:1e3*ba*.8;function Yr(){var Yn=(Date.now()-qs)/ra,wr=mt(Yn)*ba;Yn<=1?(this._flyToFrame=_e(Yr,this),this._move(this.unproject(v.add(b.subtract(v).multiplyBy(na(wr)/Ee)),J),this.getScaleZoom(le/cs(wr),J),{flyTo:!0})):this._move(a,p)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),Yr.call(this),this},flyToBounds:function(a,p){var m=this._getBoundsCenterZoom(a,p);return this.flyTo(m.center,m.zoom,p)},setMaxBounds:function(a){return a=$e(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var p=this.options.minZoom;return this.options.minZoom=a,this._loaded&&p!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var p=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&p!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,p){this._enforcingBounds=!0;var m=this.getCenter(),v=this._limitCenter(m,this._zoom,$e(a));return m.equals(v)||this.panTo(v,p),this._enforcingBounds=!1,this},panInside:function(a,p){p=p||{};var m=ye(p.paddingTopLeft||p.padding||[0,0]),v=ye(p.paddingBottomRight||p.padding||[0,0]),b=this.project(this.getCenter()),D=this.project(a),J=this.getPixelBounds(),le=$([J.min.add(m),J.max.subtract(v)]),de=le.getSize();if(!le.contains(D)){this._enforcingBounds=!0;var Ee=D.subtract(le.getCenter()),He=le.extend(D).getSize().subtract(de);b.x+=Ee.x<0?-He.x:He.x,b.y+=Ee.y<0?-He.y:He.y,this.panTo(this.unproject(b),p),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var p=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),v=p.divideBy(2).round(),b=m.divideBy(2).round(),D=v.subtract(b);return!D.x&&!D.y?this:(a.animate&&a.pan?this.panBy(D):(a.pan&&this._rawPanBy(D),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:p,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var p=r(this._handleGeolocationResponse,this),m=r(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(p,m,a):navigator.geolocation.getCurrentPosition(p,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var p=a.code,m=a.message||(p===1?"permission denied":p===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:p,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var p=a.coords.latitude,m=a.coords.longitude,v=new st(p,m),b=v.toBounds(a.coords.accuracy*2),D=this._locateOptions;if(D.setView){var J=this.getBoundsZoom(b);this.setView(v,D.maxZoom?Math.min(J,D.maxZoom):J)}var le={latlng:v,bounds:b,timestamp:a.timestamp};for(var de in a.coords)typeof a.coords[de]=="number"&&(le[de]=a.coords[de]);this.fire("locationfound",le)}},addHandler:function(a,p){if(!p)return this;var m=this[a]=new p(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),bt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Te(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)bt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,p){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),v=Wt("div",m,p||this._mapPane);return a&&(this._panes[a]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),p=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new xt(p,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,p,m){a=$e(a),m=ye(m||[0,0]);var v=this.getZoom()||0,b=this.getMinZoom(),D=this.getMaxZoom(),J=a.getNorthWest(),le=a.getSouthEast(),de=this.getSize().subtract(m),Ee=$(this.project(le,v),this.project(J,v)).getSize(),He=Ke.any3d?this.options.zoomSnap:1,ft=de.x/Ee.x,It=de.y/Ee.y,Lr=p?Math.max(ft,It):Math.min(ft,It);return v=this.getScaleZoom(Lr,v),He&&(v=Math.round(v/(He/100))*(He/100),v=p?Math.ceil(v/He)*He:Math.floor(v/He)*He),Math.max(b,Math.min(D,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Be(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,p){var m=this._getTopLeftPoint(a,p);return new Ae(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,p){var m=this.options.crs;return p=p===void 0?this._zoom:p,m.scale(a)/m.scale(p)},getScaleZoom:function(a,p){var m=this.options.crs;p=p===void 0?this._zoom:p;var v=m.zoom(a*m.scale(p));return isNaN(v)?1/0:v},project:function(a,p){return p=p===void 0?this._zoom:p,this.options.crs.latLngToPoint(Se(a),p)},unproject:function(a,p){return p=p===void 0?this._zoom:p,this.options.crs.pointToLatLng(ye(a),p)},layerPointToLatLng:function(a){var p=ye(a).add(this.getPixelOrigin());return this.unproject(p)},latLngToLayerPoint:function(a){var p=this.project(Se(a))._round();return p._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Se(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds($e(a))},distance:function(a,p){return this.options.crs.distance(Se(a),Se(p))},containerPointToLayerPoint:function(a){return ye(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return ye(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var p=this.containerPointToLayerPoint(ye(a));return this.layerPointToLatLng(p)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Se(a)))},mouseEventToContainerPoint:function(a){return vs(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var p=this._container=Ra(a);if(p){if(p._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");lt(p,"scroll",this._onScroll,this),this._containerId=h(p)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ke.any3d,Ze(a,"leaflet-container"+(Ke.touch?" leaflet-touch":"")+(Ke.retina?" leaflet-retina":"")+(Ke.ielt9?" leaflet-oldie":"")+(Ke.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var p=Ds(a,"position");p!=="absolute"&&p!=="relative"&&p!=="fixed"&&p!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),zi(this._mapPane,new Be(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ze(a.markerPane,"leaflet-zoom-hide"),Ze(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,p,m){zi(this._mapPane,new Be(0,0));var v=!this._loaded;this._loaded=!0,p=this._limitZoom(p),this.fire("viewprereset");var b=this._zoom!==p;this._moveStart(b,m)._move(a,p)._moveEnd(b),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(a,p){return a&&this.fire("zoomstart"),p||this.fire("movestart"),this},_move:function(a,p,m,v){p===void 0&&(p=this._zoom);var b=this._zoom!==p;return this._zoom=p,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),v?m&&m.pinch&&this.fire("zoom",m):((b||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Te(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){zi(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[h(this._container)]=this;var p=a?Kt:lt;p(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&p(window,"resize",this._onResize,this),Ke.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Te(this._resizeRequest),this._resizeRequest=_e(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,p){for(var m=[],v,b=p==="mouseout"||p==="mouseover",D=a.target||a.srcElement,J=!1;D;){if(v=this._targets[h(D)],v&&(p==="click"||p==="preclick")&&this._draggableMoved(v)){J=!0;break}if(v&&v.listens(p,!0)&&(b&&!kl(D,a)||(m.push(v),b))||D===this._container)break;D=D.parentNode}return!m.length&&!J&&!b&&this.listens(p,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var p=a.target||a.srcElement;if(!(!this._loaded||p._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(p))){var m=a.type;m==="mousedown"&&Fi(p),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,p,m){if(a.type==="click"){var v=o({},a);v.type="preclick",this._fireDOMEvent(v,v.type,m)}var b=this._findEventTargets(a,p);if(m){for(var D=[],J=0;J<m.length;J++)m[J].listens(p,!0)&&D.push(m[J]);b=D.concat(b)}if(b.length){p==="contextmenu"&&Fn(a);var le=b[0],de={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var Ee=le.getLatLng&&(!le._radius||le._radius<=10);de.containerPoint=Ee?this.latLngToContainerPoint(le.getLatLng()):this.mouseEventToContainerPoint(a),de.layerPoint=this.containerPointToLayerPoint(de.containerPoint),de.latlng=Ee?le.getLatLng():this.layerPointToLatLng(de.layerPoint)}for(J=0;J<b.length;J++)if(b[J].fire(p,de,!0),de.originalEvent._stopped||b[J].options.bubblingMouseEvents===!1&&N(this._mouseEvents,p)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,p=this._handlers.length;a<p;a++)this._handlers[a].disable()},whenReady:function(a,p){return this._loaded?a.call(p||this,{target:this}):this.on("load",a,p),this},_getMapPanePos:function(){return Hr(this._mapPane)||new Be(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,p){var m=a&&p!==void 0?this._getNewPixelOrigin(a,p):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,p){var m=this.getSize()._divideBy(2);return this.project(a,p)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,p,m){var v=this._getNewPixelOrigin(m,p);return this.project(a,p)._subtract(v)},_latLngBoundsToNewLayerBounds:function(a,p,m){var v=this._getNewPixelOrigin(m,p);return $([this.project(a.getSouthWest(),p)._subtract(v),this.project(a.getNorthWest(),p)._subtract(v),this.project(a.getSouthEast(),p)._subtract(v),this.project(a.getNorthEast(),p)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,p,m){if(!m)return a;var v=this.project(a,p),b=this.getSize().divideBy(2),D=new Ae(v.subtract(b),v.add(b)),J=this._getBoundsOffset(D,m,p);return Math.abs(J.x)<=1&&Math.abs(J.y)<=1?a:this.unproject(v.add(J),p)},_limitOffset:function(a,p){if(!p)return a;var m=this.getPixelBounds(),v=new Ae(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(v,p))},_getBoundsOffset:function(a,p,m){var v=$(this.project(p.getNorthEast(),m),this.project(p.getSouthWest(),m)),b=v.min.subtract(a.min),D=v.max.subtract(a.max),J=this._rebound(b.x,-D.x),le=this._rebound(b.y,-D.y);return new Be(J,le)},_rebound:function(a,p){return a+p>0?Math.round(a-p)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(p))},_limitZoom:function(a){var p=this.getMinZoom(),m=this.getMaxZoom(),v=Ke.any3d?this.options.zoomSnap:1;return v&&(a=Math.round(a/v)*v),Math.max(p,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Tn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,p){var m=this._getCenterOffset(a)._trunc();return(p&&p.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,p),!0)},_createAnimProxy:function(){var a=this._proxy=Wt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(p){var m=Io,v=this._proxy.style[m];ys(this._proxy,this.project(p.center,p.zoom),this.getZoomScale(p.zoom,1)),v===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){bt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),p=this.getZoom();ys(this._proxy,this.project(a,p),this.getZoomScale(p,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,p,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(p-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(p),b=this._getCenterOffset(a)._divideBy(1-1/v);return m.animate!==!0&&!this.getSize().contains(b)?!1:(_e(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,p,!0)},this),!0)},_animateZoom:function(a,p,m,v){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=p,Ze(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:p,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Tn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Dl(a,p){return new ht(a,p)}var is=W.extend({options:{position:"topright"},initialize:function(a){Y(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var p=this._map;return p&&p.removeControl(this),this.options.position=a,p&&p.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var p=this._container=this.onAdd(a),m=this.getPosition(),v=a._controlCorners[m];return Ze(p,"leaflet-control"),m.indexOf("bottom")!==-1?v.insertBefore(p,v.firstChild):v.appendChild(p),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(bt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),xs=function(a){return new is(a)};ht.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},p="leaflet-",m=this._controlContainer=Wt("div",p+"control-container",this._container);function v(b,D){var J=p+b+" "+p+D;a[b+D]=Wt("div",J,m)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)bt(this._controlCorners[a]);bt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var fu=is.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,p,m,v){return m<v?-1:v<m?1:0}},initialize:function(a,p,m){Y(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var v in a)this._addLayer(a[v],v);for(v in p)this._addLayer(p[v],v,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return is.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,p){return this._addLayer(a,p),this._map?this._update():this},addOverlay:function(a,p){return this._addLayer(a,p,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var p=this._getLayer(h(a));return p&&this._layers.splice(this._layers.indexOf(p),1),this._map?this._update():this},expand:function(){Ze(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Ze(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Tn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Tn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",p=this._container=Wt("div",a),m=this.options.collapsed;p.setAttribute("aria-haspopup",!0),tr(p),Ui(p);var v=this._section=Wt("section",a+"-list");m&&(this._map.on("click",this.collapse,this),lt(p,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=Wt("a",a+"-toggle",p);b.href="#",b.title="Layers",b.setAttribute("role","button"),lt(b,{keydown:function(D){D.keyCode===13&&this._expandSafely()},click:function(D){Fn(D),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=Wt("div",a+"-base",v),this._separator=Wt("div",a+"-separator",v),this._overlaysList=Wt("div",a+"-overlays",v),p.appendChild(v)},_getLayer:function(a){for(var p=0;p<this._layers.length;p++)if(this._layers[p]&&h(this._layers[p].layer)===a)return this._layers[p]},_addLayer:function(a,p,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:p,overlay:m}),this.options.sortLayers&&this._layers.sort(r(function(v,b){return this.options.sortFunction(v.layer,b.layer,v.name,b.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;nl(this._baseLayersList),nl(this._overlaysList),this._layerControlInputs=[];var a,p,m,v,b=0;for(m=0;m<this._layers.length;m++)v=this._layers[m],this._addItem(v),p=p||v.overlay,a=a||!v.overlay,b+=v.overlay?0:1;return this.options.hideSingleBase&&(a=a&&b>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=p&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var p=this._getLayer(h(a.target)),m=p.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,p)},_createRadioElement:function(a,p){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(p?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=m,v.firstChild},_addItem:function(a){var p=document.createElement("label"),m=this._map.hasLayer(a.layer),v;a.overlay?(v=document.createElement("input"),v.type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=m):v=this._createRadioElement("leaflet-base-layers_"+h(this),m),this._layerControlInputs.push(v),v.layerId=h(a.layer),lt(v,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+a.name;var D=document.createElement("span");p.appendChild(D),D.appendChild(v),D.appendChild(b);var J=a.overlay?this._overlaysList:this._baseLayersList;return J.appendChild(p),this._checkDisabledLayers(),p},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,p,m,v=[],b=[];this._handlingClick=!0;for(var D=a.length-1;D>=0;D--)p=a[D],m=this._getLayer(p.layerId).layer,p.checked?v.push(m):p.checked||b.push(m);for(D=0;D<b.length;D++)this._map.hasLayer(b[D])&&this._map.removeLayer(b[D]);for(D=0;D<v.length;D++)this._map.hasLayer(v[D])||this._map.addLayer(v[D]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,p,m,v=this._map.getZoom(),b=a.length-1;b>=0;b--)p=a[b],m=this._getLayer(p.layerId).layer,p.disabled=m.options.minZoom!==void 0&&v<m.options.minZoom||m.options.maxZoom!==void 0&&v>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,lt(a,"click",Fn),this.expand();var p=this;setTimeout(function(){Kt(a,"click",Fn),p._preventClick=!1})}}),ec=function(a,p,m){return new fu(a,p,m)},pr=is.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var p="leaflet-control-zoom",m=Wt("div",p+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,p+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,p+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,p,m,v,b){var D=Wt("a",m,v);return D.innerHTML=a,D.href="#",D.title=p,D.setAttribute("role","button"),D.setAttribute("aria-label",p),tr(D),lt(D,"click",cr),lt(D,"click",b,this),lt(D,"click",this._refocusOnMap,this),D},_updateDisabled:function(){var a=this._map,p="leaflet-disabled";Tn(this._zoomInButton,p),Tn(this._zoomOutButton,p),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Ze(this._zoomOutButton,p),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Ze(this._zoomInButton,p),this._zoomInButton.setAttribute("aria-disabled","true"))}});ht.mergeOptions({zoomControl:!0}),ht.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new pr,this.addControl(this.zoomControl))});var Rs=function(a){return new pr(a)},hr=is.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var p="leaflet-control-scale",m=Wt("div",p),v=this.options;return this._addScales(v,p+"-line",m),a.on(v.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,p,m){a.metric&&(this._mScale=Wt("div",p,m)),a.imperial&&(this._iScale=Wt("div",p,m))},_update:function(){var a=this._map,p=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,p]),a.containerPointToLatLng([this.options.maxWidth,p]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var p=this._getRoundNum(a),m=p<1e3?p+" m":p/1e3+" km";this._updateScale(this._mScale,m,p/a)},_updateImperial:function(a){var p=a*3.2808399,m,v,b;p>5280?(m=p/5280,v=this._getRoundNum(m),this._updateScale(this._iScale,v+" mi",v/m)):(b=this._getRoundNum(p),this._updateScale(this._iScale,b+" ft",b/p))},_updateScale:function(a,p,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=p},_getRoundNum:function(a){var p=Math.pow(10,(Math.floor(a)+"").length-1),m=a/p;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,p*m}}),ga=function(a){return new hr(a)},ns='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',_a=is.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ke.inlineSvg?ns+" ":"")+"Leaflet</a>"},initialize:function(a){Y(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Wt("div","leaflet-control-attribution"),tr(this._container);for(var p in a._layers)a._layers[p].getAttribution&&this.addAttribution(a._layers[p].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var p in this._attributions)this._attributions[p]&&a.push(p);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});ht.mergeOptions({attributionControl:!0}),ht.addInitHook(function(){this.options.attributionControl&&new _a().addTo(this)});var fn=function(a){return new _a(a)};is.Layers=fu,is.Zoom=pr,is.Scale=hr,is.Attribution=_a,xs.layers=ec,xs.zoom=Rs,xs.scale=ga,xs.attribution=fn;var Ye=W.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ye.addTo=function(a,p){return a.addHandler(p,this),this};var tc={Events:Ie},Aa=Ke.touch?"touchstart mousedown":"mousedown",En=ut.extend({options:{clickTolerance:3},initialize:function(a,p,m,v){Y(this,v),this._element=a,this._dragStartTarget=p||a,this._preventOutline=m},enable:function(){this._enabled||(lt(this._dragStartTarget,Aa,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(En._dragging===this&&this.finishDrag(!0),Kt(this._dragStartTarget,Aa,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Ll(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){En._dragging===this&&this.finishDrag();return}if(!(En._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(En._dragging=this,this._preventOutline&&Fi(this._element),po(),ha(),!this._moving)){this.fire("down");var p=a.touches?a.touches[0]:a,m=pn(this._element);this._startPoint=new Be(p.clientX,p.clientY),this._startPos=Hr(this._element),this._parentScale=hu(m);var v=a.type==="mousedown";lt(document,v?"mousemove":"touchmove",this._onMove,this),lt(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var p=a.touches&&a.touches.length===1?a.touches[0]:a,m=new Be(p.clientX,p.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Fn(a),this._moved||(this.fire("dragstart"),this._moved=!0,Ze(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ze(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),zi(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Tn(document.body,"leaflet-dragging"),this._lastTarget&&(Tn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Kt(document,"mousemove touchmove",this._onMove,this),Kt(document,"mouseup touchend touchcancel",this._onUp,this),zo(),Na();var p=this._moved&&this._moving;this._moving=!1,En._dragging=!1,p&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Eo(a,p,m){var v,b=[1,4,2,8],D,J,le,de,Ee,He,ft,It;for(D=0,He=a.length;D<He;D++)a[D]._code=xi(a[D],p);for(le=0;le<4;le++){for(ft=b[le],v=[],D=0,He=a.length,J=He-1;D<He;J=D++)de=a[D],Ee=a[J],de._code&ft?Ee._code&ft||(It=ws(Ee,de,ft,p,m),It._code=xi(It,p),v.push(It)):(Ee._code&ft&&(It=ws(Ee,de,ft,p,m),It._code=xi(It,p),v.push(It)),v.push(de));a=v}return a}function Fs(a,p){var m,v,b,D,J,le,de,Ee,He;if(!a||a.length===0)throw new Error("latlngs not passed");vr(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var ft=Se([0,0]),It=$e(a),Lr=It.getNorthWest().distanceTo(It.getSouthWest())*It.getNorthEast().distanceTo(It.getNorthWest());Lr<1700&&(ft=ya(a));var Pn=a.length,gr=[];for(m=0;m<Pn;m++){var br=Se(a[m]);gr.push(p.project(Se([br.lat-ft.lat,br.lng-ft.lng])))}for(le=de=Ee=0,m=0,v=Pn-1;m<Pn;v=m++)b=gr[m],D=gr[v],J=b.y*D.x-D.y*b.x,de+=(b.x+D.x)*J,Ee+=(b.y+D.y)*J,le+=J*3;le===0?He=gr[0]:He=[de/le,Ee/le];var cs=p.unproject(ye(He));return Se([cs.lat+ft.lat,cs.lng+ft.lng])}function ya(a){for(var p=0,m=0,v=0,b=0;b<a.length;b++){var D=Se(a[b]);p+=D.lat,m+=D.lng,v++}return Se([p/v,m/v])}var du={__proto__:null,clipPolygon:Eo,polygonCenter:Fs,centroid:ya};function mu(a,p){if(!p||!a.length)return a.slice();var m=p*p;return a=io(a,m),a=sn(a,m),a}function At(a,p,m){return Math.sqrt(qn(a,p,m,!0))}function bs(a,p,m){return qn(a,p,m)}function sn(a,p){var m=a.length,v=typeof Uint8Array<"u"?Uint8Array:Array,b=new v(m);b[0]=b[m-1]=1,va(a,b,p,0,m-1);var D,J=[];for(D=0;D<m;D++)b[D]&&J.push(a[D]);return J}function va(a,p,m,v,b){var D=0,J,le,de;for(le=v+1;le<=b-1;le++)de=qn(a[le],a[v],a[b],!0),de>D&&(J=le,D=de);D>m&&(p[J]=1,va(a,p,m,v,J),va(a,p,m,J,b))}function io(a,p){for(var m=[a[0]],v=1,b=0,D=a.length;v<D;v++)ol(a[v],a[b])>p&&(m.push(a[v]),b=v);return b<D-1&&m.push(a[D-1]),m}var gu;function Tt(a,p,m,v,b){var D=v?gu:xi(a,m),J=xi(p,m),le,de,Ee;for(gu=J;;){if(!(D|J))return[a,p];if(D&J)return!1;le=D||J,de=ws(a,p,le,m,b),Ee=xi(de,m),le===D?(a=de,D=Ee):(p=de,J=Ee)}}function ws(a,p,m,v,b){var D=p.x-a.x,J=p.y-a.y,le=v.min,de=v.max,Ee,He;return m&8?(Ee=a.x+D*(de.y-a.y)/J,He=de.y):m&4?(Ee=a.x+D*(le.y-a.y)/J,He=le.y):m&2?(Ee=de.x,He=a.y+J*(de.x-a.x)/D):m&1&&(Ee=le.x,He=a.y+J*(le.x-a.x)/D),new Be(Ee,He,b)}function xi(a,p){var m=0;return a.x<p.min.x?m|=1:a.x>p.max.x&&(m|=2),a.y<p.min.y?m|=4:a.y>p.max.y&&(m|=8),m}function ol(a,p){var m=p.x-a.x,v=p.y-a.y;return m*m+v*v}function qn(a,p,m,v){var b=p.x,D=p.y,J=m.x-b,le=m.y-D,de=J*J+le*le,Ee;return de>0&&(Ee=((a.x-b)*J+(a.y-D)*le)/de,Ee>1?(b=m.x,D=m.y):Ee>0&&(b+=J*Ee,D+=le*Ee)),J=a.x-b,le=a.y-D,v?J*J+le*le:new Be(b,D)}function vr(a){return!O(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function _u(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),vr(a)}function Ns(a,p){var m,v,b,D,J,le,de,Ee;if(!a||a.length===0)throw new Error("latlngs not passed");vr(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var He=Se([0,0]),ft=$e(a),It=ft.getNorthWest().distanceTo(ft.getSouthWest())*ft.getNorthEast().distanceTo(ft.getNorthWest());It<1700&&(He=ya(a));var Lr=a.length,Pn=[];for(m=0;m<Lr;m++){var gr=Se(a[m]);Pn.push(p.project(Se([gr.lat-He.lat,gr.lng-He.lng])))}for(m=0,v=0;m<Lr-1;m++)v+=Pn[m].distanceTo(Pn[m+1])/2;if(v===0)Ee=Pn[0];else for(m=0,D=0;m<Lr-1;m++)if(J=Pn[m],le=Pn[m+1],b=J.distanceTo(le),D+=b,D>v){de=(D-v)/b,Ee=[le.x-de*(le.x-J.x),le.y-de*(le.y-J.y)];break}var br=p.unproject(ye(Ee));return Se([br.lat+He.lat,br.lng+He.lng])}var Zt={__proto__:null,simplify:mu,pointToSegmentDistance:At,closestPointOnSegment:bs,clipSegment:Tt,_getEdgeIntersection:ws,_getBitCode:xi,_sqClosestPointOnSegment:qn,isFlat:vr,_flat:_u,polylineCenter:Ns},qr={project:function(a){return new Be(a.lng,a.lat)},unproject:function(a){return new st(a.y,a.x)},bounds:new Ae([-180,-90],[180,90])},$s={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Ae([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var p=Math.PI/180,m=this.R,v=a.lat*p,b=this.R_MINOR/m,D=Math.sqrt(1-b*b),J=D*Math.sin(v),le=Math.tan(Math.PI/4-v/2)/Math.pow((1-J)/(1+J),D/2);return v=-m*Math.log(Math.max(le,1e-10)),new Be(a.lng*p*m,v)},unproject:function(a){for(var p=180/Math.PI,m=this.R,v=this.R_MINOR/m,b=Math.sqrt(1-v*v),D=Math.exp(-a.y/m),J=Math.PI/2-2*Math.atan(D),le=0,de=.1,Ee;le<15&&Math.abs(de)>1e-7;le++)Ee=b*Math.sin(J),Ee=Math.pow((1-Ee)/(1+Ee),b/2),de=Math.PI/2-2*Math.atan(D*Ee)-J,J+=de;return new st(J*p,a.x*p/m)}},rs={__proto__:null,LonLat:qr,Mercator:$s,SphericalMercator:Gt},no=o({},Yi,{code:"EPSG:3395",projection:$s,transformation:function(){var a=.5/(Math.PI*$s.R);return ze(a,.5,-a,.5)}()}),ir=o({},Yi,{code:"EPSG:4326",projection:qr,transformation:ze(1/180,1,-1/180,.5)}),wp=o({},qt,{projection:qr,transformation:ze(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,p){var m=p.lng-a.lng,v=p.lat-a.lat;return Math.sqrt(m*m+v*v)},infinite:!0});qt.Earth=Yi,qt.EPSG3395=no,qt.EPSG3857=ar,qt.EPSG900913=Ut,qt.EPSG4326=ir,qt.Simple=wp;var qo=ut.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[h(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[h(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var p=a.target;if(p.hasLayer(this)){if(this._map=p,this._zoomAnimated=p._zoomAnimated,this.getEvents){var m=this.getEvents();p.on(m,this),this.once("remove",function(){p.off(m,this)},this)}this.onAdd(p),this.fire("add"),p.fire("layeradd",{layer:this})}}});ht.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var p=h(a);return this._layers[p]?this:(this._layers[p]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var p=h(a);return this._layers[p]?(this._loaded&&a.onRemove(this),delete this._layers[p],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return h(a)in this._layers},eachLayer:function(a,p){for(var m in this._layers)a.call(p,this._layers[m]);return this},_addLayers:function(a){a=a?O(a)?a:[a]:[];for(var p=0,m=a.length;p<m;p++)this.addLayer(a[p])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[h(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var p=h(a);this._zoomBoundLayers[p]&&(delete this._zoomBoundLayers[p],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,p=-1/0,m=this._getZoomSpan();for(var v in this._zoomBoundLayers){var b=this._zoomBoundLayers[v].options;a=b.minZoom===void 0?a:Math.min(a,b.minZoom),p=b.maxZoom===void 0?p:Math.max(p,b.maxZoom)}this._layersMaxZoom=p===-1/0?void 0:p,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ho=qo.extend({initialize:function(a,p){Y(this,p),this._layers={};var m,v;if(a)for(m=0,v=a.length;m<v;m++)this.addLayer(a[m])},addLayer:function(a){var p=this.getLayerId(a);return this._layers[p]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var p=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[p]&&this._map.removeLayer(this._layers[p]),delete this._layers[p],this},hasLayer:function(a){var p=typeof a=="number"?a:this.getLayerId(a);return p in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var p=Array.prototype.slice.call(arguments,1),m,v;for(m in this._layers)v=this._layers[m],v[a]&&v[a].apply(v,p);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,p){for(var m in this._layers)a.call(p,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return h(a)}}),Mo=function(a,p){return new ho(a,p)},Gr=ho.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),ho.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),ho.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new xt;for(var p in this._layers){var m=this._layers[p];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),ro=function(a,p){return new Gr(a,p)},Or=W.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){Y(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,p){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(m,p&&p.tagName==="IMG"?p:null);return this._setIconStyles(v,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),v},_setIconStyles:function(a,p){var m=this.options,v=m[p+"Size"];typeof v=="number"&&(v=[v,v]);var b=ye(v),D=ye(p==="shadow"&&m.shadowAnchor||m.iconAnchor||b&&b.divideBy(2,!0));a.className="leaflet-marker-"+p+" "+(m.className||""),D&&(a.style.marginLeft=-D.x+"px",a.style.marginTop=-D.y+"px"),b&&(a.style.width=b.x+"px",a.style.height=b.y+"px")},_createImg:function(a,p){return p=p||document.createElement("img"),p.src=a,p},_getIconUrl:function(a){return Ke.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function os(a){return new Or(a)}var Go=Or.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Go.imagePath!="string"&&(Go.imagePath=this._detectIconPath()),(this.options.imagePath||Go.imagePath)+Or.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var p=function(m,v,b){var D=v.exec(m);return D&&D[b]};return a=p(a,/^url\((['"])?(.+)\1\)$/,2),a&&p(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Wt("div","leaflet-default-icon-path",document.body),p=Ds(a,"background-image")||Ds(a,"backgroundImage");if(document.body.removeChild(a),p=this._stripUrl(p),p)return p;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),ss=Ye.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new En(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ze(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Tn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var p=this._marker,m=p._map,v=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,D=Hr(p._icon),J=m.getPixelBounds(),le=m.getPixelOrigin(),de=$(J.min._subtract(le).add(b),J.max._subtract(le).subtract(b));if(!de.contains(D)){var Ee=ye((Math.max(de.max.x,D.x)-de.max.x)/(J.max.x-de.max.x)-(Math.min(de.min.x,D.x)-de.min.x)/(J.min.x-de.min.x),(Math.max(de.max.y,D.y)-de.max.y)/(J.max.y-de.max.y)-(Math.min(de.min.y,D.y)-de.min.y)/(J.min.y-de.min.y)).multiplyBy(v);m.panBy(Ee,{animate:!1}),this._draggable._newPos._add(Ee),this._draggable._startPos._add(Ee),zi(p._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=_e(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(Te(this._panRequest),this._panRequest=_e(this._adjustPan.bind(this,a)))},_onDrag:function(a){var p=this._marker,m=p._shadow,v=Hr(p._icon),b=p._map.layerPointToLatLng(v);m&&zi(m,v),p._latlng=b,a.latlng=b,a.oldLatLng=this._oldLatLng,p.fire("move",a).fire("drag",a)},_onDragEnd:function(a){Te(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Mn=qo.extend({options:{icon:new Go,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,p){Y(this,p),this._latlng=Se(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var p=this._latlng;return this._latlng=Se(a),this.update(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,p="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),v=!1;m!==this._icon&&(this._icon&&this._removeIcon(),v=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),Ze(m,p),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&lt(m,"focus",this._panOnFocus,this);var b=a.icon.createShadow(this._shadow),D=!1;b!==this._shadow&&(this._removeShadow(),D=!0),b&&(Ze(b,p),b.alt=""),this._shadow=b,a.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&D&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Kt(this._icon,"focus",this._panOnFocus,this),bt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&bt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&zi(this._icon,a),this._shadow&&zi(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var p=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(p)},_initInteraction:function(){if(this.options.interactive&&(Ze(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ss)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ss(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&pt(this._icon,a),this._shadow&&pt(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var p=this.options.icon.options,m=p.iconSize?ye(p.iconSize):ye(0,0),v=p.iconAnchor?ye(p.iconAnchor):ye(0,0);a.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:m.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ic(a,p){return new Mn(a,p)}var as=qo.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return Y(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Gn=as.extend({options:{fill:!0,radius:10},initialize:function(a,p){Y(this,p),this._latlng=Se(a),this._radius=this.options.radius},setLatLng:function(a){var p=this._latlng;return this._latlng=Se(a),this.redraw(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var p=a&&a.radius||this._radius;return as.prototype.setStyle.call(this,a),this.setRadius(p),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,p=this._radiusY||a,m=this._clickTolerance(),v=[a+m,p+m];this._pxBounds=new Ae(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function As(a,p){return new Gn(a,p)}var fo=Gn.extend({initialize:function(a,p,m){if(typeof p=="number"&&(p=o({},m,{radius:p})),Y(this,p),this._latlng=Se(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new xt(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:as.prototype.setStyle,_project:function(){var a=this._latlng.lng,p=this._latlng.lat,m=this._map,v=m.options.crs;if(v.distance===Yi.distance){var b=Math.PI/180,D=this._mRadius/Yi.R/b,J=m.project([p+D,a]),le=m.project([p-D,a]),de=J.add(le).divideBy(2),Ee=m.unproject(de).lat,He=Math.acos((Math.cos(D*b)-Math.sin(p*b)*Math.sin(Ee*b))/(Math.cos(p*b)*Math.cos(Ee*b)))/b;(isNaN(He)||He===0)&&(He=D/Math.cos(Math.PI/180*p)),this._point=de.subtract(m.getPixelOrigin()),this._radius=isNaN(He)?0:de.x-m.project([Ee,a-He]).x,this._radiusY=de.y-J.y}else{var ft=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(ft).x}this._updateBounds()}});function nc(a,p,m){return new fo(a,p,m)}var dn=as.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,p){Y(this,p),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var p=1/0,m=null,v=qn,b,D,J=0,le=this._parts.length;J<le;J++)for(var de=this._parts[J],Ee=1,He=de.length;Ee<He;Ee++){b=de[Ee-1],D=de[Ee];var ft=v(a,b,D,!0);ft<p&&(p=ft,m=v(a,b,D))}return m&&(m.distance=Math.sqrt(p)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ns(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,p){return p=p||this._defaultShape(),a=Se(a),p.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new xt,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return vr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var p=[],m=vr(a),v=0,b=a.length;v<b;v++)m?(p[v]=Se(a[v]),this._bounds.extend(p[v])):p[v]=this._convertLatLngs(a[v]);return p},_project:function(){var a=new Ae;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),p=new Be(a,a);this._rawPxBounds&&(this._pxBounds=new Ae([this._rawPxBounds.min.subtract(p),this._rawPxBounds.max.add(p)]))},_projectLatlngs:function(a,p,m){var v=a[0]instanceof st,b=a.length,D,J;if(v){for(J=[],D=0;D<b;D++)J[D]=this._map.latLngToLayerPoint(a[D]),m.extend(J[D]);p.push(J)}else for(D=0;D<b;D++)this._projectLatlngs(a[D],p,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var p=this._parts,m,v,b,D,J,le,de;for(m=0,b=0,D=this._rings.length;m<D;m++)for(de=this._rings[m],v=0,J=de.length;v<J-1;v++)le=Tt(de[v],de[v+1],a,v,!0),le&&(p[b]=p[b]||[],p[b].push(le[0]),(le[1]!==de[v+1]||v===J-2)&&(p[b].push(le[1]),b++))}},_simplifyPoints:function(){for(var a=this._parts,p=this.options.smoothFactor,m=0,v=a.length;m<v;m++)a[m]=mu(a[m],p)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,p){var m,v,b,D,J,le,de=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,D=this._parts.length;m<D;m++)for(le=this._parts[m],v=0,J=le.length,b=J-1;v<J;b=v++)if(!(!p&&v===0)&&At(a,le[b],le[v])<=de)return!0;return!1}});function rc(a,p){return new dn(a,p)}dn._flat=_u;var Cs=dn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var p=dn.prototype._convertLatLngs.call(this,a),m=p.length;return m>=2&&p[0]instanceof st&&p[0].equals(p[m-1])&&p.pop(),p},_setLatLngs:function(a){dn.prototype._setLatLngs.call(this,a),vr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return vr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,p=this.options.weight,m=new Be(p,p);if(a=new Ae(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var v=0,b=this._rings.length,D;v<b;v++)D=Eo(this._rings[v],a,!0),D.length&&this._parts.push(D)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var p=!1,m,v,b,D,J,le,de,Ee;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(D=0,de=this._parts.length;D<de;D++)for(m=this._parts[D],J=0,Ee=m.length,le=Ee-1;J<Ee;le=J++)v=m[J],b=m[le],v.y>a.y!=b.y>a.y&&a.x<(b.x-v.x)*(a.y-v.y)/(b.y-v.y)+v.x&&(p=!p);return p||dn.prototype._containsPoint.call(this,a,!0)}});function Va(a,p){return new Cs(a,p)}var Is=Gr.extend({initialize:function(a,p){Y(this,p),this._layers={},a&&this.addData(a)},addData:function(a){var p=O(a)?a:a.features,m,v,b;if(p){for(m=0,v=p.length;m<v;m++)b=p[m],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var D=this.options;if(D.filter&&!D.filter(a))return this;var J=sl(a,D);return J?(J.feature=ls(a),J.defaultOptions=J.options,this.resetStyle(J),D.onEachFeature&&D.onEachFeature(a,J),this.addLayer(J)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(p){this._setLayerStyle(p,a)},this)},_setLayerStyle:function(a,p){a.setStyle&&(typeof p=="function"&&(p=p(a.feature)),a.setStyle(p))}});function sl(a,p){var m=a.type==="Feature"?a.geometry:a,v=m?m.coordinates:null,b=[],D=p&&p.pointToLayer,J=p&&p.coordsToLatLng||Oo,le,de,Ee,He;if(!v&&!m)return null;switch(m.type){case"Point":return le=J(v),Qs(D,a,le,p);case"MultiPoint":for(Ee=0,He=v.length;Ee<He;Ee++)le=J(v[Ee]),b.push(Qs(D,a,le,p));return new Gr(b);case"LineString":case"MultiLineString":return de=On(v,m.type==="LineString"?0:1,J),new dn(de,p);case"Polygon":case"MultiPolygon":return de=On(v,m.type==="Polygon"?1:2,J),new Cs(de,p);case"GeometryCollection":for(Ee=0,He=m.geometries.length;Ee<He;Ee++){var ft=sl({geometry:m.geometries[Ee],type:"Feature",properties:a.properties},p);ft&&b.push(ft)}return new Gr(b);case"FeatureCollection":for(Ee=0,He=m.features.length;Ee<He;Ee++){var It=sl(m.features[Ee],p);It&&b.push(It)}return new Gr(b);default:throw new Error("Invalid GeoJSON object.")}}function Qs(a,p,m,v){return a?a(p,m):new Mn(m,v&&v.markersInheritOptions&&v)}function Oo(a){return new st(a[1],a[0],a[2])}function On(a,p,m){for(var v=[],b=0,D=a.length,J;b<D;b++)J=p?On(a[b],p-1,m):(m||Oo)(a[b]),v.push(J);return v}function Js(a,p){return a=Se(a),a.alt!==void 0?[k(a.lng,p),k(a.lat,p),k(a.alt,p)]:[k(a.lng,p),k(a.lat,p)]}function Un(a,p,m,v){for(var b=[],D=0,J=a.length;D<J;D++)b.push(p?Un(a[D],vr(a[D])?0:p-1,m,v):Js(a[D],v));return!p&&m&&b.length>0&&b.push(b[0].slice()),b}function Ur(a,p){return a.feature?o({},a.feature,{geometry:p}):ls(p)}function ls(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var al={toGeoJSON:function(a){return Ur(this,{type:"Point",coordinates:Js(this.getLatLng(),a)})}};Mn.include(al),fo.include(al),Gn.include(al),dn.include({toGeoJSON:function(a){var p=!vr(this._latlngs),m=Un(this._latlngs,p?1:0,!1,a);return Ur(this,{type:(p?"Multi":"")+"LineString",coordinates:m})}}),Cs.include({toGeoJSON:function(a){var p=!vr(this._latlngs),m=p&&!vr(this._latlngs[0]),v=Un(this._latlngs,m?2:p?1:0,!0,a);return p||(v=[v]),Ur(this,{type:(m?"Multi":"")+"Polygon",coordinates:v})}}),ho.include({toMultiPoint:function(a){var p=[];return this.eachLayer(function(m){p.push(m.toGeoJSON(a).geometry.coordinates)}),Ur(this,{type:"MultiPoint",coordinates:p})},toGeoJSON:function(a){var p=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(p==="MultiPoint")return this.toMultiPoint(a);var m=p==="GeometryCollection",v=[];return this.eachLayer(function(b){if(b.toGeoJSON){var D=b.toGeoJSON(a);if(m)v.push(D.geometry);else{var J=ls(D);J.type==="FeatureCollection"?v.push.apply(v,J.features):v.push(J)}}}),m?Ur(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});function ea(a,p){return new Is(a,p)}var Vs=ea,Lo=qo.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,p,m){this._url=a,this._bounds=$e(p),Y(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ze(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){bt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&zr(this._image),this},bringToBack:function(){return this._map&&Ws(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=$e(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",p=this._image=a?this._url:Wt("img");if(Ze(p,"leaflet-image-layer"),this._zoomAnimated&&Ze(p,"leaflet-zoom-animated"),this.options.className&&Ze(p,this.options.className),p.onselectstart=w,p.onmousemove=w,p.onload=r(this.fire,this,"load"),p.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=p.src;return}p.src=this._url,p.alt=this.options.alt},_animateZoom:function(a){var p=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;ys(this._image,m,p)},_reset:function(){var a=this._image,p=new Ae(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=p.getSize();zi(a,p.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){pt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),nr=function(a,p,m){return new Lo(a,p,m)},mo=Lo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",p=this._image=a?this._url:Wt("video");if(Ze(p,"leaflet-image-layer"),this._zoomAnimated&&Ze(p,"leaflet-zoom-animated"),this.options.className&&Ze(p,this.options.className),p.onselectstart=w,p.onmousemove=w,p.onloadeddata=r(this.fire,this,"load"),a){for(var m=p.getElementsByTagName("source"),v=[],b=0;b<m.length;b++)v.push(m[b].src);this._url=m.length>0?v:[p.src];return}O(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(p.style,"objectFit")&&(p.style.objectFit="fill"),p.autoplay=!!this.options.autoplay,p.loop=!!this.options.loop,p.muted=!!this.options.muted,p.playsInline=!!this.options.playsInline;for(var D=0;D<this._url.length;D++){var J=Wt("source");J.src=this._url[D],p.appendChild(J)}}});function xr(a,p,m){return new mo(a,p,m)}var yu=Lo.extend({_initImage:function(){var a=this._image=this._url;Ze(a,"leaflet-image-layer"),this._zoomAnimated&&Ze(a,"leaflet-zoom-animated"),this.options.className&&Ze(a,this.options.className),a.onselectstart=w,a.onmousemove=w}});function Bs(a,p,m){return new yu(a,p,m)}var Kr=qo.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,p){a&&(a instanceof st||O(a))?(this._latlng=Se(a),Y(this,p)):(Y(this,a),this._source=p),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&pt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&pt(this._container,1),this.bringToFront(),this.options.interactive&&(Ze(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(pt(this._container,0),this._removeTimeout=setTimeout(r(bt,void 0,this._container),200)):bt(this._container),this.options.interactive&&(Tn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Se(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&zr(this._container),this},bringToBack:function(){return this._map&&Ws(this._container),this},_prepareOpen:function(a){var p=this._source;if(!p._map)return!1;if(p instanceof Gr){p=null;var m=this._source._layers;for(var v in m)if(m[v]._map){p=m[v];break}if(!p)return!1;this._source=p}if(!a)if(p.getCenter)a=p.getCenter();else if(p.getLatLng)a=p.getLatLng();else if(p.getBounds)a=p.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,p=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof p=="string")a.innerHTML=p;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(p)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),p=ye(this.options.offset),m=this._getAnchor();this._zoomAnimated?zi(this._container,a.add(m)):p=p.add(a).add(m);var v=this._containerBottom=-p.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+p.x;this._container.style.bottom=v+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});ht.include({_initOverlay:function(a,p,m,v){var b=p;return b instanceof a||(b=new a(v).setContent(p)),m&&b.setLatLng(m),b}}),qo.include({_initOverlay:function(a,p,m,v){var b=m;return b instanceof a?(Y(b,v),b._source=this):(b=p&&!v?p:new a(v,this),b.setContent(m)),b}});var Ln=Kr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Kr.prototype.openOn.call(this,a)},onAdd:function(a){Kr.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof as||this._source.on("preclick",Ho))},onRemove:function(a){Kr.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof as||this._source.off("preclick",Ho))},getEvents:function(){var a=Kr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",p=this._container=Wt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=Wt("div",a+"-content-wrapper",p);if(this._contentNode=Wt("div",a+"-content",m),tr(p),Ui(this._contentNode),lt(p,"contextmenu",Ho),this._tipContainer=Wt("div",a+"-tip-container",p),this._tip=Wt("div",a+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=Wt("a",a+"-close-button",p);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',lt(v,"click",function(b){Fn(b),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,p=a.style;p.width="",p.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),p.width=m+1+"px",p.whiteSpace="",p.height="";var v=a.offsetHeight,b=this.options.maxHeight,D="leaflet-popup-scrolled";b&&v>b?(p.height=b+"px",Ze(a,D)):Tn(a,D),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var p=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();zi(this._container,p.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,p=parseInt(Ds(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+p,v=this._containerWidth,b=new Be(this._containerLeft,-m-this._containerBottom);b._add(Hr(this._container));var D=a.layerPointToContainerPoint(b),J=ye(this.options.autoPanPadding),le=ye(this.options.autoPanPaddingTopLeft||J),de=ye(this.options.autoPanPaddingBottomRight||J),Ee=a.getSize(),He=0,ft=0;D.x+v+de.x>Ee.x&&(He=D.x+v-Ee.x+de.x),D.x-He-le.x<0&&(He=D.x-le.x),D.y+m+de.y>Ee.y&&(ft=D.y+m-Ee.y+de.y),D.y-ft-le.y<0&&(ft=D.y-le.y),(He||ft)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([He,ft]))}},_getAnchor:function(){return ye(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),fr=function(a,p){return new Ln(a,p)};ht.mergeOptions({closePopupOnClick:!0}),ht.include({openPopup:function(a,p,m){return this._initOverlay(Ln,a,p,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),qo.include({bindPopup:function(a,p){return this._popup=this._initOverlay(Ln,this._popup,a,p),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Gr||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){cr(a);var p=a.layer||a.target;if(this._popup._source===p&&!(p instanceof as)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=p,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var oo=Kr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Kr.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Kr.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Kr.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",p=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Wt("div",p),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var p,m,v=this._map,b=this._container,D=v.latLngToContainerPoint(v.getCenter()),J=v.layerPointToContainerPoint(a),le=this.options.direction,de=b.offsetWidth,Ee=b.offsetHeight,He=ye(this.options.offset),ft=this._getAnchor();le==="top"?(p=de/2,m=Ee):le==="bottom"?(p=de/2,m=0):le==="center"?(p=de/2,m=Ee/2):le==="right"?(p=0,m=Ee/2):le==="left"?(p=de,m=Ee/2):J.x<D.x?(le="right",p=0,m=Ee/2):(le="left",p=de+(He.x+ft.x)*2,m=Ee/2),a=a.subtract(ye(p,m,!0)).add(He).add(ft),Tn(b,"leaflet-tooltip-right"),Tn(b,"leaflet-tooltip-left"),Tn(b,"leaflet-tooltip-top"),Tn(b,"leaflet-tooltip-bottom"),Ze(b,"leaflet-tooltip-"+le),zi(b,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&pt(this._container,a)},_animateZoom:function(a){var p=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(p)},_getAnchor:function(){return ye(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),go=function(a,p){return new oo(a,p)};ht.include({openTooltip:function(a,p,m){return this._initOverlay(oo,a,p,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),qo.include({bindTooltip:function(a,p){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(oo,this._tooltip,a,p),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var p=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[p](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Gr||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var p=typeof a.getElement=="function"&&a.getElement();p&&(lt(p,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),lt(p,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var p=typeof a.getElement=="function"&&a.getElement();p&&p.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var p=this;this._map.once("moveend",function(){p._openOnceFlag=!1,p._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var p=a.latlng,m,v;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),v=this._map.containerPointToLayerPoint(m),p=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(p)}});var Rl=Or.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var p=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(nl(p),p.appendChild(m.html)):p.innerHTML=m.html!==!1?m.html:"",m.bgPos){var v=ye(m.bgPos);p.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(p,"icon"),p},createShadow:function(){return null}});function xa(a){return new Rl(a)}Or.Default=Go;var Po=qo.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ke.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){Y(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),bt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(zr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ws(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof Be?a:new Be(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var p=this.getPane().children,m=-a(-1/0,1/0),v=0,b=p.length,D;v<b;v++)D=p[v].style.zIndex,p[v]!==this._container&&D&&(m=a(m,+D));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ke.ielt9){pt(this._container,this.options.opacity);var a=+new Date,p=!1,m=!1;for(var v in this._tiles){var b=this._tiles[v];if(!(!b.current||!b.loaded)){var D=Math.min(1,(a-b.loaded)/200);pt(b.el,D),D<1?p=!0:(b.active?m=!0:this._onOpaqueTile(b),b.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),p&&(Te(this._fadeFrame),this._fadeFrame=_e(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=Wt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,p=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=p-Math.abs(a-m),this._onUpdateLevel(m)):(bt(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var v=this._levels[a],b=this._map;return v||(v=this._levels[a]={},v.el=Wt("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=p,v.origin=b.project(b.unproject(b.getPixelOrigin()),a).round(),v.zoom=a,this._setZoomTransform(v,b.getCenter(),b.getZoom()),w(v.el.offsetWidth),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var a,p,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)p=this._tiles[a],p.retain=p.current;for(a in this._tiles)if(p=this._tiles[a],p.current&&!p.active){var v=p.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var p in this._tiles)this._tiles[p].coords.z===a&&this._removeTile(p)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)bt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,p,m,v){var b=Math.floor(a/2),D=Math.floor(p/2),J=m-1,le=new Be(+b,+D);le.z=+J;var de=this._tileCoordsToKey(le),Ee=this._tiles[de];return Ee&&Ee.active?(Ee.retain=!0,!0):(Ee&&Ee.loaded&&(Ee.retain=!0),J>v?this._retainParent(b,D,J,v):!1)},_retainChildren:function(a,p,m,v){for(var b=2*a;b<2*a+2;b++)for(var D=2*p;D<2*p+2;D++){var J=new Be(b,D);J.z=m+1;var le=this._tileCoordsToKey(J),de=this._tiles[le];if(de&&de.active){de.retain=!0;continue}else de&&de.loaded&&(de.retain=!0);m+1<v&&this._retainChildren(b,D,m+1,v)}},_resetView:function(a){var p=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),p,p)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var p=this.options;return p.minNativeZoom!==void 0&&a<p.minNativeZoom?p.minNativeZoom:p.maxNativeZoom!==void 0&&p.maxNativeZoom<a?p.maxNativeZoom:a},_setView:function(a,p,m,v){var b=Math.round(p);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var D=this.options.updateWhenZooming&&b!==this._tileZoom;(!v||D)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,p)},_setZoomTransforms:function(a,p){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,p)},_setZoomTransform:function(a,p,m){var v=this._map.getZoomScale(m,a.zoom),b=a.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(p,m)).round();Ke.any3d?ys(a.el,b,v):zi(a.el,b)},_resetGrid:function(){var a=this._map,p=a.options.crs,m=this._tileSize=this.getTileSize(),v=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=p.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,p.wrapLng[0]],v).x/m.x),Math.ceil(a.project([0,p.wrapLng[1]],v).x/m.y)],this._wrapY=p.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([p.wrapLat[0],0],v).y/m.x),Math.ceil(a.project([p.wrapLat[1],0],v).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var p=this._map,m=p._animatingZoom?Math.max(p._animateToZoom,p.getZoom()):p.getZoom(),v=p.getZoomScale(m,this._tileZoom),b=p.project(a,this._tileZoom).floor(),D=p.getSize().divideBy(v*2);return new Ae(b.subtract(D),b.add(D))},_update:function(a){var p=this._map;if(p){var m=this._clampZoom(p.getZoom());if(a===void 0&&(a=p.getCenter()),this._tileZoom!==void 0){var v=this._getTiledPixelBounds(a),b=this._pxBoundsToTileRange(v),D=b.getCenter(),J=[],le=this.options.keepBuffer,de=new Ae(b.getBottomLeft().subtract([le,-le]),b.getTopRight().add([le,-le]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ee in this._tiles){var He=this._tiles[Ee].coords;(He.z!==this._tileZoom||!de.contains(new Be(He.x,He.y)))&&(this._tiles[Ee].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var ft=b.min.y;ft<=b.max.y;ft++)for(var It=b.min.x;It<=b.max.x;It++){var Lr=new Be(It,ft);if(Lr.z=this._tileZoom,!!this._isValidTile(Lr)){var Pn=this._tiles[this._tileCoordsToKey(Lr)];Pn?Pn.current=!0:J.push(Lr)}}if(J.sort(function(br,cs){return br.distanceTo(D)-cs.distanceTo(D)}),J.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var gr=document.createDocumentFragment();for(It=0;It<J.length;It++)this._addTile(J[It],gr);this._level.el.appendChild(gr)}}}},_isValidTile:function(a){var p=this._map.options.crs;if(!p.infinite){var m=this._globalTileRange;if(!p.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!p.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(a);return $e(this.options.bounds).overlaps(v)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var p=this._map,m=this.getTileSize(),v=a.scaleBy(m),b=v.add(m),D=p.unproject(v,a.z),J=p.unproject(b,a.z);return[D,J]},_tileCoordsToBounds:function(a){var p=this._tileCoordsToNwSe(a),m=new xt(p[0],p[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var p=a.split(":"),m=new Be(+p[0],+p[1]);return m.z=+p[2],m},_removeTile:function(a){var p=this._tiles[a];p&&(bt(p.el),delete this._tiles[a],this.fire("tileunload",{tile:p.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Ze(a,"leaflet-tile");var p=this.getTileSize();a.style.width=p.x+"px",a.style.height=p.y+"px",a.onselectstart=w,a.onmousemove=w,Ke.ielt9&&this.options.opacity<1&&pt(a,this.options.opacity)},_addTile:function(a,p){var m=this._getTilePos(a),v=this._tileCoordsToKey(a),b=this.createTile(this._wrapCoords(a),r(this._tileReady,this,a));this._initTile(b),this.createTile.length<2&&_e(r(this._tileReady,this,a,null,b)),zi(b,m),this._tiles[v]={el:b,coords:a,current:!0},p.appendChild(b),this.fire("tileloadstart",{tile:b,coords:a})},_tileReady:function(a,p,m){p&&this.fire("tileerror",{error:p,tile:m,coords:a});var v=this._tileCoordsToKey(a);m=this._tiles[v],m&&(m.loaded=+new Date,this._map._fadeAnimated?(pt(m.el,0),Te(this._fadeFrame),this._fadeFrame=_e(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),p||(Ze(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ke.ielt9||!this._map._fadeAnimated?_e(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var p=new Be(this._wrapX?y(a.x,this._wrapX):a.x,this._wrapY?y(a.y,this._wrapY):a.y);return p.z=a.z,p},_pxBoundsToTileRange:function(a){var p=this.getTileSize();return new Ae(a.min.unscaleBy(p).floor(),a.max.unscaleBy(p).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Zr(a){return new Po(a)}var ta=Po.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,p){this._url=a,p=Y(this,p),p.detectRetina&&Ke.retina&&p.maxZoom>0?(p.tileSize=Math.floor(p.tileSize/2),p.zoomReverse?(p.zoomOffset--,p.minZoom=Math.min(p.maxZoom,p.minZoom+1)):(p.zoomOffset++,p.maxZoom=Math.max(p.minZoom,p.maxZoom-1)),p.minZoom=Math.max(0,p.minZoom)):p.zoomReverse?p.minZoom=Math.min(p.maxZoom,p.minZoom):p.maxZoom=Math.max(p.minZoom,p.maxZoom),typeof p.subdomains=="string"&&(p.subdomains=p.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,p){return this._url===a&&p===void 0&&(p=!0),this._url=a,p||this.redraw(),this},createTile:function(a,p){var m=document.createElement("img");return lt(m,"load",r(this._tileOnLoad,this,p,m)),lt(m,"error",r(this._tileOnError,this,p,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var p={r:Ke.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(p.y=m),p["-y"]=m}return S(this._url,o(p,this.options))},_tileOnLoad:function(a,p){Ke.ielt9?setTimeout(r(a,this,null,p),0):a(null,p)},_tileOnError:function(a,p,m){var v=this.options.errorTileUrl;v&&p.getAttribute("src")!==v&&(p.src=v),a(m,p)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,p=this.options.maxZoom,m=this.options.zoomReverse,v=this.options.zoomOffset;return m&&(a=p-a),a+v},_getSubdomain:function(a){var p=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[p]},_abortLoading:function(){var a,p;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(p=this._tiles[a].el,p.onload=w,p.onerror=w,!p.complete)){p.src=F;var m=this._tiles[a].coords;bt(p),delete this._tiles[a],this.fire("tileabort",{tile:p,coords:m})}},_removeTile:function(a){var p=this._tiles[a];if(p)return p.el.setAttribute("src",F),Po.prototype._removeTile.call(this,a)},_tileReady:function(a,p,m){if(!(!this._map||m&&m.getAttribute("src")===F))return Po.prototype._tileReady.call(this,a,p,m)}});function Kn(a,p){return new ta(a,p)}var Fl=ta.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,p){this._url=a;var m=o({},this.defaultWmsParams);for(var v in p)v in this.options||(m[v]=p[v]);p=Y(this,p);var b=p.detectRetina&&Ke.retina?2:1,D=this.getTileSize();m.width=D.x*b,m.height=D.y*b,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var p=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[p]=this._crs.code,ta.prototype.onAdd.call(this,a)},getTileUrl:function(a){var p=this._tileCoordsToNwSe(a),m=this._crs,v=$(m.project(p[0]),m.project(p[1])),b=v.min,D=v.max,J=(this._wmsVersion>=1.3&&this._crs===ir?[b.y,b.x,D.y,D.x]:[b.x,b.y,D.x,D.y]).join(","),le=ta.prototype.getTileUrl.call(this,a);return le+X(this.wmsParams,le,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+J},setParams:function(a,p){return o(this.wmsParams,a),p||this.redraw(),this}});function Uo(a,p){return new Fl(a,p)}ta.WMS=Fl,Kn.wms=Uo;var Ki=qo.extend({options:{padding:.1},initialize:function(a){Y(this,a),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ze(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,p){var m=this._map.getZoomScale(p,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,p),D=v.multiplyBy(-m).add(b).subtract(this._map._getNewPixelOrigin(a,p));Ke.any3d?ys(this._container,D,m):zi(this._container,D)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,p=this._map.getSize(),m=this._map.containerPointToLayerPoint(p.multiplyBy(-a)).round();this._bounds=new Ae(m,m.add(p.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),_o=Ki.extend({options:{tolerance:0},getEvents:function(){var a=Ki.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ki.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");lt(a,"mousemove",this._onMouseMove,this),lt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),lt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){Te(this._redrawRequest),delete this._ctx,bt(this._container),Kt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var p in this._layers)a=this._layers[p],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ki.prototype._update.call(this);var a=this._bounds,p=this._container,m=a.getSize(),v=Ke.retina?2:1;zi(p,a.min),p.width=v*m.x,p.height=v*m.y,p.style.width=m.x+"px",p.style.height=m.y+"px",Ke.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Ki.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[h(a)]=a;var p=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=p),this._drawLast=p,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var p=a._order,m=p.next,v=p.prev;m?m.prev=v:this._drawLast=v,v?v.next=m:this._drawFirst=m,delete a._order,delete this._layers[h(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var p=a.options.dashArray.split(/[, ]+/),m=[],v,b;for(b=0;b<p.length;b++){if(v=Number(p[b]),isNaN(v))return;m.push(v)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||_e(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var p=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ae,this._redrawBounds.extend(a._pxBounds.min.subtract([p,p])),this._redrawBounds.extend(a._pxBounds.max.add([p,p]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var p=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,p.x,p.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,p=this._redrawBounds;if(this._ctx.save(),p){var m=p.getSize();this._ctx.beginPath(),this._ctx.rect(p.min.x,p.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)a=v.layer,(!p||a._pxBounds&&a._pxBounds.intersects(p))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,p){if(this._drawing){var m,v,b,D,J=a._parts,le=J.length,de=this._ctx;if(le){for(de.beginPath(),m=0;m<le;m++){for(v=0,b=J[m].length;v<b;v++)D=J[m][v],de[v?"lineTo":"moveTo"](D.x,D.y);p&&de.closePath()}this._fillStroke(de,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var p=a._point,m=this._ctx,v=Math.max(Math.round(a._radius),1),b=(Math.max(Math.round(a._radiusY),1)||v)/v;b!==1&&(m.save(),m.scale(1,b)),m.beginPath(),m.arc(p.x,p.y/b,v,0,Math.PI*2,!1),b!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,p){var m=p.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(p.options&&p.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var p=this._map.mouseEventToLayerPoint(a),m,v,b=this._drawFirst;b;b=b.next)m=b.layer,m.options.interactive&&m._containsPoint(p)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(v=m);this._fireEvent(v?[v]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var p=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,p)}},_handleMouseOut:function(a){var p=this._hoveredLayer;p&&(Tn(this._container,"leaflet-interactive"),this._fireEvent([p],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,p){if(!this._mouseHoverThrottled){for(var m,v,b=this._drawFirst;b;b=b.next)m=b.layer,m.options.interactive&&m._containsPoint(p)&&(v=m);v!==this._hoveredLayer&&(this._handleMouseOut(a),v&&(Ze(this._container,"leaflet-interactive"),this._fireEvent([v],a,"mouseover"),this._hoveredLayer=v)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(r(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,p,m){this._map._fireDOMEvent(p,m||p.type,a)},_bringToFront:function(a){var p=a._order;if(p){var m=p.next,v=p.prev;if(m)m.prev=v;else return;v?v.next=m:m&&(this._drawFirst=m),p.prev=this._drawLast,this._drawLast.next=p,p.next=null,this._drawLast=p,this._requestRedraw(a)}},_bringToBack:function(a){var p=a._order;if(p){var m=p.next,v=p.prev;if(v)v.next=m;else return;m?m.prev=v:v&&(this._drawLast=v),p.prev=null,p.next=this._drawFirst,this._drawFirst.prev=p,this._drawFirst=p,this._requestRedraw(a)}}});function zs(a){return Ke.canvas?new _o(a):null}var us=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ko={_initContainer:function(){this._container=Wt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ki.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var p=a._container=us("shape");Ze(p,"leaflet-vml-shape "+(this.options.className||"")),p.coordsize="1 1",a._path=us("path"),p.appendChild(a._path),this._updateStyle(a),this._layers[h(a)]=a},_addPath:function(a){var p=a._container;this._container.appendChild(p),a.options.interactive&&a.addInteractiveTarget(p)},_removePath:function(a){var p=a._container;bt(p),a.removeInteractiveTarget(p),delete this._layers[h(a)]},_updateStyle:function(a){var p=a._stroke,m=a._fill,v=a.options,b=a._container;b.stroked=!!v.stroke,b.filled=!!v.fill,v.stroke?(p||(p=a._stroke=us("stroke")),b.appendChild(p),p.weight=v.weight+"px",p.color=v.color,p.opacity=v.opacity,v.dashArray?p.dashStyle=O(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):p.dashStyle="",p.endcap=v.lineCap.replace("butt","flat"),p.joinstyle=v.lineJoin):p&&(b.removeChild(p),a._stroke=null),v.fill?(m||(m=a._fill=us("fill")),b.appendChild(m),m.color=v.fillColor||v.color,m.opacity=v.fillOpacity):m&&(b.removeChild(m),a._fill=null)},_updateCircle:function(a){var p=a._point.round(),m=Math.round(a._radius),v=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+p.x+","+p.y+" "+m+","+v+" 0,"+65535*360)},_setPath:function(a,p){a._path.v=p},_bringToFront:function(a){zr(a._container)},_bringToBack:function(a){Ws(a._container)}},Ss=Ke.vml?us:lr,Zn=Ki.extend({_initContainer:function(){this._container=Ss("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ss("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){bt(this._container),Kt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ki.prototype._update.call(this);var a=this._bounds,p=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(p))&&(this._svgSize=p,m.setAttribute("width",p.x),m.setAttribute("height",p.y)),zi(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,p.x,p.y].join(" ")),this.fire("update")}},_initPath:function(a){var p=a._path=Ss("path");a.options.className&&Ze(p,a.options.className),a.options.interactive&&Ze(p,"leaflet-interactive"),this._updateStyle(a),this._layers[h(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){bt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[h(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var p=a._path,m=a.options;p&&(m.stroke?(p.setAttribute("stroke",m.color),p.setAttribute("stroke-opacity",m.opacity),p.setAttribute("stroke-width",m.weight),p.setAttribute("stroke-linecap",m.lineCap),p.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?p.setAttribute("stroke-dasharray",m.dashArray):p.removeAttribute("stroke-dasharray"),m.dashOffset?p.setAttribute("stroke-dashoffset",m.dashOffset):p.removeAttribute("stroke-dashoffset")):p.setAttribute("stroke","none"),m.fill?(p.setAttribute("fill",m.fillColor||m.color),p.setAttribute("fill-opacity",m.fillOpacity),p.setAttribute("fill-rule",m.fillRule||"evenodd")):p.setAttribute("fill","none"))},_updatePoly:function(a,p){this._setPath(a,Ai(a._parts,p))},_updateCircle:function(a){var p=a._point,m=Math.max(Math.round(a._radius),1),v=Math.max(Math.round(a._radiusY),1)||m,b="a"+m+","+v+" 0 1,0 ",D=a._empty()?"M0 0":"M"+(p.x-m)+","+p.y+b+m*2+",0 "+b+-m*2+",0 ";this._setPath(a,D)},_setPath:function(a,p){a._path.setAttribute("d",p)},_bringToFront:function(a){zr(a._path)},_bringToBack:function(a){Ws(a._path)}});Ke.vml&&Zn.include(Ko);function Zo(a){return Ke.svg||Ke.vml?new Zn(a):null}ht.include({getRenderer:function(a){var p=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return p||(p=this._renderer=this._createRenderer()),this.hasLayer(p)||this.addLayer(p),p},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var p=this._paneRenderers[a];return p===void 0&&(p=this._createRenderer({pane:a}),this._paneRenderers[a]=p),p},_createRenderer:function(a){return this.options.preferCanvas&&zs(a)||Zo(a)}});var an=Cs.extend({initialize:function(a,p){Cs.prototype.initialize.call(this,this._boundsToLatLngs(a),p)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=$e(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function oc(a,p){return new an(a,p)}Zn.create=Ss,Zn.pointsToPath=Ai,Is.geometryToLayer=sl,Is.coordsToLatLng=Oo,Is.coordsToLatLngs=On,Is.latLngToCoords=Js,Is.latLngsToCoords=Un,Is.getFeature=Ur,Is.asFeature=ls,ht.mergeOptions({boxZoom:!0});var vu=Ye.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){lt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Kt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){bt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ha(),po(),this._startPoint=this._map.mouseEventToContainerPoint(a),lt(document,{contextmenu:cr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Wt("div","leaflet-zoom-box",this._container),Ze(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var p=new Ae(this._point,this._startPoint),m=p.getSize();zi(this._box,p.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(bt(this._box),Tn(this._container,"leaflet-crosshair")),Na(),zo(),Kt(document,{contextmenu:cr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var p=new xt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(p).fire("boxzoomend",{boxZoomBounds:p})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ht.addInitHook("addHandler","boxZoom",vu),ht.mergeOptions({doubleClickZoom:!0});var dr=Ye.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var p=this._map,m=p.getZoom(),v=p.options.zoomDelta,b=a.originalEvent.shiftKey?m-v:m+v;p.options.doubleClickZoom==="center"?p.setZoom(b):p.setZoomAround(a.containerPoint,b)}});ht.addInitHook("addHandler","doubleClickZoom",dr),ht.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ts=Ye.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new En(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Ze(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Tn(this._map._container,"leaflet-grab"),Tn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var p=$e(this._map.options.maxBounds);this._offsetLimit=$(this._map.latLngToContainerPoint(p.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(p.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var p=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(p),this._prunePositions(p)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),p=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=p.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,p){return a-(a-p)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),p=this._offsetLimit;a.x<p.min.x&&(a.x=this._viscousLimit(a.x,p.min.x)),a.y<p.min.y&&(a.y=this._viscousLimit(a.y,p.min.y)),a.x>p.max.x&&(a.x=this._viscousLimit(a.x,p.max.x)),a.y>p.max.y&&(a.y=this._viscousLimit(a.y,p.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,p=Math.round(a/2),m=this._initialWorldOffset,v=this._draggable._newPos.x,b=(v-p+m)%a+p-m,D=(v+p+m)%a-p-m,J=Math.abs(b+m)<Math.abs(D+m)?b:D;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=J},_onDragEnd:function(a){var p=this._map,m=p.options,v=!m.inertia||a.noInertia||this._times.length<2;if(p.fire("dragend",a),v)p.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),D=(this._lastTime-this._times[0])/1e3,J=m.easeLinearity,le=b.multiplyBy(J/D),de=le.distanceTo([0,0]),Ee=Math.min(m.inertiaMaxSpeed,de),He=le.multiplyBy(Ee/de),ft=Ee/(m.inertiaDeceleration*J),It=He.multiplyBy(-ft/2).round();!It.x&&!It.y?p.fire("moveend"):(It=p._limitOffset(It,p.options.maxBounds),_e(function(){p.panBy(It,{duration:ft,easeLinearity:J,noMoveStart:!0,animate:!0})}))}}});ht.addInitHook("addHandler","dragging",Ts),ht.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Nl=Ye.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),lt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Kt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,p=document.documentElement,m=a.scrollTop||p.scrollTop,v=a.scrollLeft||p.scrollLeft;this._map._container.focus(),window.scrollTo(v,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var p=this._panKeys={},m=this.keyCodes,v,b;for(v=0,b=m.left.length;v<b;v++)p[m.left[v]]=[-1*a,0];for(v=0,b=m.right.length;v<b;v++)p[m.right[v]]=[a,0];for(v=0,b=m.down.length;v<b;v++)p[m.down[v]]=[0,a];for(v=0,b=m.up.length;v<b;v++)p[m.up[v]]=[0,-1*a]},_setZoomDelta:function(a){var p=this._zoomKeys={},m=this.keyCodes,v,b;for(v=0,b=m.zoomIn.length;v<b;v++)p[m.zoomIn[v]]=a;for(v=0,b=m.zoomOut.length;v<b;v++)p[m.zoomOut[v]]=-a},_addHooks:function(){lt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Kt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var p=a.keyCode,m=this._map,v;if(p in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(v=this._panKeys[p],a.shiftKey&&(v=ye(v).multiplyBy(3)),m.options.maxBounds&&(v=m._limitOffset(ye(v),m.options.maxBounds)),m.options.worldCopyJump){var b=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(v)));m.panTo(b)}else m.panBy(v)}else if(p in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[p]);else if(p===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;cr(a)}}});ht.addInitHook("addHandler","keyboard",Nl),ht.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ia=Ye.extend({addHooks:function(){lt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Kt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var p=_n(a),m=this._map.options.wheelDebounceTime;this._delta+=p,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var v=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),v),cr(a)},_performZoom:function(){var a=this._map,p=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var v=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(v))))/Math.LN2,D=m?Math.ceil(b/m)*m:b,J=a._limitZoom(p+(this._delta>0?D:-D))-p;this._delta=0,this._startTime=null,J&&(a.options.scrollWheelZoom==="center"?a.setZoom(p+J):a.setZoomAround(this._lastMousePos,p+J))}});ht.addInitHook("addHandler","scrollWheelZoom",ia);var Hs=600;ht.mergeOptions({tapHold:Ke.touchNative&&Ke.safari&&Ke.mobile,tapTolerance:15});var Nn=Ye.extend({addHooks:function(){lt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Kt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var p=a.touches[0];this._startPos=this._newPos=new Be(p.clientX,p.clientY),this._holdTimeout=setTimeout(r(function(){this._cancel(),this._isTapValid()&&(lt(document,"touchend",Fn),lt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",p))},this),Hs),lt(document,"touchend touchcancel contextmenu",this._cancel,this),lt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){Kt(document,"touchend",Fn),Kt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),Kt(document,"touchend touchcancel contextmenu",this._cancel,this),Kt(document,"touchmove",this._onMove,this)},_onMove:function(a){var p=a.touches[0];this._newPos=new Be(p.clientX,p.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,p){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:p.screenX,screenY:p.screenY,clientX:p.clientX,clientY:p.clientY});m._simulated=!0,p.target.dispatchEvent(m)}});ht.addInitHook("addHandler","tapHold",Nn),ht.mergeOptions({touchZoom:Ke.touch,bounceAtZoomLimits:!0});var mr=Ye.extend({addHooks:function(){Ze(this._map._container,"leaflet-touch-zoom"),lt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Tn(this._map._container,"leaflet-touch-zoom"),Kt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var p=this._map;if(!(!a.touches||a.touches.length!==2||p._animatingZoom||this._zooming)){var m=p.mouseEventToContainerPoint(a.touches[0]),v=p.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=p.getSize()._divideBy(2),this._startLatLng=p.containerPointToLatLng(this._centerPoint),p.options.touchZoom!=="center"&&(this._pinchStartLatLng=p.containerPointToLatLng(m.add(v)._divideBy(2))),this._startDist=m.distanceTo(v),this._startZoom=p.getZoom(),this._moved=!1,this._zooming=!0,p._stop(),lt(document,"touchmove",this._onTouchMove,this),lt(document,"touchend touchcancel",this._onTouchEnd,this),Fn(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var p=this._map,m=p.mouseEventToContainerPoint(a.touches[0]),v=p.mouseEventToContainerPoint(a.touches[1]),b=m.distanceTo(v)/this._startDist;if(this._zoom=p.getScaleZoom(b,this._startZoom),!p.options.bounceAtZoomLimits&&(this._zoom<p.getMinZoom()&&b<1||this._zoom>p.getMaxZoom()&&b>1)&&(this._zoom=p._limitZoom(this._zoom)),p.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var D=m._add(v)._divideBy(2)._subtract(this._centerPoint);if(b===1&&D.x===0&&D.y===0)return;this._center=p.unproject(p.project(this._pinchStartLatLng,this._zoom).subtract(D),this._zoom)}this._moved||(p._moveStart(!0,!1),this._moved=!0),Te(this._animRequest);var J=r(p._move,p,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=_e(J,this,!0),Fn(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Te(this._animRequest),Kt(document,"touchmove",this._onTouchMove,this),Kt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ht.addInitHook("addHandler","touchZoom",mr),ht.BoxZoom=vu,ht.DoubleClickZoom=dr,ht.Drag=Ts,ht.Keyboard=Nl,ht.ScrollWheelZoom=ia,ht.TapHold=Nn,ht.TouchZoom=mr,i.Bounds=Ae,i.Browser=Ke,i.CRS=qt,i.Canvas=_o,i.Circle=fo,i.CircleMarker=Gn,i.Class=W,i.Control=is,i.DivIcon=Rl,i.DivOverlay=Kr,i.DomEvent=To,i.DomUtil=bp,i.Draggable=En,i.Evented=ut,i.FeatureGroup=Gr,i.GeoJSON=Is,i.GridLayer=Po,i.Handler=Ye,i.Icon=Or,i.ImageOverlay=Lo,i.LatLng=st,i.LatLngBounds=xt,i.Layer=qo,i.LayerGroup=ho,i.LineUtil=Zt,i.Map=ht,i.Marker=Mn,i.Mixin=tc,i.Path=as,i.Point=Be,i.PolyUtil=du,i.Polygon=Cs,i.Polyline=dn,i.Popup=Ln,i.PosAnimation=hn,i.Projection=rs,i.Rectangle=an,i.Renderer=Ki,i.SVG=Zn,i.SVGOverlay=yu,i.TileLayer=ta,i.Tooltip=oo,i.Transformation=Bi,i.Util=Pe,i.VideoOverlay=mo,i.bind=r,i.bounds=$,i.canvas=zs,i.circle=nc,i.circleMarker=As,i.control=xs,i.divIcon=xa,i.extend=o,i.featureGroup=ro,i.geoJSON=ea,i.geoJson=Vs,i.gridLayer=Zr,i.icon=os,i.imageOverlay=nr,i.latLng=Se,i.latLngBounds=$e,i.layerGroup=Mo,i.map=Dl,i.marker=ic,i.point=ye,i.polygon=Va,i.polyline=rc,i.popup=fr,i.rectangle=oc,i.setOptions=Y,i.stamp=h,i.svg=Zo,i.svgOverlay=Bs,i.tileLayer=Kn,i.tooltip=go,i.transformation=ze,i.version=s,i.videoOverlay=xr;var ll=window.L;i.noConflict=function(){return window.L=ll,this},window.L=i})});var yc=tt((mL,ad)=>{"use strict";var sd=Object.getOwnPropertySymbols,_y=Object.prototype.hasOwnProperty,yy=Object.prototype.propertyIsEnumerable;function vy(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function xy(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var s={},o=0;o<10;o++)s["_"+String.fromCharCode(o)]=o;var e=Object.getOwnPropertyNames(s).map(function(l){return s[l]});if(e.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(l){r[l]=l}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}ad.exports=xy()?Object.assign:function(i,s){for(var o,e=vy(i),r,l=1;l<arguments.length;l++){o=Object(arguments[l]);for(var h in o)_y.call(o,h)&&(e[h]=o[h]);if(sd){r=sd(o);for(var g=0;g<r.length;g++)yy.call(o,r[g])&&(e[r[g]]=o[r[g]])}}return e}});var ld=tt((Rp,Fp)=>{(function(i,s){typeof Rp=="object"&&typeof Fp<"u"?Fp.exports=s():typeof define=="function"&&define.amd?define(s):(i=i||self).RBush=s()})(Rp,function(){"use strict";function i(S,O,N,F,Z){(function ee(re,se,B,_e,Te){for(;_e>B;){if(_e-B>600){var Pe=_e-B+1,W=se-B+1,zt=Math.log(Pe),Ie=.5*Math.exp(2*zt/3),ut=.5*Math.sqrt(zt*Ie*(Pe-Ie)/Pe)*(W-Pe/2<0?-1:1),Be=Math.max(B,Math.floor(se-W*Ie/Pe+ut)),Ht=Math.min(_e,Math.floor(se+(Pe-W)*Ie/Pe+ut));ee(re,se,Be,Ht,Te)}var ye=re[se],Ae=B,$=_e;for(s(re,B,se),Te(re[_e],ye)>0&&s(re,B,_e);Ae<$;){for(s(re,Ae,$),Ae++,$--;Te(re[Ae],ye)<0;)Ae++;for(;Te(re[$],ye)>0;)$--}Te(re[B],ye)===0?s(re,B,$):s(re,++$,_e),$<=se&&(B=$+1),se<=$&&(_e=$-1)}})(S,O,N||0,F||S.length-1,Z||o)}function s(S,O,N){var F=S[O];S[O]=S[N],S[N]=F}function o(S,O){return S<O?-1:S>O?1:0}var e=function(S){S===void 0&&(S=9),this._maxEntries=Math.max(4,S),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(S,O,N){if(!N)return O.indexOf(S);for(var F=0;F<O.length;F++)if(N(S,O[F]))return F;return-1}function l(S,O){h(S,0,S.children.length,O,S)}function h(S,O,N,F,Z){Z||(Z=X(null)),Z.minX=1/0,Z.minY=1/0,Z.maxX=-1/0,Z.maxY=-1/0;for(var ee=O;ee<N;ee++){var re=S.children[ee];g(Z,S.leaf?F(re):re)}return Z}function g(S,O){return S.minX=Math.min(S.minX,O.minX),S.minY=Math.min(S.minY,O.minY),S.maxX=Math.max(S.maxX,O.maxX),S.maxY=Math.max(S.maxY,O.maxY),S}function y(S,O){return S.minX-O.minX}function w(S,O){return S.minY-O.minY}function k(S){return(S.maxX-S.minX)*(S.maxY-S.minY)}function R(S){return S.maxX-S.minX+(S.maxY-S.minY)}function A(S,O){return S.minX<=O.minX&&S.minY<=O.minY&&O.maxX<=S.maxX&&O.maxY<=S.maxY}function Y(S,O){return O.minX<=S.maxX&&O.minY<=S.maxY&&O.maxX>=S.minX&&O.maxY>=S.minY}function X(S){return{children:S,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function j(S,O,N,F,Z){for(var ee=[O,N];ee.length;)if(!((N=ee.pop())-(O=ee.pop())<=F)){var re=O+Math.ceil((N-O)/F/2)*F;i(S,re,O,N,Z),ee.push(O,re,re,N)}}return e.prototype.all=function(){return this._all(this.data,[])},e.prototype.search=function(S){var O=this.data,N=[];if(!Y(S,O))return N;for(var F=this.toBBox,Z=[];O;){for(var ee=0;ee<O.children.length;ee++){var re=O.children[ee],se=O.leaf?F(re):re;Y(S,se)&&(O.leaf?N.push(re):A(S,se)?this._all(re,N):Z.push(re))}O=Z.pop()}return N},e.prototype.collides=function(S){var O=this.data;if(!Y(S,O))return!1;for(var N=[];O;){for(var F=0;F<O.children.length;F++){var Z=O.children[F],ee=O.leaf?this.toBBox(Z):Z;if(Y(S,ee)){if(O.leaf||A(S,ee))return!0;N.push(Z)}}O=N.pop()}return!1},e.prototype.load=function(S){if(!S||!S.length)return this;if(S.length<this._minEntries){for(var O=0;O<S.length;O++)this.insert(S[O]);return this}var N=this._build(S.slice(),0,S.length-1,0);if(this.data.children.length)if(this.data.height===N.height)this._splitRoot(this.data,N);else{if(this.data.height<N.height){var F=this.data;this.data=N,N=F}this._insert(N,this.data.height-N.height-1,!0)}else this.data=N;return this},e.prototype.insert=function(S){return S&&this._insert(S,this.data.height-1),this},e.prototype.clear=function(){return this.data=X([]),this},e.prototype.remove=function(S,O){if(!S)return this;for(var N,F,Z,ee=this.data,re=this.toBBox(S),se=[],B=[];ee||se.length;){if(ee||(ee=se.pop(),F=se[se.length-1],N=B.pop(),Z=!0),ee.leaf){var _e=r(S,ee.children,O);if(_e!==-1)return ee.children.splice(_e,1),se.push(ee),this._condense(se),this}Z||ee.leaf||!A(ee,re)?F?(N++,ee=F.children[N],Z=!1):ee=null:(se.push(ee),B.push(N),N=0,F=ee,ee=ee.children[0])}return this},e.prototype.toBBox=function(S){return S},e.prototype.compareMinX=function(S,O){return S.minX-O.minX},e.prototype.compareMinY=function(S,O){return S.minY-O.minY},e.prototype.toJSON=function(){return this.data},e.prototype.fromJSON=function(S){return this.data=S,this},e.prototype._all=function(S,O){for(var N=[];S;)S.leaf?O.push.apply(O,S.children):N.push.apply(N,S.children),S=N.pop();return O},e.prototype._build=function(S,O,N,F){var Z,ee=N-O+1,re=this._maxEntries;if(ee<=re)return l(Z=X(S.slice(O,N+1)),this.toBBox),Z;F||(F=Math.ceil(Math.log(ee)/Math.log(re)),re=Math.ceil(ee/Math.pow(re,F-1))),(Z=X([])).leaf=!1,Z.height=F;var se=Math.ceil(ee/re),B=se*Math.ceil(Math.sqrt(re));j(S,O,N,B,this.compareMinX);for(var _e=O;_e<=N;_e+=B){var Te=Math.min(_e+B-1,N);j(S,_e,Te,se,this.compareMinY);for(var Pe=_e;Pe<=Te;Pe+=se){var W=Math.min(Pe+se-1,Te);Z.children.push(this._build(S,Pe,W,F-1))}}return l(Z,this.toBBox),Z},e.prototype._chooseSubtree=function(S,O,N,F){for(;F.push(O),!O.leaf&&F.length-1!==N;){for(var Z=1/0,ee=1/0,re=void 0,se=0;se<O.children.length;se++){var B=O.children[se],_e=k(B),Te=(Pe=S,W=B,(Math.max(W.maxX,Pe.maxX)-Math.min(W.minX,Pe.minX))*(Math.max(W.maxY,Pe.maxY)-Math.min(W.minY,Pe.minY))-_e);Te<ee?(ee=Te,Z=_e<Z?_e:Z,re=B):Te===ee&&_e<Z&&(Z=_e,re=B)}O=re||O.children[0]}var Pe,W;return O},e.prototype._insert=function(S,O,N){var F=N?S:this.toBBox(S),Z=[],ee=this._chooseSubtree(F,this.data,O,Z);for(ee.children.push(S),g(ee,F);O>=0&&Z[O].children.length>this._maxEntries;)this._split(Z,O),O--;this._adjustParentBBoxes(F,Z,O)},e.prototype._split=function(S,O){var N=S[O],F=N.children.length,Z=this._minEntries;this._chooseSplitAxis(N,Z,F);var ee=this._chooseSplitIndex(N,Z,F),re=X(N.children.splice(ee,N.children.length-ee));re.height=N.height,re.leaf=N.leaf,l(N,this.toBBox),l(re,this.toBBox),O?S[O-1].children.push(re):this._splitRoot(N,re)},e.prototype._splitRoot=function(S,O){this.data=X([S,O]),this.data.height=S.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},e.prototype._chooseSplitIndex=function(S,O,N){for(var F,Z,ee,re,se,B,_e,Te=1/0,Pe=1/0,W=O;W<=N-O;W++){var zt=h(S,0,W,this.toBBox),Ie=h(S,W,N,this.toBBox),ut=(Z=zt,ee=Ie,re=void 0,se=void 0,B=void 0,_e=void 0,re=Math.max(Z.minX,ee.minX),se=Math.max(Z.minY,ee.minY),B=Math.min(Z.maxX,ee.maxX),_e=Math.min(Z.maxY,ee.maxY),Math.max(0,B-re)*Math.max(0,_e-se)),Be=k(zt)+k(Ie);ut<Te?(Te=ut,F=W,Pe=Be<Pe?Be:Pe):ut===Te&&Be<Pe&&(Pe=Be,F=W)}return F||N-O},e.prototype._chooseSplitAxis=function(S,O,N){var F=S.leaf?this.compareMinX:y,Z=S.leaf?this.compareMinY:w;this._allDistMargin(S,O,N,F)<this._allDistMargin(S,O,N,Z)&&S.children.sort(F)},e.prototype._allDistMargin=function(S,O,N,F){S.children.sort(F);for(var Z=this.toBBox,ee=h(S,0,O,Z),re=h(S,N-O,N,Z),se=R(ee)+R(re),B=O;B<N-O;B++){var _e=S.children[B];g(ee,S.leaf?Z(_e):_e),se+=R(ee)}for(var Te=N-O-1;Te>=O;Te--){var Pe=S.children[Te];g(re,S.leaf?Z(Pe):Pe),se+=R(re)}return se},e.prototype._adjustParentBBoxes=function(S,O,N){for(var F=N;F>=0;F--)g(O[F],S)},e.prototype._condense=function(S){for(var O=S.length-1,N=void 0;O>=0;O--)S[O].children.length===0?O>0?(N=S[O-1].children).splice(N.indexOf(S[O]),1):this.clear():l(S[O],this.toBBox)},e})});var ud={};hy(ud,{default:()=>Np});function wy(i,s){return i<s?-1:i>s?1:0}var Np,cd=py(()=>{Np=class{constructor(s=[],o=wy){if(this.data=s,this.length=this.data.length,this.compare=o,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(s){this.data.push(s),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;let s=this.data[0],o=this.data.pop();return this.length--,this.length>0&&(this.data[0]=o,this._down(0)),s}peek(){return this.data[0]}_up(s){let{data:o,compare:e}=this,r=o[s];for(;s>0;){let l=s-1>>1,h=o[l];if(e(r,h)>=0)break;o[s]=h,s=l}o[s]=r}_down(s){let{data:o,compare:e}=this,r=this.length>>1,l=o[s];for(;s<r;){let h=(s<<1)+1,g=o[h],y=h+1;if(y<this.length&&e(o[y],g)<0&&(h=y,g=o[y]),e(g,l)>=0)break;o[s]=g,s=h}o[s]=l}}});var hd=tt((bL,pd)=>{pd.exports=function(s,o,e,r){var l=s[0],h=s[1],g=!1;e===void 0&&(e=0),r===void 0&&(r=o.length);for(var y=(r-e)/2,w=0,k=y-1;w<y;k=w++){var R=o[e+w*2+0],A=o[e+w*2+1],Y=o[e+k*2+0],X=o[e+k*2+1],j=A>h!=X>h&&l<(Y-R)*(h-A)/(X-A)+R;j&&(g=!g)}return g}});var dd=tt((wL,fd)=>{fd.exports=function(s,o,e,r){var l=s[0],h=s[1],g=!1;e===void 0&&(e=0),r===void 0&&(r=o.length);for(var y=r-e,w=0,k=y-1;w<y;k=w++){var R=o[w+e][0],A=o[w+e][1],Y=o[k+e][0],X=o[k+e][1],j=A>h!=X>h&&l<(Y-R)*(h-A)/(X-A)+R;j&&(g=!g)}return g}});var _d=tt((CL,bc)=>{var md=hd(),gd=dd();bc.exports=function(s,o,e,r){return o.length>0&&Array.isArray(o[0])?gd(s,o,e,r):md(s,o,e,r)};bc.exports.nested=gd;bc.exports.flat=md});var vd=tt((wc,yd)=>{(function(i,s){typeof wc=="object"&&typeof yd<"u"?s(wc):typeof define=="function"&&define.amd?define(["exports"],s):s((i=i||self).predicates={})})(wc,function(i){"use strict";let o=33306690738754706e-32;function e(Y,X,j,S,O){let N,F,Z,ee,re=X[0],se=S[0],B=0,_e=0;se>re==se>-re?(N=re,re=X[++B]):(N=se,se=S[++_e]);let Te=0;if(B<Y&&_e<j)for(se>re==se>-re?(Z=N-((F=re+N)-re),re=X[++B]):(Z=N-((F=se+N)-se),se=S[++_e]),N=F,Z!==0&&(O[Te++]=Z);B<Y&&_e<j;)se>re==se>-re?(Z=N-((F=N+re)-(ee=F-N))+(re-ee),re=X[++B]):(Z=N-((F=N+se)-(ee=F-N))+(se-ee),se=S[++_e]),N=F,Z!==0&&(O[Te++]=Z);for(;B<Y;)Z=N-((F=N+re)-(ee=F-N))+(re-ee),re=X[++B],N=F,Z!==0&&(O[Te++]=Z);for(;_e<j;)Z=N-((F=N+se)-(ee=F-N))+(se-ee),se=S[++_e],N=F,Z!==0&&(O[Te++]=Z);return N===0&&Te!==0||(O[Te++]=N),Te}function r(Y){return new Float64Array(Y)}let l=33306690738754716e-32,h=22204460492503146e-32,g=11093356479670487e-47,y=r(4),w=r(8),k=r(12),R=r(16),A=r(4);i.orient2d=function(Y,X,j,S,O,N){let F=(X-N)*(j-O),Z=(Y-O)*(S-N),ee=F-Z;if(F===0||Z===0||F>0!=Z>0)return ee;let re=Math.abs(F+Z);return Math.abs(ee)>=l*re?ee:-function(se,B,_e,Te,Pe,W,zt){let Ie,ut,Be,Ht,ye,Ae,$,xt,$e,st,Se,qt,Yi,$i,Gt,Bi,ze,ar,Ut=se-Pe,lr=_e-Pe,Ai=B-W,In=Te-W;ye=(Gt=(xt=Ut-($=(Ae=134217729*Ut)-(Ae-Ut)))*(st=In-($e=(Ae=134217729*In)-(Ae-In)))-(($i=Ut*In)-$*$e-xt*$e-$*st))-(Se=Gt-(ze=(xt=Ai-($=(Ae=134217729*Ai)-(Ae-Ai)))*(st=lr-($e=(Ae=134217729*lr)-(Ae-lr)))-((Bi=Ai*lr)-$*$e-xt*$e-$*st))),y[0]=Gt-(Se+ye)+(ye-ze),ye=(Yi=$i-((qt=$i+Se)-(ye=qt-$i))+(Se-ye))-(Se=Yi-Bi),y[1]=Yi-(Se+ye)+(ye-Bi),ye=(ar=qt+Se)-qt,y[2]=qt-(ar-ye)+(Se-ye),y[3]=ar;let ji=function(Vo,uo){let Bo=uo[0];for(let Qn=1;Qn<Vo;Qn++)Bo+=uo[Qn];return Bo}(4,y),ur=h*zt;if(ji>=ur||-ji>=ur||(Ie=se-(Ut+(ye=se-Ut))+(ye-Pe),Be=_e-(lr+(ye=_e-lr))+(ye-Pe),ut=B-(Ai+(ye=B-Ai))+(ye-W),Ht=Te-(In+(ye=Te-In))+(ye-W),Ie===0&&ut===0&&Be===0&&Ht===0)||(ur=g*zt+o*Math.abs(ji),(ji+=Ut*Ht+In*Ie-(Ai*Be+lr*ut))>=ur||-ji>=ur))return ji;ye=(Gt=(xt=Ie-($=(Ae=134217729*Ie)-(Ae-Ie)))*(st=In-($e=(Ae=134217729*In)-(Ae-In)))-(($i=Ie*In)-$*$e-xt*$e-$*st))-(Se=Gt-(ze=(xt=ut-($=(Ae=134217729*ut)-(Ae-ut)))*(st=lr-($e=(Ae=134217729*lr)-(Ae-lr)))-((Bi=ut*lr)-$*$e-xt*$e-$*st))),A[0]=Gt-(Se+ye)+(ye-ze),ye=(Yi=$i-((qt=$i+Se)-(ye=qt-$i))+(Se-ye))-(Se=Yi-Bi),A[1]=Yi-(Se+ye)+(ye-Bi),ye=(ar=qt+Se)-qt,A[2]=qt-(ar-ye)+(Se-ye),A[3]=ar;let Ao=e(4,y,4,A,w);ye=(Gt=(xt=Ut-($=(Ae=134217729*Ut)-(Ae-Ut)))*(st=Ht-($e=(Ae=134217729*Ht)-(Ae-Ht)))-(($i=Ut*Ht)-$*$e-xt*$e-$*st))-(Se=Gt-(ze=(xt=Ai-($=(Ae=134217729*Ai)-(Ae-Ai)))*(st=Be-($e=(Ae=134217729*Be)-(Ae-Be)))-((Bi=Ai*Be)-$*$e-xt*$e-$*st))),A[0]=Gt-(Se+ye)+(ye-ze),ye=(Yi=$i-((qt=$i+Se)-(ye=qt-$i))+(Se-ye))-(Se=Yi-Bi),A[1]=Yi-(Se+ye)+(ye-Bi),ye=(ar=qt+Se)-qt,A[2]=qt-(ar-ye)+(Se-ye),A[3]=ar;let at=e(Ao,w,4,A,k);ye=(Gt=(xt=Ie-($=(Ae=134217729*Ie)-(Ae-Ie)))*(st=Ht-($e=(Ae=134217729*Ht)-(Ae-Ht)))-(($i=Ie*Ht)-$*$e-xt*$e-$*st))-(Se=Gt-(ze=(xt=ut-($=(Ae=134217729*ut)-(Ae-ut)))*(st=Be-($e=(Ae=134217729*Be)-(Ae-Be)))-((Bi=ut*Be)-$*$e-xt*$e-$*st))),A[0]=Gt-(Se+ye)+(ye-ze),ye=(Yi=$i-((qt=$i+Se)-(ye=qt-$i))+(Se-ye))-(Se=Yi-Bi),A[1]=Yi-(Se+ye)+(ye-Bi),ye=(ar=qt+Se)-qt,A[2]=qt-(ar-ye)+(Se-ye),A[3]=ar;let Vi=e(at,k,4,A,R);return R[Vi-1]}(Y,X,j,S,O,N,re)},i.orient2dfast=function(Y,X,j,S,O,N){return(X-N)*(j-O)-(Y-O)*(S-N)},Object.defineProperty(i,"__esModule",{value:!0})})});var Sd=tt((IL,zp)=>{"use strict";var xd=ld(),Ic=(cd(),fy(ud)),Cy=_d(),Iy=vd().orient2d;Ic.default&&(Ic=Ic.default);zp.exports=Id;zp.exports.default=Id;function Id(i,s,o){s=Math.max(0,s===void 0?2:s),o=o||0;var e=Oy(i),r=new xd(16);r.toBBox=function(N){return{minX:N[0],minY:N[1],maxX:N[0],maxY:N[1]}},r.compareMinX=function(N,F){return N[0]-F[0]},r.compareMinY=function(N,F){return N[1]-F[1]},r.load(i);for(var l=[],h=0,g;h<e.length;h++){var y=e[h];r.remove(y),g=Cd(y,g),l.push(g)}var w=new xd(16);for(h=0;h<l.length;h++)w.insert(Ap(l[h]));for(var k=s*s,R=o*o;l.length;){var A=l.shift(),Y=A.p,X=A.next.p,j=Vp(Y,X);if(!(j<R)){var S=j/k;y=Sy(r,A.prev.p,Y,X,A.next.next.p,S,w),y&&Math.min(Vp(y,Y),Vp(y,X))<=S&&(l.push(A),l.push(Cd(y,A)),r.remove(y),w.remove(A),w.insert(Ap(A)),w.insert(Ap(A.next)))}}A=g;var O=[];do O.push(A.p),A=A.next;while(A!==g);return O.push(A.p),O}function Sy(i,s,o,e,r,l,h){for(var g=new Ic([],Ty),y=i.data;y;){for(var w=0;w<y.children.length;w++){var k=y.children[w],R=y.leaf?Bp(k,o,e):Ey(o,e,k);R>l||g.push({node:k,dist:R})}for(;g.length&&!g.peek().node.children;){var A=g.pop(),Y=A.node,X=Bp(Y,s,o),j=Bp(Y,e,r);if(A.dist<X&&A.dist<j&&wd(o,Y,h)&&wd(e,Y,h))return Y}y=g.pop(),y&&(y=y.node)}return null}function Ty(i,s){return i.dist-s.dist}function Ey(i,s,o){if(bd(i,o)||bd(s,o))return 0;var e=Cc(i[0],i[1],s[0],s[1],o.minX,o.minY,o.maxX,o.minY);if(e===0)return 0;var r=Cc(i[0],i[1],s[0],s[1],o.minX,o.minY,o.minX,o.maxY);if(r===0)return 0;var l=Cc(i[0],i[1],s[0],s[1],o.maxX,o.minY,o.maxX,o.maxY);if(l===0)return 0;var h=Cc(i[0],i[1],s[0],s[1],o.minX,o.maxY,o.maxX,o.maxY);return h===0?0:Math.min(e,r,l,h)}function bd(i,s){return i[0]>=s.minX&&i[0]<=s.maxX&&i[1]>=s.minY&&i[1]<=s.maxY}function wd(i,s,o){for(var e=Math.min(i[0],s[0]),r=Math.min(i[1],s[1]),l=Math.max(i[0],s[0]),h=Math.max(i[1],s[1]),g=o.search({minX:e,minY:r,maxX:l,maxY:h}),y=0;y<g.length;y++)if(My(g[y].p,g[y].next.p,i,s))return!1;return!0}function ql(i,s,o){return Iy(i[0],i[1],s[0],s[1],o[0],o[1])}function My(i,s,o,e){return i!==e&&s!==o&&ql(i,s,o)>0!=ql(i,s,e)>0&&ql(o,e,i)>0!=ql(o,e,s)>0}function Ap(i){var s=i.p,o=i.next.p;return i.minX=Math.min(s[0],o[0]),i.minY=Math.min(s[1],o[1]),i.maxX=Math.max(s[0],o[0]),i.maxY=Math.max(s[1],o[1]),i}function Oy(i){for(var s=i[0],o=i[0],e=i[0],r=i[0],l=0;l<i.length;l++){var h=i[l];h[0]<s[0]&&(s=h),h[0]>e[0]&&(e=h),h[1]<o[1]&&(o=h),h[1]>r[1]&&(r=h)}var g=[s,o,e,r],y=g.slice();for(l=0;l<i.length;l++)Cy(i[l],g)||y.push(i[l]);return Py(y)}function Cd(i,s){var o={p:i,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return s?(o.next=s.next,o.prev=s,s.next.prev=o,s.next=o):(o.prev=o,o.next=o),o}function Vp(i,s){var o=i[0]-s[0],e=i[1]-s[1];return o*o+e*e}function Bp(i,s,o){var e=s[0],r=s[1],l=o[0]-e,h=o[1]-r;if(l!==0||h!==0){var g=((i[0]-e)*l+(i[1]-r)*h)/(l*l+h*h);g>1?(e=o[0],r=o[1]):g>0&&(e+=l*g,r+=h*g)}return l=i[0]-e,h=i[1]-r,l*l+h*h}function Cc(i,s,o,e,r,l,h,g){var y=o-i,w=e-s,k=h-r,R=g-l,A=i-r,Y=s-l,X=y*y+w*w,j=y*k+w*R,S=k*k+R*R,O=y*A+w*Y,N=k*A+R*Y,F=X*S-j*j,Z,ee,re,se,B=F,_e=F;F===0?(ee=0,B=1,se=N,_e=S):(ee=j*N-S*O,se=X*N-j*O,ee<0?(ee=0,se=N,_e=S):ee>B&&(ee=B,se=N+j,_e=S)),se<0?(se=0,-O<0?ee=0:-O>X?ee=B:(ee=-O,B=X)):se>_e&&(se=_e,-O+j<0?ee=0:-O+j>X?ee=B:(ee=-O+j,B=X)),Z=ee===0?0:ee/B,re=se===0?0:se/_e;var Te=(1-Z)*i+Z*o,Pe=(1-Z)*s+Z*e,W=(1-re)*r+re*h,zt=(1-re)*l+re*g,Ie=W-Te,ut=zt-Pe;return Ie*Ie+ut*ut}function Ly(i,s){return i[0]===s[0]?i[1]-s[1]:i[0]-s[0]}function Py(i){i.sort(Ly);for(var s=[],o=0;o<i.length;o++){for(;s.length>=2&&ql(s[s.length-2],s[s.length-1],i[o])<=0;)s.pop();s.push(i[o])}for(var e=[],r=i.length-1;r>=0;r--){for(;e.length>=2&&ql(e[e.length-2],e[e.length-1],i[r])<=0;)e.pop();e.push(i[r])}return e.pop(),s.pop(),s.concat(e)}});var Ld=tt((qp,Gp)=>{(function(i,s){typeof qp=="object"&&typeof Gp<"u"?Gp.exports=s():typeof define=="function"&&define.amd?define(s):i.quickselect=s()})(qp,function(){"use strict";function i(r,l,h,g,y){s(r,l,h||0,g||r.length-1,y||e)}function s(r,l,h,g,y){for(;g>h;){if(g-h>600){var w=g-h+1,k=l-h+1,R=Math.log(w),A=.5*Math.exp(2*R/3),Y=.5*Math.sqrt(R*A*(w-A)/w)*(k-w/2<0?-1:1),X=Math.max(h,Math.floor(l-k*A/w+Y)),j=Math.min(g,Math.floor(l+(w-k)*A/w+Y));s(r,l,X,j,y)}var S=r[l],O=h,N=g;for(o(r,h,l),y(r[g],S)>0&&o(r,h,g);O<N;){for(o(r,O,N),O++,N--;y(r[O],S)<0;)O++;for(;y(r[N],S)>0;)N--}y(r[h],S)===0?o(r,h,N):(N++,o(r,N,g)),N<=l&&(h=N+1),l<=N&&(g=N-1)}}function o(r,l,h){var g=r[l];r[l]=r[h],r[h]=g}function e(r,l){return r<l?-1:r>l?1:0}return i})});var Yp=tt((X4,Zp)=>{"use strict";Zp.exports=Eu;Zp.exports.default=Eu;var Ky=Ld();function Eu(i,s){if(!(this instanceof Eu))return new Eu(i,s);this._maxEntries=Math.max(4,i||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),s&&this._initFormat(s),this.clear()}Eu.prototype={all:function(){return this._all(this.data,[])},search:function(i){var s=this.data,o=[],e=this.toBBox;if(!Tc(i,s))return o;for(var r=[],l,h,g,y;s;){for(l=0,h=s.children.length;l<h;l++)g=s.children[l],y=s.leaf?e(g):g,Tc(i,y)&&(s.leaf?o.push(g):Kp(i,y)?this._all(g,o):r.push(g));s=r.pop()}return o},collides:function(i){var s=this.data,o=this.toBBox;if(!Tc(i,s))return!1;for(var e=[],r,l,h,g;s;){for(r=0,l=s.children.length;r<l;r++)if(h=s.children[r],g=s.leaf?o(h):h,Tc(i,g)){if(s.leaf||Kp(i,g))return!0;e.push(h)}s=e.pop()}return!1},load:function(i){if(!(i&&i.length))return this;if(i.length<this._minEntries){for(var s=0,o=i.length;s<o;s++)this.insert(i[s]);return this}var e=this._build(i.slice(),0,i.length-1,0);if(!this.data.children.length)this.data=e;else if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){var r=this.data;this.data=e,e=r}this._insert(e,this.data.height-e.height-1,!0)}return this},insert:function(i){return i&&this._insert(i,this.data.height-1),this},clear:function(){return this.data=Ul([]),this},remove:function(i,s){if(!i)return this;for(var o=this.data,e=this.toBBox(i),r=[],l=[],h,g,y,w;o||r.length;){if(o||(o=r.pop(),g=r[r.length-1],h=l.pop(),w=!0),o.leaf&&(y=Zy(i,o.children,s),y!==-1))return o.children.splice(y,1),r.push(o),this._condense(r),this;!w&&!o.leaf&&Kp(o,e)?(r.push(o),l.push(h),h=0,g=o,o=o.children[0]):g?(h++,o=g.children[h],w=!1):o=null}return this},toBBox:function(i){return i},compareMinX:Pd,compareMinY:kd,toJSON:function(){return this.data},fromJSON:function(i){return this.data=i,this},_all:function(i,s){for(var o=[];i;)i.leaf?s.push.apply(s,i.children):o.push.apply(o,i.children),i=o.pop();return s},_build:function(i,s,o,e){var r=o-s+1,l=this._maxEntries,h;if(r<=l)return h=Ul(i.slice(s,o+1)),Gl(h,this.toBBox),h;e||(e=Math.ceil(Math.log(r)/Math.log(l)),l=Math.ceil(r/Math.pow(l,e-1))),h=Ul([]),h.leaf=!1,h.height=e;var g=Math.ceil(r/l),y=g*Math.ceil(Math.sqrt(l)),w,k,R,A;for(Dd(i,s,o,y,this.compareMinX),w=s;w<=o;w+=y)for(R=Math.min(w+y-1,o),Dd(i,w,R,g,this.compareMinY),k=w;k<=R;k+=g)A=Math.min(k+g-1,R),h.children.push(this._build(i,k,A,e-1));return Gl(h,this.toBBox),h},_chooseSubtree:function(i,s,o,e){for(var r,l,h,g,y,w,k,R;e.push(s),!(s.leaf||e.length-1===o);){for(k=R=1/0,r=0,l=s.children.length;r<l;r++)h=s.children[r],y=Up(h),w=Yy(i,h)-y,w<R?(R=w,k=y<k?y:k,g=h):w===R&&y<k&&(k=y,g=h);s=g||s.children[0]}return s},_insert:function(i,s,o){var e=this.toBBox,r=o?i:e(i),l=[],h=this._chooseSubtree(r,this.data,s,l);for(h.children.push(i),Tu(h,r);s>=0&&l[s].children.length>this._maxEntries;)this._split(l,s),s--;this._adjustParentBBoxes(r,l,s)},_split:function(i,s){var o=i[s],e=o.children.length,r=this._minEntries;this._chooseSplitAxis(o,r,e);var l=this._chooseSplitIndex(o,r,e),h=Ul(o.children.splice(l,o.children.length-l));h.height=o.height,h.leaf=o.leaf,Gl(o,this.toBBox),Gl(h,this.toBBox),s?i[s-1].children.push(h):this._splitRoot(o,h)},_splitRoot:function(i,s){this.data=Ul([i,s]),this.data.height=i.height+1,this.data.leaf=!1,Gl(this.data,this.toBBox)},_chooseSplitIndex:function(i,s,o){var e,r,l,h,g,y,w,k;for(y=w=1/0,e=s;e<=o-s;e++)r=Su(i,0,e,this.toBBox),l=Su(i,e,o,this.toBBox),h=jy(r,l),g=Up(r)+Up(l),h<y?(y=h,k=e,w=g<w?g:w):h===y&&g<w&&(w=g,k=e);return k},_chooseSplitAxis:function(i,s,o){var e=i.leaf?this.compareMinX:Pd,r=i.leaf?this.compareMinY:kd,l=this._allDistMargin(i,s,o,e),h=this._allDistMargin(i,s,o,r);l<h&&i.children.sort(e)},_allDistMargin:function(i,s,o,e){i.children.sort(e);var r=this.toBBox,l=Su(i,0,s,r),h=Su(i,o-s,o,r),g=Sc(l)+Sc(h),y,w;for(y=s;y<o-s;y++)w=i.children[y],Tu(l,i.leaf?r(w):w),g+=Sc(l);for(y=o-s-1;y>=s;y--)w=i.children[y],Tu(h,i.leaf?r(w):w),g+=Sc(h);return g},_adjustParentBBoxes:function(i,s,o){for(var e=o;e>=0;e--)Tu(s[e],i)},_condense:function(i){for(var s=i.length-1,o;s>=0;s--)i[s].children.length===0?s>0?(o=i[s-1].children,o.splice(o.indexOf(i[s]),1)):this.clear():Gl(i[s],this.toBBox)},_initFormat:function(i){var s=["return a"," - b",";"];this.compareMinX=new Function("a","b",s.join(i[0])),this.compareMinY=new Function("a","b",s.join(i[1])),this.toBBox=new Function("a","return {minX: a"+i[0]+", minY: a"+i[1]+", maxX: a"+i[2]+", maxY: a"+i[3]+"};")}};function Zy(i,s,o){if(!o)return s.indexOf(i);for(var e=0;e<s.length;e++)if(o(i,s[e]))return e;return-1}function Gl(i,s){Su(i,0,i.children.length,s,i)}function Su(i,s,o,e,r){r||(r=Ul(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var l=s,h;l<o;l++)h=i.children[l],Tu(r,i.leaf?e(h):h);return r}function Tu(i,s){return i.minX=Math.min(i.minX,s.minX),i.minY=Math.min(i.minY,s.minY),i.maxX=Math.max(i.maxX,s.maxX),i.maxY=Math.max(i.maxY,s.maxY),i}function Pd(i,s){return i.minX-s.minX}function kd(i,s){return i.minY-s.minY}function Up(i){return(i.maxX-i.minX)*(i.maxY-i.minY)}function Sc(i){return i.maxX-i.minX+(i.maxY-i.minY)}function Yy(i,s){return(Math.max(s.maxX,i.maxX)-Math.min(s.minX,i.minX))*(Math.max(s.maxY,i.maxY)-Math.min(s.minY,i.minY))}function jy(i,s){var o=Math.max(i.minX,s.minX),e=Math.max(i.minY,s.minY),r=Math.min(i.maxX,s.maxX),l=Math.min(i.maxY,s.maxY);return Math.max(0,r-o)*Math.max(0,l-e)}function Kp(i,s){return i.minX<=s.minX&&i.minY<=s.minY&&s.maxX<=i.maxX&&s.maxY<=i.maxY}function Tc(i,s){return s.minX<=i.maxX&&s.minY<=i.maxY&&s.maxX>=i.minX&&s.maxY>=i.minY}function Ul(i){return{children:i,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Dd(i,s,o,e,r){for(var l=[s,o],h;l.length;)o=l.pop(),s=l.pop(),!(o-s<=e)&&(h=s+Math.ceil((o-s)/e/2)*e,Ky(i,h,s,o,r),l.push(s,h,h,o))}});var Vd=tt((uD,Qp)=>{"use strict";Qp.exports=Lc;Qp.exports.default=Lc;function Lc(i,s,o){o=o||2;var e=s&&s.length,r=e?s[0]*o:i.length,l=Fd(i,0,r,o,!0),h=[];if(!l||l.next===l.prev)return h;var g,y,w,k,R,A,Y;if(e&&(l=o1(i,s,l,o)),i.length>80*o){g=w=i[0],y=k=i[1];for(var X=o;X<r;X+=o)R=i[X],A=i[X+1],R<g&&(g=R),A<y&&(y=A),R>w&&(w=R),A>k&&(k=A);Y=Math.max(w-g,k-y),Y=Y!==0?32767/Y:0}return Ou(l,h,o,g,y,Y,0),h}function Fd(i,s,o,e,r){var l,h;if(r===$p(i,s,o,e)>0)for(l=s;l<o;l+=e)h=Rd(l,i[l],i[l+1],h);else for(l=o-e;l>=s;l-=e)h=Rd(l,i[l],i[l+1],h);return h&&Pc(h,h.next)&&(Pu(h),h=h.next),h}function dl(i,s){if(!i)return i;s||(s=i);var o=i,e;do if(e=!1,!o.steiner&&(Pc(o,o.next)||$n(o.prev,o,o.next)===0)){if(Pu(o),o=s=o.prev,o===o.next)break;e=!0}else o=o.next;while(e||o!==s);return s}function Ou(i,s,o,e,r,l,h){if(i){!h&&l&&c1(i,e,r,l);for(var g=i,y,w;i.prev!==i.next;){if(y=i.prev,w=i.next,l?i1(i,e,r,l):t1(i)){s.push(y.i/o|0),s.push(i.i/o|0),s.push(w.i/o|0),Pu(i),i=w.next,g=w.next;continue}if(i=w,i===g){h?h===1?(i=n1(dl(i),s,o),Ou(i,s,o,e,r,l,2)):h===2&&r1(i,s,o,e,r,l):Ou(dl(i),s,o,e,r,l,1);break}}}}function t1(i){var s=i.prev,o=i,e=i.next;if($n(s,o,e)>=0)return!1;for(var r=s.x,l=o.x,h=e.x,g=s.y,y=o.y,w=e.y,k=r<l?r<h?r:h:l<h?l:h,R=g<y?g<w?g:w:y<w?y:w,A=r>l?r>h?r:h:l>h?l:h,Y=g>y?g>w?g:w:y>w?y:w,X=e.next;X!==s;){if(X.x>=k&&X.x<=A&&X.y>=R&&X.y<=Y&&Zl(r,g,l,y,h,w,X.x,X.y)&&$n(X.prev,X,X.next)>=0)return!1;X=X.next}return!0}function i1(i,s,o,e){var r=i.prev,l=i,h=i.next;if($n(r,l,h)>=0)return!1;for(var g=r.x,y=l.x,w=h.x,k=r.y,R=l.y,A=h.y,Y=g<y?g<w?g:w:y<w?y:w,X=k<R?k<A?k:A:R<A?R:A,j=g>y?g>w?g:w:y>w?y:w,S=k>R?k>A?k:A:R>A?R:A,O=Wp(Y,X,s,o,e),N=Wp(j,S,s,o,e),F=i.prevZ,Z=i.nextZ;F&&F.z>=O&&Z&&Z.z<=N;){if(F.x>=Y&&F.x<=j&&F.y>=X&&F.y<=S&&F!==r&&F!==h&&Zl(g,k,y,R,w,A,F.x,F.y)&&$n(F.prev,F,F.next)>=0||(F=F.prevZ,Z.x>=Y&&Z.x<=j&&Z.y>=X&&Z.y<=S&&Z!==r&&Z!==h&&Zl(g,k,y,R,w,A,Z.x,Z.y)&&$n(Z.prev,Z,Z.next)>=0))return!1;Z=Z.nextZ}for(;F&&F.z>=O;){if(F.x>=Y&&F.x<=j&&F.y>=X&&F.y<=S&&F!==r&&F!==h&&Zl(g,k,y,R,w,A,F.x,F.y)&&$n(F.prev,F,F.next)>=0)return!1;F=F.prevZ}for(;Z&&Z.z<=N;){if(Z.x>=Y&&Z.x<=j&&Z.y>=X&&Z.y<=S&&Z!==r&&Z!==h&&Zl(g,k,y,R,w,A,Z.x,Z.y)&&$n(Z.prev,Z,Z.next)>=0)return!1;Z=Z.nextZ}return!0}function n1(i,s,o){var e=i;do{var r=e.prev,l=e.next.next;!Pc(r,l)&&Nd(r,e,e.next,l)&&Lu(r,l)&&Lu(l,r)&&(s.push(r.i/o|0),s.push(e.i/o|0),s.push(l.i/o|0),Pu(e),Pu(e.next),e=i=l),e=e.next}while(e!==i);return dl(e)}function r1(i,s,o,e,r,l){var h=i;do{for(var g=h.next.next;g!==h.prev;){if(h.i!==g.i&&f1(h,g)){var y=Ad(h,g);h=dl(h,h.next),y=dl(y,y.next),Ou(h,s,o,e,r,l,0),Ou(y,s,o,e,r,l,0);return}g=g.next}h=h.next}while(h!==i)}function o1(i,s,o,e){var r=[],l,h,g,y,w;for(l=0,h=s.length;l<h;l++)g=s[l]*e,y=l<h-1?s[l+1]*e:i.length,w=Fd(i,g,y,e,!1),w===w.next&&(w.steiner=!0),r.push(h1(w));for(r.sort(s1),l=0;l<r.length;l++)o=a1(r[l],o);return o}function s1(i,s){return i.x-s.x}function a1(i,s){var o=l1(i,s);if(!o)return s;var e=Ad(o,i);return dl(e,e.next),dl(o,o.next)}function l1(i,s){var o=s,e=i.x,r=i.y,l=-1/0,h;do{if(r<=o.y&&r>=o.next.y&&o.next.y!==o.y){var g=o.x+(r-o.y)*(o.next.x-o.x)/(o.next.y-o.y);if(g<=e&&g>l&&(l=g,h=o.x<o.next.x?o:o.next,g===e))return h}o=o.next}while(o!==s);if(!h)return null;var y=h,w=h.x,k=h.y,R=1/0,A;o=h;do e>=o.x&&o.x>=w&&e!==o.x&&Zl(r<k?e:l,r,w,k,r<k?l:e,r,o.x,o.y)&&(A=Math.abs(r-o.y)/(e-o.x),Lu(o,i)&&(A<R||A===R&&(o.x>h.x||o.x===h.x&&u1(h,o)))&&(h=o,R=A)),o=o.next;while(o!==y);return h}function u1(i,s){return $n(i.prev,i,s.prev)<0&&$n(s.next,i,i.next)<0}function c1(i,s,o,e){var r=i;do r.z===0&&(r.z=Wp(r.x,r.y,s,o,e)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==i);r.prevZ.nextZ=null,r.prevZ=null,p1(r)}function p1(i){var s,o,e,r,l,h,g,y,w=1;do{for(o=i,i=null,l=null,h=0;o;){for(h++,e=o,g=0,s=0;s<w&&(g++,e=e.nextZ,!!e);s++);for(y=w;g>0||y>0&&e;)g!==0&&(y===0||!e||o.z<=e.z)?(r=o,o=o.nextZ,g--):(r=e,e=e.nextZ,y--),l?l.nextZ=r:i=r,r.prevZ=l,l=r;o=e}l.nextZ=null,w*=2}while(h>1);return i}function Wp(i,s,o,e,r){return i=(i-o)*r|0,s=(s-e)*r|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,i|s<<1}function h1(i){var s=i,o=i;do(s.x<o.x||s.x===o.x&&s.y<o.y)&&(o=s),s=s.next;while(s!==i);return o}function Zl(i,s,o,e,r,l,h,g){return(r-h)*(s-g)>=(i-h)*(l-g)&&(i-h)*(e-g)>=(o-h)*(s-g)&&(o-h)*(l-g)>=(r-h)*(e-g)}function f1(i,s){return i.next.i!==s.i&&i.prev.i!==s.i&&!d1(i,s)&&(Lu(i,s)&&Lu(s,i)&&m1(i,s)&&($n(i.prev,i,s.prev)||$n(i,s.prev,s))||Pc(i,s)&&$n(i.prev,i,i.next)>0&&$n(s.prev,s,s.next)>0)}function $n(i,s,o){return(s.y-i.y)*(o.x-s.x)-(s.x-i.x)*(o.y-s.y)}function Pc(i,s){return i.x===s.x&&i.y===s.y}function Nd(i,s,o,e){var r=Oc($n(i,s,o)),l=Oc($n(i,s,e)),h=Oc($n(o,e,i)),g=Oc($n(o,e,s));return!!(r!==l&&h!==g||r===0&&Mc(i,o,s)||l===0&&Mc(i,e,s)||h===0&&Mc(o,i,e)||g===0&&Mc(o,s,e))}function Mc(i,s,o){return s.x<=Math.max(i.x,o.x)&&s.x>=Math.min(i.x,o.x)&&s.y<=Math.max(i.y,o.y)&&s.y>=Math.min(i.y,o.y)}function Oc(i){return i>0?1:i<0?-1:0}function d1(i,s){var o=i;do{if(o.i!==i.i&&o.next.i!==i.i&&o.i!==s.i&&o.next.i!==s.i&&Nd(o,o.next,i,s))return!0;o=o.next}while(o!==i);return!1}function Lu(i,s){return $n(i.prev,i,i.next)<0?$n(i,s,i.next)>=0&&$n(i,i.prev,s)>=0:$n(i,s,i.prev)<0||$n(i,i.next,s)<0}function m1(i,s){var o=i,e=!1,r=(i.x+s.x)/2,l=(i.y+s.y)/2;do o.y>l!=o.next.y>l&&o.next.y!==o.y&&r<(o.next.x-o.x)*(l-o.y)/(o.next.y-o.y)+o.x&&(e=!e),o=o.next;while(o!==i);return e}function Ad(i,s){var o=new Xp(i.i,i.x,i.y),e=new Xp(s.i,s.x,s.y),r=i.next,l=s.prev;return i.next=s,s.prev=i,o.next=r,r.prev=o,e.next=o,o.prev=e,l.next=e,e.prev=l,e}function Rd(i,s,o,e){var r=new Xp(i,s,o);return e?(r.next=e.next,r.prev=e,e.next.prev=r,e.next=r):(r.prev=r,r.next=r),r}function Pu(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function Xp(i,s,o){this.i=i,this.x=s,this.y=o,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Lc.deviation=function(i,s,o,e){var r=s&&s.length,l=r?s[0]*o:i.length,h=Math.abs($p(i,0,l,o));if(r)for(var g=0,y=s.length;g<y;g++){var w=s[g]*o,k=g<y-1?s[g+1]*o:i.length;h-=Math.abs($p(i,w,k,o))}var R=0;for(g=0;g<e.length;g+=3){var A=e[g]*o,Y=e[g+1]*o,X=e[g+2]*o;R+=Math.abs((i[A]-i[X])*(i[Y+1]-i[A+1])-(i[A]-i[Y])*(i[X+1]-i[A+1]))}return h===0&&R===0?0:Math.abs((R-h)/h)};function $p(i,s,o,e){for(var r=0,l=s,h=o-e;l<o;l+=e)r+=(i[h]-i[l])*(i[l+1]+i[h+1]),h=l;return r}Lc.flatten=function(i){for(var s=i[0][0].length,o={vertices:[],holes:[],dimensions:s},e=0,r=0;r<i.length;r++){for(var l=0;l<i[r].length;l++)for(var h=0;h<s;h++)o.vertices.push(i[r][l][h]);r>0&&(e+=i[r-1].length,o.holes.push(e))}return o}});var Bd=tt((Jp,eh)=>{(function(i,s){typeof Jp=="object"&&typeof eh<"u"?eh.exports=s():typeof define=="function"&&define.amd?define(s):(i=i||self).RBush=s()})(Jp,function(){"use strict";function i(S,O,N,F,Z){(function ee(re,se,B,_e,Te){for(;_e>B;){if(_e-B>600){var Pe=_e-B+1,W=se-B+1,zt=Math.log(Pe),Ie=.5*Math.exp(2*zt/3),ut=.5*Math.sqrt(zt*Ie*(Pe-Ie)/Pe)*(W-Pe/2<0?-1:1),Be=Math.max(B,Math.floor(se-W*Ie/Pe+ut)),Ht=Math.min(_e,Math.floor(se+(Pe-W)*Ie/Pe+ut));ee(re,se,Be,Ht,Te)}var ye=re[se],Ae=B,$=_e;for(s(re,B,se),Te(re[_e],ye)>0&&s(re,B,_e);Ae<$;){for(s(re,Ae,$),Ae++,$--;Te(re[Ae],ye)<0;)Ae++;for(;Te(re[$],ye)>0;)$--}Te(re[B],ye)===0?s(re,B,$):s(re,++$,_e),$<=se&&(B=$+1),se<=$&&(_e=$-1)}})(S,O,N||0,F||S.length-1,Z||o)}function s(S,O,N){var F=S[O];S[O]=S[N],S[N]=F}function o(S,O){return S<O?-1:S>O?1:0}var e=function(S){S===void 0&&(S=9),this._maxEntries=Math.max(4,S),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(S,O,N){if(!N)return O.indexOf(S);for(var F=0;F<O.length;F++)if(N(S,O[F]))return F;return-1}function l(S,O){h(S,0,S.children.length,O,S)}function h(S,O,N,F,Z){Z||(Z=X(null)),Z.minX=1/0,Z.minY=1/0,Z.maxX=-1/0,Z.maxY=-1/0;for(var ee=O;ee<N;ee++){var re=S.children[ee];g(Z,S.leaf?F(re):re)}return Z}function g(S,O){return S.minX=Math.min(S.minX,O.minX),S.minY=Math.min(S.minY,O.minY),S.maxX=Math.max(S.maxX,O.maxX),S.maxY=Math.max(S.maxY,O.maxY),S}function y(S,O){return S.minX-O.minX}function w(S,O){return S.minY-O.minY}function k(S){return(S.maxX-S.minX)*(S.maxY-S.minY)}function R(S){return S.maxX-S.minX+(S.maxY-S.minY)}function A(S,O){return S.minX<=O.minX&&S.minY<=O.minY&&O.maxX<=S.maxX&&O.maxY<=S.maxY}function Y(S,O){return O.minX<=S.maxX&&O.minY<=S.maxY&&O.maxX>=S.minX&&O.maxY>=S.minY}function X(S){return{children:S,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function j(S,O,N,F,Z){for(var ee=[O,N];ee.length;)if(!((N=ee.pop())-(O=ee.pop())<=F)){var re=O+Math.ceil((N-O)/F/2)*F;i(S,re,O,N,Z),ee.push(O,re,re,N)}}return e.prototype.all=function(){return this._all(this.data,[])},e.prototype.search=function(S){var O=this.data,N=[];if(!Y(S,O))return N;for(var F=this.toBBox,Z=[];O;){for(var ee=0;ee<O.children.length;ee++){var re=O.children[ee],se=O.leaf?F(re):re;Y(S,se)&&(O.leaf?N.push(re):A(S,se)?this._all(re,N):Z.push(re))}O=Z.pop()}return N},e.prototype.collides=function(S){var O=this.data;if(!Y(S,O))return!1;for(var N=[];O;){for(var F=0;F<O.children.length;F++){var Z=O.children[F],ee=O.leaf?this.toBBox(Z):Z;if(Y(S,ee)){if(O.leaf||A(S,ee))return!0;N.push(Z)}}O=N.pop()}return!1},e.prototype.load=function(S){if(!S||!S.length)return this;if(S.length<this._minEntries){for(var O=0;O<S.length;O++)this.insert(S[O]);return this}var N=this._build(S.slice(),0,S.length-1,0);if(this.data.children.length)if(this.data.height===N.height)this._splitRoot(this.data,N);else{if(this.data.height<N.height){var F=this.data;this.data=N,N=F}this._insert(N,this.data.height-N.height-1,!0)}else this.data=N;return this},e.prototype.insert=function(S){return S&&this._insert(S,this.data.height-1),this},e.prototype.clear=function(){return this.data=X([]),this},e.prototype.remove=function(S,O){if(!S)return this;for(var N,F,Z,ee=this.data,re=this.toBBox(S),se=[],B=[];ee||se.length;){if(ee||(ee=se.pop(),F=se[se.length-1],N=B.pop(),Z=!0),ee.leaf){var _e=r(S,ee.children,O);if(_e!==-1)return ee.children.splice(_e,1),se.push(ee),this._condense(se),this}Z||ee.leaf||!A(ee,re)?F?(N++,ee=F.children[N],Z=!1):ee=null:(se.push(ee),B.push(N),N=0,F=ee,ee=ee.children[0])}return this},e.prototype.toBBox=function(S){return S},e.prototype.compareMinX=function(S,O){return S.minX-O.minX},e.prototype.compareMinY=function(S,O){return S.minY-O.minY},e.prototype.toJSON=function(){return this.data},e.prototype.fromJSON=function(S){return this.data=S,this},e.prototype._all=function(S,O){for(var N=[];S;)S.leaf?O.push.apply(O,S.children):N.push.apply(N,S.children),S=N.pop();return O},e.prototype._build=function(S,O,N,F){var Z,ee=N-O+1,re=this._maxEntries;if(ee<=re)return l(Z=X(S.slice(O,N+1)),this.toBBox),Z;F||(F=Math.ceil(Math.log(ee)/Math.log(re)),re=Math.ceil(ee/Math.pow(re,F-1))),(Z=X([])).leaf=!1,Z.height=F;var se=Math.ceil(ee/re),B=se*Math.ceil(Math.sqrt(re));j(S,O,N,B,this.compareMinX);for(var _e=O;_e<=N;_e+=B){var Te=Math.min(_e+B-1,N);j(S,_e,Te,se,this.compareMinY);for(var Pe=_e;Pe<=Te;Pe+=se){var W=Math.min(Pe+se-1,Te);Z.children.push(this._build(S,Pe,W,F-1))}}return l(Z,this.toBBox),Z},e.prototype._chooseSubtree=function(S,O,N,F){for(;F.push(O),!O.leaf&&F.length-1!==N;){for(var Z=1/0,ee=1/0,re=void 0,se=0;se<O.children.length;se++){var B=O.children[se],_e=k(B),Te=(Pe=S,W=B,(Math.max(W.maxX,Pe.maxX)-Math.min(W.minX,Pe.minX))*(Math.max(W.maxY,Pe.maxY)-Math.min(W.minY,Pe.minY))-_e);Te<ee?(ee=Te,Z=_e<Z?_e:Z,re=B):Te===ee&&_e<Z&&(Z=_e,re=B)}O=re||O.children[0]}var Pe,W;return O},e.prototype._insert=function(S,O,N){var F=N?S:this.toBBox(S),Z=[],ee=this._chooseSubtree(F,this.data,O,Z);for(ee.children.push(S),g(ee,F);O>=0&&Z[O].children.length>this._maxEntries;)this._split(Z,O),O--;this._adjustParentBBoxes(F,Z,O)},e.prototype._split=function(S,O){var N=S[O],F=N.children.length,Z=this._minEntries;this._chooseSplitAxis(N,Z,F);var ee=this._chooseSplitIndex(N,Z,F),re=X(N.children.splice(ee,N.children.length-ee));re.height=N.height,re.leaf=N.leaf,l(N,this.toBBox),l(re,this.toBBox),O?S[O-1].children.push(re):this._splitRoot(N,re)},e.prototype._splitRoot=function(S,O){this.data=X([S,O]),this.data.height=S.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},e.prototype._chooseSplitIndex=function(S,O,N){for(var F,Z,ee,re,se,B,_e,Te=1/0,Pe=1/0,W=O;W<=N-O;W++){var zt=h(S,0,W,this.toBBox),Ie=h(S,W,N,this.toBBox),ut=(Z=zt,ee=Ie,re=void 0,se=void 0,B=void 0,_e=void 0,re=Math.max(Z.minX,ee.minX),se=Math.max(Z.minY,ee.minY),B=Math.min(Z.maxX,ee.maxX),_e=Math.min(Z.maxY,ee.maxY),Math.max(0,B-re)*Math.max(0,_e-se)),Be=k(zt)+k(Ie);ut<Te?(Te=ut,F=W,Pe=Be<Pe?Be:Pe):ut===Te&&Be<Pe&&(Pe=Be,F=W)}return F||N-O},e.prototype._chooseSplitAxis=function(S,O,N){var F=S.leaf?this.compareMinX:y,Z=S.leaf?this.compareMinY:w;this._allDistMargin(S,O,N,F)<this._allDistMargin(S,O,N,Z)&&S.children.sort(F)},e.prototype._allDistMargin=function(S,O,N,F){S.children.sort(F);for(var Z=this.toBBox,ee=h(S,0,O,Z),re=h(S,N-O,N,Z),se=R(ee)+R(re),B=O;B<N-O;B++){var _e=S.children[B];g(ee,S.leaf?Z(_e):_e),se+=R(ee)}for(var Te=N-O-1;Te>=O;Te--){var Pe=S.children[Te];g(re,S.leaf?Z(Pe):Pe),se+=R(re)}return se},e.prototype._adjustParentBBoxes=function(S,O,N){for(var F=N;F>=0;F--)g(O[F],S)},e.prototype._condense=function(S){for(var O=S.length-1,N=void 0;O>=0;O--)S[O].children.length===0?O>0?(N=S[O-1].children).splice(N.indexOf(S[O]),1):this.clear():l(S[O],this.toBBox)},e})});var oh=tt(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.earthRadius=63710088e-1;yt.factors={centimeters:yt.earthRadius*100,centimetres:yt.earthRadius*100,degrees:yt.earthRadius/111325,feet:yt.earthRadius*3.28084,inches:yt.earthRadius*39.37,kilometers:yt.earthRadius/1e3,kilometres:yt.earthRadius/1e3,meters:yt.earthRadius,metres:yt.earthRadius,miles:yt.earthRadius/1609.344,millimeters:yt.earthRadius*1e3,millimetres:yt.earthRadius*1e3,nauticalmiles:yt.earthRadius/1852,radians:1,yards:yt.earthRadius*1.0936};yt.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/yt.earthRadius,yards:1.0936133};yt.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function Za(i,s,o){o===void 0&&(o={});var e={type:"Feature"};return(o.id===0||o.id)&&(e.id=o.id),o.bbox&&(e.bbox=o.bbox),e.properties=s||{},e.geometry=i,e}yt.feature=Za;function b1(i,s,o){switch(o===void 0&&(o={}),i){case"Point":return th(s).geometry;case"LineString":return nh(s).geometry;case"Polygon":return ih(s).geometry;case"MultiPoint":return Hd(s).geometry;case"MultiLineString":return zd(s).geometry;case"MultiPolygon":return qd(s).geometry;default:throw new Error(i+" is invalid")}}yt.geometry=b1;function th(i,s,o){if(o===void 0&&(o={}),!i)throw new Error("coordinates is required");if(!Array.isArray(i))throw new Error("coordinates must be an Array");if(i.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!kc(i[0])||!kc(i[1]))throw new Error("coordinates must contain numbers");var e={type:"Point",coordinates:i};return Za(e,s,o)}yt.point=th;function w1(i,s,o){return o===void 0&&(o={}),Dc(i.map(function(e){return th(e,s)}),o)}yt.points=w1;function ih(i,s,o){o===void 0&&(o={});for(var e=0,r=i;e<r.length;e++){var l=r[e];if(l.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var h=0;h<l[l.length-1].length;h++)if(l[l.length-1][h]!==l[0][h])throw new Error("First and last Position are not equivalent.")}var g={type:"Polygon",coordinates:i};return Za(g,s,o)}yt.polygon=ih;function C1(i,s,o){return o===void 0&&(o={}),Dc(i.map(function(e){return ih(e,s)}),o)}yt.polygons=C1;function nh(i,s,o){if(o===void 0&&(o={}),i.length<2)throw new Error("coordinates must be an array of two or more positions");var e={type:"LineString",coordinates:i};return Za(e,s,o)}yt.lineString=nh;function I1(i,s,o){return o===void 0&&(o={}),Dc(i.map(function(e){return nh(e,s)}),o)}yt.lineStrings=I1;function Dc(i,s){s===void 0&&(s={});var o={type:"FeatureCollection"};return s.id&&(o.id=s.id),s.bbox&&(o.bbox=s.bbox),o.features=i,o}yt.featureCollection=Dc;function zd(i,s,o){o===void 0&&(o={});var e={type:"MultiLineString",coordinates:i};return Za(e,s,o)}yt.multiLineString=zd;function Hd(i,s,o){o===void 0&&(o={});var e={type:"MultiPoint",coordinates:i};return Za(e,s,o)}yt.multiPoint=Hd;function qd(i,s,o){o===void 0&&(o={});var e={type:"MultiPolygon",coordinates:i};return Za(e,s,o)}yt.multiPolygon=qd;function S1(i,s,o){o===void 0&&(o={});var e={type:"GeometryCollection",geometries:i};return Za(e,s,o)}yt.geometryCollection=S1;function T1(i,s){if(s===void 0&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var o=Math.pow(10,s||0);return Math.round(i*o)/o}yt.round=T1;function Gd(i,s){s===void 0&&(s="kilometers");var o=yt.factors[s];if(!o)throw new Error(s+" units is invalid");return i*o}yt.radiansToLength=Gd;function rh(i,s){s===void 0&&(s="kilometers");var o=yt.factors[s];if(!o)throw new Error(s+" units is invalid");return i/o}yt.lengthToRadians=rh;function E1(i,s){return Ud(rh(i,s))}yt.lengthToDegrees=E1;function M1(i){var s=i%360;return s<0&&(s+=360),s}yt.bearingToAzimuth=M1;function Ud(i){var s=i%(2*Math.PI);return s*180/Math.PI}yt.radiansToDegrees=Ud;function O1(i){var s=i%360;return s*Math.PI/180}yt.degreesToRadians=O1;function L1(i,s,o){if(s===void 0&&(s="kilometers"),o===void 0&&(o="kilometers"),!(i>=0))throw new Error("length must be a positive number");return Gd(rh(i,s),o)}yt.convertLength=L1;function P1(i,s,o){if(s===void 0&&(s="meters"),o===void 0&&(o="kilometers"),!(i>=0))throw new Error("area must be a positive number");var e=yt.areaFactors[s];if(!e)throw new Error("invalid original units");var r=yt.areaFactors[o];if(!r)throw new Error("invalid final units");return i/e*r}yt.convertArea=P1;function kc(i){return!isNaN(i)&&i!==null&&!Array.isArray(i)}yt.isNumber=kc;function k1(i){return!!i&&i.constructor===Object}yt.isObject=k1;function D1(i){if(!i)throw new Error("bbox is required");if(!Array.isArray(i))throw new Error("bbox must be an Array");if(i.length!==4&&i.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");i.forEach(function(s){if(!kc(s))throw new Error("bbox must only contain numbers")})}yt.validateBBox=D1;function R1(i){if(!i)throw new Error("id is required");if(["string","number"].indexOf(typeof i)===-1)throw new Error("id must be a number or a string")}yt.validateId=R1});var ah=tt(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});var wo=oh();function ku(i,s,o){if(i!==null)for(var e,r,l,h,g,y,w,k=0,R=0,A,Y=i.type,X=Y==="FeatureCollection",j=Y==="Feature",S=X?i.features.length:1,O=0;O<S;O++){w=X?i.features[O].geometry:j?i.geometry:i,A=w?w.type==="GeometryCollection":!1,g=A?w.geometries.length:1;for(var N=0;N<g;N++){var F=0,Z=0;if(h=A?w.geometries[N]:w,h!==null){y=h.coordinates;var ee=h.type;switch(k=o&&(ee==="Polygon"||ee==="MultiPolygon")?1:0,ee){case null:break;case"Point":if(s(y,R,O,F,Z)===!1)return!1;R++,F++;break;case"LineString":case"MultiPoint":for(e=0;e<y.length;e++){if(s(y[e],R,O,F,Z)===!1)return!1;R++,ee==="MultiPoint"&&F++}ee==="LineString"&&F++;break;case"Polygon":case"MultiLineString":for(e=0;e<y.length;e++){for(r=0;r<y[e].length-k;r++){if(s(y[e][r],R,O,F,Z)===!1)return!1;R++}ee==="MultiLineString"&&F++,ee==="Polygon"&&Z++}ee==="Polygon"&&F++;break;case"MultiPolygon":for(e=0;e<y.length;e++){for(Z=0,r=0;r<y[e].length;r++){for(l=0;l<y[e][r].length-k;l++){if(s(y[e][r][l],R,O,F,Z)===!1)return!1;R++}Z++}F++}break;case"GeometryCollection":for(e=0;e<h.geometries.length;e++)if(ku(h.geometries[e],s,o)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function F1(i,s,o,e){var r=o;return ku(i,function(l,h,g,y,w){h===0&&o===void 0?r=l:r=s(r,l,h,g,y,w)},e),r}function Kd(i,s){var o;switch(i.type){case"FeatureCollection":for(o=0;o<i.features.length&&s(i.features[o].properties,o)!==!1;o++);break;case"Feature":s(i.properties,0);break}}function N1(i,s,o){var e=o;return Kd(i,function(r,l){l===0&&o===void 0?e=r:e=s(e,r,l)}),e}function Zd(i,s){if(i.type==="Feature")s(i,0);else if(i.type==="FeatureCollection")for(var o=0;o<i.features.length&&s(i.features[o],o)!==!1;o++);}function A1(i,s,o){var e=o;return Zd(i,function(r,l){l===0&&o===void 0?e=r:e=s(e,r,l)}),e}function V1(i){var s=[];return ku(i,function(o){s.push(o)}),s}function sh(i,s){var o,e,r,l,h,g,y,w,k,R,A=0,Y=i.type==="FeatureCollection",X=i.type==="Feature",j=Y?i.features.length:1;for(o=0;o<j;o++){for(g=Y?i.features[o].geometry:X?i.geometry:i,w=Y?i.features[o].properties:X?i.properties:{},k=Y?i.features[o].bbox:X?i.bbox:void 0,R=Y?i.features[o].id:X?i.id:void 0,y=g?g.type==="GeometryCollection":!1,h=y?g.geometries.length:1,r=0;r<h;r++){if(l=y?g.geometries[r]:g,l===null){if(s(null,A,w,k,R)===!1)return!1;continue}switch(l.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(s(l,A,w,k,R)===!1)return!1;break}case"GeometryCollection":{for(e=0;e<l.geometries.length;e++)if(s(l.geometries[e],A,w,k,R)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}A++}}function B1(i,s,o){var e=o;return sh(i,function(r,l,h,g,y){l===0&&o===void 0?e=r:e=s(e,r,l,h,g,y)}),e}function Rc(i,s){sh(i,function(o,e,r,l,h){var g=o===null?null:o.type;switch(g){case null:case"Point":case"LineString":case"Polygon":return s(wo.feature(o,r,{bbox:l,id:h}),e,0)===!1?!1:void 0}var y;switch(g){case"MultiPoint":y="Point";break;case"MultiLineString":y="LineString";break;case"MultiPolygon":y="Polygon";break}for(var w=0;w<o.coordinates.length;w++){var k=o.coordinates[w],R={type:y,coordinates:k};if(s(wo.feature(R,r),e,w)===!1)return!1}})}function z1(i,s,o){var e=o;return Rc(i,function(r,l,h){l===0&&h===0&&o===void 0?e=r:e=s(e,r,l,h)}),e}function Yd(i,s){Rc(i,function(o,e,r){var l=0;if(o.geometry){var h=o.geometry.type;if(!(h==="Point"||h==="MultiPoint")){var g,y=0,w=0,k=0;if(ku(o,function(R,A,Y,X,j){if(g===void 0||e>y||X>w||j>k){g=R,y=e,w=X,k=j,l=0;return}var S=wo.lineString([g,R],o.properties);if(s(S,e,r,j,l)===!1)return!1;l++,g=R})===!1)return!1}}})}function H1(i,s,o){var e=o,r=!1;return Yd(i,function(l,h,g,y,w){r===!1&&o===void 0?e=l:e=s(e,l,h,g,y,w),r=!0}),e}function jd(i,s){if(!i)throw new Error("geojson is required");Rc(i,function(o,e,r){if(o.geometry!==null){var l=o.geometry.type,h=o.geometry.coordinates;switch(l){case"LineString":if(s(o,e,r,0,0)===!1)return!1;break;case"Polygon":for(var g=0;g<h.length;g++)if(s(wo.lineString(h[g],o.properties),e,r,g)===!1)return!1;break}}})}function q1(i,s,o){var e=o;return jd(i,function(r,l,h,g){l===0&&o===void 0?e=r:e=s(e,r,l,h,g)}),e}function G1(i,s){if(s=s||{},!wo.isObject(s))throw new Error("options is invalid");var o=s.featureIndex||0,e=s.multiFeatureIndex||0,r=s.geometryIndex||0,l=s.segmentIndex||0,h=s.properties,g;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),h=h||i.features[o].properties,g=i.features[o].geometry;break;case"Feature":h=h||i.properties,g=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":g=i;break;default:throw new Error("geojson is invalid")}if(g===null)return null;var y=g.coordinates;switch(g.type){case"Point":case"MultiPoint":return null;case"LineString":return l<0&&(l=y.length+l-1),wo.lineString([y[l],y[l+1]],h,s);case"Polygon":return r<0&&(r=y.length+r),l<0&&(l=y[r].length+l-1),wo.lineString([y[r][l],y[r][l+1]],h,s);case"MultiLineString":return e<0&&(e=y.length+e),l<0&&(l=y[e].length+l-1),wo.lineString([y[e][l],y[e][l+1]],h,s);case"MultiPolygon":return e<0&&(e=y.length+e),r<0&&(r=y[e].length+r),l<0&&(l=y[e][r].length-l-1),wo.lineString([y[e][r][l],y[e][r][l+1]],h,s)}throw new Error("geojson is invalid")}function U1(i,s){if(s=s||{},!wo.isObject(s))throw new Error("options is invalid");var o=s.featureIndex||0,e=s.multiFeatureIndex||0,r=s.geometryIndex||0,l=s.coordIndex||0,h=s.properties,g;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),h=h||i.features[o].properties,g=i.features[o].geometry;break;case"Feature":h=h||i.properties,g=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":g=i;break;default:throw new Error("geojson is invalid")}if(g===null)return null;var y=g.coordinates;switch(g.type){case"Point":return wo.point(y,h,s);case"MultiPoint":return e<0&&(e=y.length+e),wo.point(y[e],h,s);case"LineString":return l<0&&(l=y.length+l),wo.point(y[l],h,s);case"Polygon":return r<0&&(r=y.length+r),l<0&&(l=y[r].length+l),wo.point(y[r][l],h,s);case"MultiLineString":return e<0&&(e=y.length+e),l<0&&(l=y[e].length+l),wo.point(y[e][l],h,s);case"MultiPolygon":return e<0&&(e=y.length+e),r<0&&(r=y[e].length+r),l<0&&(l=y[e][r].length-l),wo.point(y[e][r][l],h,s)}throw new Error("geojson is invalid")}Fr.coordAll=V1;Fr.coordEach=ku;Fr.coordReduce=F1;Fr.featureEach=Zd;Fr.featureReduce=A1;Fr.findPoint=U1;Fr.findSegment=G1;Fr.flattenEach=Rc;Fr.flattenReduce=z1;Fr.geomEach=sh;Fr.geomReduce=B1;Fr.lineEach=jd;Fr.lineReduce=q1;Fr.propEach=Kd;Fr.propReduce=N1;Fr.segmentEach=Yd;Fr.segmentReduce=H1});var Wd=tt(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});var K1=ah();function lh(i){var s=[1/0,1/0,-1/0,-1/0];return K1.coordEach(i,function(o){s[0]>o[0]&&(s[0]=o[0]),s[1]>o[1]&&(s[1]=o[1]),s[2]<o[0]&&(s[2]=o[0]),s[3]<o[1]&&(s[3]=o[1])}),s}lh.default=lh;uh.default=lh});var Fc=tt((SD,ch)=>{var aa=Bd(),$d=oh(),Qd=ah(),Yl=Wd().default,Z1=Qd.featureEach,CD=Qd.coordEach,ID=$d.polygon,Xd=$d.featureCollection;function Jd(i){var s=new aa(i);return s.insert=function(o){if(o.type!=="Feature")throw new Error("invalid feature");return o.bbox=o.bbox?o.bbox:Yl(o),aa.prototype.insert.call(this,o)},s.load=function(o){var e=[];return Array.isArray(o)?o.forEach(function(r){if(r.type!=="Feature")throw new Error("invalid features");r.bbox=r.bbox?r.bbox:Yl(r),e.push(r)}):Z1(o,function(r){if(r.type!=="Feature")throw new Error("invalid features");r.bbox=r.bbox?r.bbox:Yl(r),e.push(r)}),aa.prototype.load.call(this,e)},s.remove=function(o,e){if(o.type!=="Feature")throw new Error("invalid feature");return o.bbox=o.bbox?o.bbox:Yl(o),aa.prototype.remove.call(this,o,e)},s.clear=function(){return aa.prototype.clear.call(this)},s.search=function(o){var e=aa.prototype.search.call(this,this.toBBox(o));return Xd(e)},s.collides=function(o){return aa.prototype.collides.call(this,this.toBBox(o))},s.all=function(){var o=aa.prototype.all.call(this);return Xd(o)},s.toJSON=function(){return aa.prototype.toJSON.call(this)},s.fromJSON=function(o){return aa.prototype.fromJSON.call(this,o)},s.toBBox=function(o){var e;if(o.bbox)e=o.bbox;else if(Array.isArray(o)&&o.length===4)e=o;else if(Array.isArray(o)&&o.length===6)e=[o[0],o[1],o[3],o[4]];else if(o.type==="Feature")e=Yl(o);else if(o.type==="FeatureCollection")e=Yl(o);else throw new Error("invalid geojson");return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},s}ch.exports=Jd;ch.exports.default=Jd});var _h=tt((DR,cm)=>{"use strict";var um=Object.prototype.toString;cm.exports=function(s){var o=um.call(s),e=o==="[object Arguments]";return e||(e=o!=="[object Array]"&&s!==null&&typeof s=="object"&&typeof s.length=="number"&&s.length>=0&&um.call(s.callee)==="[object Function]"),e}});var vm=tt((RR,ym)=>{"use strict";var _m;Object.keys||(Nu=Object.prototype.hasOwnProperty,yh=Object.prototype.toString,pm=_h(),vh=Object.prototype.propertyIsEnumerable,hm=!vh.call({toString:null},"toString"),fm=vh.call(function(){},"prototype"),Au=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Nc=function(i){var s=i.constructor;return s&&s.prototype===i},dm={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},mm=function(){if(typeof window>"u")return!1;for(var i in window)try{if(!dm["$"+i]&&Nu.call(window,i)&&window[i]!==null&&typeof window[i]=="object")try{Nc(window[i])}catch{return!0}}catch{return!0}return!1}(),gm=function(i){if(typeof window>"u"||!mm)return Nc(i);try{return Nc(i)}catch{return!1}},_m=function(s){var o=s!==null&&typeof s=="object",e=yh.call(s)==="[object Function]",r=pm(s),l=o&&yh.call(s)==="[object String]",h=[];if(!o&&!e&&!r)throw new TypeError("Object.keys called on a non-object");var g=fm&&e;if(l&&s.length>0&&!Nu.call(s,0))for(var y=0;y<s.length;++y)h.push(String(y));if(r&&s.length>0)for(var w=0;w<s.length;++w)h.push(String(w));else for(var k in s)!(g&&k==="prototype")&&Nu.call(s,k)&&h.push(String(k));if(hm)for(var R=gm(s),A=0;A<Au.length;++A)!(R&&Au[A]==="constructor")&&Nu.call(s,Au[A])&&h.push(Au[A]);return h});var Nu,yh,pm,vh,hm,fm,Au,Nc,dm,mm,gm;ym.exports=_m});var xh=tt((FR,wm)=>{"use strict";var av=Array.prototype.slice,lv=_h(),xm=Object.keys,Ac=xm?function(s){return xm(s)}:vm(),bm=Object.keys;Ac.shim=function(){if(Object.keys){var s=function(){var o=Object.keys(arguments);return o&&o.length===arguments.length}(1,2);s||(Object.keys=function(e){return lv(e)?bm(av.call(e)):bm(e)})}else Object.keys=Ac;return Object.keys||Ac};wm.exports=Ac});var bh=tt((NR,Cm)=>{"use strict";Cm.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var s={},o=Symbol("test"),e=Object(o);if(typeof o=="string"||Object.prototype.toString.call(o)!=="[object Symbol]"||Object.prototype.toString.call(e)!=="[object Symbol]")return!1;var r=42;s[o]=r;for(o in s)return!1;if(typeof Object.keys=="function"&&Object.keys(s).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(s).length!==0)return!1;var l=Object.getOwnPropertySymbols(s);if(l.length!==1||l[0]!==o||!Object.prototype.propertyIsEnumerable.call(s,o))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var h=Object.getOwnPropertyDescriptor(s,o);if(h.value!==r||h.enumerable!==!0)return!1}return!0}});var Vc=tt((AR,Im)=>{"use strict";var uv=bh();Im.exports=function(){return uv()&&!!Symbol.toStringTag}});var Tm=tt((VR,Sm)=>{"use strict";Sm.exports=Error});var Mm=tt((BR,Em)=>{"use strict";Em.exports=EvalError});var Lm=tt((zR,Om)=>{"use strict";Om.exports=RangeError});var km=tt((HR,Pm)=>{"use strict";Pm.exports=ReferenceError});var wh=tt((qR,Dm)=>{"use strict";Dm.exports=SyntaxError});var yl=tt((GR,Rm)=>{"use strict";Rm.exports=TypeError});var Nm=tt((UR,Fm)=>{"use strict";Fm.exports=URIError});var Bm=tt((KR,Vm)=>{"use strict";var Am=typeof Symbol<"u"&&Symbol,cv=bh();Vm.exports=function(){return typeof Am!="function"||typeof Symbol!="function"||typeof Am("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:cv()}});var Hm=tt((ZR,zm)=>{"use strict";var Ch={__proto__:null,foo:{}},pv=Object;zm.exports=function(){return{__proto__:Ch}.foo===Ch.foo&&!(Ch instanceof pv)}});var Um=tt((YR,Gm)=>{"use strict";var hv="Function.prototype.bind called on incompatible ",fv=Object.prototype.toString,dv=Math.max,mv="[object Function]",qm=function(s,o){for(var e=[],r=0;r<s.length;r+=1)e[r]=s[r];for(var l=0;l<o.length;l+=1)e[l+s.length]=o[l];return e},gv=function(s,o){for(var e=[],r=o||0,l=0;r<s.length;r+=1,l+=1)e[l]=s[r];return e},_v=function(i,s){for(var o="",e=0;e<i.length;e+=1)o+=i[e],e+1<i.length&&(o+=s);return o};Gm.exports=function(s){var o=this;if(typeof o!="function"||fv.apply(o)!==mv)throw new TypeError(hv+o);for(var e=gv(arguments,1),r,l=function(){if(this instanceof r){var k=o.apply(this,qm(e,arguments));return Object(k)===k?k:this}return o.apply(s,qm(e,arguments))},h=dv(0,o.length-e.length),g=[],y=0;y<h;y++)g[y]="$"+y;if(r=Function("binder","return function ("+_v(g,",")+"){ return binder.apply(this,arguments); }")(l),o.prototype){var w=function(){};w.prototype=o.prototype,r.prototype=new w,w.prototype=null}return r}});var Bc=tt((jR,Km)=>{"use strict";var yv=Um();Km.exports=Function.prototype.bind||yv});var Ym=tt((WR,Zm)=>{"use strict";var vv=Function.prototype.call,xv=Object.prototype.hasOwnProperty,bv=Bc();Zm.exports=bv.call(vv,xv)});var Ql=tt((XR,Qm)=>{"use strict";var ki,wv=Tm(),Cv=Mm(),Iv=Lm(),Sv=km(),$l=wh(),Xl=yl(),Tv=Nm(),$m=Function,Ih=function(i){try{return $m('"use strict"; return ('+i+").constructor;")()}catch{}},vl=Object.getOwnPropertyDescriptor;if(vl)try{vl({},"")}catch{vl=null}var Sh=function(){throw new Xl},Ev=vl?function(){try{return arguments.callee,Sh}catch{try{return vl(arguments,"callee").get}catch{return Sh}}}():Sh,jl=Bm()(),Mv=Hm()(),Jr=Object.getPrototypeOf||(Mv?function(i){return i.__proto__}:null),Wl={},Ov=typeof Uint8Array>"u"||!Jr?ki:Jr(Uint8Array),xl={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ki:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ki:ArrayBuffer,"%ArrayIteratorPrototype%":jl&&Jr?Jr([][Symbol.iterator]()):ki,"%AsyncFromSyncIteratorPrototype%":ki,"%AsyncFunction%":Wl,"%AsyncGenerator%":Wl,"%AsyncGeneratorFunction%":Wl,"%AsyncIteratorPrototype%":Wl,"%Atomics%":typeof Atomics>"u"?ki:Atomics,"%BigInt%":typeof BigInt>"u"?ki:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ki:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ki:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ki:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":wv,"%eval%":eval,"%EvalError%":Cv,"%Float32Array%":typeof Float32Array>"u"?ki:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ki:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ki:FinalizationRegistry,"%Function%":$m,"%GeneratorFunction%":Wl,"%Int8Array%":typeof Int8Array>"u"?ki:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ki:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ki:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":jl&&Jr?Jr(Jr([][Symbol.iterator]())):ki,"%JSON%":typeof JSON=="object"?JSON:ki,"%Map%":typeof Map>"u"?ki:Map,"%MapIteratorPrototype%":typeof Map>"u"||!jl||!Jr?ki:Jr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ki:Promise,"%Proxy%":typeof Proxy>"u"?ki:Proxy,"%RangeError%":Iv,"%ReferenceError%":Sv,"%Reflect%":typeof Reflect>"u"?ki:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ki:Set,"%SetIteratorPrototype%":typeof Set>"u"||!jl||!Jr?ki:Jr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ki:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":jl&&Jr?Jr(""[Symbol.iterator]()):ki,"%Symbol%":jl?Symbol:ki,"%SyntaxError%":$l,"%ThrowTypeError%":Ev,"%TypedArray%":Ov,"%TypeError%":Xl,"%Uint8Array%":typeof Uint8Array>"u"?ki:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ki:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ki:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ki:Uint32Array,"%URIError%":Tv,"%WeakMap%":typeof WeakMap>"u"?ki:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ki:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ki:WeakSet};if(Jr)try{null.error}catch(i){jm=Jr(Jr(i)),xl["%Error.prototype%"]=jm}var jm,Lv=function i(s){var o;if(s==="%AsyncFunction%")o=Ih("async function () {}");else if(s==="%GeneratorFunction%")o=Ih("function* () {}");else if(s==="%AsyncGeneratorFunction%")o=Ih("async function* () {}");else if(s==="%AsyncGenerator%"){var e=i("%AsyncGeneratorFunction%");e&&(o=e.prototype)}else if(s==="%AsyncIteratorPrototype%"){var r=i("%AsyncGenerator%");r&&Jr&&(o=Jr(r.prototype))}return xl[s]=o,o},Wm={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Vu=Bc(),zc=Ym(),Pv=Vu.call(Function.call,Array.prototype.concat),kv=Vu.call(Function.apply,Array.prototype.splice),Xm=Vu.call(Function.call,String.prototype.replace),Hc=Vu.call(Function.call,String.prototype.slice),Dv=Vu.call(Function.call,RegExp.prototype.exec),Rv=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Fv=/\\(\\)?/g,Nv=function(s){var o=Hc(s,0,1),e=Hc(s,-1);if(o==="%"&&e!=="%")throw new $l("invalid intrinsic syntax, expected closing `%`");if(e==="%"&&o!=="%")throw new $l("invalid intrinsic syntax, expected opening `%`");var r=[];return Xm(s,Rv,function(l,h,g,y){r[r.length]=g?Xm(y,Fv,"$1"):h||l}),r},Av=function(s,o){var e=s,r;if(zc(Wm,e)&&(r=Wm[e],e="%"+r[0]+"%"),zc(xl,e)){var l=xl[e];if(l===Wl&&(l=Lv(e)),typeof l>"u"&&!o)throw new Xl("intrinsic "+s+" exists, but is not available. Please file an issue!");return{alias:r,name:e,value:l}}throw new $l("intrinsic "+s+" does not exist!")};Qm.exports=function(s,o){if(typeof s!="string"||s.length===0)throw new Xl("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof o!="boolean")throw new Xl('"allowMissing" argument must be a boolean');if(Dv(/^%?[^%]*%?$/,s)===null)throw new $l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var e=Nv(s),r=e.length>0?e[0]:"",l=Av("%"+r+"%",o),h=l.name,g=l.value,y=!1,w=l.alias;w&&(r=w[0],kv(e,Pv([0,1],w)));for(var k=1,R=!0;k<e.length;k+=1){var A=e[k],Y=Hc(A,0,1),X=Hc(A,-1);if((Y==='"'||Y==="'"||Y==="`"||X==='"'||X==="'"||X==="`")&&Y!==X)throw new $l("property names with quotes must have matching quotes");if((A==="constructor"||!R)&&(y=!0),r+="."+A,h="%"+r+"%",zc(xl,h))g=xl[h];else if(g!=null){if(!(A in g)){if(!o)throw new Xl("base intrinsic for "+s+" exists, but the property is not available.");return}if(vl&&k+1>=e.length){var j=vl(g,A);R=!!j,R&&"get"in j&&!("originalValue"in j.get)?g=j.get:g=g[A]}else R=zc(g,A),g=g[A];R&&!y&&(xl[h]=g)}}return g}});var Gc=tt(($R,Jm)=>{"use strict";var Vv=Ql(),qc=Vv("%Object.defineProperty%",!0)||!1;if(qc)try{qc({},"a",{value:1})}catch{qc=!1}Jm.exports=qc});var Th=tt((QR,eg)=>{"use strict";var Bv=Ql(),Uc=Bv("%Object.getOwnPropertyDescriptor%",!0);if(Uc)try{Uc([],"length")}catch{Uc=null}eg.exports=Uc});var Kc=tt((JR,ng)=>{"use strict";var tg=Gc(),zv=wh(),Jl=yl(),ig=Th();ng.exports=function(s,o,e){if(!s||typeof s!="object"&&typeof s!="function")throw new Jl("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new Jl("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Jl("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Jl("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Jl("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Jl("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,h=arguments.length>5?arguments[5]:null,g=arguments.length>6?arguments[6]:!1,y=!!ig&&ig(s,o);if(tg)tg(s,o,{configurable:h===null&&y?y.configurable:!h,enumerable:r===null&&y?y.enumerable:!r,value:e,writable:l===null&&y?y.writable:!l});else if(g||!r&&!l&&!h)s[o]=e;else throw new zv("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var Zc=tt((eF,og)=>{"use strict";var Eh=Gc(),rg=function(){return!!Eh};rg.hasArrayLengthDefineBug=function(){if(!Eh)return null;try{return Eh([],"length",{value:1}).length!==1}catch{return!0}};og.exports=rg});var cg=tt((tF,ug)=>{"use strict";var Hv=Ql(),sg=Kc(),qv=Zc()(),ag=Th(),lg=yl(),Gv=Hv("%Math.floor%");ug.exports=function(s,o){if(typeof s!="function")throw new lg("`fn` is not a function");if(typeof o!="number"||o<0||o>4294967295||Gv(o)!==o)throw new lg("`length` must be a positive 32-bit integer");var e=arguments.length>2&&!!arguments[2],r=!0,l=!0;if("length"in s&&ag){var h=ag(s,"length");h&&!h.configurable&&(r=!1),h&&!h.writable&&(l=!1)}return(r||l||!e)&&(qv?sg(s,"length",o,!0,!0):sg(s,"length",o)),s}});var Wc=tt((iF,Yc)=>{"use strict";var Mh=Bc(),jc=Ql(),Uv=cg(),Kv=yl(),fg=jc("%Function.prototype.apply%"),dg=jc("%Function.prototype.call%"),mg=jc("%Reflect.apply%",!0)||Mh.call(dg,fg),pg=Gc(),Zv=jc("%Math.max%");Yc.exports=function(s){if(typeof s!="function")throw new Kv("a function is required");var o=mg(Mh,dg,arguments);return Uv(o,1+Zv(0,s.length-(arguments.length-1)),!0)};var hg=function(){return mg(Mh,fg,arguments)};pg?pg(Yc.exports,"apply",{value:hg}):Yc.exports.apply=hg});var Oh=tt((nF,yg)=>{"use strict";var gg=Ql(),_g=Wc(),Yv=_g(gg("String.prototype.indexOf"));yg.exports=function(s,o){var e=gg(s,!!o);return typeof e=="function"&&Yv(s,".prototype.")>-1?_g(e):e}});var bg=tt((rF,xg)=>{"use strict";var jv=Vc()(),Wv=Oh(),Lh=Wv("Object.prototype.toString"),Xc=function(s){return jv&&s&&typeof s=="object"&&Symbol.toStringTag in s?!1:Lh(s)==="[object Arguments]"},vg=function(s){return Xc(s)?!0:s!==null&&typeof s=="object"&&typeof s.length=="number"&&s.length>=0&&Lh(s)!=="[object Array]"&&Lh(s.callee)==="[object Function]"},Xv=function(){return Xc(arguments)}();Xc.isLegacyArguments=vg;xg.exports=Xv?Xc:vg});var eu=tt((oF,Sg)=>{"use strict";var $v=xh(),Qv=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Jv=Object.prototype.toString,ex=Array.prototype.concat,wg=Kc(),tx=function(i){return typeof i=="function"&&Jv.call(i)==="[object Function]"},Cg=Zc()(),ix=function(i,s,o,e){if(s in i){if(e===!0){if(i[s]===o)return}else if(!tx(e)||!e())return}Cg?wg(i,s,o,!0):wg(i,s,o)},Ig=function(i,s){var o=arguments.length>2?arguments[2]:{},e=$v(s);Qv&&(e=ex.call(e,Object.getOwnPropertySymbols(s)));for(var r=0;r<e.length;r+=1)ix(i,e[r],s[e[r]],o[e[r]])};Ig.supportsDescriptors=!!Cg;Sg.exports=Ig});var Ph=tt((sF,Eg)=>{"use strict";var Tg=function(i){return i!==i};Eg.exports=function(s,o){return s===0&&o===0?1/s===1/o:!!(s===o||Tg(s)&&Tg(o))}});var kh=tt((aF,Mg)=>{"use strict";var nx=Ph();Mg.exports=function(){return typeof Object.is=="function"?Object.is:nx}});var Lg=tt((lF,Og)=>{"use strict";var rx=kh(),ox=eu();Og.exports=function(){var s=rx();return ox(Object,{is:s},{is:function(){return Object.is!==s}}),s}});var Rg=tt((uF,Dg)=>{"use strict";var sx=eu(),ax=Wc(),lx=Ph(),Pg=kh(),ux=Lg(),kg=ax(Pg(),Object);sx(kg,{getPolyfill:Pg,implementation:lx,shim:ux});Dg.exports=kg});var Bg=tt((cF,Vg)=>{"use strict";var Dh=Oh(),Fg=Vc()(),Ng,Ag,Rh,Fh;Fg&&(Ng=Dh("Object.prototype.hasOwnProperty"),Ag=Dh("RegExp.prototype.exec"),Rh={},$c=function(){throw Rh},Fh={toString:$c,valueOf:$c},typeof Symbol.toPrimitive=="symbol"&&(Fh[Symbol.toPrimitive]=$c));var $c,cx=Dh("Object.prototype.toString"),px=Object.getOwnPropertyDescriptor,hx="[object RegExp]";Vg.exports=Fg?function(s){if(!s||typeof s!="object")return!1;var o=px(s,"lastIndex"),e=o&&Ng(o,"value");if(!e)return!1;try{Ag(s,Fh)}catch(r){return r===Rh}}:function(s){return!s||typeof s!="object"&&typeof s!="function"?!1:cx(s)===hx}});var Hg=tt((pF,zg)=>{"use strict";var zu=function(){return typeof function(){}.name=="string"},Bu=Object.getOwnPropertyDescriptor;if(Bu)try{Bu([],"length")}catch{Bu=null}zu.functionsHaveConfigurableNames=function(){if(!zu()||!Bu)return!1;var s=Bu(function(){},"name");return!!s&&!!s.configurable};var fx=Function.prototype.bind;zu.boundFunctionsHaveNames=function(){return zu()&&typeof fx=="function"&&function(){}.bind().name!==""};zg.exports=zu});var Ug=tt((hF,Gg)=>{"use strict";var qg=Kc(),dx=Zc()(),mx=Hg().functionsHaveConfigurableNames(),gx=yl();Gg.exports=function(s,o){if(typeof s!="function")throw new gx("`fn` is not a function");var e=arguments.length>2&&!!arguments[2];return(!e||mx)&&(dx?qg(s,"name",o,!0,!0):qg(s,"name",o)),s}});var Nh=tt((fF,Kg)=>{"use strict";var _x=Ug(),yx=yl(),vx=Object;Kg.exports=_x(function(){if(this==null||this!==vx(this))throw new yx("RegExp.prototype.flags getter called on non-object");var s="";return this.hasIndices&&(s+="d"),this.global&&(s+="g"),this.ignoreCase&&(s+="i"),this.multiline&&(s+="m"),this.dotAll&&(s+="s"),this.unicode&&(s+="u"),this.unicodeSets&&(s+="v"),this.sticky&&(s+="y"),s},"get flags",!0)});var Ah=tt((dF,Zg)=>{"use strict";var xx=Nh(),bx=eu().supportsDescriptors,wx=Object.getOwnPropertyDescriptor;Zg.exports=function(){if(bx&&/a/mig.flags==="gim"){var s=wx(RegExp.prototype,"flags");if(s&&typeof s.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var o="",e={};if(Object.defineProperty(e,"hasIndices",{get:function(){o+="d"}}),Object.defineProperty(e,"sticky",{get:function(){o+="y"}}),o==="dy")return s.get}}return xx}});var Wg=tt((mF,jg)=>{"use strict";var Cx=eu().supportsDescriptors,Ix=Ah(),Sx=Object.getOwnPropertyDescriptor,Tx=Object.defineProperty,Ex=TypeError,Yg=Object.getPrototypeOf,Mx=/a/;jg.exports=function(){if(!Cx||!Yg)throw new Ex("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var s=Ix(),o=Yg(Mx),e=Sx(o,"flags");return(!e||e.get!==s)&&Tx(o,"flags",{configurable:!0,enumerable:!1,get:s}),s}});var Jg=tt((gF,Qg)=>{"use strict";var Ox=eu(),Lx=Wc(),Px=Nh(),Xg=Ah(),kx=Wg(),$g=Lx(Xg());Ox($g,{getPolyfill:Xg,implementation:Px,shim:kx});Qg.exports=$g});var t0=tt((_F,e0)=>{"use strict";var Dx=Date.prototype.getDay,Rx=function(s){try{return Dx.call(s),!0}catch{return!1}},Fx=Object.prototype.toString,Nx="[object Date]",Ax=Vc()();e0.exports=function(s){return typeof s!="object"||s===null?!1:Ax?Rx(s):Fx.call(s)===Nx}});var Vh=tt((yF,h0)=>{var i0=xh(),n0=bg(),r0=Rg(),o0=Bg(),s0=Jg(),a0=t0(),l0=Date.prototype.getTime;function p0(i,s,o){var e=o||{};return(e.strict?r0(i,s):i===s)?!0:!i||!s||typeof i!="object"&&typeof s!="object"?e.strict?r0(i,s):i==s:Vx(i,s,e)}function u0(i){return i==null}function c0(i){return!(!i||typeof i!="object"||typeof i.length!="number"||typeof i.copy!="function"||typeof i.slice!="function"||i.length>0&&typeof i[0]!="number")}function Vx(i,s,o){var e,r;if(typeof i!=typeof s||u0(i)||u0(s)||i.prototype!==s.prototype||n0(i)!==n0(s))return!1;var l=o0(i),h=o0(s);if(l!==h)return!1;if(l||h)return i.source===s.source&&s0(i)===s0(s);if(a0(i)&&a0(s))return l0.call(i)===l0.call(s);var g=c0(i),y=c0(s);if(g!==y)return!1;if(g||y){if(i.length!==s.length)return!1;for(e=0;e<i.length;e++)if(i[e]!==s[e])return!1;return!0}if(typeof i!=typeof s)return!1;try{var w=i0(i),k=i0(s)}catch{return!1}if(w.length!==k.length)return!1;for(w.sort(),k.sort(),e=w.length-1;e>=0;e--)if(w[e]!=k[e])return!1;for(e=w.length-1;e>=0;e--)if(r=w[e],!p0(i[r],s[r],o))return!1;return!0}h0.exports=p0});var Xh=tt((I5,v0)=>{var Mb=Vh(),la=function(i){this.precision=i&&i.precision?i.precision:17,this.direction=i&&i.direction?i.direction:!1,this.pseudoNode=i&&i.pseudoNode?i.pseudoNode:!1,this.objectComparator=i&&i.objectComparator?i.objectComparator:Ob};la.prototype.compare=function(i,s){if(i.type!==s.type||!y0(i,s))return!1;switch(i.type){case"Point":return this.compareCoord(i.coordinates,s.coordinates);case"LineString":return this.compareLine(i.coordinates,s.coordinates,0,!1);case"Polygon":return this.comparePolygon(i,s);case"Feature":return this.compareFeature(i,s);default:if(i.type.indexOf("Multi")===0){var o=this,e=_0(i),r=_0(s);return e.every(function(l){return this.some(function(h){return o.compare(l,h)})},r)}}return!1};function _0(i){return i.coordinates.map(function(s){return{type:i.type.replace("Multi",""),coordinates:s}})}function y0(i,s){return i.hasOwnProperty("coordinates")?i.coordinates.length===s.coordinates.length:i.length===s.length}la.prototype.compareCoord=function(i,s){if(i.length!==s.length)return!1;for(var o=0;o<i.length;o++)if(i[o].toFixed(this.precision)!==s[o].toFixed(this.precision))return!1;return!0};la.prototype.compareLine=function(i,s,o,e){if(!y0(i,s))return!1;var r=this.pseudoNode?i:this.removePseudo(i),l=this.pseudoNode?s:this.removePseudo(s);if(!(e&&!this.compareCoord(r[0],l[0])&&(l=this.fixStartIndex(l,r),!l))){var h=this.compareCoord(r[o],l[o]);return this.direction||h?this.comparePath(r,l):this.compareCoord(r[o],l[l.length-(1+o)])?this.comparePath(r.slice().reverse(),l):!1}};la.prototype.fixStartIndex=function(i,s){for(var o,e=-1,r=0;r<i.length;r++)if(this.compareCoord(i[r],s[0])){e=r;break}return e>=0&&(o=[].concat(i.slice(e,i.length),i.slice(1,e+1))),o};la.prototype.comparePath=function(i,s){var o=this;return i.every(function(e,r){return o.compareCoord(e,this[r])},s)};la.prototype.comparePolygon=function(i,s){if(this.compareLine(i.coordinates[0],s.coordinates[0],1,!0)){var o=i.coordinates.slice(1,i.coordinates.length),e=s.coordinates.slice(1,s.coordinates.length),r=this;return o.every(function(l){return this.some(function(h){return r.compareLine(l,h,1,!0)})},e)}else return!1};la.prototype.compareFeature=function(i,s){return i.id!==s.id||!this.objectComparator(i.properties,s.properties)||!this.compareBBox(i,s)?!1:this.compare(i.geometry,s.geometry)};la.prototype.compareBBox=function(i,s){return!!(!i.bbox&&!s.bbox||i.bbox&&s.bbox&&this.compareCoord(i.bbox,s.bbox))};la.prototype.removePseudo=function(i){return i};function Ob(i,s){return Mb(i,s,{strict:!0})}v0.exports=la});var x0=tt((N5,ep)=>{function ja(i,s,o,e){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(i,s,o,e)}ja.prototype.run=function(i,s,o,e){this._init(i,s,o,e);for(var r=0;r<this._datasetLength;r++)if(this._visited[r]!==1){this._visited[r]=1;var l=this._regionQuery(r);if(l.length<this.minPts)this.noise.push(r);else{var h=this.clusters.length;this.clusters.push([]),this._addToCluster(r,h),this._expandCluster(h,l)}}return this.clusters};ja.prototype._init=function(i,s,o,e){if(i){if(!(i instanceof Array))throw Error("Dataset must be of type array, "+typeof i+" given");this.dataset=i,this.clusters=[],this.noise=[],this._datasetLength=i.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}s&&(this.epsilon=s),o&&(this.minPts=o),e&&(this.distance=e)};ja.prototype._expandCluster=function(i,s){for(var o=0;o<s.length;o++){var e=s[o];if(this._visited[e]!==1){this._visited[e]=1;var r=this._regionQuery(e);r.length>=this.minPts&&(s=this._mergeArrays(s,r))}this._assigned[e]!==1&&this._addToCluster(e,i)}};ja.prototype._addToCluster=function(i,s){this.clusters[s].push(i),this._assigned[i]=1};ja.prototype._regionQuery=function(i){for(var s=[],o=0;o<this._datasetLength;o++){var e=this.distance(this.dataset[i],this.dataset[o]);e<this.epsilon&&s.push(o)}return s};ja.prototype._mergeArrays=function(i,s){for(var o=s.length,e=0;e<o;e++){var r=s[e];i.indexOf(r)<0&&i.push(r)}return i};ja.prototype._euclideanDistance=function(i,s){for(var o=0,e=Math.min(i.length,s.length);e--;)o+=(i[e]-s[e])*(i[e]-s[e]);return Math.sqrt(o)};typeof ep<"u"&&ep.exports&&(ep.exports=ja)});var b0=tt((A5,tp)=>{function Wa(i,s,o){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(i,s,o)}Wa.prototype.init=function(i,s,o){this.assignments=[],this.centroids=[],typeof i<"u"&&(this.dataset=i),typeof s<"u"&&(this.k=s),typeof o<"u"&&(this.distance=o)};Wa.prototype.run=function(i,s){this.init(i,s);for(var o=this.dataset.length,e=0;e<this.k;e++)this.centroids[e]=this.randomCentroid();for(var r=!0;r;){r=this.assign();for(var l=0;l<this.k;l++){for(var h=new Array(k),g=0,y=0;y<k;y++)h[y]=0;for(var w=0;w<o;w++){var k=this.dataset[w].length;if(l===this.assignments[w]){for(var y=0;y<k;y++)h[y]+=this.dataset[w][y];g++}}if(g>0){for(var y=0;y<k;y++)h[y]/=g;this.centroids[l]=h}else this.centroids[l]=this.randomCentroid(),r=!0}}return this.getClusters()};Wa.prototype.randomCentroid=function(){var i=this.dataset.length-1,s,o;do o=Math.round(Math.random()*i),s=this.dataset[o];while(this.centroids.indexOf(s)>=0);return s};Wa.prototype.assign=function(){for(var i=!1,s=this.dataset.length,o,e=0;e<s;e++)o=this.argmin(this.dataset[e],this.centroids,this.distance),o!=this.assignments[e]&&(this.assignments[e]=o,i=!0);return i};Wa.prototype.getClusters=function(){for(var i=new Array(this.k),s,o=0;o<this.assignments.length;o++)s=this.assignments[o],typeof i[s]>"u"&&(i[s]=[]),i[s].push(o);return i};Wa.prototype.argmin=function(i,s,o){for(var e=Number.MAX_VALUE,r=0,l=s.length,h,g=0;g<l;g++)h=o(i,s[g]),h<e&&(e=h,r=g);return r};Wa.prototype.distance=function(i,s){for(var o=0,e=Math.min(i.length,s.length);e--;){var r=i[e]-s[e];o+=r*r}return Math.sqrt(o)};typeof tp<"u"&&tp.exports&&(tp.exports=Wa)});var $h=tt((V5,ip)=>{function ua(i,s,o){this._queue=[],this._priorities=[],this._sorting="desc",this._init(i,s,o)}ua.prototype.insert=function(i,s){for(var o=this._queue.length,e=o;e--;){var r=this._priorities[e];this._sorting==="desc"?s>r&&(o=e):s<r&&(o=e)}this._insertAt(i,s,o)};ua.prototype.remove=function(i){for(var s=this._queue.length;s--;){var o=this._queue[s];if(i===o){this._queue.splice(s,1),this._priorities.splice(s,1);break}}};ua.prototype.forEach=function(i){this._queue.forEach(i)};ua.prototype.getElements=function(){return this._queue};ua.prototype.getElementPriority=function(i){return this._priorities[i]};ua.prototype.getPriorities=function(){return this._priorities};ua.prototype.getElementsWithPriorities=function(){for(var i=[],s=0,o=this._queue.length;s<o;s++)i.push([this._queue[s],this._priorities[s]]);return i};ua.prototype._init=function(i,s,o){if(i&&s){if(this._queue=[],this._priorities=[],i.length!==s.length)throw new Error("Arrays must have the same length");for(var e=0;e<i.length;e++)this.insert(i[e],s[e])}o&&(this._sorting=o)};ua.prototype._insertAt=function(i,s,o){this._queue.length===o?(this._queue.push(i),this._priorities.push(s)):(this._queue.splice(o,0,i),this._priorities.splice(o,0,s))};typeof ip<"u"&&ip.exports&&(ip.exports=ua)});var C0=tt((B5,iu)=>{typeof iu<"u"&&iu.exports&&(w0=$h());var w0;function La(i,s,o,e){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(i,s,o,e)}La.prototype.run=function(i,s,o,e){this._init(i,s,o,e);for(var r=0,l=this.dataset.length;r<l;r++)if(this._processed[r]!==1){this._processed[r]=1,this.clusters.push([r]);var h=this.clusters.length-1;this._orderedList.push(r);var g=new w0(null,null,"asc"),y=this._regionQuery(r);this._distanceToCore(r)!==void 0&&(this._updateQueue(r,y,g),this._expandCluster(h,g))}return this.clusters};La.prototype.getReachabilityPlot=function(){for(var i=[],s=0,o=this._orderedList.length;s<o;s++){var e=this._orderedList[s],r=this._reachability[e];i.push([e,r])}return i};La.prototype._init=function(i,s,o,e){if(i){if(!(i instanceof Array))throw Error("Dataset must be of type array, "+typeof i+" given");this.dataset=i,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}s&&(this.epsilon=s),o&&(this.minPts=o),e&&(this.distance=e)};La.prototype._updateQueue=function(i,s,o){var e=this;this._coreDistance=this._distanceToCore(i),s.forEach(function(r){if(e._processed[r]===void 0){var l=e.distance(e.dataset[i],e.dataset[r]),h=Math.max(e._coreDistance,l);e._reachability[r]===void 0?(e._reachability[r]=h,o.insert(r,h)):h<e._reachability[r]&&(e._reachability[r]=h,o.remove(r),o.insert(r,h))}})};La.prototype._expandCluster=function(i,s){for(var o=s.getElements(),e=0,r=o.length;e<r;e++){var l=o[e];if(this._processed[l]===void 0){var h=this._regionQuery(l);this._processed[l]=1,this.clusters[i].push(l),this._orderedList.push(l),this._distanceToCore(l)!==void 0&&(this._updateQueue(l,h,s),this._expandCluster(i,s))}}};La.prototype._distanceToCore=function(i){for(var s=this.epsilon,o=0;o<s;o++){var e=this._regionQuery(i,o);if(e.length>=this.minPts)return o}};La.prototype._regionQuery=function(i,s){s=s||this.epsilon;for(var o=[],e=0,r=this.dataset.length;e<r;e++)this.distance(this.dataset[i],this.dataset[e])<s&&o.push(e);return o};La.prototype._euclideanDistance=function(i,s){for(var o=0,e=Math.min(i.length,s.length);e--;)o+=(i[e]-s[e])*(i[e]-s[e]);return Math.sqrt(o)};typeof iu<"u"&&iu.exports&&(iu.exports=La)});var I0=tt((z5,np)=>{typeof np<"u"&&np.exports&&(np.exports={DBSCAN:x0(),KMEANS:b0(),OPTICS:C0(),PriorityQueue:$h()})});var Qh=tt((Z5,T0)=>{"use strict";T0.exports={eudist:function(s,o,e){for(var r=s.length,l=0,h=0;h<r;h++){var g=(s[h]||0)-(o[h]||0);l+=g*g}return e?Math.sqrt(l):l},mandist:function(s,o,e){for(var r=s.length,l=0,h=0;h<r;h++)l+=Math.abs((s[h]||0)-(o[h]||0));return e?Math.sqrt(l):l},dist:function(s,o,e){var r=Math.abs(s-o);return e?r:r*r}}});var O0=tt((Y5,M0)=>{"use strict";var E0=Qh(),Fb=E0.eudist,Nb=E0.dist;M0.exports={kmrand:function(s,o){for(var e={},r=[],l=o<<2,h=s.length,g=s[0].length>0;r.length<o&&l-- >0;){var y=s[Math.floor(Math.random()*h)],w=g?y.join("_"):""+y;e[w]||(e[w]=!0,r.push(y))}if(r.length<o)throw new Error("Error initializating clusters");return r},kmpp:function(s,o){var e=s[0].length?Fb:Nb,r=[],l=s.length,h=s[0].length>0,g={},y=s[Math.floor(Math.random()*l)],w=h?y.join("_"):""+y;for(r.push(y),g[w]=!0;r.length<o;){for(var k=[],R=r.length,A=0,Y=[],X=0;X<l;X++){for(var j=1/0,S=0;S<R;S++){var O=e(s[X],r[S]);O<=j&&(j=O)}k[X]=j}for(var N=0;N<l;N++)A+=k[N];for(var F=0;F<l;F++)Y[F]={i:F,v:s[F],pr:k[F]/A,cs:0};Y.sort(function(se,B){return se.pr-B.pr}),Y[0].cs=Y[0].pr;for(var Z=1;Z<l;Z++)Y[Z].cs=Y[Z-1].cs+Y[Z].pr;for(var ee=Math.random(),re=0;re<l-1&&Y[re++].cs<ee;);r.push(Y[re-1].v)}return r}}});var R0=tt((X5,D0)=>{"use strict";var Jh=Qh(),k0=O0(),Ab=Jh.eudist,j5=Jh.mandist,W5=Jh.dist,Vb=k0.kmrand,Bb=k0.kmpp,L0=1e4;function P0(i,s,o){o=o||[];for(var e=0;e<i;e++)o[e]=s;return o}function zb(i,s,o,e){var r=[],l=[],h=[],g=[],y=!1,w=e||L0,k=i.length,R=i[0].length,A=R>0,Y=[];if(o)o=="kmrand"?r=Vb(i,s):o=="kmpp"?r=Bb(i,s):r=o;else for(var X={};r.length<s;){var j=Math.floor(Math.random()*k);X[j]||(X[j]=!0,r.push(i[j]))}do{P0(s,0,Y);for(var S=0;S<k;S++){for(var O=1/0,N=0,F=0;F<s;F++){var g=A?Ab(i[S],r[F]):Math.abs(i[S]-r[F]);g<=O&&(O=g,N=F)}h[S]=N,Y[N]++}for(var Z=[],l=[],ee=0,re=0;re<s;re++)Z[re]=A?P0(R,0,Z[re]):0,l[re]=r[re];if(A){for(var se=0;se<s;se++)r[se]=[];for(var B=0;B<k;B++)for(var _e=h[B],Te=Z[_e],Pe=i[B],W=0;W<R;W++)Te[W]+=Pe[W];y=!0;for(var zt=0;zt<s;zt++){for(var Ie=r[zt],ut=Z[zt],Be=l[zt],Ht=Y[zt],ye=0;ye<R;ye++)Ie[ye]=ut[ye]/Ht||0;if(y){for(var Ae=0;Ae<R;Ae++)if(Be[Ae]!=Ie[Ae]){y=!1;break}}}}else{for(var $=0;$<k;$++){var xt=h[$];Z[xt]+=i[$]}for(var $e=0;$e<s;$e++)r[$e]=Z[$e]/Y[$e]||0;y=!0;for(var st=0;st<s;st++)if(l[st]!=r[st]){y=!1;break}}y=y||--w<=0}while(!y);return{it:L0-w,k:s,idxs:h,centroids:r}}D0.exports=zb});var au=tt((sf,af)=>{(function(i,s){typeof sf=="object"&&typeof af<"u"?af.exports=s():typeof define=="function"&&define.amd?define(s):(i=typeof globalThis<"u"?globalThis:i||self,i.polygonClipping=s())})(sf,function(){"use strict";function i(oe,C){var P={label:0,sent:function(){if(H[0]&1)throw H[1];return H[1]},trys:[],ops:[]},z,q,H,fe;return fe={next:ae(0),throw:ae(1),return:ae(2)},typeof Symbol=="function"&&(fe[Symbol.iterator]=function(){return this}),fe;function ae(me){return function(ue){return be([me,ue])}}function be(me){if(z)throw new TypeError("Generator is already executing.");for(;P;)try{if(z=1,q&&(H=me[0]&2?q.return:me[0]?q.throw||((H=q.return)&&H.call(q),0):q.next)&&!(H=H.call(q,me[1])).done)return H;switch(q=0,H&&(me=[me[0]&2,H.value]),me[0]){case 0:case 1:H=me;break;case 4:return P.label++,{value:me[1],done:!1};case 5:P.label++,q=me[1],me=[0];continue;case 7:me=P.ops.pop(),P.trys.pop();continue;default:if(H=P.trys,!(H=H.length>0&&H[H.length-1])&&(me[0]===6||me[0]===2)){P=0;continue}if(me[0]===3&&(!H||me[1]>H[0]&&me[1]<H[3])){P.label=me[1];break}if(me[0]===6&&P.label<H[1]){P.label=H[1],H=me;break}if(H&&P.label<H[2]){P.label=H[2],P.ops.push(me);break}H[2]&&P.ops.pop(),P.trys.pop();continue}me=C.call(oe,P)}catch(ue){me=[6,ue],q=0}finally{z=H=0}if(me[0]&5)throw me[1];return{value:me[0]?me[1]:void 0,done:!0}}}var s=function(){function oe(C,P){this.next=null,this.key=C,this.data=P,this.left=null,this.right=null}return oe}();function o(oe,C){return oe>C?1:oe<C?-1:0}function e(oe,C,P){for(var z=new s(null,null),q=z,H=z;;){var fe=P(oe,C.key);if(fe<0){if(C.left===null)break;if(P(oe,C.left.key)<0){var ae=C.left;if(C.left=ae.right,ae.right=C,C=ae,C.left===null)break}H.left=C,H=C,C=C.left}else if(fe>0){if(C.right===null)break;if(P(oe,C.right.key)>0){var ae=C.right;if(C.right=ae.left,ae.left=C,C=ae,C.right===null)break}q.right=C,q=C,C=C.right}else break}return q.right=C.left,H.left=C.right,C.left=z.right,C.right=z.left,C}function r(oe,C,P,z){var q=new s(oe,C);if(P===null)return q.left=q.right=null,q;P=e(oe,P,z);var H=z(oe,P.key);return H<0?(q.left=P.left,q.right=P,P.left=null):H>=0&&(q.right=P.right,q.left=P,P.right=null),q}function l(oe,C,P){var z=null,q=null;if(C){C=e(oe,C,P);var H=P(C.key,oe);H===0?(z=C.left,q=C.right):H<0?(q=C.right,C.right=null,z=C):(z=C.left,C.left=null,q=C)}return{left:z,right:q}}function h(oe,C,P){return C===null?oe:(oe===null||(C=e(oe.key,C,P),C.left=oe),C)}function g(oe,C,P,z,q){if(oe){z(""+C+(P?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ")+q(oe)+`
`);var H=C+(P?"    ":"\u2502   ");oe.left&&g(oe.left,H,!1,z,q),oe.right&&g(oe.right,H,!0,z,q)}}var y=function(){function oe(C){C===void 0&&(C=o),this._root=null,this._size=0,this._comparator=C}return oe.prototype.insert=function(C,P){return this._size++,this._root=r(C,P,this._root,this._comparator)},oe.prototype.add=function(C,P){var z=new s(C,P);this._root===null&&(z.left=z.right=null,this._size++,this._root=z);var q=this._comparator,H=e(C,this._root,q),fe=q(C,H.key);return fe===0?this._root=H:(fe<0?(z.left=H.left,z.right=H,H.left=null):fe>0&&(z.right=H.right,z.left=H,H.right=null),this._size++,this._root=z),this._root},oe.prototype.remove=function(C){this._root=this._remove(C,this._root,this._comparator)},oe.prototype._remove=function(C,P,z){var q;if(P===null)return null;P=e(C,P,z);var H=z(C,P.key);return H===0?(P.left===null?q=P.right:(q=e(C,P.left,z),q.right=P.right),this._size--,q):P},oe.prototype.pop=function(){var C=this._root;if(C){for(;C.left;)C=C.left;return this._root=e(C.key,this._root,this._comparator),this._root=this._remove(C.key,this._root,this._comparator),{key:C.key,data:C.data}}return null},oe.prototype.findStatic=function(C){for(var P=this._root,z=this._comparator;P;){var q=z(C,P.key);if(q===0)return P;q<0?P=P.left:P=P.right}return null},oe.prototype.find=function(C){return this._root&&(this._root=e(C,this._root,this._comparator),this._comparator(C,this._root.key)!==0)?null:this._root},oe.prototype.contains=function(C){for(var P=this._root,z=this._comparator;P;){var q=z(C,P.key);if(q===0)return!0;q<0?P=P.left:P=P.right}return!1},oe.prototype.forEach=function(C,P){for(var z=this._root,q=[],H=!1;!H;)z!==null?(q.push(z),z=z.left):q.length!==0?(z=q.pop(),C.call(P,z),z=z.right):H=!0;return this},oe.prototype.range=function(C,P,z,q){for(var H=[],fe=this._comparator,ae=this._root,be;H.length!==0||ae;)if(ae)H.push(ae),ae=ae.left;else{if(ae=H.pop(),be=fe(ae.key,P),be>0)break;if(fe(ae.key,C)>=0&&z.call(q,ae))return this;ae=ae.right}return this},oe.prototype.keys=function(){var C=[];return this.forEach(function(P){var z=P.key;return C.push(z)}),C},oe.prototype.values=function(){var C=[];return this.forEach(function(P){var z=P.data;return C.push(z)}),C},oe.prototype.min=function(){return this._root?this.minNode(this._root).key:null},oe.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},oe.prototype.minNode=function(C){if(C===void 0&&(C=this._root),C)for(;C.left;)C=C.left;return C},oe.prototype.maxNode=function(C){if(C===void 0&&(C=this._root),C)for(;C.right;)C=C.right;return C},oe.prototype.at=function(C){for(var P=this._root,z=!1,q=0,H=[];!z;)if(P)H.push(P),P=P.left;else if(H.length>0){if(P=H.pop(),q===C)return P;q++,P=P.right}else z=!0;return null},oe.prototype.next=function(C){var P=this._root,z=null;if(C.right){for(z=C.right;z.left;)z=z.left;return z}for(var q=this._comparator;P;){var H=q(C.key,P.key);if(H===0)break;H<0?(z=P,P=P.left):P=P.right}return z},oe.prototype.prev=function(C){var P=this._root,z=null;if(C.left!==null){for(z=C.left;z.right;)z=z.right;return z}for(var q=this._comparator;P;){var H=q(C.key,P.key);if(H===0)break;H<0?P=P.left:(z=P,P=P.right)}return z},oe.prototype.clear=function(){return this._root=null,this._size=0,this},oe.prototype.toList=function(){return R(this._root)},oe.prototype.load=function(C,P,z){P===void 0&&(P=[]),z===void 0&&(z=!1);var q=C.length,H=this._comparator;if(z&&X(C,P,0,q-1,H),this._root===null)this._root=w(C,P,0,q),this._size=q;else{var fe=Y(this.toList(),k(C,P),H);q=this._size+q,this._root=A({head:fe},0,q)}return this},oe.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(oe.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(oe.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),oe.prototype.toString=function(C){C===void 0&&(C=function(z){return String(z.key)});var P=[];return g(this._root,"",!0,function(z){return P.push(z)},C),P.join("")},oe.prototype.update=function(C,P,z){var q=this._comparator,H=l(C,this._root,q),fe=H.left,ae=H.right;q(C,P)<0?ae=r(P,z,ae,q):fe=r(P,z,fe,q),this._root=h(fe,ae,q)},oe.prototype.split=function(C){return l(C,this._root,this._comparator)},oe.prototype[Symbol.iterator]=function(){var C,P,z;return i(this,function(q){switch(q.label){case 0:C=this._root,P=[],z=!1,q.label=1;case 1:return z?[3,6]:C===null?[3,2]:(P.push(C),C=C.left,[3,5]);case 2:return P.length===0?[3,4]:(C=P.pop(),[4,C]);case 3:return q.sent(),C=C.right,[3,5];case 4:z=!0,q.label=5;case 5:return[3,1];case 6:return[2]}})},oe}();function w(oe,C,P,z){var q=z-P;if(q>0){var H=P+Math.floor(q/2),fe=oe[H],ae=C[H],be=new s(fe,ae);return be.left=w(oe,C,P,H),be.right=w(oe,C,H+1,z),be}return null}function k(oe,C){for(var P=new s(null,null),z=P,q=0;q<oe.length;q++)z=z.next=new s(oe[q],C[q]);return z.next=null,P.next}function R(oe){for(var C=oe,P=[],z=!1,q=new s(null,null),H=q;!z;)C?(P.push(C),C=C.left):P.length>0?(C=H=H.next=P.pop(),C=C.right):z=!0;return H.next=null,q.next}function A(oe,C,P){var z=P-C;if(z>0){var q=C+Math.floor(z/2),H=A(oe,C,q),fe=oe.head;return fe.left=H,oe.head=oe.head.next,fe.right=A(oe,q+1,P),fe}return null}function Y(oe,C,P){for(var z=new s(null,null),q=z,H=oe,fe=C;H!==null&&fe!==null;)P(H.key,fe.key)<0?(q.next=H,H=H.next):(q.next=fe,fe=fe.next),q=q.next;return H!==null?q.next=H:fe!==null&&(q.next=fe),z.next}function X(oe,C,P,z,q){if(!(P>=z)){for(var H=oe[P+z>>1],fe=P-1,ae=z+1;;){do fe++;while(q(oe[fe],H)<0);do ae--;while(q(oe[ae],H)>0);if(fe>=ae)break;var be=oe[fe];oe[fe]=oe[ae],oe[ae]=be,be=C[fe],C[fe]=C[ae],C[ae]=be}X(oe,C,P,ae,q),X(oe,C,ae+1,z,q)}}let j=(oe,C)=>oe.ll.x<=C.x&&C.x<=oe.ur.x&&oe.ll.y<=C.y&&C.y<=oe.ur.y,S=(oe,C)=>{if(C.ur.x<oe.ll.x||oe.ur.x<C.ll.x||C.ur.y<oe.ll.y||oe.ur.y<C.ll.y)return null;let P=oe.ll.x<C.ll.x?C.ll.x:oe.ll.x,z=oe.ur.x<C.ur.x?oe.ur.x:C.ur.x,q=oe.ll.y<C.ll.y?C.ll.y:oe.ll.y,H=oe.ur.y<C.ur.y?oe.ur.y:C.ur.y;return{ll:{x:P,y:q},ur:{x:z,y:H}}},O=Number.EPSILON;O===void 0&&(O=Math.pow(2,-52));let N=O*O,F=(oe,C)=>{if(-O<oe&&oe<O&&-O<C&&C<O)return 0;let P=oe-C;return P*P<N*oe*C?0:oe<C?-1:1};class Z{constructor(){this.reset()}reset(){this.xRounder=new ee,this.yRounder=new ee}round(C,P){return{x:this.xRounder.round(C),y:this.yRounder.round(P)}}}class ee{constructor(){this.tree=new y,this.round(0)}round(C){let P=this.tree.add(C),z=this.tree.prev(P);if(z!==null&&F(P.key,z.key)===0)return this.tree.remove(C),z.key;let q=this.tree.next(P);return q!==null&&F(P.key,q.key)===0?(this.tree.remove(C),q.key):C}}let re=new Z,se=11102230246251565e-32,B=134217729,_e=(3+8*se)*se;function Te(oe,C,P,z,q){let H,fe,ae,be,me=C[0],ue=z[0],pe=0,Ce=0;ue>me==ue>-me?(H=me,me=C[++pe]):(H=ue,ue=z[++Ce]);let ve=0;if(pe<oe&&Ce<P)for(ue>me==ue>-me?(fe=me+H,ae=H-(fe-me),me=C[++pe]):(fe=ue+H,ae=H-(fe-ue),ue=z[++Ce]),H=fe,ae!==0&&(q[ve++]=ae);pe<oe&&Ce<P;)ue>me==ue>-me?(fe=H+me,be=fe-H,ae=H-(fe-be)+(me-be),me=C[++pe]):(fe=H+ue,be=fe-H,ae=H-(fe-be)+(ue-be),ue=z[++Ce]),H=fe,ae!==0&&(q[ve++]=ae);for(;pe<oe;)fe=H+me,be=fe-H,ae=H-(fe-be)+(me-be),me=C[++pe],H=fe,ae!==0&&(q[ve++]=ae);for(;Ce<P;)fe=H+ue,be=fe-H,ae=H-(fe-be)+(ue-be),ue=z[++Ce],H=fe,ae!==0&&(q[ve++]=ae);return(H!==0||ve===0)&&(q[ve++]=H),ve}function Pe(oe,C){let P=C[0];for(let z=1;z<oe;z++)P+=C[z];return P}function W(oe){return new Float64Array(oe)}let zt=(3+16*se)*se,Ie=(2+12*se)*se,ut=(9+64*se)*se*se,Be=W(4),Ht=W(8),ye=W(12),Ae=W(16),$=W(4);function xt(oe,C,P,z,q,H,fe){let ae,be,me,ue,pe,Ce,ve,gt,ct,St,vt,Qi,Jn,Rn,jt,Ke,_r,Ji,_t=oe-q,en=P-q,tn=C-H,nn=z-H;Rn=_t*nn,Ce=B*_t,ve=Ce-(Ce-_t),gt=_t-ve,Ce=B*nn,ct=Ce-(Ce-nn),St=nn-ct,jt=gt*St-(Rn-ve*ct-gt*ct-ve*St),Ke=tn*en,Ce=B*tn,ve=Ce-(Ce-tn),gt=tn-ve,Ce=B*en,ct=Ce-(Ce-en),St=en-ct,_r=gt*St-(Ke-ve*ct-gt*ct-ve*St),vt=jt-_r,pe=jt-vt,Be[0]=jt-(vt+pe)+(pe-_r),Qi=Rn+vt,pe=Qi-Rn,Jn=Rn-(Qi-pe)+(vt-pe),vt=Jn-Ke,pe=Jn-vt,Be[1]=Jn-(vt+pe)+(pe-Ke),Ji=Qi+vt,pe=Ji-Qi,Be[2]=Qi-(Ji-pe)+(vt-pe),Be[3]=Ji;let Ri=Pe(4,Be),to=Ie*fe;if(Ri>=to||-Ri>=to||(pe=oe-_t,ae=oe-(_t+pe)+(pe-q),pe=P-en,me=P-(en+pe)+(pe-q),pe=C-tn,be=C-(tn+pe)+(pe-H),pe=z-nn,ue=z-(nn+pe)+(pe-H),ae===0&&be===0&&me===0&&ue===0)||(to=ut*fe+_e*Math.abs(Ri),Ri+=_t*ue+nn*ae-(tn*me+en*be),Ri>=to||-Ri>=to))return Ri;Rn=ae*nn,Ce=B*ae,ve=Ce-(Ce-ae),gt=ae-ve,Ce=B*nn,ct=Ce-(Ce-nn),St=nn-ct,jt=gt*St-(Rn-ve*ct-gt*ct-ve*St),Ke=be*en,Ce=B*be,ve=Ce-(Ce-be),gt=be-ve,Ce=B*en,ct=Ce-(Ce-en),St=en-ct,_r=gt*St-(Ke-ve*ct-gt*ct-ve*St),vt=jt-_r,pe=jt-vt,$[0]=jt-(vt+pe)+(pe-_r),Qi=Rn+vt,pe=Qi-Rn,Jn=Rn-(Qi-pe)+(vt-pe),vt=Jn-Ke,pe=Jn-vt,$[1]=Jn-(vt+pe)+(pe-Ke),Ji=Qi+vt,pe=Ji-Qi,$[2]=Qi-(Ji-pe)+(vt-pe),$[3]=Ji;let Ar=Te(4,Be,4,$,Ht);Rn=_t*ue,Ce=B*_t,ve=Ce-(Ce-_t),gt=_t-ve,Ce=B*ue,ct=Ce-(Ce-ue),St=ue-ct,jt=gt*St-(Rn-ve*ct-gt*ct-ve*St),Ke=tn*me,Ce=B*tn,ve=Ce-(Ce-tn),gt=tn-ve,Ce=B*me,ct=Ce-(Ce-me),St=me-ct,_r=gt*St-(Ke-ve*ct-gt*ct-ve*St),vt=jt-_r,pe=jt-vt,$[0]=jt-(vt+pe)+(pe-_r),Qi=Rn+vt,pe=Qi-Rn,Jn=Rn-(Qi-pe)+(vt-pe),vt=Jn-Ke,pe=Jn-vt,$[1]=Jn-(vt+pe)+(pe-Ke),Ji=Qi+vt,pe=Ji-Qi,$[2]=Qi-(Ji-pe)+(vt-pe),$[3]=Ji;let ka=Te(Ar,Ht,4,$,ye);Rn=ae*ue,Ce=B*ae,ve=Ce-(Ce-ae),gt=ae-ve,Ce=B*ue,ct=Ce-(Ce-ue),St=ue-ct,jt=gt*St-(Rn-ve*ct-gt*ct-ve*St),Ke=be*me,Ce=B*be,ve=Ce-(Ce-be),gt=be-ve,Ce=B*me,ct=Ce-(Ce-me),St=me-ct,_r=gt*St-(Ke-ve*ct-gt*ct-ve*St),vt=jt-_r,pe=jt-vt,$[0]=jt-(vt+pe)+(pe-_r),Qi=Rn+vt,pe=Qi-Rn,Jn=Rn-(Qi-pe)+(vt-pe),vt=Jn-Ke,pe=Jn-vt,$[1]=Jn-(vt+pe)+(pe-Ke),Ji=Qi+vt,pe=Ji-Qi,$[2]=Qi-(Ji-pe)+(vt-pe),$[3]=Ji;let Vr=Te(ka,ye,4,$,Ae);return Ae[Vr-1]}function $e(oe,C,P,z,q,H){let fe=(C-H)*(P-q),ae=(oe-q)*(z-H),be=fe-ae,me=Math.abs(fe+ae);return Math.abs(be)>=zt*me?be:-xt(oe,C,P,z,q,H,me)}let st=(oe,C)=>oe.x*C.y-oe.y*C.x,Se=(oe,C)=>oe.x*C.x+oe.y*C.y,qt=(oe,C,P)=>{let z=$e(oe.x,oe.y,C.x,C.y,P.x,P.y);return z>0?-1:z<0?1:0},Yi=oe=>Math.sqrt(Se(oe,oe)),$i=(oe,C,P)=>{let z={x:C.x-oe.x,y:C.y-oe.y},q={x:P.x-oe.x,y:P.y-oe.y};return st(q,z)/Yi(q)/Yi(z)},Gt=(oe,C,P)=>{let z={x:C.x-oe.x,y:C.y-oe.y},q={x:P.x-oe.x,y:P.y-oe.y};return Se(q,z)/Yi(q)/Yi(z)},Bi=(oe,C,P)=>C.y===0?null:{x:oe.x+C.x/C.y*(P-oe.y),y:P},ze=(oe,C,P)=>C.x===0?null:{x:P,y:oe.y+C.y/C.x*(P-oe.x)},ar=(oe,C,P,z)=>{if(C.x===0)return ze(P,z,oe.x);if(z.x===0)return ze(oe,C,P.x);if(C.y===0)return Bi(P,z,oe.y);if(z.y===0)return Bi(oe,C,P.y);let q=st(C,z);if(q==0)return null;let H={x:P.x-oe.x,y:P.y-oe.y},fe=st(H,C)/q,ae=st(H,z)/q,be=oe.x+ae*C.x,me=P.x+fe*z.x,ue=oe.y+ae*C.y,pe=P.y+fe*z.y,Ce=(be+me)/2,ve=(ue+pe)/2;return{x:Ce,y:ve}};class Ut{static compare(C,P){let z=Ut.comparePoints(C.point,P.point);return z!==0?z:(C.point!==P.point&&C.link(P),C.isLeft!==P.isLeft?C.isLeft?1:-1:Ai.compare(C.segment,P.segment))}static comparePoints(C,P){return C.x<P.x?-1:C.x>P.x?1:C.y<P.y?-1:C.y>P.y?1:0}constructor(C,P){C.events===void 0?C.events=[this]:C.events.push(this),this.point=C,this.isLeft=P}link(C){if(C.point===this.point)throw new Error("Tried to link already linked events");let P=C.point.events;for(let z=0,q=P.length;z<q;z++){let H=P[z];this.point.events.push(H),H.point=this.point}this.checkForConsuming()}checkForConsuming(){let C=this.point.events.length;for(let P=0;P<C;P++){let z=this.point.events[P];if(z.segment.consumedBy===void 0)for(let q=P+1;q<C;q++){let H=this.point.events[q];H.consumedBy===void 0&&z.otherSE.point.events===H.otherSE.point.events&&z.segment.consume(H.segment)}}}getAvailableLinkedEvents(){let C=[];for(let P=0,z=this.point.events.length;P<z;P++){let q=this.point.events[P];q!==this&&!q.segment.ringOut&&q.segment.isInResult()&&C.push(q)}return C}getLeftmostComparator(C){let P=new Map,z=q=>{let H=q.otherSE;P.set(q,{sine:$i(this.point,C.point,H.point),cosine:Gt(this.point,C.point,H.point)})};return(q,H)=>{P.has(q)||z(q),P.has(H)||z(H);let{sine:fe,cosine:ae}=P.get(q),{sine:be,cosine:me}=P.get(H);return fe>=0&&be>=0?ae<me?1:ae>me?-1:0:fe<0&&be<0?ae<me?-1:ae>me?1:0:be<fe?-1:be>fe?1:0}}}let lr=0;class Ai{static compare(C,P){let z=C.leftSE.point.x,q=P.leftSE.point.x,H=C.rightSE.point.x,fe=P.rightSE.point.x;if(fe<z)return 1;if(H<q)return-1;let ae=C.leftSE.point.y,be=P.leftSE.point.y,me=C.rightSE.point.y,ue=P.rightSE.point.y;if(z<q){if(be<ae&&be<me)return 1;if(be>ae&&be>me)return-1;let pe=C.comparePoint(P.leftSE.point);if(pe<0)return 1;if(pe>0)return-1;let Ce=P.comparePoint(C.rightSE.point);return Ce!==0?Ce:-1}if(z>q){if(ae<be&&ae<ue)return-1;if(ae>be&&ae>ue)return 1;let pe=P.comparePoint(C.leftSE.point);if(pe!==0)return pe;let Ce=C.comparePoint(P.rightSE.point);return Ce<0?1:Ce>0?-1:1}if(ae<be)return-1;if(ae>be)return 1;if(H<fe){let pe=P.comparePoint(C.rightSE.point);if(pe!==0)return pe}if(H>fe){let pe=C.comparePoint(P.rightSE.point);if(pe<0)return 1;if(pe>0)return-1}if(H!==fe){let pe=me-ae,Ce=H-z,ve=ue-be,gt=fe-q;if(pe>Ce&&ve<gt)return 1;if(pe<Ce&&ve>gt)return-1}return H>fe?1:H<fe||me<ue?-1:me>ue?1:C.id<P.id?-1:C.id>P.id?1:0}constructor(C,P,z,q){this.id=++lr,this.leftSE=C,C.segment=this,C.otherSE=P,this.rightSE=P,P.segment=this,P.otherSE=C,this.rings=z,this.windings=q}static fromRing(C,P,z){let q,H,fe,ae=Ut.comparePoints(C,P);if(ae<0)q=C,H=P,fe=1;else if(ae>0)q=P,H=C,fe=-1;else throw new Error(`Tried to create degenerate segment at [${C.x}, ${C.y}]`);let be=new Ut(q,!0),me=new Ut(H,!1);return new Ai(be,me,[z],[fe])}replaceRightSE(C){this.rightSE=C,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let C=this.leftSE.point.y,P=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:C<P?C:P},ur:{x:this.rightSE.point.x,y:C>P?C:P}}}vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}isAnEndpoint(C){return C.x===this.leftSE.point.x&&C.y===this.leftSE.point.y||C.x===this.rightSE.point.x&&C.y===this.rightSE.point.y}comparePoint(C){if(this.isAnEndpoint(C))return 0;let P=this.leftSE.point,z=this.rightSE.point,q=this.vector();if(P.x===z.x)return C.x===P.x?0:C.x<P.x?1:-1;let H=(C.y-P.y)/q.y,fe=P.x+H*q.x;if(C.x===fe)return 0;let ae=(C.x-P.x)/q.x,be=P.y+ae*q.y;return C.y===be?0:C.y<be?-1:1}getIntersection(C){let P=this.bbox(),z=C.bbox(),q=S(P,z);if(q===null)return null;let H=this.leftSE.point,fe=this.rightSE.point,ae=C.leftSE.point,be=C.rightSE.point,me=j(P,ae)&&this.comparePoint(ae)===0,ue=j(z,H)&&C.comparePoint(H)===0,pe=j(P,be)&&this.comparePoint(be)===0,Ce=j(z,fe)&&C.comparePoint(fe)===0;if(ue&&me)return Ce&&!pe?fe:!Ce&&pe?be:null;if(ue)return pe&&H.x===be.x&&H.y===be.y?null:H;if(me)return Ce&&fe.x===ae.x&&fe.y===ae.y?null:ae;if(Ce&&pe)return null;if(Ce)return fe;if(pe)return be;let ve=ar(H,this.vector(),ae,C.vector());return ve===null||!j(q,ve)?null:re.round(ve.x,ve.y)}split(C){let P=[],z=C.events!==void 0,q=new Ut(C,!0),H=new Ut(C,!1),fe=this.rightSE;this.replaceRightSE(H),P.push(H),P.push(q);let ae=new Ai(q,fe,this.rings.slice(),this.windings.slice());return Ut.comparePoints(ae.leftSE.point,ae.rightSE.point)>0&&ae.swapEvents(),Ut.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),z&&(q.checkForConsuming(),H.checkForConsuming()),P}swapEvents(){let C=this.rightSE;this.rightSE=this.leftSE,this.leftSE=C,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let P=0,z=this.windings.length;P<z;P++)this.windings[P]*=-1}consume(C){let P=this,z=C;for(;P.consumedBy;)P=P.consumedBy;for(;z.consumedBy;)z=z.consumedBy;let q=Ai.compare(P,z);if(q!==0){if(q>0){let H=P;P=z,z=H}if(P.prev===z){let H=P;P=z,z=H}for(let H=0,fe=z.rings.length;H<fe;H++){let ae=z.rings[H],be=z.windings[H],me=P.rings.indexOf(ae);me===-1?(P.rings.push(ae),P.windings.push(be)):P.windings[me]+=be}z.rings=null,z.windings=null,z.consumedBy=P,z.leftSE.consumedBy=P.leftSE,z.rightSE.consumedBy=P.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{let C=this.prev.consumedBy||this.prev;this._beforeState=C.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let C=this.beforeState();this._afterState={rings:C.rings.slice(0),windings:C.windings.slice(0),multiPolys:[]};let P=this._afterState.rings,z=this._afterState.windings,q=this._afterState.multiPolys;for(let ae=0,be=this.rings.length;ae<be;ae++){let me=this.rings[ae],ue=this.windings[ae],pe=P.indexOf(me);pe===-1?(P.push(me),z.push(ue)):z[pe]+=ue}let H=[],fe=[];for(let ae=0,be=P.length;ae<be;ae++){if(z[ae]===0)continue;let me=P[ae],ue=me.poly;if(fe.indexOf(ue)===-1)if(me.isExterior)H.push(ue);else{fe.indexOf(ue)===-1&&fe.push(ue);let pe=H.indexOf(me.poly);pe!==-1&&H.splice(pe,1)}}for(let ae=0,be=H.length;ae<be;ae++){let me=H[ae].multiPoly;q.indexOf(me)===-1&&q.push(me)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let C=this.beforeState().multiPolys,P=this.afterState().multiPolys;switch(Le.type){case"union":{let z=C.length===0,q=P.length===0;this._isInResult=z!==q;break}case"intersection":{let z,q;C.length<P.length?(z=C.length,q=P.length):(z=P.length,q=C.length),this._isInResult=q===Le.numMultiPolys&&z<q;break}case"xor":{let z=Math.abs(C.length-P.length);this._isInResult=z%2===1;break}case"difference":{let z=q=>q.length===1&&q[0].isSubject;this._isInResult=z(C)!==z(P);break}default:throw new Error(`Unrecognized operation type found ${Le.type}`)}return this._isInResult}}class In{constructor(C,P,z){if(!Array.isArray(C)||C.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=P,this.isExterior=z,this.segments=[],typeof C[0][0]!="number"||typeof C[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let q=re.round(C[0][0],C[0][1]);this.bbox={ll:{x:q.x,y:q.y},ur:{x:q.x,y:q.y}};let H=q;for(let fe=1,ae=C.length;fe<ae;fe++){if(typeof C[fe][0]!="number"||typeof C[fe][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let be=re.round(C[fe][0],C[fe][1]);be.x===H.x&&be.y===H.y||(this.segments.push(Ai.fromRing(H,be,this)),be.x<this.bbox.ll.x&&(this.bbox.ll.x=be.x),be.y<this.bbox.ll.y&&(this.bbox.ll.y=be.y),be.x>this.bbox.ur.x&&(this.bbox.ur.x=be.x),be.y>this.bbox.ur.y&&(this.bbox.ur.y=be.y),H=be)}(q.x!==H.x||q.y!==H.y)&&this.segments.push(Ai.fromRing(H,q,this))}getSweepEvents(){let C=[];for(let P=0,z=this.segments.length;P<z;P++){let q=this.segments[P];C.push(q.leftSE),C.push(q.rightSE)}return C}}class ji{constructor(C,P){if(!Array.isArray(C))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new In(C[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let z=1,q=C.length;z<q;z++){let H=new In(C[z],this,!1);H.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=H.bbox.ll.x),H.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=H.bbox.ll.y),H.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=H.bbox.ur.x),H.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=H.bbox.ur.y),this.interiorRings.push(H)}this.multiPoly=P}getSweepEvents(){let C=this.exteriorRing.getSweepEvents();for(let P=0,z=this.interiorRings.length;P<z;P++){let q=this.interiorRings[P].getSweepEvents();for(let H=0,fe=q.length;H<fe;H++)C.push(q[H])}return C}}class ur{constructor(C,P){if(!Array.isArray(C))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof C[0][0][0]=="number"&&(C=[C])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(let z=0,q=C.length;z<q;z++){let H=new ji(C[z],this);H.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=H.bbox.ll.x),H.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=H.bbox.ll.y),H.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=H.bbox.ur.x),H.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=H.bbox.ur.y),this.polys.push(H)}this.isSubject=P}getSweepEvents(){let C=[];for(let P=0,z=this.polys.length;P<z;P++){let q=this.polys[P].getSweepEvents();for(let H=0,fe=q.length;H<fe;H++)C.push(q[H])}return C}}class Ao{static factory(C){let P=[];for(let z=0,q=C.length;z<q;z++){let H=C[z];if(!H.isInResult()||H.ringOut)continue;let fe=null,ae=H.leftSE,be=H.rightSE,me=[ae],ue=ae.point,pe=[];for(;fe=ae,ae=be,me.push(ae),ae.point!==ue;)for(;;){let Ce=ae.getAvailableLinkedEvents();if(Ce.length===0){let ct=me[0].point,St=me[me.length-1].point;throw new Error(`Unable to complete output ring starting at [${ct.x}, ${ct.y}]. Last matching segment found ends at [${St.x}, ${St.y}].`)}if(Ce.length===1){be=Ce[0].otherSE;break}let ve=null;for(let ct=0,St=pe.length;ct<St;ct++)if(pe[ct].point===ae.point){ve=ct;break}if(ve!==null){let ct=pe.splice(ve)[0],St=me.splice(ct.index);St.unshift(St[0].otherSE),P.push(new Ao(St.reverse()));continue}pe.push({index:me.length,point:ae.point});let gt=ae.getLeftmostComparator(fe);be=Ce.sort(gt)[0].otherSE;break}P.push(new Ao(me))}return P}constructor(C){this.events=C;for(let P=0,z=C.length;P<z;P++)C[P].segment.ringOut=this;this.poly=null}getGeom(){let C=this.events[0].point,P=[C];for(let me=1,ue=this.events.length-1;me<ue;me++){let pe=this.events[me].point,Ce=this.events[me+1].point;qt(pe,C,Ce)!==0&&(P.push(pe),C=pe)}if(P.length===1)return null;let z=P[0],q=P[1];qt(z,C,q)===0&&P.shift(),P.push(P[0]);let H=this.isExteriorRing()?1:-1,fe=this.isExteriorRing()?0:P.length-1,ae=this.isExteriorRing()?P.length:-1,be=[];for(let me=fe;me!=ae;me+=H)be.push([P[me].x,P[me].y]);return be}isExteriorRing(){if(this._isExteriorRing===void 0){let C=this.enclosingRing();this._isExteriorRing=C?!C.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let C=this.events[0];for(let q=1,H=this.events.length;q<H;q++){let fe=this.events[q];Ut.compare(C,fe)>0&&(C=fe)}let P=C.segment.prevInResult(),z=P?P.prevInResult():null;for(;;){if(!P)return null;if(!z)return P.ringOut;if(z.ringOut!==P.ringOut)return z.ringOut.enclosingRing()!==P.ringOut?P.ringOut:P.ringOut.enclosingRing();P=z.prevInResult(),z=P?P.prevInResult():null}}}class at{constructor(C){this.exteriorRing=C,C.poly=this,this.interiorRings=[]}addInterior(C){this.interiorRings.push(C),C.poly=this}getGeom(){let C=[this.exteriorRing.getGeom()];if(C[0]===null)return null;for(let P=0,z=this.interiorRings.length;P<z;P++){let q=this.interiorRings[P].getGeom();q!==null&&C.push(q)}return C}}class Vi{constructor(C){this.rings=C,this.polys=this._composePolys(C)}getGeom(){let C=[];for(let P=0,z=this.polys.length;P<z;P++){let q=this.polys[P].getGeom();q!==null&&C.push(q)}return C}_composePolys(C){let P=[];for(let z=0,q=C.length;z<q;z++){let H=C[z];if(!H.poly)if(H.isExteriorRing())P.push(new at(H));else{let fe=H.enclosingRing();fe.poly||P.push(new at(fe)),fe.poly.addInterior(H)}}return P}}class Vo{constructor(C){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ai.compare;this.queue=C,this.tree=new y(P),this.segments=[]}process(C){let P=C.segment,z=[];if(C.consumedBy)return C.isLeft?this.queue.remove(C.otherSE):this.tree.remove(P),z;let q=C.isLeft?this.tree.add(P):this.tree.find(P);if(!q)throw new Error(`Unable to find segment #${P.id} [${P.leftSE.point.x}, ${P.leftSE.point.y}] -> [${P.rightSE.point.x}, ${P.rightSE.point.y}] in SweepLine tree.`);let H=q,fe=q,ae,be;for(;ae===void 0;)H=this.tree.prev(H),H===null?ae=null:H.key.consumedBy===void 0&&(ae=H.key);for(;be===void 0;)fe=this.tree.next(fe),fe===null?be=null:fe.key.consumedBy===void 0&&(be=fe.key);if(C.isLeft){let me=null;if(ae){let pe=ae.getIntersection(P);if(pe!==null&&(P.isAnEndpoint(pe)||(me=pe),!ae.isAnEndpoint(pe))){let Ce=this._splitSafely(ae,pe);for(let ve=0,gt=Ce.length;ve<gt;ve++)z.push(Ce[ve])}}let ue=null;if(be){let pe=be.getIntersection(P);if(pe!==null&&(P.isAnEndpoint(pe)||(ue=pe),!be.isAnEndpoint(pe))){let Ce=this._splitSafely(be,pe);for(let ve=0,gt=Ce.length;ve<gt;ve++)z.push(Ce[ve])}}if(me!==null||ue!==null){let pe=null;me===null?pe=ue:ue===null?pe=me:pe=Ut.comparePoints(me,ue)<=0?me:ue,this.queue.remove(P.rightSE),z.push(P.rightSE);let Ce=P.split(pe);for(let ve=0,gt=Ce.length;ve<gt;ve++)z.push(Ce[ve])}z.length>0?(this.tree.remove(P),z.push(C)):(this.segments.push(P),P.prev=ae)}else{if(ae&&be){let me=ae.getIntersection(be);if(me!==null){if(!ae.isAnEndpoint(me)){let ue=this._splitSafely(ae,me);for(let pe=0,Ce=ue.length;pe<Ce;pe++)z.push(ue[pe])}if(!be.isAnEndpoint(me)){let ue=this._splitSafely(be,me);for(let pe=0,Ce=ue.length;pe<Ce;pe++)z.push(ue[pe])}}}this.tree.remove(P)}return z}_splitSafely(C,P){this.tree.remove(C);let z=C.rightSE;this.queue.remove(z);let q=C.split(P);return q.push(z),C.consumedBy===void 0&&this.tree.add(C),q}}let uo=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Bo=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6;class Qn{run(C,P,z){Le.type=C,re.reset();let q=[new ur(P,!0)];for(let pe=0,Ce=z.length;pe<Ce;pe++)q.push(new ur(z[pe],!1));if(Le.numMultiPolys=q.length,Le.type==="difference"){let pe=q[0],Ce=1;for(;Ce<q.length;)S(q[Ce].bbox,pe.bbox)!==null?Ce++:q.splice(Ce,1)}if(Le.type==="intersection")for(let pe=0,Ce=q.length;pe<Ce;pe++){let ve=q[pe];for(let gt=pe+1,ct=q.length;gt<ct;gt++)if(S(ve.bbox,q[gt].bbox)===null)return[]}let H=new y(Ut.compare);for(let pe=0,Ce=q.length;pe<Ce;pe++){let ve=q[pe].getSweepEvents();for(let gt=0,ct=ve.length;gt<ct;gt++)if(H.insert(ve[gt]),H.size>uo)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big).")}let fe=new Vo(H),ae=H.size,be=H.pop();for(;be;){let pe=be.key;if(H.size===ae){let ve=pe.segment;throw new Error(`Unable to pop() ${pe.isLeft?"left":"right"} SweepEvent [${pe.point.x}, ${pe.point.y}] from segment #${ve.id} [${ve.leftSE.point.x}, ${ve.leftSE.point.y}] -> [${ve.rightSE.point.x}, ${ve.rightSE.point.y}] from queue.`)}if(H.size>uo)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big).");if(fe.segments.length>Bo)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments).");let Ce=fe.process(pe);for(let ve=0,gt=Ce.length;ve<gt;ve++){let ct=Ce[ve];ct.consumedBy===void 0&&H.insert(ct)}ae=H.size,be=H.pop()}re.reset();let me=Ao.factory(fe.segments);return new Vi(me).getGeom()}}let Le=new Qn;var tl={union:function(oe){for(var C=arguments.length,P=new Array(C>1?C-1:0),z=1;z<C;z++)P[z-1]=arguments[z];return Le.run("union",oe,P)},intersection:function(oe){for(var C=arguments.length,P=new Array(C>1?C-1:0),z=1;z<C;z++)P[z-1]=arguments[z];return Le.run("intersection",oe,P)},xor:function(oe){for(var C=arguments.length,P=new Array(C>1?C-1:0),z=1;z<C;z++)P[z-1]=arguments[z];return Le.run("xor",oe,P)},difference:function(oe){for(var C=arguments.length,P=new Array(C>1?C-1:0),z=1;z<C;z++)P[z-1]=arguments[z];return Le.run("difference",oe,P)}};return tl})});var J0=tt((ap,Q0)=>{(function(i,s){typeof ap=="object"&&typeof Q0<"u"?s(ap):typeof define=="function"&&define.amd?define(["exports"],s):s(i.jsts={})})(ap,function(i){"use strict";function s(){}function o(t){this.message=t||""}function e(t){this.message=t||""}function r(t){this.message=t||""}function l(){}function h(t){return t===null?jt:t.color}function g(t){return t===null?null:t.parent}function y(t,n){t!==null&&(t.color=n)}function w(t){return t===null?null:t.left}function k(t){return t===null?null:t.right}function R(){this.root_=null,this.size_=0}function A(){}function Y(){this.array_=[],arguments[0]instanceof ae&&this.addAll(arguments[0])}function X(){}function j(t){this.message=t||""}function S(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(this===void 0||this===null)throw new TypeError(this+" is not an object");var n=Object(this),u=Math.max(Math.min(n.length,9007199254740991),0)||0,c=1 in arguments&&parseInt(Number(arguments[1]),10)||0;c=c<0?Math.max(u+c,0):Math.min(c,u);var f=2 in arguments&&arguments[2]!==void 0?parseInt(Number(arguments[2]),10)||0:u;for(f=f<0?Math.max(u+arguments[2],0):Math.min(f,u);c<f;)n[c]=t,++c;return n},writable:!0}),Number.isFinite=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var O=function(){};O.prototype.interfaces_=function(){return[]},O.prototype.getClass=function(){return O},O.prototype.equalsWithTolerance=function(t,n,u){return Math.abs(t-n)<=u};var N=function(t){function n(u){t.call(this,u),this.name="IllegalArgumentException",this.message=u,this.stack=new t().stack}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(Error),F=function(){},Z={MAX_VALUE:{configurable:!0}};F.isNaN=function(t){return Number.isNaN(t)},F.doubleToLongBits=function(t){return t},F.longBitsToDouble=function(t){return t},F.isInfinite=function(t){return!Number.isFinite(t)},Z.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(F,Z);var ee=function(){},re=function(){},se=function(){},B=function t(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(arguments.length===1){var n=arguments[0];this.x=n.x,this.y=n.y,this.z=n.z}else arguments.length===2?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):arguments.length===3&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},_e={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};B.prototype.setOrdinate=function(t,n){switch(t){case B.X:this.x=n;break;case B.Y:this.y=n;break;case B.Z:this.z=n;break;default:throw new N("Invalid ordinate index: "+t)}},B.prototype.equals2D=function(){if(arguments.length===1){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(arguments.length===2){var n=arguments[0],u=arguments[1];return!!O.equalsWithTolerance(this.x,n.x,u)&&!!O.equalsWithTolerance(this.y,n.y,u)}},B.prototype.getOrdinate=function(t){switch(t){case B.X:return this.x;case B.Y:return this.y;case B.Z:return this.z}throw new N("Invalid ordinate index: "+t)},B.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||F.isNaN(this.z))&&F.isNaN(t.z)},B.prototype.equals=function(t){return t instanceof B&&this.equals2D(t)},B.prototype.equalInZ=function(t,n){return O.equalsWithTolerance(this.z,t.z,n)},B.prototype.compareTo=function(t){var n=t;return this.x<n.x?-1:this.x>n.x?1:this.y<n.y?-1:this.y>n.y?1:0},B.prototype.clone=function(){},B.prototype.copy=function(){return new B(this)},B.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},B.prototype.distance3D=function(t){var n=this.x-t.x,u=this.y-t.y,c=this.z-t.z;return Math.sqrt(n*n+u*u+c*c)},B.prototype.distance=function(t){var n=this.x-t.x,u=this.y-t.y;return Math.sqrt(n*n+u*u)},B.prototype.hashCode=function(){var t=17;return t=37*t+B.hashCode(this.x),t=37*t+B.hashCode(this.y)},B.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},B.prototype.interfaces_=function(){return[ee,re,s]},B.prototype.getClass=function(){return B},B.hashCode=function(){if(arguments.length===1){var t=arguments[0],n=F.doubleToLongBits(t);return Math.trunc((n^n)>>>32)}},_e.DimensionalComparator.get=function(){return Te},_e.serialVersionUID.get=function(){return 6683108902428367e3},_e.NULL_ORDINATE.get=function(){return F.NaN},_e.X.get=function(){return 0},_e.Y.get=function(){return 1},_e.Z.get=function(){return 2},Object.defineProperties(B,_e);var Te=function(t){if(this._dimensionsToTest=2,arguments.length!==0){if(arguments.length===1){var n=arguments[0];if(n!==2&&n!==3)throw new N("only 2 or 3 dimensions may be specified");this._dimensionsToTest=n}}};Te.prototype.compare=function(t,n){var u=t,c=n,f=Te.compare(u.x,c.x);if(f!==0)return f;var _=Te.compare(u.y,c.y);return _!==0?_:this._dimensionsToTest<=2?0:Te.compare(u.z,c.z)},Te.prototype.interfaces_=function(){return[se]},Te.prototype.getClass=function(){return Te},Te.compare=function(t,n){return t<n?-1:t>n?1:F.isNaN(t)?F.isNaN(n)?0:-1:F.isNaN(n)?1:0};var Pe=function(){};Pe.prototype.create=function(){},Pe.prototype.interfaces_=function(){return[]},Pe.prototype.getClass=function(){return Pe};var W=function(){},zt={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};W.prototype.interfaces_=function(){return[]},W.prototype.getClass=function(){return W},W.toLocationSymbol=function(t){switch(t){case W.EXTERIOR:return"e";case W.BOUNDARY:return"b";case W.INTERIOR:return"i";case W.NONE:return"-"}throw new N("Unknown location value: "+t)},zt.INTERIOR.get=function(){return 0},zt.BOUNDARY.get=function(){return 1},zt.EXTERIOR.get=function(){return 2},zt.NONE.get=function(){return-1},Object.defineProperties(W,zt);var Ie=function(t,n){return t.interfaces_&&t.interfaces_().indexOf(n)>-1},ut=function(){},Be={LOG_10:{configurable:!0}};ut.prototype.interfaces_=function(){return[]},ut.prototype.getClass=function(){return ut},ut.log10=function(t){var n=Math.log(t);return F.isInfinite(n)||F.isNaN(n)?n:n/ut.LOG_10},ut.min=function(t,n,u,c){var f=t;return n<f&&(f=n),u<f&&(f=u),c<f&&(f=c),f},ut.clamp=function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],n=arguments[1],u=arguments[2];return t<n?n:t>u?u:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var c=arguments[0],f=arguments[1],_=arguments[2];return c<f?f:c>_?_:c}},ut.wrap=function(t,n){return t<0?n- -t%n:t%n},ut.max=function(){if(arguments.length===3){var t=arguments[0],n=arguments[1],u=arguments[2],c=t;return n>c&&(c=n),u>c&&(c=u),c}if(arguments.length===4){var f=arguments[0],_=arguments[1],x=arguments[2],M=arguments[3],V=f;return _>V&&(V=_),x>V&&(V=x),M>V&&(V=M),V}},ut.average=function(t,n){return(t+n)/2},Be.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(ut,Be);var Ht=function(t){this.str=t};Ht.prototype.append=function(t){this.str+=t},Ht.prototype.setCharAt=function(t,n){this.str=this.str.substr(0,t)+n+this.str.substr(t+1)},Ht.prototype.toString=function(t){return this.str};var ye=function(t){this.value=t};ye.prototype.intValue=function(){return this.value},ye.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},ye.isNaN=function(t){return Number.isNaN(t)};var Ae=function(){};Ae.isWhitespace=function(t){return t<=32&&t>=0||t===127},Ae.toUpperCase=function(t){return t.toUpperCase()};var $=function t(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var n=arguments[0];this.init(n)}else if(arguments[0]instanceof t){var u=arguments[0];this.init(u)}else if(typeof arguments[0]=="string"){var c=arguments[0];t.call(this,t.parse(c))}}else if(arguments.length===2){var f=arguments[0],_=arguments[1];this.init(f,_)}},xt={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};$.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},$.prototype.extractSignificantDigits=function(t,n){var u=this.abs(),c=$.magnitude(u._hi),f=$.TEN.pow(c);(u=u.divide(f)).gt($.TEN)?(u=u.divide($.TEN),c+=1):u.lt($.ONE)&&(u=u.multiply($.TEN),c-=1);for(var _=c+1,x=new Ht,M=$.MAX_PRINT_DIGITS-1,V=0;V<=M;V++){t&&V===_&&x.append(".");var Q=Math.trunc(u._hi);if(Q<0)break;var ce=!1,he=0;Q>9?(ce=!0,he="9"):he="0"+Q,x.append(he),u=u.subtract($.valueOf(Q)).multiply($.TEN),ce&&u.selfAdd($.TEN);var ke=!0,De=$.magnitude(u._hi);if(De<0&&Math.abs(De)>=M-V&&(ke=!1),!ke)break}return n[0]=c,x.toString()},$.prototype.sqr=function(){return this.multiply(this)},$.prototype.doubleValue=function(){return this._hi+this._lo},$.prototype.subtract=function(){if(arguments[0]instanceof $){var t=arguments[0];return this.add(t.negate())}if(typeof arguments[0]=="number"){var n=arguments[0];return this.add(-n)}},$.prototype.equals=function(){if(arguments.length===1){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},$.prototype.isZero=function(){return this._hi===0&&this._lo===0},$.prototype.selfSubtract=function(){if(arguments[0]instanceof $){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if(typeof arguments[0]=="number"){var n=arguments[0];return this.isNaN()?this:this.selfAdd(-n,0)}},$.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},$.prototype.min=function(t){return this.le(t)?this:t},$.prototype.selfDivide=function(){if(arguments.length===1){if(arguments[0]instanceof $){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if(typeof arguments[0]=="number"){var n=arguments[0];return this.selfDivide(n,0)}}else if(arguments.length===2){var u=arguments[0],c=arguments[1],f=null,_=null,x=null,M=null,V=null,Q=null,ce=null,he=null;return V=this._hi/u,Q=$.SPLIT*V,f=Q-V,he=$.SPLIT*u,f=Q-f,_=V-f,x=he-u,ce=V*u,x=he-x,M=u-x,he=f*x-ce+f*M+_*x+_*M,Q=(this._hi-ce-he+this._lo-V*c)/u,he=V+Q,this._hi=he,this._lo=V-he+Q,this}},$.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},$.prototype.divide=function(){if(arguments[0]instanceof $){var t=arguments[0],n=null,u=null,c=null,f=null,_=null,x=null,M=null,V=null;return u=(_=this._hi/t._hi)-(n=(x=$.SPLIT*_)-(n=x-_)),V=n*(c=(V=$.SPLIT*t._hi)-(c=V-t._hi))-(M=_*t._hi)+n*(f=t._hi-c)+u*c+u*f,x=(this._hi-M-V+this._lo-_*t._lo)/t._hi,new $(V=_+x,_-V+x)}if(typeof arguments[0]=="number"){var Q=arguments[0];return F.isNaN(Q)?$.createNaN():$.copy(this).selfDivide(Q,0)}},$.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},$.prototype.pow=function(t){if(t===0)return $.valueOf(1);var n=new $(this),u=$.valueOf(1),c=Math.abs(t);if(c>1)for(;c>0;)c%2==1&&u.selfMultiply(n),(c/=2)>0&&(n=n.sqr());else u=n;return t<0?u.reciprocal():u},$.prototype.ceil=function(){if(this.isNaN())return $.NaN;var t=Math.ceil(this._hi),n=0;return t===this._hi&&(n=Math.ceil(this._lo)),new $(t,n)},$.prototype.compareTo=function(t){var n=t;return this._hi<n._hi?-1:this._hi>n._hi?1:this._lo<n._lo?-1:this._lo>n._lo?1:0},$.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},$.prototype.setValue=function(){if(arguments[0]instanceof $){var t=arguments[0];return this.init(t),this}if(typeof arguments[0]=="number"){var n=arguments[0];return this.init(n),this}},$.prototype.max=function(t){return this.ge(t)?this:t},$.prototype.sqrt=function(){if(this.isZero())return $.valueOf(0);if(this.isNegative())return $.NaN;var t=1/Math.sqrt(this._hi),n=this._hi*t,u=$.valueOf(n),c=this.subtract(u.sqr())._hi*(.5*t);return u.add(c)},$.prototype.selfAdd=function(){if(arguments.length===1){if(arguments[0]instanceof $){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if(typeof arguments[0]=="number"){var n=arguments[0],u=null,c=null,f=null,_=null,x=null,M=null;return f=this._hi+n,x=f-this._hi,_=f-x,_=n-x+(this._hi-_),M=_+this._lo,u=f+M,c=M+(f-u),this._hi=u+c,this._lo=c+(u-this._hi),this}}else if(arguments.length===2){var V=arguments[0],Q=arguments[1],ce=null,he=null,ke=null,De=null,Xe=null,ot=null,Ni=null;De=this._hi+V,he=this._lo+Q,Xe=De-(ot=De-this._hi),ke=he-(Ni=he-this._lo);var An=(ce=De+(ot=(Xe=V-ot+(this._hi-Xe))+he))+(ot=(ke=Q-Ni+(this._lo-ke))+(ot+(De-ce))),jr=ot+(ce-An);return this._hi=An,this._lo=jr,this}},$.prototype.selfMultiply=function(){if(arguments.length===1){if(arguments[0]instanceof $){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if(typeof arguments[0]=="number"){var n=arguments[0];return this.selfMultiply(n,0)}}else if(arguments.length===2){var u=arguments[0],c=arguments[1],f=null,_=null,x=null,M=null,V=null,Q=null;f=(V=$.SPLIT*this._hi)-this._hi,Q=$.SPLIT*u,f=V-f,_=this._hi-f,x=Q-u;var ce=(V=this._hi*u)+(Q=f*(x=Q-x)-V+f*(M=u-x)+_*x+_*M+(this._hi*c+this._lo*u)),he=Q+(f=V-ce);return this._hi=ce,this._lo=he,this}},$.prototype.selfSqr=function(){return this.selfMultiply(this)},$.prototype.floor=function(){if(this.isNaN())return $.NaN;var t=Math.floor(this._hi),n=0;return t===this._hi&&(n=Math.floor(this._lo)),new $(t,n)},$.prototype.negate=function(){return this.isNaN()?this:new $(-this._hi,-this._lo)},$.prototype.clone=function(){},$.prototype.multiply=function(){if(arguments[0]instanceof $){var t=arguments[0];return t.isNaN()?$.createNaN():$.copy(this).selfMultiply(t)}if(typeof arguments[0]=="number"){var n=arguments[0];return F.isNaN(n)?$.createNaN():$.copy(this).selfMultiply(n,0)}},$.prototype.isNaN=function(){return F.isNaN(this._hi)},$.prototype.intValue=function(){return Math.trunc(this._hi)},$.prototype.toString=function(){var t=$.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},$.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(t!==null)return t;var n=new Array(1).fill(null),u=this.extractSignificantDigits(!0,n),c=n[0]+1,f=u;if(u.charAt(0)===".")f="0"+u;else if(c<0)f="0."+$.stringOfChar("0",-c)+u;else if(u.indexOf(".")===-1){var _=c-u.length;f=u+$.stringOfChar("0",_)+".0"}return this.isNegative()?"-"+f:f},$.prototype.reciprocal=function(){var t=null,n=null,u=null,c=null,f=null,_=null,x=null,M=null;n=(f=1/this._hi)-(t=(_=$.SPLIT*f)-(t=_-f)),u=(M=$.SPLIT*this._hi)-this._hi;var V=f+(_=(1-(x=f*this._hi)-(M=t*(u=M-u)-x+t*(c=this._hi-u)+n*u+n*c)-f*this._lo)/this._hi);return new $(V,f-V+_)},$.prototype.toSciNotation=function(){if(this.isZero())return $.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(t!==null)return t;var n=new Array(1).fill(null),u=this.extractSignificantDigits(!1,n),c=$.SCI_NOT_EXPONENT_CHAR+n[0];if(u.charAt(0)==="0")throw new Error("Found leading zero: "+u);var f="";u.length>1&&(f=u.substring(1));var _=u.charAt(0)+"."+f;return this.isNegative()?"-"+_+c:_+c},$.prototype.abs=function(){return this.isNaN()?$.NaN:this.isNegative()?this.negate():new $(this)},$.prototype.isPositive=function(){return(this._hi>0||this._hi===0)&&this._lo>0},$.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},$.prototype.add=function(){if(arguments[0]instanceof $){var t=arguments[0];return $.copy(this).selfAdd(t)}if(typeof arguments[0]=="number"){var n=arguments[0];return $.copy(this).selfAdd(n)}},$.prototype.init=function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof $){var n=arguments[0];this._hi=n._hi,this._lo=n._lo}}else if(arguments.length===2){var u=arguments[0],c=arguments[1];this._hi=u,this._lo=c}},$.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},$.prototype.isNegative=function(){return(this._hi<0||this._hi===0)&&this._lo<0},$.prototype.trunc=function(){return this.isNaN()?$.NaN:this.isPositive()?this.floor():this.ceil()},$.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},$.prototype.interfaces_=function(){return[s,ee,re]},$.prototype.getClass=function(){return $},$.sqr=function(t){return $.valueOf(t).selfMultiply(t)},$.valueOf=function(){if(typeof arguments[0]=="string"){var t=arguments[0];return $.parse(t)}if(typeof arguments[0]=="number"){var n=arguments[0];return new $(n)}},$.sqrt=function(t){return $.valueOf(t).sqrt()},$.parse=function(t){for(var n=0,u=t.length;Ae.isWhitespace(t.charAt(n));)n++;var c=!1;if(n<u){var f=t.charAt(n);f!=="-"&&f!=="+"||(n++,f==="-"&&(c=!0))}for(var _=new $,x=0,M=0,V=0;!(n>=u);){var Q=t.charAt(n);if(n++,Ae.isDigit(Q)){var ce=Q-"0";_.selfMultiply($.TEN),_.selfAdd(ce),x++}else{if(Q!=="."){if(Q==="e"||Q==="E"){var he=t.substring(n);try{V=ye.parseInt(he)}catch(Ni){throw Ni instanceof Error?new Error("Invalid exponent "+he+" in string "+t):Ni}break}throw new Error("Unexpected character '"+Q+"' at position "+n+" in string "+t)}M=x}}var ke=_,De=x-M-V;if(De===0)ke=_;else if(De>0){var Xe=$.TEN.pow(De);ke=_.divide(Xe)}else if(De<0){var ot=$.TEN.pow(-De);ke=_.multiply(ot)}return c?ke.negate():ke},$.createNaN=function(){return new $(F.NaN,F.NaN)},$.copy=function(t){return new $(t)},$.magnitude=function(t){var n=Math.abs(t),u=Math.log(n)/Math.log(10),c=Math.trunc(Math.floor(u));return 10*Math.pow(10,c)<=n&&(c+=1),c},$.stringOfChar=function(t,n){for(var u=new Ht,c=0;c<n;c++)u.append(t);return u.toString()},xt.PI.get=function(){return new $(3.141592653589793,12246467991473532e-32)},xt.TWO_PI.get=function(){return new $(6.283185307179586,24492935982947064e-32)},xt.PI_2.get=function(){return new $(1.5707963267948966,6123233995736766e-32)},xt.E.get=function(){return new $(2.718281828459045,14456468917292502e-32)},xt.NaN.get=function(){return new $(F.NaN,F.NaN)},xt.EPS.get=function(){return 123259516440783e-46},xt.SPLIT.get=function(){return 134217729},xt.MAX_PRINT_DIGITS.get=function(){return 32},xt.TEN.get=function(){return $.valueOf(10)},xt.ONE.get=function(){return $.valueOf(1)},xt.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},xt.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties($,xt);var $e=function(){},st={DP_SAFE_EPSILON:{configurable:!0}};$e.prototype.interfaces_=function(){return[]},$e.prototype.getClass=function(){return $e},$e.orientationIndex=function(t,n,u){var c=$e.orientationIndexFilter(t,n,u);if(c<=1)return c;var f=$.valueOf(n.x).selfAdd(-t.x),_=$.valueOf(n.y).selfAdd(-t.y),x=$.valueOf(u.x).selfAdd(-n.x),M=$.valueOf(u.y).selfAdd(-n.y);return f.selfMultiply(M).selfSubtract(_.selfMultiply(x)).signum()},$e.signOfDet2x2=function(t,n,u,c){return t.multiply(c).selfSubtract(n.multiply(u)).signum()},$e.intersection=function(t,n,u,c){var f=$.valueOf(c.y).selfSubtract(u.y).selfMultiply($.valueOf(n.x).selfSubtract(t.x)),_=$.valueOf(c.x).selfSubtract(u.x).selfMultiply($.valueOf(n.y).selfSubtract(t.y)),x=f.subtract(_),M=$.valueOf(c.x).selfSubtract(u.x).selfMultiply($.valueOf(t.y).selfSubtract(u.y)),V=$.valueOf(c.y).selfSubtract(u.y).selfMultiply($.valueOf(t.x).selfSubtract(u.x)),Q=M.subtract(V).selfDivide(x).doubleValue(),ce=$.valueOf(t.x).selfAdd($.valueOf(n.x).selfSubtract(t.x).selfMultiply(Q)).doubleValue(),he=$.valueOf(n.x).selfSubtract(t.x).selfMultiply($.valueOf(t.y).selfSubtract(u.y)),ke=$.valueOf(n.y).selfSubtract(t.y).selfMultiply($.valueOf(t.x).selfSubtract(u.x)),De=he.subtract(ke).selfDivide(x).doubleValue(),Xe=$.valueOf(u.y).selfAdd($.valueOf(c.y).selfSubtract(u.y).selfMultiply(De)).doubleValue();return new B(ce,Xe)},$e.orientationIndexFilter=function(t,n,u){var c=null,f=(t.x-u.x)*(n.y-u.y),_=(t.y-u.y)*(n.x-u.x),x=f-_;if(f>0){if(_<=0)return $e.signum(x);c=f+_}else{if(!(f<0)||_>=0)return $e.signum(x);c=-f-_}var M=$e.DP_SAFE_EPSILON*c;return x>=M||-x>=M?$e.signum(x):2},$e.signum=function(t){return t>0?1:t<0?-1:0},st.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties($e,st);var Se=function(){},qt={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};qt.X.get=function(){return 0},qt.Y.get=function(){return 1},qt.Z.get=function(){return 2},qt.M.get=function(){return 3},Se.prototype.setOrdinate=function(t,n,u){},Se.prototype.size=function(){},Se.prototype.getOrdinate=function(t,n){},Se.prototype.getCoordinate=function(){},Se.prototype.getCoordinateCopy=function(t){},Se.prototype.getDimension=function(){},Se.prototype.getX=function(t){},Se.prototype.clone=function(){},Se.prototype.expandEnvelope=function(t){},Se.prototype.copy=function(){},Se.prototype.getY=function(t){},Se.prototype.toCoordinateArray=function(){},Se.prototype.interfaces_=function(){return[re]},Se.prototype.getClass=function(){return Se},Object.defineProperties(Se,qt);var Yi=function(){},$i=function(t){function n(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(Yi),Gt=function(){};Gt.arraycopy=function(t,n,u,c,f){for(var _=0,x=n;x<n+f;x++)u[c+_]=t[x],_++},Gt.getProperty=function(t){return{"line.separator":`
`}[t]};var Bi=function t(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var n=arguments[0];this.x=n.x,this.y=n.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var u=arguments[0],c=arguments[1];this.x=u,this.y=c,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var f=arguments[0],_=arguments[1];this.x=f.y*_.w-_.y*f.w,this.y=_.x*f.w-f.x*_.w,this.w=f.x*_.y-_.x*f.y}else if(arguments[0]instanceof B&&arguments[1]instanceof B){var x=arguments[0],M=arguments[1];this.x=x.y-M.y,this.y=M.x-x.x,this.w=x.x*M.y-M.x*x.y}}else if(arguments.length===3){var V=arguments[0],Q=arguments[1],ce=arguments[2];this.x=V,this.y=Q,this.w=ce}else if(arguments.length===4){var he=arguments[0],ke=arguments[1],De=arguments[2],Xe=arguments[3],ot=he.y-ke.y,Ni=ke.x-he.x,An=he.x*ke.y-ke.x*he.y,jr=De.y-Xe.y,Gs=Xe.x-De.x,wa=De.x*Xe.y-Xe.x*De.y;this.x=Ni*wa-Gs*An,this.y=jr*An-ot*wa,this.w=ot*Gs-jr*Ni}};Bi.prototype.getY=function(){var t=this.y/this.w;if(F.isNaN(t)||F.isInfinite(t))throw new $i;return t},Bi.prototype.getX=function(){var t=this.x/this.w;if(F.isNaN(t)||F.isInfinite(t))throw new $i;return t},Bi.prototype.getCoordinate=function(){var t=new B;return t.x=this.getX(),t.y=this.getY(),t},Bi.prototype.interfaces_=function(){return[]},Bi.prototype.getClass=function(){return Bi},Bi.intersection=function(t,n,u,c){var f=t.y-n.y,_=n.x-t.x,x=t.x*n.y-n.x*t.y,M=u.y-c.y,V=c.x-u.x,Q=u.x*c.y-c.x*u.y,ce=f*V-M*_,he=(_*Q-V*x)/ce,ke=(M*x-f*Q)/ce;if(F.isNaN(he)||F.isInfinite(he)||F.isNaN(ke)||F.isInfinite(ke))throw new $i;return new B(he,ke)};var ze=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof B){var n=arguments[0];this.init(n.x,n.x,n.y,n.y)}else if(arguments[0]instanceof t){var u=arguments[0];this.init(u)}}else if(arguments.length===2){var c=arguments[0],f=arguments[1];this.init(c.x,f.x,c.y,f.y)}else if(arguments.length===4){var _=arguments[0],x=arguments[1],M=arguments[2],V=arguments[3];this.init(_,x,M,V)}},ar={serialVersionUID:{configurable:!0}};ze.prototype.getArea=function(){return this.getWidth()*this.getHeight()},ze.prototype.equals=function(t){if(!(t instanceof ze))return!1;var n=t;return this.isNull()?n.isNull():this._maxx===n.getMaxX()&&this._maxy===n.getMaxY()&&this._minx===n.getMinX()&&this._miny===n.getMinY()},ze.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new ze;var n=this._minx>t._minx?this._minx:t._minx,u=this._miny>t._miny?this._miny:t._miny,c=this._maxx<t._maxx?this._maxx:t._maxx,f=this._maxy<t._maxy?this._maxy:t._maxy;return new ze(n,c,u,f)},ze.prototype.isNull=function(){return this._maxx<this._minx},ze.prototype.getMaxX=function(){return this._maxx},ze.prototype.covers=function(){if(arguments.length===1){if(arguments[0]instanceof B){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof ze){var n=arguments[0];return!this.isNull()&&!n.isNull()&&n.getMinX()>=this._minx&&n.getMaxX()<=this._maxx&&n.getMinY()>=this._miny&&n.getMaxY()<=this._maxy}}else if(arguments.length===2){var u=arguments[0],c=arguments[1];return!this.isNull()&&u>=this._minx&&u<=this._maxx&&c>=this._miny&&c<=this._maxy}},ze.prototype.intersects=function(){if(arguments.length===1){if(arguments[0]instanceof ze){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof B){var n=arguments[0];return this.intersects(n.x,n.y)}}else if(arguments.length===2){var u=arguments[0],c=arguments[1];return!this.isNull()&&!(u>this._maxx||u<this._minx||c>this._maxy||c<this._miny)}},ze.prototype.getMinY=function(){return this._miny},ze.prototype.getMinX=function(){return this._minx},ze.prototype.expandToInclude=function(){if(arguments.length===1){if(arguments[0]instanceof B){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof ze){var n=arguments[0];if(n.isNull())return null;this.isNull()?(this._minx=n.getMinX(),this._maxx=n.getMaxX(),this._miny=n.getMinY(),this._maxy=n.getMaxY()):(n._minx<this._minx&&(this._minx=n._minx),n._maxx>this._maxx&&(this._maxx=n._maxx),n._miny<this._miny&&(this._miny=n._miny),n._maxy>this._maxy&&(this._maxy=n._maxy))}}else if(arguments.length===2){var u=arguments[0],c=arguments[1];this.isNull()?(this._minx=u,this._maxx=u,this._miny=c,this._maxy=c):(u<this._minx&&(this._minx=u),u>this._maxx&&(this._maxx=u),c<this._miny&&(this._miny=c),c>this._maxy&&(this._maxy=c))}},ze.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),n=this.getHeight();return t<n?t:n},ze.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},ze.prototype.compareTo=function(t){var n=t;return this.isNull()?n.isNull()?0:-1:n.isNull()?1:this._minx<n._minx?-1:this._minx>n._minx?1:this._miny<n._miny?-1:this._miny>n._miny?1:this._maxx<n._maxx?-1:this._maxx>n._maxx?1:this._maxy<n._maxy?-1:this._maxy>n._maxy?1:0},ze.prototype.translate=function(t,n){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+n,this.getMaxY()+n)},ze.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},ze.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},ze.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},ze.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),n=this.getHeight();return t>n?t:n},ze.prototype.expandBy=function(){if(arguments.length===1){var t=arguments[0];this.expandBy(t,t)}else if(arguments.length===2){var n=arguments[0],u=arguments[1];if(this.isNull())return null;this._minx-=n,this._maxx+=n,this._miny-=u,this._maxy+=u,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},ze.prototype.contains=function(){if(arguments.length===1){if(arguments[0]instanceof ze){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof B){var n=arguments[0];return this.covers(n)}}else if(arguments.length===2){var u=arguments[0],c=arguments[1];return this.covers(u,c)}},ze.prototype.centre=function(){return this.isNull()?null:new B((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},ze.prototype.init=function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof B){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof ze){var n=arguments[0];this._minx=n._minx,this._maxx=n._maxx,this._miny=n._miny,this._maxy=n._maxy}}else if(arguments.length===2){var u=arguments[0],c=arguments[1];this.init(u.x,c.x,u.y,c.y)}else if(arguments.length===4){var f=arguments[0],_=arguments[1],x=arguments[2],M=arguments[3];f<_?(this._minx=f,this._maxx=_):(this._minx=_,this._maxx=f),x<M?(this._miny=x,this._maxy=M):(this._miny=M,this._maxy=x)}},ze.prototype.getMaxY=function(){return this._maxy},ze.prototype.distance=function(t){if(this.intersects(t))return 0;var n=0;this._maxx<t._minx?n=t._minx-this._maxx:this._minx>t._maxx&&(n=this._minx-t._maxx);var u=0;return this._maxy<t._miny?u=t._miny-this._maxy:this._miny>t._maxy&&(u=this._miny-t._maxy),n===0?u:u===0?n:Math.sqrt(n*n+u*u)},ze.prototype.hashCode=function(){var t=17;return t=37*t+B.hashCode(this._minx),t=37*t+B.hashCode(this._maxx),t=37*t+B.hashCode(this._miny),t=37*t+B.hashCode(this._maxy)},ze.prototype.interfaces_=function(){return[ee,s]},ze.prototype.getClass=function(){return ze},ze.intersects=function(){if(arguments.length===3){var t=arguments[0],n=arguments[1],u=arguments[2];return u.x>=(t.x<n.x?t.x:n.x)&&u.x<=(t.x>n.x?t.x:n.x)&&u.y>=(t.y<n.y?t.y:n.y)&&u.y<=(t.y>n.y?t.y:n.y)}if(arguments.length===4){var c=arguments[0],f=arguments[1],_=arguments[2],x=arguments[3],M=Math.min(_.x,x.x),V=Math.max(_.x,x.x),Q=Math.min(c.x,f.x),ce=Math.max(c.x,f.x);return!(Q>V)&&!(ce<M)&&(M=Math.min(_.y,x.y),V=Math.max(_.y,x.y),Q=Math.min(c.y,f.y),ce=Math.max(c.y,f.y),!(Q>V)&&!(ce<M))}},ar.serialVersionUID.get=function(){return 5873921885273102e3},Object.defineProperties(ze,ar);var Ut={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},lr=function(t){this.geometryFactory=t||new pt};lr.prototype.read=function(t){var n,u,c;t=t.replace(/[\n\r]/g," ");var f=Ut.typeStr.exec(t);if(t.search("EMPTY")!==-1&&((f=Ut.emptyTypeStr.exec(t))[2]=void 0),f&&(u=f[1].toLowerCase(),c=f[2],In[u]&&(n=In[u].apply(this,[c]))),n===void 0)throw new Error("Could not parse WKT "+t);return n},lr.prototype.write=function(t){return this.extractGeometry(t)},lr.prototype.extractGeometry=function(t){var n=t.getGeometryType().toLowerCase();if(!Ai[n])return null;var u=n.toUpperCase();return t.isEmpty()?u+" EMPTY":u+"("+Ai[n].apply(this,[t])+")"};var Ai={coordinate:function(t){return t.x+" "+t.y},point:function(t){return Ai.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var n=[],u=0,c=t._geometries.length;u<c;++u)n.push("("+Ai.point.apply(this,[t._geometries[u]])+")");return n.join(",")},linestring:function(t){for(var n=[],u=0,c=t._points._coordinates.length;u<c;++u)n.push(Ai.coordinate.apply(this,[t._points._coordinates[u]]));return n.join(",")},linearring:function(t){for(var n=[],u=0,c=t._points._coordinates.length;u<c;++u)n.push(Ai.coordinate.apply(this,[t._points._coordinates[u]]));return n.join(",")},multilinestring:function(t){for(var n=[],u=0,c=t._geometries.length;u<c;++u)n.push("("+Ai.linestring.apply(this,[t._geometries[u]])+")");return n.join(",")},polygon:function(t){var n=[];n.push("("+Ai.linestring.apply(this,[t._shell])+")");for(var u=0,c=t._holes.length;u<c;++u)n.push("("+Ai.linestring.apply(this,[t._holes[u]])+")");return n.join(",")},multipolygon:function(t){for(var n=[],u=0,c=t._geometries.length;u<c;++u)n.push("("+Ai.polygon.apply(this,[t._geometries[u]])+")");return n.join(",")},geometrycollection:function(t){for(var n=[],u=0,c=t._geometries.length;u<c;++u)n.push(this.extractGeometry(t._geometries[u]));return n.join(",")}},In={point:function(t){if(t===void 0)return this.geometryFactory.createPoint();var n=t.trim().split(Ut.spaces);return this.geometryFactory.createPoint(new B(Number.parseFloat(n[0]),Number.parseFloat(n[1])))},multipoint:function(t){if(t===void 0)return this.geometryFactory.createMultiPoint();for(var n,u=t.trim().split(","),c=[],f=0,_=u.length;f<_;++f)n=u[f].replace(Ut.trimParens,"$1"),c.push(In.point.apply(this,[n]));return this.geometryFactory.createMultiPoint(c)},linestring:function(t){if(t===void 0)return this.geometryFactory.createLineString();for(var n,u=t.trim().split(","),c=[],f=0,_=u.length;f<_;++f)n=u[f].trim().split(Ut.spaces),c.push(new B(Number.parseFloat(n[0]),Number.parseFloat(n[1])));return this.geometryFactory.createLineString(c)},linearring:function(t){if(t===void 0)return this.geometryFactory.createLinearRing();for(var n,u=t.trim().split(","),c=[],f=0,_=u.length;f<_;++f)n=u[f].trim().split(Ut.spaces),c.push(new B(Number.parseFloat(n[0]),Number.parseFloat(n[1])));return this.geometryFactory.createLinearRing(c)},multilinestring:function(t){if(t===void 0)return this.geometryFactory.createMultiLineString();for(var n,u=t.trim().split(Ut.parenComma),c=[],f=0,_=u.length;f<_;++f)n=u[f].replace(Ut.trimParens,"$1"),c.push(In.linestring.apply(this,[n]));return this.geometryFactory.createMultiLineString(c)},polygon:function(t){if(t===void 0)return this.geometryFactory.createPolygon();for(var n,u,c,f,_=t.trim().split(Ut.parenComma),x=[],M=0,V=_.length;M<V;++M)n=_[M].replace(Ut.trimParens,"$1"),u=In.linestring.apply(this,[n]),c=this.geometryFactory.createLinearRing(u._points),M===0?f=c:x.push(c);return this.geometryFactory.createPolygon(f,x)},multipolygon:function(t){if(t===void 0)return this.geometryFactory.createMultiPolygon();for(var n,u=t.trim().split(Ut.doubleParenComma),c=[],f=0,_=u.length;f<_;++f)n=u[f].replace(Ut.trimParens,"$1"),c.push(In.polygon.apply(this,[n]));return this.geometryFactory.createMultiPolygon(c)},geometrycollection:function(t){if(t===void 0)return this.geometryFactory.createGeometryCollection();for(var n=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),u=[],c=0,f=n.length;c<f;++c)u.push(this.read(n[c]));return this.geometryFactory.createGeometryCollection(u)}},ji=function(t){this.parser=new lr(t)};ji.prototype.write=function(t){return this.parser.write(t)},ji.toLineString=function(t,n){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+n.x+" "+n.y+" )"};var ur=function(t){function n(u){t.call(this,u),this.name="RuntimeException",this.message=u,this.stack=new t().stack}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(Error),Ao=function(t){function n(){if(t.call(this),arguments.length===0)t.call(this);else if(arguments.length===1){var u=arguments[0];t.call(this,u)}}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(ur),at=function(){};at.prototype.interfaces_=function(){return[]},at.prototype.getClass=function(){return at},at.shouldNeverReachHere=function(){if(arguments.length===0)at.shouldNeverReachHere(null);else if(arguments.length===1){var t=arguments[0];throw new Ao("Should never reach here"+(t!==null?": "+t:""))}},at.isTrue=function(){var t,n;if(arguments.length===1)t=arguments[0],at.isTrue(t,null);else if(arguments.length===2&&(t=arguments[0],n=arguments[1],!t))throw n===null?new Ao:new Ao(n)},at.equals=function(){var t,n,u;if(arguments.length===2)t=arguments[0],n=arguments[1],at.equals(t,n,null);else if(arguments.length===3&&(t=arguments[0],n=arguments[1],u=arguments[2],!n.equals(t)))throw new Ao("Expected "+t+" but encountered "+n+(u!==null?": "+u:""))};var Vi=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new B,this._intPt[1]=new B,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Vo={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Vi.prototype.getIndexAlongSegment=function(t,n){return this.computeIntLineIndex(),this._intLineIndex[t][n]},Vi.prototype.getTopologySummary=function(){var t=new Ht;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},Vi.prototype.computeIntersection=function(t,n,u,c){this._inputLines[0][0]=t,this._inputLines[0][1]=n,this._inputLines[1][0]=u,this._inputLines[1][1]=c,this._result=this.computeIntersect(t,n,u,c)},Vi.prototype.getIntersectionNum=function(){return this._result},Vi.prototype.computeIntLineIndex=function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},Vi.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Vi.prototype.setPrecisionModel=function(t){this._precisionModel=t},Vi.prototype.isInteriorIntersection=function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var t=arguments[0],n=0;n<this._result;n++)if(!this._intPt[n].equals2D(this._inputLines[t][0])&&!this._intPt[n].equals2D(this._inputLines[t][1]))return!0;return!1}},Vi.prototype.getIntersection=function(t){return this._intPt[t]},Vi.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Vi.prototype.hasIntersection=function(){return this._result!==Vi.NO_INTERSECTION},Vi.prototype.getEdgeDistance=function(t,n){return Vi.computeEdgeDistance(this._intPt[n],this._inputLines[t][0],this._inputLines[t][1])},Vi.prototype.isCollinear=function(){return this._result===Vi.COLLINEAR_INTERSECTION},Vi.prototype.toString=function(){return ji.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+ji.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Vi.prototype.getEndpoint=function(t,n){return this._inputLines[t][n]},Vi.prototype.isIntersection=function(t){for(var n=0;n<this._result;n++)if(this._intPt[n].equals2D(t))return!0;return!1},Vi.prototype.getIntersectionAlongSegment=function(t,n){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][n]]},Vi.prototype.interfaces_=function(){return[]},Vi.prototype.getClass=function(){return Vi},Vi.computeEdgeDistance=function(t,n,u){var c=Math.abs(u.x-n.x),f=Math.abs(u.y-n.y),_=-1;if(t.equals(n))_=0;else if(t.equals(u))_=c>f?c:f;else{var x=Math.abs(t.x-n.x),M=Math.abs(t.y-n.y);(_=c>f?x:M)!==0||t.equals(n)||(_=Math.max(x,M))}return at.isTrue(!(_===0&&!t.equals(n)),"Bad distance calculation"),_},Vi.nonRobustComputeEdgeDistance=function(t,n,u){var c=t.x-n.x,f=t.y-n.y,_=Math.sqrt(c*c+f*f);return at.isTrue(!(_===0&&!t.equals(n)),"Invalid distance calculation"),_},Vo.DONT_INTERSECT.get=function(){return 0},Vo.DO_INTERSECT.get=function(){return 1},Vo.COLLINEAR.get=function(){return 2},Vo.NO_INTERSECTION.get=function(){return 0},Vo.POINT_INTERSECTION.get=function(){return 1},Vo.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Vi,Vo);var uo=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.isInSegmentEnvelopes=function(u){var c=new ze(this._inputLines[0][0],this._inputLines[0][1]),f=new ze(this._inputLines[1][0],this._inputLines[1][1]);return c.contains(u)&&f.contains(u)},n.prototype.computeIntersection=function(){if(arguments.length!==3)return t.prototype.computeIntersection.apply(this,arguments);var u=arguments[0],c=arguments[1],f=arguments[2];if(this._isProper=!1,ze.intersects(c,f,u)&&Le.orientationIndex(c,f,u)===0&&Le.orientationIndex(f,c,u)===0)return this._isProper=!0,(u.equals(c)||u.equals(f))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},n.prototype.normalizeToMinimum=function(u,c,f,_,x){x.x=this.smallestInAbsValue(u.x,c.x,f.x,_.x),x.y=this.smallestInAbsValue(u.y,c.y,f.y,_.y),u.x-=x.x,u.y-=x.y,c.x-=x.x,c.y-=x.y,f.x-=x.x,f.y-=x.y,_.x-=x.x,_.y-=x.y},n.prototype.safeHCoordinateIntersection=function(u,c,f,_){var x=null;try{x=Bi.intersection(u,c,f,_)}catch(M){if(!(M instanceof $i))throw M;x=n.nearestEndpoint(u,c,f,_)}return x},n.prototype.intersection=function(u,c,f,_){var x=this.intersectionWithNormalization(u,c,f,_);return this.isInSegmentEnvelopes(x)||(x=new B(n.nearestEndpoint(u,c,f,_))),this._precisionModel!==null&&this._precisionModel.makePrecise(x),x},n.prototype.smallestInAbsValue=function(u,c,f,_){var x=u,M=Math.abs(x);return Math.abs(c)<M&&(x=c,M=Math.abs(c)),Math.abs(f)<M&&(x=f,M=Math.abs(f)),Math.abs(_)<M&&(x=_),x},n.prototype.checkDD=function(u,c,f,_,x){var M=$e.intersection(u,c,f,_),V=this.isInSegmentEnvelopes(M);Gt.out.println("DD in env = "+V+"  --------------------- "+M),x.distance(M)>1e-4&&Gt.out.println("Distance = "+x.distance(M))},n.prototype.intersectionWithNormalization=function(u,c,f,_){var x=new B(u),M=new B(c),V=new B(f),Q=new B(_),ce=new B;this.normalizeToEnvCentre(x,M,V,Q,ce);var he=this.safeHCoordinateIntersection(x,M,V,Q);return he.x+=ce.x,he.y+=ce.y,he},n.prototype.computeCollinearIntersection=function(u,c,f,_){var x=ze.intersects(u,c,f),M=ze.intersects(u,c,_),V=ze.intersects(f,_,u),Q=ze.intersects(f,_,c);return x&&M?(this._intPt[0]=f,this._intPt[1]=_,t.COLLINEAR_INTERSECTION):V&&Q?(this._intPt[0]=u,this._intPt[1]=c,t.COLLINEAR_INTERSECTION):x&&V?(this._intPt[0]=f,this._intPt[1]=u,!f.equals(u)||M||Q?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):x&&Q?(this._intPt[0]=f,this._intPt[1]=c,!f.equals(c)||M||V?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):M&&V?(this._intPt[0]=_,this._intPt[1]=u,!_.equals(u)||x||Q?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):M&&Q?(this._intPt[0]=_,this._intPt[1]=c,!_.equals(c)||x||V?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},n.prototype.normalizeToEnvCentre=function(u,c,f,_,x){var M=u.x<c.x?u.x:c.x,V=u.y<c.y?u.y:c.y,Q=u.x>c.x?u.x:c.x,ce=u.y>c.y?u.y:c.y,he=f.x<_.x?f.x:_.x,ke=f.y<_.y?f.y:_.y,De=f.x>_.x?f.x:_.x,Xe=f.y>_.y?f.y:_.y,ot=((M>he?M:he)+(Q<De?Q:De))/2,Ni=((V>ke?V:ke)+(ce<Xe?ce:Xe))/2;x.x=ot,x.y=Ni,u.x-=x.x,u.y-=x.y,c.x-=x.x,c.y-=x.y,f.x-=x.x,f.y-=x.y,_.x-=x.x,_.y-=x.y},n.prototype.computeIntersect=function(u,c,f,_){if(this._isProper=!1,!ze.intersects(u,c,f,_))return t.NO_INTERSECTION;var x=Le.orientationIndex(u,c,f),M=Le.orientationIndex(u,c,_);if(x>0&&M>0||x<0&&M<0)return t.NO_INTERSECTION;var V=Le.orientationIndex(f,_,u),Q=Le.orientationIndex(f,_,c);return V>0&&Q>0||V<0&&Q<0?t.NO_INTERSECTION:x===0&&M===0&&V===0&&Q===0?this.computeCollinearIntersection(u,c,f,_):(x===0||M===0||V===0||Q===0?(this._isProper=!1,u.equals2D(f)||u.equals2D(_)?this._intPt[0]=u:c.equals2D(f)||c.equals2D(_)?this._intPt[0]=c:x===0?this._intPt[0]=new B(f):M===0?this._intPt[0]=new B(_):V===0?this._intPt[0]=new B(u):Q===0&&(this._intPt[0]=new B(c))):(this._isProper=!0,this._intPt[0]=this.intersection(u,c,f,_)),t.POINT_INTERSECTION)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n.nearestEndpoint=function(u,c,f,_){var x=u,M=Le.distancePointLine(u,f,_),V=Le.distancePointLine(c,f,_);return V<M&&(M=V,x=c),(V=Le.distancePointLine(f,u,c))<M&&(M=V,x=f),(V=Le.distancePointLine(_,u,c))<M&&(M=V,x=_),x},n}(Vi),Bo=function(){};Bo.prototype.interfaces_=function(){return[]},Bo.prototype.getClass=function(){return Bo},Bo.orientationIndex=function(t,n,u){var c=n.x-t.x,f=n.y-t.y,_=u.x-n.x,x=u.y-n.y;return Bo.signOfDet2x2(c,f,_,x)},Bo.signOfDet2x2=function(t,n,u,c){var f=null,_=null,x=null;if(f=1,t===0||c===0)return n===0||u===0?0:n>0?u>0?-f:f:u>0?f:-f;if(n===0||u===0)return c>0?t>0?f:-f:t>0?-f:f;if(n>0?c>0?n<=c||(f=-f,_=t,t=u,u=_,_=n,n=c,c=_):n<=-c?(f=-f,u=-u,c=-c):(_=t,t=-u,u=_,_=n,n=-c,c=_):c>0?-n<=c?(f=-f,t=-t,n=-n):(_=-t,t=u,u=_,_=-n,n=c,c=_):n>=c?(t=-t,n=-n,u=-u,c=-c):(f=-f,_=-t,t=-u,u=_,_=-n,n=-c,c=_),t>0){if(!(u>0)||!(t<=u))return f}else{if(u>0||!(t>=u))return-f;f=-f,t=-t,u=-u}for(;;){if(x=Math.floor(u/t),u-=x*t,(c-=x*n)<0)return-f;if(c>n)return f;if(t>u+u){if(n<c+c)return f}else{if(n>c+c)return-f;u=t-u,c=n-c,f=-f}if(c===0)return u===0?0:-f;if(u===0||(x=Math.floor(t/u),t-=x*u,(n-=x*c)<0))return f;if(n>c)return-f;if(u>t+t){if(c<n+n)return-f}else{if(c>n+n)return f;t=u-t,n=c-n,f=-f}if(n===0)return t===0?0:f;if(t===0)return-f}};var Qn=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};Qn.prototype.countSegment=function(t,n){if(t.x<this._p.x&&n.x<this._p.x)return null;if(this._p.x===n.x&&this._p.y===n.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&n.y===this._p.y){var u=t.x,c=n.x;return u>c&&(u=n.x,c=t.x),this._p.x>=u&&this._p.x<=c&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&n.y<=this._p.y||n.y>this._p.y&&t.y<=this._p.y){var f=t.x-this._p.x,_=t.y-this._p.y,x=n.x-this._p.x,M=n.y-this._p.y,V=Bo.signOfDet2x2(f,_,x,M);if(V===0)return this._isPointOnSegment=!0,null;M<_&&(V=-V),V>0&&this._crossingCount++}},Qn.prototype.isPointInPolygon=function(){return this.getLocation()!==W.EXTERIOR},Qn.prototype.getLocation=function(){return this._isPointOnSegment?W.BOUNDARY:this._crossingCount%2==1?W.INTERIOR:W.EXTERIOR},Qn.prototype.isOnSegment=function(){return this._isPointOnSegment},Qn.prototype.interfaces_=function(){return[]},Qn.prototype.getClass=function(){return Qn},Qn.locatePointInRing=function(){if(arguments[0]instanceof B&&Ie(arguments[1],Se)){for(var t=arguments[0],n=arguments[1],u=new Qn(t),c=new B,f=new B,_=1;_<n.size();_++)if(n.getCoordinate(_,c),n.getCoordinate(_-1,f),u.countSegment(c,f),u.isOnSegment())return u.getLocation();return u.getLocation()}if(arguments[0]instanceof B&&arguments[1]instanceof Array){for(var x=arguments[0],M=arguments[1],V=new Qn(x),Q=1;Q<M.length;Q++){var ce=M[Q],he=M[Q-1];if(V.countSegment(ce,he),V.isOnSegment())return V.getLocation()}return V.getLocation()}};var Le=function(){},Ps={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};Le.prototype.interfaces_=function(){return[]},Le.prototype.getClass=function(){return Le},Le.orientationIndex=function(t,n,u){return $e.orientationIndex(t,n,u)},Le.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var n=0,u=t[0].x,c=1;c<t.length-1;c++){var f=t[c].x-u,_=t[c+1].y;n+=f*(t[c-1].y-_)}return n/2}if(Ie(arguments[0],Se)){var x=arguments[0],M=x.size();if(M<3)return 0;var V=new B,Q=new B,ce=new B;x.getCoordinate(0,Q),x.getCoordinate(1,ce);var he=Q.x;ce.x-=he;for(var ke=0,De=1;De<M-1;De++)V.y=Q.y,Q.x=ce.x,Q.y=ce.y,x.getCoordinate(De+1,ce),ce.x-=he,ke+=Q.x*(V.y-ce.y);return ke/2}},Le.distanceLineLine=function(t,n,u,c){if(t.equals(n))return Le.distancePointLine(t,u,c);if(u.equals(c))return Le.distancePointLine(c,t,n);var f=!1;if(ze.intersects(t,n,u,c)){var _=(n.x-t.x)*(c.y-u.y)-(n.y-t.y)*(c.x-u.x);if(_===0)f=!0;else{var x=(t.y-u.y)*(c.x-u.x)-(t.x-u.x)*(c.y-u.y),M=((t.y-u.y)*(n.x-t.x)-(t.x-u.x)*(n.y-t.y))/_,V=x/_;(V<0||V>1||M<0||M>1)&&(f=!0)}}else f=!0;return f?ut.min(Le.distancePointLine(t,u,c),Le.distancePointLine(n,u,c),Le.distancePointLine(u,t,n),Le.distancePointLine(c,t,n)):0},Le.isPointInRing=function(t,n){return Le.locatePointInRing(t,n)!==W.EXTERIOR},Le.computeLength=function(t){var n=t.size();if(n<=1)return 0;var u=0,c=new B;t.getCoordinate(0,c);for(var f=c.x,_=c.y,x=1;x<n;x++){t.getCoordinate(x,c);var M=c.x,V=c.y,Q=M-f,ce=V-_;u+=Math.sqrt(Q*Q+ce*ce),f=M,_=V}return u},Le.isCCW=function(t){var n=t.length-1;if(n<3)throw new N("Ring has fewer than 4 points, so orientation cannot be determined");for(var u=t[0],c=0,f=1;f<=n;f++){var _=t[f];_.y>u.y&&(u=_,c=f)}var x=c;do(x-=1)<0&&(x=n);while(t[x].equals2D(u)&&x!==c);var M=c;do M=(M+1)%n;while(t[M].equals2D(u)&&M!==c);var V=t[x],Q=t[M];if(V.equals2D(u)||Q.equals2D(u)||V.equals2D(Q))return!1;var ce=Le.computeOrientation(V,u,Q),he=!1;return he=ce===0?V.x>Q.x:ce>0,he},Le.locatePointInRing=function(t,n){return Qn.locatePointInRing(t,n)},Le.distancePointLinePerpendicular=function(t,n,u){var c=(u.x-n.x)*(u.x-n.x)+(u.y-n.y)*(u.y-n.y),f=((n.y-t.y)*(u.x-n.x)-(n.x-t.x)*(u.y-n.y))/c;return Math.abs(f)*Math.sqrt(c)},Le.computeOrientation=function(t,n,u){return Le.orientationIndex(t,n,u)},Le.distancePointLine=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];if(n.length===0)throw new N("Line array must contain at least one vertex");for(var u=t.distance(n[0]),c=0;c<n.length-1;c++){var f=Le.distancePointLine(t,n[c],n[c+1]);f<u&&(u=f)}return u}if(arguments.length===3){var _=arguments[0],x=arguments[1],M=arguments[2];if(x.x===M.x&&x.y===M.y)return _.distance(x);var V=(M.x-x.x)*(M.x-x.x)+(M.y-x.y)*(M.y-x.y),Q=((_.x-x.x)*(M.x-x.x)+(_.y-x.y)*(M.y-x.y))/V;if(Q<=0)return _.distance(x);if(Q>=1)return _.distance(M);var ce=((x.y-_.y)*(M.x-x.x)-(x.x-_.x)*(M.y-x.y))/V;return Math.abs(ce)*Math.sqrt(V)}},Le.isOnLine=function(t,n){for(var u=new uo,c=1;c<n.length;c++){var f=n[c-1],_=n[c];if(u.computeIntersection(t,f,_),u.hasIntersection())return!0}return!1},Ps.CLOCKWISE.get=function(){return-1},Ps.RIGHT.get=function(){return Le.CLOCKWISE},Ps.COUNTERCLOCKWISE.get=function(){return 1},Ps.LEFT.get=function(){return Le.COUNTERCLOCKWISE},Ps.COLLINEAR.get=function(){return 0},Ps.STRAIGHT.get=function(){return Le.COLLINEAR},Object.defineProperties(Le,Ps);var Jo=function(){};Jo.prototype.filter=function(t){},Jo.prototype.interfaces_=function(){return[]},Jo.prototype.getClass=function(){return Jo};var rt=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},Co={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};rt.prototype.isGeometryCollection=function(){return this.getSortIndex()===rt.SORTINDEX_GEOMETRYCOLLECTION},rt.prototype.getFactory=function(){return this._factory},rt.prototype.getGeometryN=function(t){return this},rt.prototype.getArea=function(){return 0},rt.prototype.isRectangle=function(){return!1},rt.prototype.equals=function(){if(arguments[0]instanceof rt){var t=arguments[0];return t!==null&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var n=arguments[0];if(!(n instanceof rt))return!1;var u=n;return this.equalsExact(u)}},rt.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},rt.prototype.geometryChanged=function(){this.apply(rt.geometryChangedFilter)},rt.prototype.geometryChangedAction=function(){this._envelope=null},rt.prototype.equalsNorm=function(t){return t!==null&&this.norm().equalsExact(t.norm())},rt.prototype.getLength=function(){return 0},rt.prototype.getNumGeometries=function(){return 1},rt.prototype.compareTo=function(){if(arguments.length===1){var t=arguments[0],n=t;return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(t)}if(arguments.length===2){var u=arguments[0],c=arguments[1];return this.getSortIndex()!==u.getSortIndex()?this.getSortIndex()-u.getSortIndex():this.isEmpty()&&u.isEmpty()?0:this.isEmpty()?-1:u.isEmpty()?1:this.compareToSameClass(u,c)}},rt.prototype.getUserData=function(){return this._userData},rt.prototype.getSRID=function(){return this._SRID},rt.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},rt.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===rt.SORTINDEX_GEOMETRYCOLLECTION)throw new N("This method does not support GeometryCollection arguments")},rt.prototype.equal=function(t,n,u){return u===0?t.equals(n):t.distance(n)<=u},rt.prototype.norm=function(){var t=this.copy();return t.normalize(),t},rt.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},rt.prototype.getEnvelopeInternal=function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new ze(this._envelope)},rt.prototype.setSRID=function(t){this._SRID=t},rt.prototype.setUserData=function(t){this._userData=t},rt.prototype.compare=function(t,n){for(var u=t.iterator(),c=n.iterator();u.hasNext()&&c.hasNext();){var f=u.next(),_=c.next(),x=f.compareTo(_);if(x!==0)return x}return u.hasNext()?1:c.hasNext()?-1:0},rt.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},rt.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===rt.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===rt.SORTINDEX_MULTIPOINT||this.getSortIndex()===rt.SORTINDEX_MULTILINESTRING||this.getSortIndex()===rt.SORTINDEX_MULTIPOLYGON},rt.prototype.interfaces_=function(){return[re,ee,s]},rt.prototype.getClass=function(){return rt},rt.hasNonEmptyElements=function(t){for(var n=0;n<t.length;n++)if(!t[n].isEmpty())return!0;return!1},rt.hasNullElements=function(t){for(var n=0;n<t.length;n++)if(t[n]===null)return!0;return!1},Co.serialVersionUID.get=function(){return 8763622679187377e3},Co.SORTINDEX_POINT.get=function(){return 0},Co.SORTINDEX_MULTIPOINT.get=function(){return 1},Co.SORTINDEX_LINESTRING.get=function(){return 2},Co.SORTINDEX_LINEARRING.get=function(){return 3},Co.SORTINDEX_MULTILINESTRING.get=function(){return 4},Co.SORTINDEX_POLYGON.get=function(){return 5},Co.SORTINDEX_MULTIPOLYGON.get=function(){return 6},Co.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},Co.geometryChangedFilter.get=function(){return tl},Object.defineProperties(rt,Co);var tl=function(){};tl.interfaces_=function(){return[Jo]},tl.filter=function(t){t.geometryChangedAction()};var oe=function(){};oe.prototype.filter=function(t){},oe.prototype.interfaces_=function(){return[]},oe.prototype.getClass=function(){return oe};var C=function(){},P={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};C.prototype.isInBoundary=function(t){},C.prototype.interfaces_=function(){return[]},C.prototype.getClass=function(){return C},P.Mod2BoundaryNodeRule.get=function(){return z},P.EndPointBoundaryNodeRule.get=function(){return q},P.MultiValentEndPointBoundaryNodeRule.get=function(){return H},P.MonoValentEndPointBoundaryNodeRule.get=function(){return fe},P.MOD2_BOUNDARY_RULE.get=function(){return new z},P.ENDPOINT_BOUNDARY_RULE.get=function(){return new q},P.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new H},P.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new fe},P.OGC_SFS_BOUNDARY_RULE.get=function(){return C.MOD2_BOUNDARY_RULE},Object.defineProperties(C,P);var z=function(){};z.prototype.isInBoundary=function(t){return t%2==1},z.prototype.interfaces_=function(){return[C]},z.prototype.getClass=function(){return z};var q=function(){};q.prototype.isInBoundary=function(t){return t>0},q.prototype.interfaces_=function(){return[C]},q.prototype.getClass=function(){return q};var H=function(){};H.prototype.isInBoundary=function(t){return t>1},H.prototype.interfaces_=function(){return[C]},H.prototype.getClass=function(){return H};var fe=function(){};fe.prototype.isInBoundary=function(t){return t===1},fe.prototype.interfaces_=function(){return[C]},fe.prototype.getClass=function(){return fe};var ae=function(){};ae.prototype.add=function(){},ae.prototype.addAll=function(){},ae.prototype.isEmpty=function(){},ae.prototype.iterator=function(){},ae.prototype.size=function(){},ae.prototype.toArray=function(){},ae.prototype.remove=function(){},(o.prototype=new Error).name="IndexOutOfBoundsException";var be=function(){};be.prototype.hasNext=function(){},be.prototype.next=function(){},be.prototype.remove=function(){};var me=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.get=function(){},n.prototype.set=function(){},n.prototype.isEmpty=function(){},n}(ae);(e.prototype=new Error).name="NoSuchElementException";var ue=function(t){function n(){t.call(this),this.array_=[],arguments[0]instanceof ae&&this.addAll(arguments[0])}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.ensureCapacity=function(){},n.prototype.interfaces_=function(){return[t,ae]},n.prototype.add=function(u){return arguments.length===1?this.array_.push(u):this.array_.splice(arguments[0],arguments[1]),!0},n.prototype.clear=function(){this.array_=[]},n.prototype.addAll=function(u){for(var c=u.iterator();c.hasNext();)this.add(c.next());return!0},n.prototype.set=function(u,c){var f=this.array_[u];return this.array_[u]=c,f},n.prototype.iterator=function(){return new pe(this)},n.prototype.get=function(u){if(u<0||u>=this.size())throw new o;return this.array_[u]},n.prototype.isEmpty=function(){return this.array_.length===0},n.prototype.size=function(){return this.array_.length},n.prototype.toArray=function(){for(var u=[],c=0,f=this.array_.length;c<f;c++)u.push(this.array_[c]);return u},n.prototype.remove=function(u){for(var c=!1,f=0,_=this.array_.length;f<_;f++)if(this.array_[f]===u){this.array_.splice(f,1),c=!0;break}return c},n}(me),pe=function(t){function n(u){t.call(this),this.arrayList_=u,this.position_=0}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new e;return this.arrayList_.get(this.position_++)},n.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},n.prototype.set=function(u){return this.arrayList_.set(this.position_-1,u)},n.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},n}(be),Ce=function(t){function n(){if(t.call(this),arguments.length!==0){if(arguments.length===1){var c=arguments[0];this.ensureCapacity(c.length),this.add(c,!0)}else if(arguments.length===2){var f=arguments[0],_=arguments[1];this.ensureCapacity(f.length),this.add(f,_)}}}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var u={coordArrayType:{configurable:!0}};return u.coordArrayType.get=function(){return new Array(0).fill(null)},n.prototype.getCoordinate=function(c){return this.get(c)},n.prototype.addAll=function(){if(arguments.length===2){for(var c=arguments[0],f=arguments[1],_=!1,x=c.iterator();x.hasNext();)this.add(x.next(),f),_=!0;return _}return t.prototype.addAll.apply(this,arguments)},n.prototype.clone=function(){for(var c=t.prototype.clone.call(this),f=0;f<this.size();f++)c.add(f,this.get(f).copy());return c},n.prototype.toCoordinateArray=function(){return this.toArray(n.coordArrayType)},n.prototype.add=function(){if(arguments.length===1){var c=arguments[0];t.prototype.add.call(this,c)}else if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var f=arguments[0],_=arguments[1];return this.add(f,_,!0),!0}if(arguments[0]instanceof B&&typeof arguments[1]=="boolean"){var x=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(x))return null;t.prototype.add.call(this,x)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var M=arguments[0],V=arguments[1];return this.add(M,V),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var Q=arguments[0],ce=arguments[1];if(arguments[2])for(var he=0;he<Q.length;he++)this.add(Q[he],ce);else for(var ke=Q.length-1;ke>=0;ke--)this.add(Q[ke],ce);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof B){var De=arguments[0],Xe=arguments[1];if(!arguments[2]){var ot=this.size();if(ot>0&&(De>0&&this.get(De-1).equals2D(Xe)||De<ot&&this.get(De).equals2D(Xe)))return null}t.prototype.add.call(this,De,Xe)}}else if(arguments.length===4){var Ni=arguments[0],An=arguments[1],jr=arguments[2],Gs=arguments[3],wa=1;jr>Gs&&(wa=-1);for(var Cp=jr;Cp!==Gs;Cp+=wa)this.add(Ni[Cp],An);return!0}},n.prototype.closeRing=function(){this.size()>0&&this.add(new B(this.get(0)),!1)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},Object.defineProperties(n,u),n}(ue),ve=function(){},gt={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};gt.ForwardComparator.get=function(){return ct},gt.BidirectionalComparator.get=function(){return St},gt.coordArrayType.get=function(){return new Array(0).fill(null)},ve.prototype.interfaces_=function(){return[]},ve.prototype.getClass=function(){return ve},ve.isRing=function(t){return!(t.length<4)&&!!t[0].equals2D(t[t.length-1])},ve.ptNotInList=function(t,n){for(var u=0;u<t.length;u++){var c=t[u];if(ve.indexOf(c,n)<0)return c}return null},ve.scroll=function(t,n){var u=ve.indexOf(n,t);if(u<0)return null;var c=new Array(t.length).fill(null);Gt.arraycopy(t,u,c,0,t.length-u),Gt.arraycopy(t,0,c,t.length-u,u),Gt.arraycopy(c,0,t,0,t.length)},ve.equals=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];if(t===n)return!0;if(t===null||n===null||t.length!==n.length)return!1;for(var u=0;u<t.length;u++)if(!t[u].equals(n[u]))return!1;return!0}if(arguments.length===3){var c=arguments[0],f=arguments[1],_=arguments[2];if(c===f)return!0;if(c===null||f===null||c.length!==f.length)return!1;for(var x=0;x<c.length;x++)if(_.compare(c[x],f[x])!==0)return!1;return!0}},ve.intersection=function(t,n){for(var u=new Ce,c=0;c<t.length;c++)n.intersects(t[c])&&u.add(t[c],!0);return u.toCoordinateArray()},ve.hasRepeatedPoints=function(t){for(var n=1;n<t.length;n++)if(t[n-1].equals(t[n]))return!0;return!1},ve.removeRepeatedPoints=function(t){return ve.hasRepeatedPoints(t)?new Ce(t,!1).toCoordinateArray():t},ve.reverse=function(t){for(var n=t.length-1,u=Math.trunc(n/2),c=0;c<=u;c++){var f=t[c];t[c]=t[n-c],t[n-c]=f}},ve.removeNull=function(t){for(var n=0,u=0;u<t.length;u++)t[u]!==null&&n++;var c=new Array(n).fill(null);if(n===0)return c;for(var f=0,_=0;_<t.length;_++)t[_]!==null&&(c[f++]=t[_]);return c},ve.copyDeep=function(){if(arguments.length===1){for(var t=arguments[0],n=new Array(t.length).fill(null),u=0;u<t.length;u++)n[u]=new B(t[u]);return n}if(arguments.length===5)for(var c=arguments[0],f=arguments[1],_=arguments[2],x=arguments[3],M=arguments[4],V=0;V<M;V++)_[x+V]=new B(c[f+V])},ve.isEqualReversed=function(t,n){for(var u=0;u<t.length;u++){var c=t[u],f=n[t.length-u-1];if(c.compareTo(f)!==0)return!1}return!0},ve.envelope=function(t){for(var n=new ze,u=0;u<t.length;u++)n.expandToInclude(t[u]);return n},ve.toCoordinateArray=function(t){return t.toArray(ve.coordArrayType)},ve.atLeastNCoordinatesOrNothing=function(t,n){return n.length>=t?n:[]},ve.indexOf=function(t,n){for(var u=0;u<n.length;u++)if(t.equals(n[u]))return u;return-1},ve.increasingDirection=function(t){for(var n=0;n<Math.trunc(t.length/2);n++){var u=t.length-1-n,c=t[n].compareTo(t[u]);if(c!==0)return c}return 1},ve.compare=function(t,n){for(var u=0;u<t.length&&u<n.length;){var c=t[u].compareTo(n[u]);if(c!==0)return c;u++}return u<n.length?-1:u<t.length?1:0},ve.minCoordinate=function(t){for(var n=null,u=0;u<t.length;u++)(n===null||n.compareTo(t[u])>0)&&(n=t[u]);return n},ve.extract=function(t,n,u){n=ut.clamp(n,0,t.length);var c=(u=ut.clamp(u,-1,t.length))-n+1;u<0&&(c=0),n>=t.length&&(c=0),u<n&&(c=0);var f=new Array(c).fill(null);if(c===0)return f;for(var _=0,x=n;x<=u;x++)f[_++]=t[x];return f},Object.defineProperties(ve,gt);var ct=function(){};ct.prototype.compare=function(t,n){return ve.compare(t,n)},ct.prototype.interfaces_=function(){return[se]},ct.prototype.getClass=function(){return ct};var St=function(){};St.prototype.compare=function(t,n){var u=t,c=n;if(u.length<c.length)return-1;if(u.length>c.length)return 1;if(u.length===0)return 0;var f=ve.compare(u,c);return ve.isEqualReversed(u,c)?0:f},St.prototype.OLDcompare=function(t,n){var u=t,c=n;if(u.length<c.length)return-1;if(u.length>c.length)return 1;if(u.length===0)return 0;for(var f=ve.increasingDirection(u),_=ve.increasingDirection(c),x=f>0?0:u.length-1,M=_>0?0:u.length-1,V=0;V<u.length;V++){var Q=u[x].compareTo(c[M]);if(Q!==0)return Q;x+=f,M+=_}return 0},St.prototype.interfaces_=function(){return[se]},St.prototype.getClass=function(){return St};var vt=function(){};vt.prototype.get=function(){},vt.prototype.put=function(){},vt.prototype.size=function(){},vt.prototype.values=function(){},vt.prototype.entrySet=function(){};var Qi=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(vt);(r.prototype=new Error).name="OperationNotSupported",(l.prototype=new ae).contains=function(){};var Jn=function(t){function n(){t.call(this),this.array_=[],arguments[0]instanceof ae&&this.addAll(arguments[0])}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.contains=function(u){for(var c=0,f=this.array_.length;c<f;c++)if(this.array_[c]===u)return!0;return!1},n.prototype.add=function(u){return!this.contains(u)&&(this.array_.push(u),!0)},n.prototype.addAll=function(u){for(var c=u.iterator();c.hasNext();)this.add(c.next());return!0},n.prototype.remove=function(u){throw new Error},n.prototype.size=function(){return this.array_.length},n.prototype.isEmpty=function(){return this.array_.length===0},n.prototype.toArray=function(){for(var u=[],c=0,f=this.array_.length;c<f;c++)u.push(this.array_[c]);return u},n.prototype.iterator=function(){return new Rn(this)},n}(l),Rn=function(t){function n(u){t.call(this),this.hashSet_=u,this.position_=0}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new e;return this.hashSet_.array_[this.position_++]},n.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},n.prototype.remove=function(){throw new r},n}(be),jt=0;(R.prototype=new Qi).get=function(t){for(var n=this.root_;n!==null;){var u=t.compareTo(n.key);if(u<0)n=n.left;else{if(!(u>0))return n.value;n=n.right}}return null},R.prototype.put=function(t,n){if(this.root_===null)return this.root_={key:t,value:n,left:null,right:null,parent:null,color:jt,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var u,c,f=this.root_;do if(u=f,(c=t.compareTo(f.key))<0)f=f.left;else{if(!(c>0)){var _=f.value;return f.value=n,_}f=f.right}while(f!==null);var x={key:t,left:null,right:null,value:n,parent:u,color:jt,getValue:function(){return this.value},getKey:function(){return this.key}};return c<0?u.left=x:u.right=x,this.fixAfterInsertion(x),this.size_++,null},R.prototype.fixAfterInsertion=function(t){for(t.color=1;t!=null&&t!==this.root_&&t.parent.color===1;)if(g(t)===w(g(g(t)))){var n=k(g(g(t)));h(n)===1?(y(g(t),jt),y(n,jt),y(g(g(t)),1),t=g(g(t))):(t===k(g(t))&&(t=g(t),this.rotateLeft(t)),y(g(t),jt),y(g(g(t)),1),this.rotateRight(g(g(t))))}else{var u=w(g(g(t)));h(u)===1?(y(g(t),jt),y(u,jt),y(g(g(t)),1),t=g(g(t))):(t===w(g(t))&&(t=g(t),this.rotateRight(t)),y(g(t),jt),y(g(g(t)),1),this.rotateLeft(g(g(t))))}this.root_.color=jt},R.prototype.values=function(){var t=new ue,n=this.getFirstEntry();if(n!==null)for(t.add(n.value);(n=R.successor(n))!==null;)t.add(n.value);return t},R.prototype.entrySet=function(){var t=new Jn,n=this.getFirstEntry();if(n!==null)for(t.add(n);(n=R.successor(n))!==null;)t.add(n);return t},R.prototype.rotateLeft=function(t){if(t!=null){var n=t.right;t.right=n.left,n.left!=null&&(n.left.parent=t),n.parent=t.parent,t.parent===null?this.root_=n:t.parent.left===t?t.parent.left=n:t.parent.right=n,n.left=t,t.parent=n}},R.prototype.rotateRight=function(t){if(t!=null){var n=t.left;t.left=n.right,n.right!=null&&(n.right.parent=t),n.parent=t.parent,t.parent===null?this.root_=n:t.parent.right===t?t.parent.right=n:t.parent.left=n,n.right=t,t.parent=n}},R.prototype.getFirstEntry=function(){var t=this.root_;if(t!=null)for(;t.left!=null;)t=t.left;return t},R.successor=function(t){if(t===null)return null;if(t.right!==null){for(var n=t.right;n.left!==null;)n=n.left;return n}for(var u=t.parent,c=t;u!==null&&c===u.right;)c=u,u=u.parent;return u},R.prototype.size=function(){return this.size_};var Ke=function(){};Ke.prototype.interfaces_=function(){return[]},Ke.prototype.getClass=function(){return Ke},A.prototype=new l,(Y.prototype=new A).contains=function(t){for(var n=0,u=this.array_.length;n<u;n++)if(this.array_[n].compareTo(t)===0)return!0;return!1},Y.prototype.add=function(t){if(this.contains(t))return!1;for(var n=0,u=this.array_.length;n<u;n++)if(this.array_[n].compareTo(t)===1)return this.array_.splice(n,0,t),!0;return this.array_.push(t),!0},Y.prototype.addAll=function(t){for(var n=t.iterator();n.hasNext();)this.add(n.next());return!0},Y.prototype.remove=function(t){throw new r},Y.prototype.size=function(){return this.array_.length},Y.prototype.isEmpty=function(){return this.array_.length===0},Y.prototype.toArray=function(){for(var t=[],n=0,u=this.array_.length;n<u;n++)t.push(this.array_[n]);return t},Y.prototype.iterator=function(){return new _r(this)};var _r=function(t){this.treeSet_=t,this.position_=0};_r.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new e;return this.treeSet_.array_[this.position_++]},_r.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},_r.prototype.remove=function(){throw new r};var Ji=function(){};Ji.sort=function(){var t,n,u,c,f=arguments[0];if(arguments.length===1)c=function(x,M){return x.compareTo(M)},f.sort(c);else if(arguments.length===2)u=arguments[1],c=function(x,M){return u.compare(x,M)},f.sort(c);else if(arguments.length===3){(n=f.slice(arguments[1],arguments[2])).sort();var _=f.slice(0,arguments[1]).concat(n,f.slice(arguments[2],f.length));for(f.splice(0,f.length),t=0;t<_.length;t++)f.push(_[t])}else if(arguments.length===4)for(n=f.slice(arguments[1],arguments[2]),u=arguments[3],c=function(x,M){return u.compare(x,M)},n.sort(c),_=f.slice(0,arguments[1]).concat(n,f.slice(arguments[2],f.length)),f.splice(0,f.length),t=0;t<_.length;t++)f.push(_[t])},Ji.asList=function(t){for(var n=new ue,u=0,c=t.length;u<c;u++)n.add(t[u]);return n};var _t=function(){},en={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};en.P.get=function(){return 0},en.L.get=function(){return 1},en.A.get=function(){return 2},en.FALSE.get=function(){return-1},en.TRUE.get=function(){return-2},en.DONTCARE.get=function(){return-3},en.SYM_FALSE.get=function(){return"F"},en.SYM_TRUE.get=function(){return"T"},en.SYM_DONTCARE.get=function(){return"*"},en.SYM_P.get=function(){return"0"},en.SYM_L.get=function(){return"1"},en.SYM_A.get=function(){return"2"},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},_t.toDimensionSymbol=function(t){switch(t){case _t.FALSE:return _t.SYM_FALSE;case _t.TRUE:return _t.SYM_TRUE;case _t.DONTCARE:return _t.SYM_DONTCARE;case _t.P:return _t.SYM_P;case _t.L:return _t.SYM_L;case _t.A:return _t.SYM_A}throw new N("Unknown dimension value: "+t)},_t.toDimensionValue=function(t){switch(Ae.toUpperCase(t)){case _t.SYM_FALSE:return _t.FALSE;case _t.SYM_TRUE:return _t.TRUE;case _t.SYM_DONTCARE:return _t.DONTCARE;case _t.SYM_P:return _t.P;case _t.SYM_L:return _t.L;case _t.SYM_A:return _t.A}throw new N("Unknown dimension symbol: "+t)},Object.defineProperties(_t,en);var tn=function(){};tn.prototype.filter=function(t){},tn.prototype.interfaces_=function(){return[]},tn.prototype.getClass=function(){return tn};var nn=function(){};nn.prototype.filter=function(t,n){},nn.prototype.isDone=function(){},nn.prototype.isGeometryChanged=function(){},nn.prototype.interfaces_=function(){return[]},nn.prototype.getClass=function(){return nn};var Ri=function(t){function n(c,f){if(t.call(this,f),this._geometries=c||[],t.hasNullElements(this._geometries))throw new N("geometries must not contain null elements")}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var u={serialVersionUID:{configurable:!0}};return n.prototype.computeEnvelopeInternal=function(){for(var c=new ze,f=0;f<this._geometries.length;f++)c.expandToInclude(this._geometries[f].getEnvelopeInternal());return c},n.prototype.getGeometryN=function(c){return this._geometries[c]},n.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},n.prototype.getCoordinates=function(){for(var c=new Array(this.getNumPoints()).fill(null),f=-1,_=0;_<this._geometries.length;_++)for(var x=this._geometries[_].getCoordinates(),M=0;M<x.length;M++)c[++f]=x[M];return c},n.prototype.getArea=function(){for(var c=0,f=0;f<this._geometries.length;f++)c+=this._geometries[f].getArea();return c},n.prototype.equalsExact=function(){if(arguments.length===2){var c=arguments[0],f=arguments[1];if(!this.isEquivalentClass(c))return!1;var _=c;if(this._geometries.length!==_._geometries.length)return!1;for(var x=0;x<this._geometries.length;x++)if(!this._geometries[x].equalsExact(_._geometries[x],f))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},n.prototype.normalize=function(){for(var c=0;c<this._geometries.length;c++)this._geometries[c].normalize();Ji.sort(this._geometries)},n.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},n.prototype.getBoundaryDimension=function(){for(var c=_t.FALSE,f=0;f<this._geometries.length;f++)c=Math.max(c,this._geometries[f].getBoundaryDimension());return c},n.prototype.getDimension=function(){for(var c=_t.FALSE,f=0;f<this._geometries.length;f++)c=Math.max(c,this._geometries[f].getDimension());return c},n.prototype.getLength=function(){for(var c=0,f=0;f<this._geometries.length;f++)c+=this._geometries[f].getLength();return c},n.prototype.getNumPoints=function(){for(var c=0,f=0;f<this._geometries.length;f++)c+=this._geometries[f].getNumPoints();return c},n.prototype.getNumGeometries=function(){return this._geometries.length},n.prototype.reverse=function(){for(var c=this._geometries.length,f=new Array(c).fill(null),_=0;_<this._geometries.length;_++)f[_]=this._geometries[_].reverse();return this.getFactory().createGeometryCollection(f)},n.prototype.compareToSameClass=function(){if(arguments.length===1){var c=arguments[0],f=new Y(Ji.asList(this._geometries)),_=new Y(Ji.asList(c._geometries));return this.compare(f,_)}if(arguments.length===2){for(var x=arguments[0],M=arguments[1],V=x,Q=this.getNumGeometries(),ce=V.getNumGeometries(),he=0;he<Q&&he<ce;){var ke=this.getGeometryN(he),De=V.getGeometryN(he),Xe=ke.compareToSameClass(De,M);if(Xe!==0)return Xe;he++}return he<Q?1:he<ce?-1:0}},n.prototype.apply=function(){if(Ie(arguments[0],oe))for(var c=arguments[0],f=0;f<this._geometries.length;f++)this._geometries[f].apply(c);else if(Ie(arguments[0],nn)){var _=arguments[0];if(this._geometries.length===0)return null;for(var x=0;x<this._geometries.length&&(this._geometries[x].apply(_),!_.isDone());x++);_.isGeometryChanged()&&this.geometryChanged()}else if(Ie(arguments[0],tn)){var M=arguments[0];M.filter(this);for(var V=0;V<this._geometries.length;V++)this._geometries[V].apply(M)}else if(Ie(arguments[0],Jo)){var Q=arguments[0];Q.filter(this);for(var ce=0;ce<this._geometries.length;ce++)this._geometries[ce].apply(Q)}},n.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),at.shouldNeverReachHere(),null},n.prototype.clone=function(){var c=t.prototype.clone.call(this);c._geometries=new Array(this._geometries.length).fill(null);for(var f=0;f<this._geometries.length;f++)c._geometries[f]=this._geometries[f].clone();return c},n.prototype.getGeometryType=function(){return"GeometryCollection"},n.prototype.copy=function(){for(var c=new Array(this._geometries.length).fill(null),f=0;f<c.length;f++)c[f]=this._geometries[f].copy();return new n(c,this._factory)},n.prototype.isEmpty=function(){for(var c=0;c<this._geometries.length;c++)if(!this._geometries[c].isEmpty())return!1;return!0},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},u.serialVersionUID.get=function(){return-5694727726395021e3},Object.defineProperties(n,u),n}(rt),to=function(t){function n(){t.apply(this,arguments)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var u={serialVersionUID:{configurable:!0}};return n.prototype.getSortIndex=function(){return rt.SORTINDEX_MULTILINESTRING},n.prototype.equalsExact=function(){if(arguments.length===2){var c=arguments[0],f=arguments[1];return!!this.isEquivalentClass(c)&&t.prototype.equalsExact.call(this,c,f)}return t.prototype.equalsExact.apply(this,arguments)},n.prototype.getBoundaryDimension=function(){return this.isClosed()?_t.FALSE:0},n.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var c=0;c<this._geometries.length;c++)if(!this._geometries[c].isClosed())return!1;return!0},n.prototype.getDimension=function(){return 1},n.prototype.reverse=function(){for(var c=this._geometries.length,f=new Array(c).fill(null),_=0;_<this._geometries.length;_++)f[c-1-_]=this._geometries[_].reverse();return this.getFactory().createMultiLineString(f)},n.prototype.getBoundary=function(){return new Ar(this).getBoundary()},n.prototype.getGeometryType=function(){return"MultiLineString"},n.prototype.copy=function(){for(var c=new Array(this._geometries.length).fill(null),f=0;f<c.length;f++)c[f]=this._geometries[f].copy();return new n(c,this._factory)},n.prototype.interfaces_=function(){return[Ke]},n.prototype.getClass=function(){return n},u.serialVersionUID.get=function(){return 8166665132445434e3},Object.defineProperties(n,u),n}(Ri),Ar=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,arguments.length===1){var t=arguments[0],n=C.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=n}else if(arguments.length===2){var u=arguments[0],c=arguments[1];this._geom=u,this._geomFact=u.getFactory(),this._bnRule=c}};Ar.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var n=this.computeBoundaryCoordinates(t);return n.length===1?this._geomFact.createPoint(n[0]):this._geomFact.createMultiPointFromCoords(n)},Ar.prototype.getBoundary=function(){return this._geom instanceof on?this.boundaryLineString(this._geom):this._geom instanceof to?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Ar.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},Ar.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Ar.prototype.computeBoundaryCoordinates=function(t){var n=new ue;this._endpointMap=new R;for(var u=0;u<t.getNumGeometries();u++){var c=t.getGeometryN(u);c.getNumPoints()!==0&&(this.addEndpoint(c.getCoordinateN(0)),this.addEndpoint(c.getCoordinateN(c.getNumPoints()-1)))}for(var f=this._endpointMap.entrySet().iterator();f.hasNext();){var _=f.next(),x=_.getValue().count;this._bnRule.isInBoundary(x)&&n.add(_.getKey())}return ve.toCoordinateArray(n)},Ar.prototype.addEndpoint=function(t){var n=this._endpointMap.get(t);n===null&&(n=new ka,this._endpointMap.put(t,n)),n.count++},Ar.prototype.interfaces_=function(){return[]},Ar.prototype.getClass=function(){return Ar},Ar.getBoundary=function(){if(arguments.length===1){var t=arguments[0];return new Ar(t).getBoundary()}if(arguments.length===2){var n=arguments[0],u=arguments[1];return new Ar(n,u).getBoundary()}};var ka=function(){this.count=null};ka.prototype.interfaces_=function(){return[]},ka.prototype.getClass=function(){return ka};var Vr=function(){},pu={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Vr.prototype.interfaces_=function(){return[]},Vr.prototype.getClass=function(){return Vr},Vr.chars=function(t,n){for(var u=new Array(n).fill(null),c=0;c<n;c++)u[c]=t;return String(u)},Vr.getStackTrace=function(){if(arguments.length===1){var t=arguments[0],n=new function(){},u=new function(){}(n);return t.printStackTrace(u),n.toString()}if(arguments.length===2){for(var c=arguments[0],f=arguments[1],_="",x=new function(){}(new function(){}(Vr.getStackTrace(c))),M=0;M<f;M++)try{_+=x.readLine()+Vr.NEWLINE}catch(V){if(!(V instanceof X))throw V;at.shouldNeverReachHere()}return _}},Vr.split=function(t,n){for(var u=n.length,c=new ue,f=""+t,_=f.indexOf(n);_>=0;){var x=f.substring(0,_);c.add(x),_=(f=f.substring(_+u)).indexOf(n)}f.length>0&&c.add(f);for(var M=new Array(c.size()).fill(null),V=0;V<M.length;V++)M[V]=c.get(V);return M},Vr.toString=function(){if(arguments.length===1){var t=arguments[0];return Vr.SIMPLE_ORDINATE_FORMAT.format(t)}},Vr.spaces=function(t){return Vr.chars(" ",t)},pu.NEWLINE.get=function(){return Gt.getProperty("line.separator")},pu.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Vr,pu);var rn=function(){};rn.prototype.interfaces_=function(){return[]},rn.prototype.getClass=function(){return rn},rn.copyCoord=function(t,n,u,c){for(var f=Math.min(t.getDimension(),u.getDimension()),_=0;_<f;_++)u.setOrdinate(c,_,t.getOrdinate(n,_))},rn.isRing=function(t){var n=t.size();return n===0||!(n<=3)&&t.getOrdinate(0,Se.X)===t.getOrdinate(n-1,Se.X)&&t.getOrdinate(0,Se.Y)===t.getOrdinate(n-1,Se.Y)},rn.isEqual=function(t,n){var u=t.size();if(u!==n.size())return!1;for(var c=Math.min(t.getDimension(),n.getDimension()),f=0;f<u;f++)for(var _=0;_<c;_++){var x=t.getOrdinate(f,_),M=n.getOrdinate(f,_);if(t.getOrdinate(f,_)!==n.getOrdinate(f,_)&&(!F.isNaN(x)||!F.isNaN(M)))return!1}return!0},rn.extend=function(t,n,u){var c=t.create(u,n.getDimension()),f=n.size();if(rn.copy(n,0,c,0,f),f>0)for(var _=f;_<u;_++)rn.copy(n,f-1,c,_,1);return c},rn.reverse=function(t){for(var n=t.size()-1,u=Math.trunc(n/2),c=0;c<=u;c++)rn.swap(t,c,n-c)},rn.swap=function(t,n,u){if(n===u)return null;for(var c=0;c<t.getDimension();c++){var f=t.getOrdinate(n,c);t.setOrdinate(n,c,t.getOrdinate(u,c)),t.setOrdinate(u,c,f)}},rn.copy=function(t,n,u,c,f){for(var _=0;_<f;_++)rn.copyCoord(t,n+_,u,c+_)},rn.toString=function(){if(arguments.length===1){var t=arguments[0],n=t.size();if(n===0)return"()";var u=t.getDimension(),c=new Ht;c.append("(");for(var f=0;f<n;f++){f>0&&c.append(" ");for(var _=0;_<u;_++)_>0&&c.append(","),c.append(Vr.toString(t.getOrdinate(f,_)))}return c.append(")"),c.toString()}},rn.ensureValidRing=function(t,n){var u=n.size();return u===0?n:u<=3?rn.createClosedRing(t,n,4):n.getOrdinate(0,Se.X)===n.getOrdinate(u-1,Se.X)&&n.getOrdinate(0,Se.Y)===n.getOrdinate(u-1,Se.Y)?n:rn.createClosedRing(t,n,u+1)},rn.createClosedRing=function(t,n,u){var c=t.create(u,n.getDimension()),f=n.size();rn.copy(n,0,c,0,f);for(var _=f;_<u;_++)rn.copy(n,0,c,_,1);return c};var on=function(t){function n(c,f){t.call(this,f),this._points=null,this.init(c)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var u={serialVersionUID:{configurable:!0}};return n.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new ze:this._points.expandEnvelope(new ze)},n.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},n.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},n.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},n.prototype.equalsExact=function(){if(arguments.length===2){var c=arguments[0],f=arguments[1];if(!this.isEquivalentClass(c))return!1;var _=c;if(this._points.size()!==_._points.size())return!1;for(var x=0;x<this._points.size();x++)if(!this.equal(this._points.getCoordinate(x),_._points.getCoordinate(x),f))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},n.prototype.normalize=function(){for(var c=0;c<Math.trunc(this._points.size()/2);c++){var f=this._points.size()-1-c;if(!this._points.getCoordinate(c).equals(this._points.getCoordinate(f)))return this._points.getCoordinate(c).compareTo(this._points.getCoordinate(f))>0&&rn.reverse(this._points),null}},n.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},n.prototype.getBoundaryDimension=function(){return this.isClosed()?_t.FALSE:0},n.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},n.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},n.prototype.getDimension=function(){return 1},n.prototype.getLength=function(){return Le.computeLength(this._points)},n.prototype.getNumPoints=function(){return this._points.size()},n.prototype.reverse=function(){var c=this._points.copy();return rn.reverse(c),this.getFactory().createLineString(c)},n.prototype.compareToSameClass=function(){if(arguments.length===1){for(var c=arguments[0],f=0,_=0;f<this._points.size()&&_<c._points.size();){var x=this._points.getCoordinate(f).compareTo(c._points.getCoordinate(_));if(x!==0)return x;f++,_++}return f<this._points.size()?1:_<c._points.size()?-1:0}if(arguments.length===2){var M=arguments[0];return arguments[1].compare(this._points,M._points)}},n.prototype.apply=function(){if(Ie(arguments[0],oe))for(var c=arguments[0],f=0;f<this._points.size();f++)c.filter(this._points.getCoordinate(f));else if(Ie(arguments[0],nn)){var _=arguments[0];if(this._points.size()===0)return null;for(var x=0;x<this._points.size()&&(_.filter(this._points,x),!_.isDone());x++);_.isGeometryChanged()&&this.geometryChanged()}else Ie(arguments[0],tn)?arguments[0].filter(this):Ie(arguments[0],Jo)&&arguments[0].filter(this)},n.prototype.getBoundary=function(){return new Ar(this).getBoundary()},n.prototype.isEquivalentClass=function(c){return c instanceof n},n.prototype.clone=function(){var c=t.prototype.clone.call(this);return c._points=this._points.clone(),c},n.prototype.getCoordinateN=function(c){return this._points.getCoordinate(c)},n.prototype.getGeometryType=function(){return"LineString"},n.prototype.copy=function(){return new n(this._points.copy(),this._factory)},n.prototype.getCoordinateSequence=function(){return this._points},n.prototype.isEmpty=function(){return this._points.size()===0},n.prototype.init=function(c){if(c===null&&(c=this.getFactory().getCoordinateSequenceFactory().create([])),c.size()===1)throw new N("Invalid number of points in LineString (found "+c.size()+" - must be 0 or >= 2)");this._points=c},n.prototype.isCoordinate=function(c){for(var f=0;f<this._points.size();f++)if(this._points.getCoordinate(f).equals(c))return!0;return!1},n.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},n.prototype.getPointN=function(c){return this.getFactory().createPoint(this._points.getCoordinate(c))},n.prototype.interfaces_=function(){return[Ke]},n.prototype.getClass=function(){return n},u.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(n,u),n}(rt),js=function(){};js.prototype.interfaces_=function(){return[]},js.prototype.getClass=function(){return js};var Br=function(t){function n(c,f){t.call(this,f),this._coordinates=c||null,this.init(this._coordinates)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var u={serialVersionUID:{configurable:!0}};return n.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new ze;var c=new ze;return c.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),c},n.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},n.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},n.prototype.equalsExact=function(){if(arguments.length===2){var c=arguments[0],f=arguments[1];return!!this.isEquivalentClass(c)&&(!(!this.isEmpty()||!c.isEmpty())||this.isEmpty()===c.isEmpty()&&this.equal(c.getCoordinate(),this.getCoordinate(),f))}return t.prototype.equalsExact.apply(this,arguments)},n.prototype.normalize=function(){},n.prototype.getCoordinate=function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null},n.prototype.getBoundaryDimension=function(){return _t.FALSE},n.prototype.getDimension=function(){return 0},n.prototype.getNumPoints=function(){return this.isEmpty()?0:1},n.prototype.reverse=function(){return this.copy()},n.prototype.getX=function(){if(this.getCoordinate()===null)throw new Error("getX called on empty Point");return this.getCoordinate().x},n.prototype.compareToSameClass=function(){if(arguments.length===1){var c=arguments[0];return this.getCoordinate().compareTo(c.getCoordinate())}if(arguments.length===2){var f=arguments[0];return arguments[1].compare(this._coordinates,f._coordinates)}},n.prototype.apply=function(){if(Ie(arguments[0],oe)){var c=arguments[0];if(this.isEmpty())return null;c.filter(this.getCoordinate())}else if(Ie(arguments[0],nn)){var f=arguments[0];if(this.isEmpty())return null;f.filter(this._coordinates,0),f.isGeometryChanged()&&this.geometryChanged()}else Ie(arguments[0],tn)?arguments[0].filter(this):Ie(arguments[0],Jo)&&arguments[0].filter(this)},n.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},n.prototype.clone=function(){var c=t.prototype.clone.call(this);return c._coordinates=this._coordinates.clone(),c},n.prototype.getGeometryType=function(){return"Point"},n.prototype.copy=function(){return new n(this._coordinates.copy(),this._factory)},n.prototype.getCoordinateSequence=function(){return this._coordinates},n.prototype.getY=function(){if(this.getCoordinate()===null)throw new Error("getY called on empty Point");return this.getCoordinate().y},n.prototype.isEmpty=function(){return this._coordinates.size()===0},n.prototype.init=function(c){c===null&&(c=this.getFactory().getCoordinateSequenceFactory().create([])),at.isTrue(c.size()<=1),this._coordinates=c},n.prototype.isSimple=function(){return!0},n.prototype.interfaces_=function(){return[js]},n.prototype.getClass=function(){return n},u.serialVersionUID.get=function(){return 4902022702746615e3},Object.defineProperties(n,u),n}(rt),ks=function(){};ks.prototype.interfaces_=function(){return[]},ks.prototype.getClass=function(){return ks};var Sn=function(t){function n(c,f,_){if(t.call(this,_),this._shell=null,this._holes=null,c===null&&(c=this.getFactory().createLinearRing()),f===null&&(f=[]),t.hasNullElements(f))throw new N("holes must not contain null elements");if(c.isEmpty()&&t.hasNonEmptyElements(f))throw new N("shell is empty but holes are not");this._shell=c,this._holes=f}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var u={serialVersionUID:{configurable:!0}};return n.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},n.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},n.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var c=new Array(this.getNumPoints()).fill(null),f=-1,_=this._shell.getCoordinates(),x=0;x<_.length;x++)c[++f]=_[x];for(var M=0;M<this._holes.length;M++)for(var V=this._holes[M].getCoordinates(),Q=0;Q<V.length;Q++)c[++f]=V[Q];return c},n.prototype.getArea=function(){var c=0;c+=Math.abs(Le.signedArea(this._shell.getCoordinateSequence()));for(var f=0;f<this._holes.length;f++)c-=Math.abs(Le.signedArea(this._holes[f].getCoordinateSequence()));return c},n.prototype.isRectangle=function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var c=this._shell.getCoordinateSequence(),f=this.getEnvelopeInternal(),_=0;_<5;_++){var x=c.getX(_);if(x!==f.getMinX()&&x!==f.getMaxX())return!1;var M=c.getY(_);if(M!==f.getMinY()&&M!==f.getMaxY())return!1}for(var V=c.getX(0),Q=c.getY(0),ce=1;ce<=4;ce++){var he=c.getX(ce),ke=c.getY(ce);if(he!==V==(ke!==Q))return!1;V=he,Q=ke}return!0},n.prototype.equalsExact=function(){if(arguments.length===2){var c=arguments[0],f=arguments[1];if(!this.isEquivalentClass(c))return!1;var _=c,x=this._shell,M=_._shell;if(!x.equalsExact(M,f)||this._holes.length!==_._holes.length)return!1;for(var V=0;V<this._holes.length;V++)if(!this._holes[V].equalsExact(_._holes[V],f))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},n.prototype.normalize=function(){if(arguments.length===0){this.normalize(this._shell,!0);for(var c=0;c<this._holes.length;c++)this.normalize(this._holes[c],!1);Ji.sort(this._holes)}else if(arguments.length===2){var f=arguments[0],_=arguments[1];if(f.isEmpty())return null;var x=new Array(f.getCoordinates().length-1).fill(null);Gt.arraycopy(f.getCoordinates(),0,x,0,x.length);var M=ve.minCoordinate(f.getCoordinates());ve.scroll(x,M),Gt.arraycopy(x,0,f.getCoordinates(),0,x.length),f.getCoordinates()[x.length]=x[0],Le.isCCW(f.getCoordinates())===_&&ve.reverse(f.getCoordinates())}},n.prototype.getCoordinate=function(){return this._shell.getCoordinate()},n.prototype.getNumInteriorRing=function(){return this._holes.length},n.prototype.getBoundaryDimension=function(){return 1},n.prototype.getDimension=function(){return 2},n.prototype.getLength=function(){var c=0;c+=this._shell.getLength();for(var f=0;f<this._holes.length;f++)c+=this._holes[f].getLength();return c},n.prototype.getNumPoints=function(){for(var c=this._shell.getNumPoints(),f=0;f<this._holes.length;f++)c+=this._holes[f].getNumPoints();return c},n.prototype.reverse=function(){var c=this.copy();c._shell=this._shell.copy().reverse(),c._holes=new Array(this._holes.length).fill(null);for(var f=0;f<this._holes.length;f++)c._holes[f]=this._holes[f].copy().reverse();return c},n.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},n.prototype.compareToSameClass=function(){if(arguments.length===1){var c=arguments[0],f=this._shell,_=c._shell;return f.compareToSameClass(_)}if(arguments.length===2){var x=arguments[0],M=arguments[1],V=x,Q=this._shell,ce=V._shell,he=Q.compareToSameClass(ce,M);if(he!==0)return he;for(var ke=this.getNumInteriorRing(),De=V.getNumInteriorRing(),Xe=0;Xe<ke&&Xe<De;){var ot=this.getInteriorRingN(Xe),Ni=V.getInteriorRingN(Xe),An=ot.compareToSameClass(Ni,M);if(An!==0)return An;Xe++}return Xe<ke?1:Xe<De?-1:0}},n.prototype.apply=function(c){if(Ie(c,oe)){this._shell.apply(c);for(var f=0;f<this._holes.length;f++)this._holes[f].apply(c)}else if(Ie(c,nn)){if(this._shell.apply(c),!c.isDone())for(var _=0;_<this._holes.length&&(this._holes[_].apply(c),!c.isDone());_++);c.isGeometryChanged()&&this.geometryChanged()}else if(Ie(c,tn))c.filter(this);else if(Ie(c,Jo)){c.filter(this),this._shell.apply(c);for(var x=0;x<this._holes.length;x++)this._holes[x].apply(c)}},n.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var c=new Array(this._holes.length+1).fill(null);c[0]=this._shell;for(var f=0;f<this._holes.length;f++)c[f+1]=this._holes[f];return c.length<=1?this.getFactory().createLinearRing(c[0].getCoordinateSequence()):this.getFactory().createMultiLineString(c)},n.prototype.clone=function(){var c=t.prototype.clone.call(this);c._shell=this._shell.clone(),c._holes=new Array(this._holes.length).fill(null);for(var f=0;f<this._holes.length;f++)c._holes[f]=this._holes[f].clone();return c},n.prototype.getGeometryType=function(){return"Polygon"},n.prototype.copy=function(){for(var c=this._shell.copy(),f=new Array(this._holes.length).fill(null),_=0;_<f.length;_++)f[_]=this._holes[_].copy();return new n(c,f,this._factory)},n.prototype.getExteriorRing=function(){return this._shell},n.prototype.isEmpty=function(){return this._shell.isEmpty()},n.prototype.getInteriorRingN=function(c){return this._holes[c]},n.prototype.interfaces_=function(){return[ks]},n.prototype.getClass=function(){return n},u.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(n,u),n}(rt),Da=function(t){function n(){t.apply(this,arguments)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var u={serialVersionUID:{configurable:!0}};return n.prototype.getSortIndex=function(){return rt.SORTINDEX_MULTIPOINT},n.prototype.isValid=function(){return!0},n.prototype.equalsExact=function(){if(arguments.length===2){var c=arguments[0],f=arguments[1];return!!this.isEquivalentClass(c)&&t.prototype.equalsExact.call(this,c,f)}return t.prototype.equalsExact.apply(this,arguments)},n.prototype.getCoordinate=function(){if(arguments.length===1){var c=arguments[0];return this._geometries[c].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},n.prototype.getBoundaryDimension=function(){return _t.FALSE},n.prototype.getDimension=function(){return 0},n.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},n.prototype.getGeometryType=function(){return"MultiPoint"},n.prototype.copy=function(){for(var c=new Array(this._geometries.length).fill(null),f=0;f<c.length;f++)c[f]=this._geometries[f].copy();return new n(c,this._factory)},n.prototype.interfaces_=function(){return[js]},n.prototype.getClass=function(){return n},u.serialVersionUID.get=function(){return-8048474874175356e3},Object.defineProperties(n,u),n}(Ri),es=function(t){function n(c,f){c instanceof B&&f instanceof pt&&(c=f.getCoordinateSequenceFactory().create(c)),t.call(this,c,f),this.validateConstruction()}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var u={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return n.prototype.getSortIndex=function(){return rt.SORTINDEX_LINEARRING},n.prototype.getBoundaryDimension=function(){return _t.FALSE},n.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},n.prototype.reverse=function(){var c=this._points.copy();return rn.reverse(c),this.getFactory().createLinearRing(c)},n.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new N("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<n.MINIMUM_VALID_SIZE)throw new N("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},n.prototype.getGeometryType=function(){return"LinearRing"},n.prototype.copy=function(){return new n(this._points.copy(),this._factory)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},u.MINIMUM_VALID_SIZE.get=function(){return 4},u.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(n,u),n}(on),Io=function(t){function n(){t.apply(this,arguments)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var u={serialVersionUID:{configurable:!0}};return n.prototype.getSortIndex=function(){return rt.SORTINDEX_MULTIPOLYGON},n.prototype.equalsExact=function(){if(arguments.length===2){var c=arguments[0],f=arguments[1];return!!this.isEquivalentClass(c)&&t.prototype.equalsExact.call(this,c,f)}return t.prototype.equalsExact.apply(this,arguments)},n.prototype.getBoundaryDimension=function(){return 1},n.prototype.getDimension=function(){return 2},n.prototype.reverse=function(){for(var c=this._geometries.length,f=new Array(c).fill(null),_=0;_<this._geometries.length;_++)f[_]=this._geometries[_].reverse();return this.getFactory().createMultiPolygon(f)},n.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var c=new ue,f=0;f<this._geometries.length;f++)for(var _=this._geometries[f].getBoundary(),x=0;x<_.getNumGeometries();x++)c.add(_.getGeometryN(x));var M=new Array(c.size()).fill(null);return this.getFactory().createMultiLineString(c.toArray(M))},n.prototype.getGeometryType=function(){return"MultiPolygon"},n.prototype.copy=function(){for(var c=new Array(this._geometries.length).fill(null),f=0;f<c.length;f++)c[f]=this._geometries[f].copy();return new n(c,this._factory)},n.prototype.interfaces_=function(){return[ks]},n.prototype.getClass=function(){return n},u.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(n,u),n}(Ri),yr=function(t){this._factory=t||null,this._isUserDataCopied=!1},il={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};yr.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},yr.prototype.edit=function(t,n){if(t===null)return null;var u=this.editInternal(t,n);return this._isUserDataCopied&&u.setUserData(t.getUserData()),u},yr.prototype.editInternal=function(t,n){return this._factory===null&&(this._factory=t.getFactory()),t instanceof Ri?this.editGeometryCollection(t,n):t instanceof Sn?this.editPolygon(t,n):t instanceof Br?n.edit(t,this._factory):t instanceof on?n.edit(t,this._factory):(at.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},yr.prototype.editGeometryCollection=function(t,n){for(var u=n.edit(t,this._factory),c=new ue,f=0;f<u.getNumGeometries();f++){var _=this.edit(u.getGeometryN(f),n);_===null||_.isEmpty()||c.add(_)}return u.getClass()===Da?this._factory.createMultiPoint(c.toArray([])):u.getClass()===to?this._factory.createMultiLineString(c.toArray([])):u.getClass()===Io?this._factory.createMultiPolygon(c.toArray([])):this._factory.createGeometryCollection(c.toArray([]))},yr.prototype.editPolygon=function(t,n){var u=n.edit(t,this._factory);if(u===null&&(u=this._factory.createPolygon(null)),u.isEmpty())return u;var c=this.edit(u.getExteriorRing(),n);if(c===null||c.isEmpty())return this._factory.createPolygon();for(var f=new ue,_=0;_<u.getNumInteriorRing();_++){var x=this.edit(u.getInteriorRingN(_),n);x===null||x.isEmpty()||f.add(x)}return this._factory.createPolygon(c,f.toArray([]))},yr.prototype.interfaces_=function(){return[]},yr.prototype.getClass=function(){return yr},yr.GeometryEditorOperation=function(){},il.NoOpGeometryOperation.get=function(){return Ra},il.CoordinateOperation.get=function(){return Ds},il.CoordinateSequenceOperation.get=function(){return Wt},Object.defineProperties(yr,il);var Ra=function(){};Ra.prototype.edit=function(t,n){return t},Ra.prototype.interfaces_=function(){return[yr.GeometryEditorOperation]},Ra.prototype.getClass=function(){return Ra};var Ds=function(){};Ds.prototype.edit=function(t,n){var u=this.editCoordinates(t.getCoordinates(),t);return u===null?t:t instanceof es?n.createLinearRing(u):t instanceof on?n.createLineString(u):t instanceof Br?u.length>0?n.createPoint(u[0]):n.createPoint():t},Ds.prototype.interfaces_=function(){return[yr.GeometryEditorOperation]},Ds.prototype.getClass=function(){return Ds};var Wt=function(){};Wt.prototype.edit=function(t,n){return t instanceof es?n.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof on?n.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Br?n.createPoint(this.edit(t.getCoordinateSequence(),t)):t},Wt.prototype.interfaces_=function(){return[yr.GeometryEditorOperation]},Wt.prototype.getClass=function(){return Wt};var bt=function(){if(this._dimension=3,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var n=0;n<t;n++)this._coordinates[n]=new B}else if(Ie(arguments[0],Se)){var u=arguments[0];if(u===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=u.getDimension(),this._coordinates=new Array(u.size()).fill(null);for(var c=0;c<this._coordinates.length;c++)this._coordinates[c]=u.getCoordinateCopy(c)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var f=arguments[0],_=arguments[1];this._coordinates=f,this._dimension=_,f===null&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var x=arguments[0],M=arguments[1];this._coordinates=new Array(x).fill(null),this._dimension=M;for(var V=0;V<x;V++)this._coordinates[V]=new B}}},nl={serialVersionUID:{configurable:!0}};bt.prototype.setOrdinate=function(t,n,u){switch(n){case Se.X:this._coordinates[t].x=u;break;case Se.Y:this._coordinates[t].y=u;break;case Se.Z:this._coordinates[t].z=u;break;default:throw new N("invalid ordinateIndex")}},bt.prototype.size=function(){return this._coordinates.length},bt.prototype.getOrdinate=function(t,n){switch(n){case Se.X:return this._coordinates[t].x;case Se.Y:return this._coordinates[t].y;case Se.Z:return this._coordinates[t].z}return F.NaN},bt.prototype.getCoordinate=function(){if(arguments.length===1){var t=arguments[0];return this._coordinates[t]}if(arguments.length===2){var n=arguments[0],u=arguments[1];u.x=this._coordinates[n].x,u.y=this._coordinates[n].y,u.z=this._coordinates[n].z}},bt.prototype.getCoordinateCopy=function(t){return new B(this._coordinates[t])},bt.prototype.getDimension=function(){return this._dimension},bt.prototype.getX=function(t){return this._coordinates[t].x},bt.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),n=0;n<this._coordinates.length;n++)t[n]=this._coordinates[n].clone();return new bt(t,this._dimension)},bt.prototype.expandEnvelope=function(t){for(var n=0;n<this._coordinates.length;n++)t.expandToInclude(this._coordinates[n]);return t},bt.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),n=0;n<this._coordinates.length;n++)t[n]=this._coordinates[n].copy();return new bt(t,this._dimension)},bt.prototype.toString=function(){if(this._coordinates.length>0){var t=new Ht(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var n=1;n<this._coordinates.length;n++)t.append(", "),t.append(this._coordinates[n]);return t.append(")"),t.toString()}return"()"},bt.prototype.getY=function(t){return this._coordinates[t].y},bt.prototype.toCoordinateArray=function(){return this._coordinates},bt.prototype.interfaces_=function(){return[Se,s]},bt.prototype.getClass=function(){return bt},nl.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(bt,nl);var zr=function(){},Ws={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};zr.prototype.readResolve=function(){return zr.instance()},zr.prototype.create=function(){if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return new bt(t)}if(Ie(arguments[0],Se)){var n=arguments[0];return new bt(n)}}else if(arguments.length===2){var u=arguments[0],c=arguments[1];return c>3&&(c=3),c<2?new bt(u):new bt(u,c)}},zr.prototype.interfaces_=function(){return[Pe,s]},zr.prototype.getClass=function(){return zr},zr.instance=function(){return zr.instanceObject},Ws.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},Ws.instanceObject.get=function(){return new zr},Object.defineProperties(zr,Ws);var Ll=function(t){function n(){t.call(this),this.map_=new Map}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.get=function(u){return this.map_.get(u)||null},n.prototype.put=function(u,c){return this.map_.set(u,c),c},n.prototype.values=function(){for(var u=new ue,c=this.map_.values(),f=c.next();!f.done;)u.add(f.value),f=c.next();return u},n.prototype.entrySet=function(){var u=new Jn;return this.map_.entries().forEach(function(c){return u.add(c)}),u},n.prototype.size=function(){return this.map_.size()},n}(vt),Ze=function t(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=t.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof co){var n=arguments[0];this._modelType=n,n===t.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var u=arguments[0];this._modelType=t.FIXED,this.setScale(u)}else if(arguments[0]instanceof t){var c=arguments[0];this._modelType=c._modelType,this._scale=c._scale}}},Tn={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Ze.prototype.equals=function(t){if(!(t instanceof Ze))return!1;var n=t;return this._modelType===n._modelType&&this._scale===n._scale},Ze.prototype.compareTo=function(t){var n=t,u=this.getMaximumSignificantDigits(),c=n.getMaximumSignificantDigits();return new ye(u).compareTo(new ye(c))},Ze.prototype.getScale=function(){return this._scale},Ze.prototype.isFloating=function(){return this._modelType===Ze.FLOATING||this._modelType===Ze.FLOATING_SINGLE},Ze.prototype.getType=function(){return this._modelType},Ze.prototype.toString=function(){var t="UNKNOWN";return this._modelType===Ze.FLOATING?t="Floating":this._modelType===Ze.FLOATING_SINGLE?t="Floating-Single":this._modelType===Ze.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},Ze.prototype.makePrecise=function(){if(typeof arguments[0]=="number"){var t=arguments[0];return F.isNaN(t)||this._modelType===Ze.FLOATING_SINGLE?t:this._modelType===Ze.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof B){var n=arguments[0];if(this._modelType===Ze.FLOATING)return null;n.x=this.makePrecise(n.x),n.y=this.makePrecise(n.y)}},Ze.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===Ze.FLOATING?t=16:this._modelType===Ze.FLOATING_SINGLE?t=6:this._modelType===Ze.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},Ze.prototype.setScale=function(t){this._scale=Math.abs(t)},Ze.prototype.interfaces_=function(){return[s,ee]},Ze.prototype.getClass=function(){return Ze},Ze.mostPrecise=function(t,n){return t.compareTo(n)>=0?t:n},Tn.serialVersionUID.get=function(){return 7777263578777804e3},Tn.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Ze,Tn);var co=function t(n){this._name=n||null,t.nameToTypeMap.put(n,this)},Fa={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};co.prototype.readResolve=function(){return co.nameToTypeMap.get(this._name)},co.prototype.toString=function(){return this._name},co.prototype.interfaces_=function(){return[s]},co.prototype.getClass=function(){return co},Fa.serialVersionUID.get=function(){return-552860263173159e4},Fa.nameToTypeMap.get=function(){return new Ll},Object.defineProperties(co,Fa),Ze.Type=co,Ze.FIXED=new co("FIXED"),Ze.FLOATING=new co("FLOATING"),Ze.FLOATING_SINGLE=new co("FLOATING SINGLE");var pt=function t(){this._precisionModel=new Ze,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),arguments.length===0||(arguments.length===1?Ie(arguments[0],Pe)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Ze&&(this._precisionModel=arguments[0]):arguments.length===2?(this._precisionModel=arguments[0],this._SRID=arguments[1]):arguments.length===3&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Ju={serialVersionUID:{configurable:!0}};pt.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new B(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new B(t.getMinX(),t.getMinY()),new B(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new B(t.getMinX(),t.getMinY()),new B(t.getMinX(),t.getMaxY()),new B(t.getMaxX(),t.getMaxY()),new B(t.getMaxX(),t.getMinY()),new B(t.getMinX(),t.getMinY())]),null)},pt.prototype.createLineString=function(t){return t?t instanceof Array?new on(this.getCoordinateSequenceFactory().create(t),this):Ie(t,Se)?new on(t,this):void 0:new on(this.getCoordinateSequenceFactory().create([]),this)},pt.prototype.createMultiLineString=function(){if(arguments.length===0)return new to(null,this);if(arguments.length===1){var t=arguments[0];return new to(t,this)}},pt.prototype.buildGeometry=function(t){for(var n=null,u=!1,c=!1,f=t.iterator();f.hasNext();){var _=f.next(),x=_.getClass();n===null&&(n=x),x!==n&&(u=!0),_.isGeometryCollectionOrDerived()&&(c=!0)}if(n===null)return this.createGeometryCollection();if(u||c)return this.createGeometryCollection(pt.toGeometryArray(t));var M=t.iterator().next();if(t.size()>1){if(M instanceof Sn)return this.createMultiPolygon(pt.toPolygonArray(t));if(M instanceof on)return this.createMultiLineString(pt.toLineStringArray(t));if(M instanceof Br)return this.createMultiPoint(pt.toPointArray(t));at.shouldNeverReachHere("Unhandled class: "+M.getClass().getName())}return M},pt.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(t!==null?this.getCoordinateSequenceFactory().create(t):null)},pt.prototype.createPoint=function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof B){var t=arguments[0];return this.createPoint(t!==null?this.getCoordinateSequenceFactory().create([t]):null)}if(Ie(arguments[0],Se)){var n=arguments[0];return new Br(n,this)}}},pt.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},pt.prototype.createPolygon=function(){if(arguments.length===0)return new Sn(null,null,this);if(arguments.length===1){if(Ie(arguments[0],Se)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var n=arguments[0];return this.createPolygon(this.createLinearRing(n))}if(arguments[0]instanceof es){var u=arguments[0];return this.createPolygon(u,null)}}else if(arguments.length===2){var c=arguments[0],f=arguments[1];return new Sn(c,f,this)}},pt.prototype.getSRID=function(){return this._SRID},pt.prototype.createGeometryCollection=function(){if(arguments.length===0)return new Ri(null,this);if(arguments.length===1){var t=arguments[0];return new Ri(t,this)}},pt.prototype.createGeometry=function(t){return new yr(this).edit(t,{edit:function(){if(arguments.length===2){var n=arguments[0];return this._coordinateSequenceFactory.create(n)}}})},pt.prototype.getPrecisionModel=function(){return this._precisionModel},pt.prototype.createLinearRing=function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(t!==null?this.getCoordinateSequenceFactory().create(t):null)}if(Ie(arguments[0],Se)){var n=arguments[0];return new es(n,this)}}},pt.prototype.createMultiPolygon=function(){if(arguments.length===0)return new Io(null,this);if(arguments.length===1){var t=arguments[0];return new Io(t,this)}},pt.prototype.createMultiPoint=function(){if(arguments.length===0)return new Da(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return new Da(t,this)}if(arguments[0]instanceof Array){var n=arguments[0];return this.createMultiPoint(n!==null?this.getCoordinateSequenceFactory().create(n):null)}if(Ie(arguments[0],Se)){var u=arguments[0];if(u===null)return this.createMultiPoint(new Array(0).fill(null));for(var c=new Array(u.size()).fill(null),f=0;f<u.size();f++){var _=this.getCoordinateSequenceFactory().create(1,u.getDimension());rn.copy(u,f,_,0,1),c[f]=this.createPoint(_)}return this.createMultiPoint(c)}}},pt.prototype.interfaces_=function(){return[s]},pt.prototype.getClass=function(){return pt},pt.toMultiPolygonArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},pt.toGeometryArray=function(t){if(t===null)return null;var n=new Array(t.size()).fill(null);return t.toArray(n)},pt.getDefaultCoordinateSequenceFactory=function(){return zr.instance()},pt.toMultiLineStringArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},pt.toLineStringArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},pt.toMultiPointArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},pt.toLinearRingArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},pt.toPointArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},pt.toPolygonArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},pt.createPointFromInternalCoord=function(t,n){return n.getPrecisionModel().makePrecise(t),n.getFactory().createPoint(t)},Ju.serialVersionUID.get=function(){return-6820524753094096e3},Object.defineProperties(pt,Ju);var Pl=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],ys=function(t){this.geometryFactory=t||new pt};ys.prototype.read=function(t){var n,u=(n=typeof t=="string"?JSON.parse(t):t).type;if(!zi[u])throw new Error("Unknown GeoJSON type: "+n.type);return Pl.indexOf(u)!==-1?zi[u].apply(this,[n.coordinates]):u==="GeometryCollection"?zi[u].apply(this,[n.geometries]):zi[u].apply(this,[n])},ys.prototype.write=function(t){var n=t.getGeometryType();if(!Hr[n])throw new Error("Geometry is not supported");return Hr[n].apply(this,[t])};var zi={Feature:function(t){var n={};for(var u in t)n[u]=t[u];if(t.geometry){var c=t.geometry.type;if(!zi[c])throw new Error("Unknown GeoJSON type: "+t.type);n.geometry=this.read(t.geometry)}return t.bbox&&(n.bbox=zi.bbox.apply(this,[t.bbox])),n},FeatureCollection:function(t){var n={};if(t.features){n.features=[];for(var u=0;u<t.features.length;++u)n.features.push(this.read(t.features[u]))}return t.bbox&&(n.bbox=this.parse.bbox.apply(this,[t.bbox])),n},coordinates:function(t){for(var n=[],u=0;u<t.length;++u){var c=t[u];n.push(new B(c[0],c[1]))}return n},bbox:function(t){return this.geometryFactory.createLinearRing([new B(t[0],t[1]),new B(t[2],t[1]),new B(t[2],t[3]),new B(t[0],t[3]),new B(t[0],t[1])])},Point:function(t){var n=new B(t[0],t[1]);return this.geometryFactory.createPoint(n)},MultiPoint:function(t){for(var n=[],u=0;u<t.length;++u)n.push(zi.Point.apply(this,[t[u]]));return this.geometryFactory.createMultiPoint(n)},LineString:function(t){var n=zi.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(n)},MultiLineString:function(t){for(var n=[],u=0;u<t.length;++u)n.push(zi.LineString.apply(this,[t[u]]));return this.geometryFactory.createMultiLineString(n)},Polygon:function(t){for(var n=zi.coordinates.apply(this,[t[0]]),u=this.geometryFactory.createLinearRing(n),c=[],f=1;f<t.length;++f){var _=t[f],x=zi.coordinates.apply(this,[_]),M=this.geometryFactory.createLinearRing(x);c.push(M)}return this.geometryFactory.createPolygon(u,c)},MultiPolygon:function(t){for(var n=[],u=0;u<t.length;++u){var c=t[u];n.push(zi.Polygon.apply(this,[c]))}return this.geometryFactory.createMultiPolygon(n)},GeometryCollection:function(t){for(var n=[],u=0;u<t.length;++u){var c=t[u];n.push(this.read(c))}return this.geometryFactory.createGeometryCollection(n)}},Hr={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:Hr.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var n=[],u=0;u<t._geometries.length;++u){var c=t._geometries[u],f=Hr.Point.apply(this,[c]);n.push(f.coordinates)}return{type:"MultiPoint",coordinates:n}},LineString:function(t){for(var n=[],u=t.getCoordinates(),c=0;c<u.length;++c){var f=u[c];n.push(Hr.coordinate.apply(this,[f]))}return{type:"LineString",coordinates:n}},MultiLineString:function(t){for(var n=[],u=0;u<t._geometries.length;++u){var c=t._geometries[u],f=Hr.LineString.apply(this,[c]);n.push(f.coordinates)}return{type:"MultiLineString",coordinates:n}},Polygon:function(t){var n=[],u=Hr.LineString.apply(this,[t._shell]);n.push(u.coordinates);for(var c=0;c<t._holes.length;++c){var f=t._holes[c],_=Hr.LineString.apply(this,[f]);n.push(_.coordinates)}return{type:"Polygon",coordinates:n}},MultiPolygon:function(t){for(var n=[],u=0;u<t._geometries.length;++u){var c=t._geometries[u],f=Hr.Polygon.apply(this,[c]);n.push(f.coordinates)}return{type:"MultiPolygon",coordinates:n}},GeometryCollection:function(t){for(var n=[],u=0;u<t._geometries.length;++u){var c=t._geometries[u],f=c.getGeometryType();n.push(Hr[f].apply(this,[c]))}return{type:"GeometryCollection",geometries:n}}},ha=function(t){this.geometryFactory=t||new pt,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new ys(this.geometryFactory)};ha.prototype.read=function(t){var n=this.parser.read(t);return this.precisionModel.getType()===Ze.FIXED&&this.reducePrecision(n),n},ha.prototype.reducePrecision=function(t){var n,u;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(n=0,u=t.points.length;n<u;n++)this.precisionModel.makePrecise(t.points[n]);else if(t.geometries)for(n=0,u=t.geometries.length;n<u;n++)this.reducePrecision(t.geometries[n])};var Na=function(){this.parser=new ys(this.geometryFactory)};Na.prototype.write=function(t){return this.parser.write(t)};var Me=function(){},Xs={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Me.prototype.interfaces_=function(){return[]},Me.prototype.getClass=function(){return Me},Me.opposite=function(t){return t===Me.LEFT?Me.RIGHT:t===Me.RIGHT?Me.LEFT:t},Xs.ON.get=function(){return 0},Xs.LEFT.get=function(){return 1},Xs.RIGHT.get=function(){return 2},Object.defineProperties(Me,Xs),(j.prototype=new Error).name="EmptyStackException",(S.prototype=new me).add=function(t){return this.array_.push(t),!0},S.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},S.prototype.push=function(t){return this.array_.push(t),t},S.prototype.pop=function(t){if(this.array_.length===0)throw new j;return this.array_.pop()},S.prototype.peek=function(){if(this.array_.length===0)throw new j;return this.array_[this.array_.length-1]},S.prototype.empty=function(){return this.array_.length===0},S.prototype.isEmpty=function(){return this.empty()},S.prototype.search=function(t){return this.array_.indexOf(t)},S.prototype.size=function(){return this.array_.length},S.prototype.toArray=function(){for(var t=[],n=0,u=this.array_.length;n<u;n++)t.push(this.array_[n]);return t};var po=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};po.prototype.getCoordinate=function(){return this._minCoord},po.prototype.getRightmostSide=function(t,n){var u=this.getRightmostSideOfSegment(t,n);return u<0&&(u=this.getRightmostSideOfSegment(t,n-1)),u<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),u},po.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();at.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var n=t[this._minIndex-1],u=t[this._minIndex+1],c=Le.computeOrientation(this._minCoord,u,n),f=!1;(n.y<this._minCoord.y&&u.y<this._minCoord.y&&c===Le.COUNTERCLOCKWISE||n.y>this._minCoord.y&&u.y>this._minCoord.y&&c===Le.CLOCKWISE)&&(f=!0),f&&(this._minIndex=this._minIndex-1)},po.prototype.getRightmostSideOfSegment=function(t,n){var u=t.getEdge().getCoordinates();if(n<0||n+1>=u.length||u[n].y===u[n+1].y)return-1;var c=Me.LEFT;return u[n].y<u[n+1].y&&(c=Me.RIGHT),c},po.prototype.getEdge=function(){return this._orientedDe},po.prototype.checkForRightmostCoordinate=function(t){for(var n=t.getEdge().getCoordinates(),u=0;u<n.length-1;u++)(this._minCoord===null||n[u].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=u,this._minCoord=n[u])},po.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},po.prototype.findEdge=function(t){for(var n=t.iterator();n.hasNext();){var u=n.next();u.isForward()&&this.checkForRightmostCoordinate(u)}at.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Me.LEFT&&(this._orientedDe=this._minDe.getSym())},po.prototype.interfaces_=function(){return[]},po.prototype.getClass=function(){return po};var zo=function(t){function n(u,c){t.call(this,n.msgWithCoord(u,c)),this.pt=c?new B(c):null,this.name="TopologyException"}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.getCoordinate=function(){return this.pt},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n.msgWithCoord=function(u,c){return c?u:u+" [ "+c+" ]"},n}(ur),fa=function(){this.array_=[]};fa.prototype.addLast=function(t){this.array_.push(t)},fa.prototype.removeFirst=function(){return this.array_.shift()},fa.prototype.isEmpty=function(){return this.array_.length===0};var er=function(){this._finder=null,this._dirEdgeList=new ue,this._nodes=new ue,this._rightMostCoord=null,this._env=null,this._finder=new po};er.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},er.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},er.prototype.computeNodeDepth=function(t){for(var n=null,u=t.getEdges().iterator();u.hasNext();){var c=u.next();if(c.isVisited()||c.getSym().isVisited()){n=c;break}}if(n===null)throw new zo("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(n);for(var f=t.getEdges().iterator();f.hasNext();){var _=f.next();_.setVisited(!0),this.copySymDepths(_)}},er.prototype.computeDepth=function(t){this.clearVisitedEdges();var n=this._finder.getEdge();n.setEdgeDepths(Me.RIGHT,t),this.copySymDepths(n),this.computeDepths(n)},er.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},er.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var n=t.next();n.getDepth(Me.RIGHT)>=1&&n.getDepth(Me.LEFT)<=0&&!n.isInteriorAreaEdge()&&n.setInResult(!0)}},er.prototype.computeDepths=function(t){var n=new Jn,u=new fa,c=t.getNode();for(u.addLast(c),n.add(c),t.setVisited(!0);!u.isEmpty();){var f=u.removeFirst();n.add(f),this.computeNodeDepth(f);for(var _=f.getEdges().iterator();_.hasNext();){var x=_.next().getSym();if(!x.isVisited()){var M=x.getNode();n.contains(M)||(u.addLast(M),n.add(M))}}}},er.prototype.compareTo=function(t){var n=t;return this._rightMostCoord.x<n._rightMostCoord.x?-1:this._rightMostCoord.x>n._rightMostCoord.x?1:0},er.prototype.getEnvelope=function(){if(this._env===null){for(var t=new ze,n=this._dirEdgeList.iterator();n.hasNext();)for(var u=n.next().getEdge().getCoordinates(),c=0;c<u.length-1;c++)t.expandToInclude(u[c]);this._env=t}return this._env},er.prototype.addReachable=function(t){var n=new S;for(n.add(t);!n.empty();){var u=n.pop();this.add(u,n)}},er.prototype.copySymDepths=function(t){var n=t.getSym();n.setDepth(Me.LEFT,t.getDepth(Me.RIGHT)),n.setDepth(Me.RIGHT,t.getDepth(Me.LEFT))},er.prototype.add=function(t,n){t.setVisited(!0),this._nodes.add(t);for(var u=t.getEdges().iterator();u.hasNext();){var c=u.next();this._dirEdgeList.add(c);var f=c.getSym().getNode();f.isVisited()||n.push(f)}},er.prototype.getNodes=function(){return this._nodes},er.prototype.getDirectedEdges=function(){return this._dirEdgeList},er.prototype.interfaces_=function(){return[ee]},er.prototype.getClass=function(){return er};var Fi=function t(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];this.init(n.length)}else if(Number.isInteger(arguments[0])){var u=arguments[0];this.init(1),this.location[Me.ON]=u}else if(arguments[0]instanceof t){var c=arguments[0];if(this.init(c.location.length),c!==null)for(var f=0;f<this.location.length;f++)this.location[f]=c.location[f]}}else if(arguments.length===3){var _=arguments[0],x=arguments[1],M=arguments[2];this.init(3),this.location[Me.ON]=_,this.location[Me.LEFT]=x,this.location[Me.RIGHT]=M}};Fi.prototype.setAllLocations=function(t){for(var n=0;n<this.location.length;n++)this.location[n]=t},Fi.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==W.NONE)return!1;return!0},Fi.prototype.setAllLocationsIfNull=function(t){for(var n=0;n<this.location.length;n++)this.location[n]===W.NONE&&(this.location[n]=t)},Fi.prototype.isLine=function(){return this.location.length===1},Fi.prototype.merge=function(t){if(t.location.length>this.location.length){var n=new Array(3).fill(null);n[Me.ON]=this.location[Me.ON],n[Me.LEFT]=W.NONE,n[Me.RIGHT]=W.NONE,this.location=n}for(var u=0;u<this.location.length;u++)this.location[u]===W.NONE&&u<t.location.length&&(this.location[u]=t.location[u])},Fi.prototype.getLocations=function(){return this.location},Fi.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Me.LEFT];this.location[Me.LEFT]=this.location[Me.RIGHT],this.location[Me.RIGHT]=t},Fi.prototype.toString=function(){var t=new Ht;return this.location.length>1&&t.append(W.toLocationSymbol(this.location[Me.LEFT])),t.append(W.toLocationSymbol(this.location[Me.ON])),this.location.length>1&&t.append(W.toLocationSymbol(this.location[Me.RIGHT])),t.toString()},Fi.prototype.setLocations=function(t,n,u){this.location[Me.ON]=t,this.location[Me.LEFT]=n,this.location[Me.RIGHT]=u},Fi.prototype.get=function(t){return t<this.location.length?this.location[t]:W.NONE},Fi.prototype.isArea=function(){return this.location.length>1},Fi.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===W.NONE)return!0;return!1},Fi.prototype.setLocation=function(){if(arguments.length===1){var t=arguments[0];this.setLocation(Me.ON,t)}else if(arguments.length===2){var n=arguments[0],u=arguments[1];this.location[n]=u}},Fi.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(W.NONE)},Fi.prototype.isEqualOnSide=function(t,n){return this.location[n]===t.location[n]},Fi.prototype.allPositionsEqual=function(t){for(var n=0;n<this.location.length;n++)if(this.location[n]!==t)return!1;return!0},Fi.prototype.interfaces_=function(){return[]},Fi.prototype.getClass=function(){return Fi};var Nt=function t(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var n=arguments[0];this.elt[0]=new Fi(n),this.elt[1]=new Fi(n)}else if(arguments[0]instanceof t){var u=arguments[0];this.elt[0]=new Fi(u.elt[0]),this.elt[1]=new Fi(u.elt[1])}}else if(arguments.length===2){var c=arguments[0],f=arguments[1];this.elt[0]=new Fi(W.NONE),this.elt[1]=new Fi(W.NONE),this.elt[c].setLocation(f)}else if(arguments.length===3){var _=arguments[0],x=arguments[1],M=arguments[2];this.elt[0]=new Fi(_,x,M),this.elt[1]=new Fi(_,x,M)}else if(arguments.length===4){var V=arguments[0],Q=arguments[1],ce=arguments[2],he=arguments[3];this.elt[0]=new Fi(W.NONE,W.NONE,W.NONE),this.elt[1]=new Fi(W.NONE,W.NONE,W.NONE),this.elt[V].setLocations(Q,ce,he)}};Nt.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},Nt.prototype.setAllLocations=function(t,n){this.elt[t].setAllLocations(n)},Nt.prototype.isNull=function(t){return this.elt[t].isNull()},Nt.prototype.setAllLocationsIfNull=function(){if(arguments.length===1){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(arguments.length===2){var n=arguments[0],u=arguments[1];this.elt[n].setAllLocationsIfNull(u)}},Nt.prototype.isLine=function(t){return this.elt[t].isLine()},Nt.prototype.merge=function(t){for(var n=0;n<2;n++)this.elt[n]===null&&t.elt[n]!==null?this.elt[n]=new Fi(t.elt[n]):this.elt[n].merge(t.elt[n])},Nt.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Nt.prototype.getLocation=function(){if(arguments.length===1){var t=arguments[0];return this.elt[t].get(Me.ON)}if(arguments.length===2){var n=arguments[0],u=arguments[1];return this.elt[n].get(u)}},Nt.prototype.toString=function(){var t=new Ht;return this.elt[0]!==null&&(t.append("A:"),t.append(this.elt[0].toString())),this.elt[1]!==null&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},Nt.prototype.isArea=function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var t=arguments[0];return this.elt[t].isArea()}},Nt.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},Nt.prototype.setLocation=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];this.elt[t].setLocation(Me.ON,n)}else if(arguments.length===3){var u=arguments[0],c=arguments[1],f=arguments[2];this.elt[u].setLocation(c,f)}},Nt.prototype.isEqualOnSide=function(t,n){return this.elt[0].isEqualOnSide(t.elt[0],n)&&this.elt[1].isEqualOnSide(t.elt[1],n)},Nt.prototype.allPositionsEqual=function(t,n){return this.elt[t].allPositionsEqual(n)},Nt.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new Fi(this.elt[t].location[0]))},Nt.prototype.interfaces_=function(){return[]},Nt.prototype.getClass=function(){return Nt},Nt.toLineLabel=function(t){for(var n=new Nt(W.NONE),u=0;u<2;u++)n.setLocation(u,t.getLocation(u));return n};var pn=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new ue,this._pts=new ue,this._label=new Nt(W.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new ue,this._geometryFactory=null;var t=arguments[0],n=arguments[1];this._geometryFactory=n,this.computePoints(t),this.computeRing()};pn.prototype.computeRing=function(){if(this._ring!==null)return null;for(var t=new Array(this._pts.size()).fill(null),n=0;n<this._pts.size();n++)t[n]=this._pts.get(n);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=Le.isCCW(this._ring.getCoordinates())},pn.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},pn.prototype.computePoints=function(t){this._startDe=t;var n=t,u=!0;do{if(n===null)throw new zo("Found null DirectedEdge");if(n.getEdgeRing()===this)throw new zo("Directed Edge visited twice during ring-building at "+n.getCoordinate());this._edges.add(n);var c=n.getLabel();at.isTrue(c.isArea()),this.mergeLabel(c),this.addPoints(n.getEdge(),n.isForward(),u),u=!1,this.setEdgeRing(n,this),n=this.getNext(n)}while(n!==this._startDe)},pn.prototype.getLinearRing=function(){return this._ring},pn.prototype.getCoordinate=function(t){return this._pts.get(t)},pn.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var n=t.getNode().getEdges().getOutgoingDegree(this);n>this._maxNodeDegree&&(this._maxNodeDegree=n),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},pn.prototype.addPoints=function(t,n,u){var c=t.getCoordinates();if(n){var f=1;u&&(f=0);for(var _=f;_<c.length;_++)this._pts.add(c[_])}else{var x=c.length-2;u&&(x=c.length-1);for(var M=x;M>=0;M--)this._pts.add(c[M])}},pn.prototype.isHole=function(){return this._isHole},pn.prototype.setInResult=function(){var t=this._startDe;do t.getEdge().setInResult(!0),t=t.getNext();while(t!==this._startDe)},pn.prototype.containsPoint=function(t){var n=this.getLinearRing();if(!n.getEnvelopeInternal().contains(t)||!Le.isPointInRing(t,n.getCoordinates()))return!1;for(var u=this._holes.iterator();u.hasNext();)if(u.next().containsPoint(t))return!1;return!0},pn.prototype.addHole=function(t){this._holes.add(t)},pn.prototype.isShell=function(){return this._shell===null},pn.prototype.getLabel=function(){return this._label},pn.prototype.getEdges=function(){return this._edges},pn.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},pn.prototype.getShell=function(){return this._shell},pn.prototype.mergeLabel=function(){if(arguments.length===1){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(arguments.length===2){var n=arguments[0],u=arguments[1],c=n.getLocation(u,Me.RIGHT);if(c===W.NONE)return null;if(this._label.getLocation(u)===W.NONE)return this._label.setLocation(u,c),null}},pn.prototype.setShell=function(t){this._shell=t,t!==null&&t.addHole(this)},pn.prototype.toPolygon=function(t){for(var n=new Array(this._holes.size()).fill(null),u=0;u<this._holes.size();u++)n[u]=this._holes.get(u).getLinearRing();return t.createPolygon(this.getLinearRing(),n)},pn.prototype.interfaces_=function(){return[]},pn.prototype.getClass=function(){return pn};var hu=function(t){function n(){var u=arguments[0],c=arguments[1];t.call(this,u,c)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.setEdgeRing=function(u,c){u.setMinEdgeRing(c)},n.prototype.getNext=function(u){return u.getNextMin()},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(pn),bp=function(t){function n(){var u=arguments[0],c=arguments[1];t.call(this,u,c)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.buildMinimalRings=function(){var u=new ue,c=this._startDe;do{if(c.getMinEdgeRing()===null){var f=new hu(c,this._geometryFactory);u.add(f)}c=c.getNext()}while(c!==this._startDe);return u},n.prototype.setEdgeRing=function(u,c){u.setEdgeRing(c)},n.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var u=this._startDe;do u.getNode().getEdges().linkMinimalDirectedEdges(this),u=u.getNext();while(u!==this._startDe)},n.prototype.getNext=function(u){return u.getNext()},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(pn),lt=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this._label=t}}};lt.prototype.setVisited=function(t){this._isVisited=t},lt.prototype.setInResult=function(t){this._isInResult=t},lt.prototype.isCovered=function(){return this._isCovered},lt.prototype.isCoveredSet=function(){return this._isCoveredSet},lt.prototype.setLabel=function(t){this._label=t},lt.prototype.getLabel=function(){return this._label},lt.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},lt.prototype.updateIM=function(t){at.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},lt.prototype.isInResult=function(){return this._isInResult},lt.prototype.isVisited=function(){return this._isVisited},lt.prototype.interfaces_=function(){return[]},lt.prototype.getClass=function(){return lt};var So=function(t){function n(){t.call(this),this._coord=null,this._edges=null;var u=arguments[0],c=arguments[1];this._coord=u,this._edges=c,this._label=new Nt(0,W.NONE)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.isIncidentEdgeInResult=function(){for(var u=this.getEdges().getEdges().iterator();u.hasNext();)if(u.next().getEdge().isInResult())return!0;return!1},n.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},n.prototype.getCoordinate=function(){return this._coord},n.prototype.print=function(u){u.println("node "+this._coord+" lbl: "+this._label)},n.prototype.computeIM=function(u){},n.prototype.computeMergedLocation=function(u,c){var f=W.NONE;if(f=this._label.getLocation(c),!u.isNull(c)){var _=u.getLocation(c);f!==W.BOUNDARY&&(f=_)}return f},n.prototype.setLabel=function(){if(arguments.length!==2)return t.prototype.setLabel.apply(this,arguments);var u=arguments[0],c=arguments[1];this._label===null?this._label=new Nt(u,c):this._label.setLocation(u,c)},n.prototype.getEdges=function(){return this._edges},n.prototype.mergeLabel=function(){if(arguments[0]instanceof n){var u=arguments[0];this.mergeLabel(u._label)}else if(arguments[0]instanceof Nt)for(var c=arguments[0],f=0;f<2;f++){var _=this.computeMergedLocation(c,f);this._label.getLocation(f)===W.NONE&&this._label.setLocation(f,_)}},n.prototype.add=function(u){this._edges.insert(u),u.setNode(this)},n.prototype.setLabelBoundary=function(u){if(this._label===null)return null;var c=W.NONE;this._label!==null&&(c=this._label.getLocation(u));var f=null;switch(c){case W.BOUNDARY:f=W.INTERIOR;break;case W.INTERIOR:default:f=W.BOUNDARY}this._label.setLocation(u,f)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(lt),Kt=function(){this.nodeMap=new R,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};Kt.prototype.find=function(t){return this.nodeMap.get(t)},Kt.prototype.addNode=function(){if(arguments[0]instanceof B){var t=arguments[0],n=this.nodeMap.get(t);return n===null&&(n=this.nodeFact.createNode(t),this.nodeMap.put(t,n)),n}if(arguments[0]instanceof So){var u=arguments[0],c=this.nodeMap.get(u.getCoordinate());return c===null?(this.nodeMap.put(u.getCoordinate(),u),u):(c.mergeLabel(u),c)}},Kt.prototype.print=function(t){for(var n=this.iterator();n.hasNext();)n.next().print(t)},Kt.prototype.iterator=function(){return this.nodeMap.values().iterator()},Kt.prototype.values=function(){return this.nodeMap.values()},Kt.prototype.getBoundaryNodes=function(t){for(var n=new ue,u=this.iterator();u.hasNext();){var c=u.next();c.getLabel().getLocation(t)===W.BOUNDARY&&n.add(c)}return n},Kt.prototype.add=function(t){var n=t.getCoordinate();this.addNode(n).add(t)},Kt.prototype.interfaces_=function(){return[]},Kt.prototype.getClass=function(){return Kt};var Li=function(){},da={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Li.prototype.interfaces_=function(){return[]},Li.prototype.getClass=function(){return Li},Li.isNorthern=function(t){return t===Li.NE||t===Li.NW},Li.isOpposite=function(t,n){return t===n?!1:(t-n+4)%4===2},Li.commonHalfPlane=function(t,n){if(t===n)return t;if((t-n+4)%4===2)return-1;var u=t<n?t:n;return u===0&&(t>n?t:n)===3?3:u},Li.isInHalfPlane=function(t,n){return n===Li.SE?t===Li.SE||t===Li.SW:t===n||t===n+1},Li.quadrant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],n=arguments[1];if(t===0&&n===0)throw new N("Cannot compute the quadrant for point ( "+t+", "+n+" )");return t>=0?n>=0?Li.NE:Li.SE:n>=0?Li.NW:Li.SW}if(arguments[0]instanceof B&&arguments[1]instanceof B){var u=arguments[0],c=arguments[1];if(c.x===u.x&&c.y===u.y)throw new N("Cannot compute the quadrant for two identical points "+u);return c.x>=u.x?c.y>=u.y?Li.NE:Li.SE:c.y>=u.y?Li.NW:Li.SW}},da.NE.get=function(){return 0},da.NW.get=function(){return 1},da.SW.get=function(){return 2},da.SE.get=function(){return 3},Object.defineProperties(Li,da);var Hn=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var t=arguments[0];this._edge=t}else if(arguments.length===3){var n=arguments[0],u=arguments[1],c=arguments[2];this._edge=n,this.init(u,c),this._label=null}else if(arguments.length===4){var f=arguments[0],_=arguments[1],x=arguments[2],M=arguments[3];this._edge=f,this.init(_,x),this._label=M}};Hn.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:Le.computeOrientation(t._p0,t._p1,this._p1)},Hn.prototype.getDy=function(){return this._dy},Hn.prototype.getCoordinate=function(){return this._p0},Hn.prototype.setNode=function(t){this._node=t},Hn.prototype.print=function(t){var n=Math.atan2(this._dy,this._dx),u=this.getClass().getName(),c=u.lastIndexOf("."),f=u.substring(c+1);t.print("  "+f+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+n+"   "+this._label)},Hn.prototype.compareTo=function(t){var n=t;return this.compareDirection(n)},Hn.prototype.getDirectedCoordinate=function(){return this._p1},Hn.prototype.getDx=function(){return this._dx},Hn.prototype.getLabel=function(){return this._label},Hn.prototype.getEdge=function(){return this._edge},Hn.prototype.getQuadrant=function(){return this._quadrant},Hn.prototype.getNode=function(){return this._node},Hn.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),u=n.lastIndexOf(".");return"  "+n.substring(u+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},Hn.prototype.computeLabel=function(t){},Hn.prototype.init=function(t,n){this._p0=t,this._p1=n,this._dx=n.x-t.x,this._dy=n.y-t.y,this._quadrant=Li.quadrant(this._dx,this._dy),at.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")},Hn.prototype.interfaces_=function(){return[ee]},Hn.prototype.getClass=function(){return Hn};var rl=function(t){function n(){var u=arguments[0],c=arguments[1];if(t.call(this,u),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=c,c)this.init(u.getCoordinate(0),u.getCoordinate(1));else{var f=u.getNumPoints()-1;this.init(u.getCoordinate(f),u.getCoordinate(f-1))}this.computeDirectedLabel()}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.getNextMin=function(){return this._nextMin},n.prototype.getDepth=function(u){return this._depth[u]},n.prototype.setVisited=function(u){this._isVisited=u},n.prototype.computeDirectedLabel=function(){this._label=new Nt(this._edge.getLabel()),this._isForward||this._label.flip()},n.prototype.getNext=function(){return this._next},n.prototype.setDepth=function(u,c){if(this._depth[u]!==-999&&this._depth[u]!==c)throw new zo("assigned depths do not match",this.getCoordinate());this._depth[u]=c},n.prototype.isInteriorAreaEdge=function(){for(var u=!0,c=0;c<2;c++)this._label.isArea(c)&&this._label.getLocation(c,Me.LEFT)===W.INTERIOR&&this._label.getLocation(c,Me.RIGHT)===W.INTERIOR||(u=!1);return u},n.prototype.setNextMin=function(u){this._nextMin=u},n.prototype.print=function(u){t.prototype.print.call(this,u),u.print(" "+this._depth[Me.LEFT]+"/"+this._depth[Me.RIGHT]),u.print(" ("+this.getDepthDelta()+")"),this._isInResult&&u.print(" inResult")},n.prototype.setMinEdgeRing=function(u){this._minEdgeRing=u},n.prototype.isLineEdge=function(){var u=this._label.isLine(0)||this._label.isLine(1),c=!this._label.isArea(0)||this._label.allPositionsEqual(0,W.EXTERIOR),f=!this._label.isArea(1)||this._label.allPositionsEqual(1,W.EXTERIOR);return u&&c&&f},n.prototype.setEdgeRing=function(u){this._edgeRing=u},n.prototype.getMinEdgeRing=function(){return this._minEdgeRing},n.prototype.getDepthDelta=function(){var u=this._edge.getDepthDelta();return this._isForward||(u=-u),u},n.prototype.setInResult=function(u){this._isInResult=u},n.prototype.getSym=function(){return this._sym},n.prototype.isForward=function(){return this._isForward},n.prototype.getEdge=function(){return this._edge},n.prototype.printEdge=function(u){this.print(u),u.print(" "),this._isForward?this._edge.print(u):this._edge.printReverse(u)},n.prototype.setSym=function(u){this._sym=u},n.prototype.setVisitedEdge=function(u){this.setVisited(u),this._sym.setVisited(u)},n.prototype.setEdgeDepths=function(u,c){var f=this.getEdge().getDepthDelta();this._isForward||(f=-f);var _=1;u===Me.LEFT&&(_=-1);var x=Me.opposite(u),M=c+f*_;this.setDepth(u,c),this.setDepth(x,M)},n.prototype.getEdgeRing=function(){return this._edgeRing},n.prototype.isInResult=function(){return this._isInResult},n.prototype.setNext=function(u){this._next=u},n.prototype.isVisited=function(){return this._isVisited},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n.depthFactor=function(u,c){return u===W.EXTERIOR&&c===W.INTERIOR?1:u===W.INTERIOR&&c===W.EXTERIOR?-1:0},n}(Hn),Ho=function(){};Ho.prototype.createNode=function(t){return new So(t,null)},Ho.prototype.interfaces_=function(){return[]},Ho.prototype.getClass=function(){return Ho};var Ui=function(){if(this._edges=new ue,this._nodes=null,this._edgeEndList=new ue,arguments.length===0)this._nodes=new Kt(new Ho);else if(arguments.length===1){var t=arguments[0];this._nodes=new Kt(t)}};Ui.prototype.printEdges=function(t){t.println("Edges:");for(var n=0;n<this._edges.size();n++){t.println("edge "+n+":");var u=this._edges.get(n);u.print(t),u.eiList.print(t)}},Ui.prototype.find=function(t){return this._nodes.find(t)},Ui.prototype.addNode=function(){if(arguments[0]instanceof So){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof B){var n=arguments[0];return this._nodes.addNode(n)}},Ui.prototype.getNodeIterator=function(){return this._nodes.iterator()},Ui.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},Ui.prototype.debugPrintln=function(t){Gt.out.println(t)},Ui.prototype.isBoundaryNode=function(t,n){var u=this._nodes.find(n);if(u===null)return!1;var c=u.getLabel();return c!==null&&c.getLocation(t)===W.BOUNDARY},Ui.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},Ui.prototype.matchInSameDirection=function(t,n,u,c){return!!t.equals(u)&&Le.computeOrientation(t,n,c)===Le.COLLINEAR&&Li.quadrant(t,n)===Li.quadrant(u,c)},Ui.prototype.getEdgeEnds=function(){return this._edgeEndList},Ui.prototype.debugPrint=function(t){Gt.out.print(t)},Ui.prototype.getEdgeIterator=function(){return this._edges.iterator()},Ui.prototype.findEdgeInSameDirection=function(t,n){for(var u=0;u<this._edges.size();u++){var c=this._edges.get(u),f=c.getCoordinates();if(this.matchInSameDirection(t,n,f[0],f[1])||this.matchInSameDirection(t,n,f[f.length-1],f[f.length-2]))return c}return null},Ui.prototype.insertEdge=function(t){this._edges.add(t)},Ui.prototype.findEdgeEnd=function(t){for(var n=this.getEdgeEnds().iterator();n.hasNext();){var u=n.next();if(u.getEdge()===t)return u}return null},Ui.prototype.addEdges=function(t){for(var n=t.iterator();n.hasNext();){var u=n.next();this._edges.add(u);var c=new rl(u,!0),f=new rl(u,!1);c.setSym(f),f.setSym(c),this.add(c),this.add(f)}},Ui.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},Ui.prototype.getNodes=function(){return this._nodes.values()},Ui.prototype.findEdge=function(t,n){for(var u=0;u<this._edges.size();u++){var c=this._edges.get(u),f=c.getCoordinates();if(t.equals(f[0])&&n.equals(f[1]))return c}return null},Ui.prototype.interfaces_=function(){return[]},Ui.prototype.getClass=function(){return Ui},Ui.linkResultDirectedEdges=function(t){for(var n=t.iterator();n.hasNext();)n.next().getEdges().linkResultDirectedEdges()};var tr=function(){this._geometryFactory=null,this._shellList=new ue;var t=arguments[0];this._geometryFactory=t};tr.prototype.sortShellsAndHoles=function(t,n,u){for(var c=t.iterator();c.hasNext();){var f=c.next();f.isHole()?u.add(f):n.add(f)}},tr.prototype.computePolygons=function(t){for(var n=new ue,u=t.iterator();u.hasNext();){var c=u.next().toPolygon(this._geometryFactory);n.add(c)}return n},tr.prototype.placeFreeHoles=function(t,n){for(var u=n.iterator();u.hasNext();){var c=u.next();if(c.getShell()===null){var f=this.findEdgeRingContaining(c,t);if(f===null)throw new zo("unable to assign hole to a shell",c.getCoordinate(0));c.setShell(f)}}},tr.prototype.buildMinimalEdgeRings=function(t,n,u){for(var c=new ue,f=t.iterator();f.hasNext();){var _=f.next();if(_.getMaxNodeDegree()>2){_.linkDirectedEdgesForMinimalEdgeRings();var x=_.buildMinimalRings(),M=this.findShell(x);M!==null?(this.placePolygonHoles(M,x),n.add(M)):u.addAll(x)}else c.add(_)}return c},tr.prototype.containsPoint=function(t){for(var n=this._shellList.iterator();n.hasNext();)if(n.next().containsPoint(t))return!0;return!1},tr.prototype.buildMaximalEdgeRings=function(t){for(var n=new ue,u=t.iterator();u.hasNext();){var c=u.next();if(c.isInResult()&&c.getLabel().isArea()&&c.getEdgeRing()===null){var f=new bp(c,this._geometryFactory);n.add(f),f.setInResult()}}return n},tr.prototype.placePolygonHoles=function(t,n){for(var u=n.iterator();u.hasNext();){var c=u.next();c.isHole()&&c.setShell(t)}},tr.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},tr.prototype.findEdgeRingContaining=function(t,n){for(var u=t.getLinearRing(),c=u.getEnvelopeInternal(),f=u.getCoordinateN(0),_=null,x=null,M=n.iterator();M.hasNext();){var V=M.next(),Q=V.getLinearRing(),ce=Q.getEnvelopeInternal();_!==null&&(x=_.getLinearRing().getEnvelopeInternal());var he=!1;ce.contains(c)&&Le.isPointInRing(f,Q.getCoordinates())&&(he=!0),he&&(_===null||x.contains(ce))&&(_=V)}return _},tr.prototype.findShell=function(t){for(var n=0,u=null,c=t.iterator();c.hasNext();){var f=c.next();f.isHole()||(u=f,n++)}return at.isTrue(n<=1,"found two shells in MinimalEdgeRing list"),u},tr.prototype.add=function(){if(arguments.length===1){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(arguments.length===2){var n=arguments[0],u=arguments[1];Ui.linkResultDirectedEdges(u);var c=this.buildMaximalEdgeRings(n),f=new ue,_=this.buildMinimalEdgeRings(c,this._shellList,f);this.sortShellsAndHoles(_,this._shellList,f),this.placeFreeHoles(this._shellList,f)}},tr.prototype.interfaces_=function(){return[]},tr.prototype.getClass=function(){return tr};var Fn=function(){};Fn.prototype.getBounds=function(){},Fn.prototype.interfaces_=function(){return[]},Fn.prototype.getClass=function(){return Fn};var cr=function(){this._bounds=null,this._item=null;var t=arguments[0],n=arguments[1];this._bounds=t,this._item=n};cr.prototype.getItem=function(){return this._item},cr.prototype.getBounds=function(){return this._bounds},cr.prototype.interfaces_=function(){return[Fn,s]},cr.prototype.getClass=function(){return cr};var ts=function(){this._size=null,this._items=null,this._size=0,this._items=new ue,this._items.add(null)};ts.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},ts.prototype.size=function(){return this._size},ts.prototype.reorder=function(t){for(var n=null,u=this._items.get(t);2*t<=this._size&&((n=2*t)!==this._size&&this._items.get(n+1).compareTo(this._items.get(n))<0&&n++,this._items.get(n).compareTo(u)<0);t=n)this._items.set(t,this._items.get(n));this._items.set(t,u)},ts.prototype.clear=function(){this._size=0,this._items.clear()},ts.prototype.isEmpty=function(){return this._size===0},ts.prototype.add=function(t){this._items.add(null),this._size+=1;var n=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(n/2)))<0;n/=2)this._items.set(n,this._items.get(Math.trunc(n/2)));this._items.set(n,t)},ts.prototype.interfaces_=function(){return[]},ts.prototype.getClass=function(){return ts};var vs=function(){};vs.prototype.visitItem=function(t){},vs.prototype.interfaces_=function(){return[]},vs.prototype.getClass=function(){return vs};var ma=function(){};ma.prototype.insert=function(t,n){},ma.prototype.remove=function(t,n){},ma.prototype.query=function(){},ma.prototype.interfaces_=function(){return[]},ma.prototype.getClass=function(){return ma};var _n=function(){if(this._childBoundables=new ue,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this._level=t}}},kl={serialVersionUID:{configurable:!0}};_n.prototype.getLevel=function(){return this._level},_n.prototype.size=function(){return this._childBoundables.size()},_n.prototype.getChildBoundables=function(){return this._childBoundables},_n.prototype.addChildBoundable=function(t){at.isTrue(this._bounds===null),this._childBoundables.add(t)},_n.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},_n.prototype.getBounds=function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds},_n.prototype.interfaces_=function(){return[Fn,s]},_n.prototype.getClass=function(){return _n},kl.serialVersionUID.get=function(){return 6493722185909574e3},Object.defineProperties(_n,kl);var To=function(){};To.reverseOrder=function(){return{compare:function(t,n){return n.compareTo(t)}}},To.min=function(t){return To.sort(t),t.get(0)},To.sort=function(t,n){var u=t.toArray();n?Ji.sort(u,n):Ji.sort(u);for(var c=t.iterator(),f=0,_=u.length;f<_;f++)c.next(),c.set(u[f])},To.singletonList=function(t){var n=new ue;return n.add(t),n};var hn=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],n=arguments[1],u=arguments[2];this._boundable1=t,this._boundable2=n,this._itemDistance=u,this._distance=this.distance()};hn.prototype.expandToQueue=function(t,n){var u=hn.isComposite(this._boundable1),c=hn.isComposite(this._boundable2);if(u&&c)return hn.area(this._boundable1)>hn.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,n),null):(this.expand(this._boundable2,this._boundable1,t,n),null);if(u)return this.expand(this._boundable1,this._boundable2,t,n),null;if(c)return this.expand(this._boundable2,this._boundable1,t,n),null;throw new N("neither boundable is composite")},hn.prototype.isLeaves=function(){return!(hn.isComposite(this._boundable1)||hn.isComposite(this._boundable2))},hn.prototype.compareTo=function(t){var n=t;return this._distance<n._distance?-1:this._distance>n._distance?1:0},hn.prototype.expand=function(t,n,u,c){for(var f=t.getChildBoundables().iterator();f.hasNext();){var _=f.next(),x=new hn(_,n,this._itemDistance);x.getDistance()<c&&u.add(x)}},hn.prototype.getBoundable=function(t){return t===0?this._boundable1:this._boundable2},hn.prototype.getDistance=function(){return this._distance},hn.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},hn.prototype.interfaces_=function(){return[ee]},hn.prototype.getClass=function(){return hn},hn.area=function(t){return t.getBounds().getArea()},hn.isComposite=function(t){return t instanceof _n};var ht=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new ue,this._nodeCapacity=null,arguments.length===0){var n=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=n}else if(arguments.length===1){var u=arguments[0];at.isTrue(u>1,"Node capacity must be greater than 1"),this._nodeCapacity=u}},Dl={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};ht.prototype.getNodeCapacity=function(){return this._nodeCapacity},ht.prototype.lastNode=function(t){return t.get(t.size()-1)},ht.prototype.size=function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var t=0,n=arguments[0].getChildBoundables().iterator();n.hasNext();){var u=n.next();u instanceof _n?t+=this.size(u):u instanceof cr&&(t+=1)}return t}},ht.prototype.removeItem=function(t,n){for(var u=null,c=t.getChildBoundables().iterator();c.hasNext();){var f=c.next();f instanceof cr&&f.getItem()===n&&(u=f)}return u!==null&&(t.getChildBoundables().remove(u),!0)},ht.prototype.itemsTree=function(){if(arguments.length===0){this.build();var t=this.itemsTree(this._root);return t===null?new ue:t}if(arguments.length===1){for(var n=arguments[0],u=new ue,c=n.getChildBoundables().iterator();c.hasNext();){var f=c.next();if(f instanceof _n){var _=this.itemsTree(f);_!==null&&u.add(_)}else f instanceof cr?u.add(f.getItem()):at.shouldNeverReachHere()}return u.size()<=0?null:u}},ht.prototype.insert=function(t,n){at.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new cr(t,n))},ht.prototype.boundablesAtLevel=function(){if(arguments.length===1){var t=arguments[0],n=new ue;return this.boundablesAtLevel(t,this._root,n),n}if(arguments.length===3){var u=arguments[0],c=arguments[1],f=arguments[2];if(at.isTrue(u>-2),c.getLevel()===u)return f.add(c),null;for(var _=c.getChildBoundables().iterator();_.hasNext();){var x=_.next();x instanceof _n?this.boundablesAtLevel(u,x,f):(at.isTrue(x instanceof cr),u===-1&&f.add(x))}return null}},ht.prototype.query=function(){if(arguments.length===1){var t=arguments[0];this.build();var n=new ue;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,n),n}if(arguments.length===2){var u=arguments[0],c=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),u)&&this.query(u,this._root,c)}else if(arguments.length===3){if(Ie(arguments[2],vs)&&arguments[0]instanceof Object&&arguments[1]instanceof _n)for(var f=arguments[0],_=arguments[1],x=arguments[2],M=_.getChildBoundables(),V=0;V<M.size();V++){var Q=M.get(V);this.getIntersectsOp().intersects(Q.getBounds(),f)&&(Q instanceof _n?this.query(f,Q,x):Q instanceof cr?x.visitItem(Q.getItem()):at.shouldNeverReachHere())}else if(Ie(arguments[2],me)&&arguments[0]instanceof Object&&arguments[1]instanceof _n)for(var ce=arguments[0],he=arguments[1],ke=arguments[2],De=he.getChildBoundables(),Xe=0;Xe<De.size();Xe++){var ot=De.get(Xe);this.getIntersectsOp().intersects(ot.getBounds(),ce)&&(ot instanceof _n?this.query(ce,ot,ke):ot instanceof cr?ke.add(ot.getItem()):at.shouldNeverReachHere())}}},ht.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},ht.prototype.getRoot=function(){return this.build(),this._root},ht.prototype.remove=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,n)}if(arguments.length===3){var u=arguments[0],c=arguments[1],f=arguments[2],_=this.removeItem(c,f);if(_)return!0;for(var x=null,M=c.getChildBoundables().iterator();M.hasNext();){var V=M.next();if(this.getIntersectsOp().intersects(V.getBounds(),u)&&V instanceof _n&&(_=this.remove(u,V,f))){x=V;break}}return x!==null&&x.getChildBoundables().isEmpty()&&c.getChildBoundables().remove(x),_}},ht.prototype.createHigherLevels=function(t,n){at.isTrue(!t.isEmpty());var u=this.createParentBoundables(t,n+1);return u.size()===1?u.get(0):this.createHigherLevels(u,n+1)},ht.prototype.depth=function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var t=0,n=arguments[0].getChildBoundables().iterator();n.hasNext();){var u=n.next();if(u instanceof _n){var c=this.depth(u);c>t&&(t=c)}}return t+1}},ht.prototype.createParentBoundables=function(t,n){at.isTrue(!t.isEmpty());var u=new ue;u.add(this.createNode(n));var c=new ue(t);To.sort(c,this.getComparator());for(var f=c.iterator();f.hasNext();){var _=f.next();this.lastNode(u).getChildBoundables().size()===this.getNodeCapacity()&&u.add(this.createNode(n)),this.lastNode(u).addChildBoundable(_)}return u},ht.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},ht.prototype.interfaces_=function(){return[s]},ht.prototype.getClass=function(){return ht},ht.compareDoubles=function(t,n){return t>n?1:t<n?-1:0},Dl.IntersectsOp.get=function(){return is},Dl.serialVersionUID.get=function(){return-3886435814360241e3},Dl.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(ht,Dl);var is=function(){},xs=function(){};xs.prototype.distance=function(t,n){},xs.prototype.interfaces_=function(){return[]},xs.prototype.getClass=function(){return xs};var fu=function(t){function n(c){c=c||n.DEFAULT_NODE_CAPACITY,t.call(this,c)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var u={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return n.prototype.createParentBoundablesFromVerticalSlices=function(c,f){at.isTrue(c.length>0);for(var _=new ue,x=0;x<c.length;x++)_.addAll(this.createParentBoundablesFromVerticalSlice(c[x],f));return _},n.prototype.createNode=function(c){return new ec(c)},n.prototype.size=function(){return arguments.length===0?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},n.prototype.insert=function(){if(arguments.length!==2)return t.prototype.insert.apply(this,arguments);var c=arguments[0],f=arguments[1];if(c.isNull())return null;t.prototype.insert.call(this,c,f)},n.prototype.getIntersectsOp=function(){return n.intersectsOp},n.prototype.verticalSlices=function(c,f){for(var _=Math.trunc(Math.ceil(c.size()/f)),x=new Array(f).fill(null),M=c.iterator(),V=0;V<f;V++){x[V]=new ue;for(var Q=0;M.hasNext()&&Q<_;){var ce=M.next();x[V].add(ce),Q++}}return x},n.prototype.query=function(){if(arguments.length===1){var c=arguments[0];return t.prototype.query.call(this,c)}if(arguments.length===2){var f=arguments[0],_=arguments[1];t.prototype.query.call(this,f,_)}else if(arguments.length===3){if(Ie(arguments[2],vs)&&arguments[0]instanceof Object&&arguments[1]instanceof _n){var x=arguments[0],M=arguments[1],V=arguments[2];t.prototype.query.call(this,x,M,V)}else if(Ie(arguments[2],me)&&arguments[0]instanceof Object&&arguments[1]instanceof _n){var Q=arguments[0],ce=arguments[1],he=arguments[2];t.prototype.query.call(this,Q,ce,he)}}},n.prototype.getComparator=function(){return n.yComparator},n.prototype.createParentBoundablesFromVerticalSlice=function(c,f){return t.prototype.createParentBoundables.call(this,c,f)},n.prototype.remove=function(){if(arguments.length===2){var c=arguments[0],f=arguments[1];return t.prototype.remove.call(this,c,f)}return t.prototype.remove.apply(this,arguments)},n.prototype.depth=function(){return arguments.length===0?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},n.prototype.createParentBoundables=function(c,f){at.isTrue(!c.isEmpty());var _=Math.trunc(Math.ceil(c.size()/this.getNodeCapacity())),x=new ue(c);To.sort(x,n.xComparator);var M=this.verticalSlices(x,Math.trunc(Math.ceil(Math.sqrt(_))));return this.createParentBoundablesFromVerticalSlices(M,f)},n.prototype.nearestNeighbour=function(){if(arguments.length===1){if(Ie(arguments[0],xs)){var c=arguments[0],f=new hn(this.getRoot(),this.getRoot(),c);return this.nearestNeighbour(f)}if(arguments[0]instanceof hn){var _=arguments[0];return this.nearestNeighbour(_,F.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0]instanceof n&&Ie(arguments[1],xs)){var x=arguments[0],M=arguments[1],V=new hn(this.getRoot(),x.getRoot(),M);return this.nearestNeighbour(V)}if(arguments[0]instanceof hn&&typeof arguments[1]=="number"){var Q=arguments[0],ce=arguments[1],he=null,ke=new ts;for(ke.add(Q);!ke.isEmpty()&&ce>0;){var De=ke.poll(),Xe=De.getDistance();if(Xe>=ce)break;De.isLeaves()?(ce=Xe,he=De):De.expandToQueue(ke,ce)}return[he.getBoundable(0).getItem(),he.getBoundable(1).getItem()]}}else if(arguments.length===3){var ot=arguments[0],Ni=arguments[1],An=arguments[2],jr=new cr(ot,Ni),Gs=new hn(this.getRoot(),jr,An);return this.nearestNeighbour(Gs)[0]}},n.prototype.interfaces_=function(){return[ma,s]},n.prototype.getClass=function(){return n},n.centreX=function(c){return n.avg(c.getMinX(),c.getMaxX())},n.avg=function(c,f){return(c+f)/2},n.centreY=function(c){return n.avg(c.getMinY(),c.getMaxY())},u.STRtreeNode.get=function(){return ec},u.serialVersionUID.get=function(){return 0x39920f7d5f261e0},u.xComparator.get=function(){return{interfaces_:function(){return[se]},compare:function(c,f){return t.compareDoubles(n.centreX(c.getBounds()),n.centreX(f.getBounds()))}}},u.yComparator.get=function(){return{interfaces_:function(){return[se]},compare:function(c,f){return t.compareDoubles(n.centreY(c.getBounds()),n.centreY(f.getBounds()))}}},u.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(c,f){return c.intersects(f)}}},u.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(n,u),n}(ht),ec=function(t){function n(){var u=arguments[0];t.call(this,u)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.computeBounds=function(){for(var u=null,c=this.getChildBoundables().iterator();c.hasNext();){var f=c.next();u===null?u=new ze(f.getBounds()):u.expandToInclude(f.getBounds())}return u},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(_n),pr=function(){};pr.prototype.interfaces_=function(){return[]},pr.prototype.getClass=function(){return pr},pr.relativeSign=function(t,n){return t<n?-1:t>n?1:0},pr.compare=function(t,n,u){if(n.equals2D(u))return 0;var c=pr.relativeSign(n.x,u.x),f=pr.relativeSign(n.y,u.y);switch(t){case 0:return pr.compareValue(c,f);case 1:return pr.compareValue(f,c);case 2:return pr.compareValue(f,-c);case 3:return pr.compareValue(-c,f);case 4:return pr.compareValue(-c,-f);case 5:return pr.compareValue(-f,-c);case 6:return pr.compareValue(-f,c);case 7:return pr.compareValue(c,-f)}return at.shouldNeverReachHere("invalid octant value"),0},pr.compareValue=function(t,n){return t<0?-1:t>0?1:n<0?-1:n>0?1:0};var Rs=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],n=arguments[1],u=arguments[2],c=arguments[3];this._segString=t,this.coord=new B(n),this.segmentIndex=u,this._segmentOctant=c,this._isInterior=!n.equals2D(t.getCoordinate(u))};Rs.prototype.getCoordinate=function(){return this.coord},Rs.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},Rs.prototype.compareTo=function(t){var n=t;return this.segmentIndex<n.segmentIndex?-1:this.segmentIndex>n.segmentIndex?1:this.coord.equals2D(n.coord)?0:pr.compare(this._segmentOctant,this.coord,n.coord)},Rs.prototype.isEndPoint=function(t){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===t},Rs.prototype.isInterior=function(){return this._isInterior},Rs.prototype.interfaces_=function(){return[ee]},Rs.prototype.getClass=function(){return Rs};var hr=function(){this._nodeMap=new R,this._edge=null;var t=arguments[0];this._edge=t};hr.prototype.getSplitCoordinates=function(){var t=new Ce;this.addEndpoints();for(var n=this.iterator(),u=n.next();n.hasNext();){var c=n.next();this.addEdgeCoordinates(u,c,t),u=c}return t.toCoordinateArray()},hr.prototype.addCollapsedNodes=function(){var t=new ue;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var n=t.iterator();n.hasNext();){var u=n.next().intValue();this.add(this._edge.getCoordinate(u),u)}},hr.prototype.print=function(t){t.println("Intersections:");for(var n=this.iterator();n.hasNext();)n.next().print(t)},hr.prototype.findCollapsesFromExistingVertices=function(t){for(var n=0;n<this._edge.size()-2;n++){var u=this._edge.getCoordinate(n),c=this._edge.getCoordinate(n+2);u.equals2D(c)&&t.add(new ye(n+1))}},hr.prototype.addEdgeCoordinates=function(t,n,u){var c=this._edge.getCoordinate(n.segmentIndex),f=n.isInterior()||!n.coord.equals2D(c);u.add(new B(t.coord),!1);for(var _=t.segmentIndex+1;_<=n.segmentIndex;_++)u.add(this._edge.getCoordinate(_));f&&u.add(new B(n.coord))},hr.prototype.iterator=function(){return this._nodeMap.values().iterator()},hr.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var n=this.iterator(),u=n.next();n.hasNext();){var c=n.next(),f=this.createSplitEdge(u,c);t.add(f),u=c}},hr.prototype.findCollapseIndex=function(t,n,u){if(!t.coord.equals2D(n.coord))return!1;var c=n.segmentIndex-t.segmentIndex;return n.isInterior()||c--,c===1&&(u[0]=t.segmentIndex+1,!0)},hr.prototype.findCollapsesFromInsertedNodes=function(t){for(var n=new Array(1).fill(null),u=this.iterator(),c=u.next();u.hasNext();){var f=u.next();this.findCollapseIndex(c,f,n)&&t.add(new ye(n[0])),c=f}},hr.prototype.getEdge=function(){return this._edge},hr.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},hr.prototype.createSplitEdge=function(t,n){var u=n.segmentIndex-t.segmentIndex+2,c=this._edge.getCoordinate(n.segmentIndex),f=n.isInterior()||!n.coord.equals2D(c);f||u--;var _=new Array(u).fill(null),x=0;_[x++]=new B(t.coord);for(var M=t.segmentIndex+1;M<=n.segmentIndex;M++)_[x++]=this._edge.getCoordinate(M);return f&&(_[x]=new B(n.coord)),new fn(_,this._edge.getData())},hr.prototype.add=function(t,n){var u=new Rs(this._edge,t,n,this._edge.getSegmentOctant(n)),c=this._nodeMap.get(u);return c!==null?(at.isTrue(c.coord.equals2D(t),"Found equal nodes with different coordinates"),c):(this._nodeMap.put(u,u),u)},hr.prototype.checkSplitEdgesCorrectness=function(t){var n=this._edge.getCoordinates(),u=t.get(0).getCoordinate(0);if(!u.equals2D(n[0]))throw new ur("bad split edge start point at "+u);var c=t.get(t.size()-1).getCoordinates(),f=c[c.length-1];if(!f.equals2D(n[n.length-1]))throw new ur("bad split edge end point at "+f)},hr.prototype.interfaces_=function(){return[]},hr.prototype.getClass=function(){return hr};var ga=function(){};ga.prototype.interfaces_=function(){return[]},ga.prototype.getClass=function(){return ga},ga.octant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],n=arguments[1];if(t===0&&n===0)throw new N("Cannot compute the octant for point ( "+t+", "+n+" )");var u=Math.abs(t),c=Math.abs(n);return t>=0?n>=0?u>=c?0:1:u>=c?7:6:n>=0?u>=c?3:2:u>=c?4:5}if(arguments[0]instanceof B&&arguments[1]instanceof B){var f=arguments[0],_=arguments[1],x=_.x-f.x,M=_.y-f.y;if(x===0&&M===0)throw new N("Cannot compute the octant for two identical points "+f);return ga.octant(x,M)}};var ns=function(){};ns.prototype.getCoordinates=function(){},ns.prototype.size=function(){},ns.prototype.getCoordinate=function(t){},ns.prototype.isClosed=function(){},ns.prototype.setData=function(t){},ns.prototype.getData=function(){},ns.prototype.interfaces_=function(){return[]},ns.prototype.getClass=function(){return ns};var _a=function(){};_a.prototype.addIntersection=function(t,n){},_a.prototype.interfaces_=function(){return[ns]},_a.prototype.getClass=function(){return _a};var fn=function(){this._nodeList=new hr(this),this._pts=null,this._data=null;var t=arguments[0],n=arguments[1];this._pts=t,this._data=n};fn.prototype.getCoordinates=function(){return this._pts},fn.prototype.size=function(){return this._pts.length},fn.prototype.getCoordinate=function(t){return this._pts[t]},fn.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},fn.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},fn.prototype.setData=function(t){this._data=t},fn.prototype.safeOctant=function(t,n){return t.equals2D(n)?0:ga.octant(t,n)},fn.prototype.getData=function(){return this._data},fn.prototype.addIntersection=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];this.addIntersectionNode(t,n)}else if(arguments.length===4){var u=arguments[0],c=arguments[1],f=arguments[3],_=new B(u.getIntersection(f));this.addIntersection(_,c)}},fn.prototype.toString=function(){return ji.toLineString(new bt(this._pts))},fn.prototype.getNodeList=function(){return this._nodeList},fn.prototype.addIntersectionNode=function(t,n){var u=n,c=u+1;if(c<this._pts.length){var f=this._pts[c];t.equals2D(f)&&(u=c)}return this._nodeList.add(t,u)},fn.prototype.addIntersections=function(t,n,u){for(var c=0;c<t.getIntersectionNum();c++)this.addIntersection(t,n,u,c)},fn.prototype.interfaces_=function(){return[_a]},fn.prototype.getClass=function(){return fn},fn.getNodedSubstrings=function(){if(arguments.length===1){var t=arguments[0],n=new ue;return fn.getNodedSubstrings(t,n),n}if(arguments.length===2)for(var u=arguments[0],c=arguments[1],f=u.iterator();f.hasNext();)f.next().getNodeList().addSplitEdges(c)};var Ye=function(){if(this.p0=null,this.p1=null,arguments.length===0)this.p0=new B,this.p1=new B;else if(arguments.length===1){var t=arguments[0];this.p0=new B(t.p0),this.p1=new B(t.p1)}else if(arguments.length===2)this.p0=arguments[0],this.p1=arguments[1];else if(arguments.length===4){var n=arguments[0],u=arguments[1],c=arguments[2],f=arguments[3];this.p0=new B(n,u),this.p1=new B(c,f)}},tc={serialVersionUID:{configurable:!0}};Ye.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Ye.prototype.orientationIndex=function(){if(arguments[0]instanceof Ye){var t=arguments[0],n=Le.orientationIndex(this.p0,this.p1,t.p0),u=Le.orientationIndex(this.p0,this.p1,t.p1);return n>=0&&u>=0||n<=0&&u<=0?Math.max(n,u):0}if(arguments[0]instanceof B){var c=arguments[0];return Le.orientationIndex(this.p0,this.p1,c)}},Ye.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},Ye.prototype.isVertical=function(){return this.p0.x===this.p1.x},Ye.prototype.equals=function(t){if(!(t instanceof Ye))return!1;var n=t;return this.p0.equals(n.p0)&&this.p1.equals(n.p1)},Ye.prototype.intersection=function(t){var n=new uo;return n.computeIntersection(this.p0,this.p1,t.p0,t.p1),n.hasIntersection()?n.getIntersection(0):null},Ye.prototype.project=function(){if(arguments[0]instanceof B){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new B(t);var n=this.projectionFactor(t),u=new B;return u.x=this.p0.x+n*(this.p1.x-this.p0.x),u.y=this.p0.y+n*(this.p1.y-this.p0.y),u}if(arguments[0]instanceof Ye){var c=arguments[0],f=this.projectionFactor(c.p0),_=this.projectionFactor(c.p1);if(f>=1&&_>=1||f<=0&&_<=0)return null;var x=this.project(c.p0);f<0&&(x=this.p0),f>1&&(x=this.p1);var M=this.project(c.p1);return _<0&&(M=this.p0),_>1&&(M=this.p1),new Ye(x,M)}},Ye.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Ye.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Ye.prototype.getCoordinate=function(t){return t===0?this.p0:this.p1},Ye.prototype.distancePerpendicular=function(t){return Le.distancePointLinePerpendicular(t,this.p0,this.p1)},Ye.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Ye.prototype.midPoint=function(){return Ye.midPoint(this.p0,this.p1)},Ye.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var n=this.p1.x-this.p0.x,u=this.p1.y-this.p0.y,c=n*n+u*u;return c<=0?F.NaN:((t.x-this.p0.x)*n+(t.y-this.p0.y)*u)/c},Ye.prototype.closestPoints=function(t){var n=this.intersection(t);if(n!==null)return[n,n];var u=new Array(2).fill(null),c=F.MAX_VALUE,f=null,_=this.closestPoint(t.p0);c=_.distance(t.p0),u[0]=_,u[1]=t.p0;var x=this.closestPoint(t.p1);(f=x.distance(t.p1))<c&&(c=f,u[0]=x,u[1]=t.p1);var M=t.closestPoint(this.p0);(f=M.distance(this.p0))<c&&(c=f,u[0]=this.p0,u[1]=M);var V=t.closestPoint(this.p1);return(f=V.distance(this.p1))<c&&(c=f,u[0]=this.p1,u[1]=V),u},Ye.prototype.closestPoint=function(t){var n=this.projectionFactor(t);return n>0&&n<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},Ye.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Ye.prototype.getLength=function(){return this.p0.distance(this.p1)},Ye.prototype.compareTo=function(t){var n=t,u=this.p0.compareTo(n.p0);return u!==0?u:this.p1.compareTo(n.p1)},Ye.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},Ye.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},Ye.prototype.lineIntersection=function(t){try{return Bi.intersection(this.p0,this.p1,t.p0,t.p1)}catch(n){if(!(n instanceof $i))throw n}return null},Ye.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Ye.prototype.pointAlongOffset=function(t,n){var u=this.p0.x+t*(this.p1.x-this.p0.x),c=this.p0.y+t*(this.p1.y-this.p0.y),f=this.p1.x-this.p0.x,_=this.p1.y-this.p0.y,x=Math.sqrt(f*f+_*_),M=0,V=0;if(n!==0){if(x<=0)throw new Error("Cannot compute offset from zero-length line segment");M=n*f/x,V=n*_/x}return new B(u-V,c+M)},Ye.prototype.setCoordinates=function(){if(arguments.length===1){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(arguments.length===2){var n=arguments[0],u=arguments[1];this.p0.x=n.x,this.p0.y=n.y,this.p1.x=u.x,this.p1.y=u.y}},Ye.prototype.segmentFraction=function(t){var n=this.projectionFactor(t);return n<0?n=0:(n>1||F.isNaN(n))&&(n=1),n},Ye.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Ye.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Ye.prototype.distance=function(){if(arguments[0]instanceof Ye){var t=arguments[0];return Le.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof B){var n=arguments[0];return Le.distancePointLine(n,this.p0,this.p1)}},Ye.prototype.pointAlong=function(t){var n=new B;return n.x=this.p0.x+t*(this.p1.x-this.p0.x),n.y=this.p0.y+t*(this.p1.y-this.p0.y),n},Ye.prototype.hashCode=function(){var t=F.doubleToLongBits(this.p0.x);t^=31*F.doubleToLongBits(this.p0.y);var n=Math.trunc(t)^Math.trunc(t>>32),u=F.doubleToLongBits(this.p1.x);return u^=31*F.doubleToLongBits(this.p1.y),n^(Math.trunc(u)^Math.trunc(u>>32))},Ye.prototype.interfaces_=function(){return[ee,s]},Ye.prototype.getClass=function(){return Ye},Ye.midPoint=function(t,n){return new B((t.x+n.x)/2,(t.y+n.y)/2)},tc.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Ye,tc);var Aa=function(){this.tempEnv1=new ze,this.tempEnv2=new ze,this._overlapSeg1=new Ye,this._overlapSeg2=new Ye};Aa.prototype.overlap=function(){if(arguments.length!==2){if(arguments.length===4){var t=arguments[0],n=arguments[1],u=arguments[2],c=arguments[3];t.getLineSegment(n,this._overlapSeg1),u.getLineSegment(c,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}},Aa.prototype.interfaces_=function(){return[]},Aa.prototype.getClass=function(){return Aa};var En=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],n=arguments[1],u=arguments[2],c=arguments[3];this._pts=t,this._start=n,this._end=u,this._context=c};En.prototype.getLineSegment=function(t,n){n.p0=this._pts[t],n.p1=this._pts[t+1]},En.prototype.computeSelect=function(t,n,u,c){var f=this._pts[n],_=this._pts[u];if(c.tempEnv1.init(f,_),u-n==1)return c.select(this,n),null;if(!t.intersects(c.tempEnv1))return null;var x=Math.trunc((n+u)/2);n<x&&this.computeSelect(t,n,x,c),x<u&&this.computeSelect(t,x,u,c)},En.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),n=0,u=this._start;u<=this._end;u++)t[n++]=this._pts[u];return t},En.prototype.computeOverlaps=function(t,n){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,n)},En.prototype.setId=function(t){this._id=t},En.prototype.select=function(t,n){this.computeSelect(t,this._start,this._end,n)},En.prototype.getEnvelope=function(){if(this._env===null){var t=this._pts[this._start],n=this._pts[this._end];this._env=new ze(t,n)}return this._env},En.prototype.getEndIndex=function(){return this._end},En.prototype.getStartIndex=function(){return this._start},En.prototype.getContext=function(){return this._context},En.prototype.getId=function(){return this._id},En.prototype.computeOverlapsInternal=function(t,n,u,c,f,_){var x=this._pts[t],M=this._pts[n],V=u._pts[c],Q=u._pts[f];if(n-t==1&&f-c==1)return _.overlap(this,t,u,c),null;if(_.tempEnv1.init(x,M),_.tempEnv2.init(V,Q),!_.tempEnv1.intersects(_.tempEnv2))return null;var ce=Math.trunc((t+n)/2),he=Math.trunc((c+f)/2);t<ce&&(c<he&&this.computeOverlapsInternal(t,ce,u,c,he,_),he<f&&this.computeOverlapsInternal(t,ce,u,he,f,_)),ce<n&&(c<he&&this.computeOverlapsInternal(ce,n,u,c,he,_),he<f&&this.computeOverlapsInternal(ce,n,u,he,f,_))},En.prototype.interfaces_=function(){return[]},En.prototype.getClass=function(){return En};var Eo=function(){};Eo.prototype.interfaces_=function(){return[]},Eo.prototype.getClass=function(){return Eo},Eo.getChainStartIndices=function(t){var n=0,u=new ue;u.add(new ye(n));do{var c=Eo.findChainEnd(t,n);u.add(new ye(c)),n=c}while(n<t.length-1);return Eo.toIntArray(u)},Eo.findChainEnd=function(t,n){for(var u=n;u<t.length-1&&t[u].equals2D(t[u+1]);)u++;if(u>=t.length-1)return t.length-1;for(var c=Li.quadrant(t[u],t[u+1]),f=n+1;f<t.length&&!(!t[f-1].equals2D(t[f])&&Li.quadrant(t[f-1],t[f])!==c);)f++;return f-1},Eo.getChains=function(){if(arguments.length===1){var t=arguments[0];return Eo.getChains(t,null)}if(arguments.length===2){for(var n=arguments[0],u=arguments[1],c=new ue,f=Eo.getChainStartIndices(n),_=0;_<f.length-1;_++){var x=new En(n,f[_],f[_+1],u);c.add(x)}return c}},Eo.toIntArray=function(t){for(var n=new Array(t.size()).fill(null),u=0;u<n.length;u++)n[u]=t.get(u).intValue();return n};var Fs=function(){};Fs.prototype.computeNodes=function(t){},Fs.prototype.getNodedSubstrings=function(){},Fs.prototype.interfaces_=function(){return[]},Fs.prototype.getClass=function(){return Fs};var ya=function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this.setSegmentIntersector(t)}}};ya.prototype.setSegmentIntersector=function(t){this._segInt=t},ya.prototype.interfaces_=function(){return[Fs]},ya.prototype.getClass=function(){return ya};var du=function(t){function n(c){c?t.call(this,c):t.call(this),this._monoChains=new ue,this._index=new fu,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var u={SegmentOverlapAction:{configurable:!0}};return n.prototype.getMonotoneChains=function(){return this._monoChains},n.prototype.getNodedSubstrings=function(){return fn.getNodedSubstrings(this._nodedSegStrings)},n.prototype.getIndex=function(){return this._index},n.prototype.add=function(c){for(var f=Eo.getChains(c.getCoordinates(),c).iterator();f.hasNext();){var _=f.next();_.setId(this._idCounter++),this._index.insert(_.getEnvelope(),_),this._monoChains.add(_)}},n.prototype.computeNodes=function(c){this._nodedSegStrings=c;for(var f=c.iterator();f.hasNext();)this.add(f.next());this.intersectChains()},n.prototype.intersectChains=function(){for(var c=new mu(this._segInt),f=this._monoChains.iterator();f.hasNext();)for(var _=f.next(),x=this._index.query(_.getEnvelope()).iterator();x.hasNext();){var M=x.next();if(M.getId()>_.getId()&&(_.computeOverlaps(M,c),this._nOverlaps++),this._segInt.isDone())return null}},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},u.SegmentOverlapAction.get=function(){return mu},Object.defineProperties(n,u),n}(ya),mu=function(t){function n(){t.call(this),this._si=null;var u=arguments[0];this._si=u}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.overlap=function(){if(arguments.length!==4)return t.prototype.overlap.apply(this,arguments);var u=arguments[0],c=arguments[1],f=arguments[2],_=arguments[3],x=u.getContext(),M=f.getContext();this._si.processIntersections(x,c,M,_)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(Aa),At=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var n=arguments[0];this.setQuadrantSegments(n)}else if(arguments.length===2){var u=arguments[0],c=arguments[1];this.setQuadrantSegments(u),this.setEndCapStyle(c)}else if(arguments.length===4){var f=arguments[0],_=arguments[1],x=arguments[2],M=arguments[3];this.setQuadrantSegments(f),this.setEndCapStyle(_),this.setJoinStyle(x),this.setMitreLimit(M)}}},bs={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};At.prototype.getEndCapStyle=function(){return this._endCapStyle},At.prototype.isSingleSided=function(){return this._isSingleSided},At.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,this._quadrantSegments===0&&(this._joinStyle=At.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=At.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==At.JOIN_ROUND&&(this._quadrantSegments=At.DEFAULT_QUADRANT_SEGMENTS)},At.prototype.getJoinStyle=function(){return this._joinStyle},At.prototype.setJoinStyle=function(t){this._joinStyle=t},At.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},At.prototype.getSimplifyFactor=function(){return this._simplifyFactor},At.prototype.getQuadrantSegments=function(){return this._quadrantSegments},At.prototype.setEndCapStyle=function(t){this._endCapStyle=t},At.prototype.getMitreLimit=function(){return this._mitreLimit},At.prototype.setMitreLimit=function(t){this._mitreLimit=t},At.prototype.setSingleSided=function(t){this._isSingleSided=t},At.prototype.interfaces_=function(){return[]},At.prototype.getClass=function(){return At},At.bufferDistanceError=function(t){var n=Math.PI/2/t;return 1-Math.cos(n/2)},bs.CAP_ROUND.get=function(){return 1},bs.CAP_FLAT.get=function(){return 2},bs.CAP_SQUARE.get=function(){return 3},bs.JOIN_ROUND.get=function(){return 1},bs.JOIN_MITRE.get=function(){return 2},bs.JOIN_BEVEL.get=function(){return 3},bs.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},bs.DEFAULT_MITRE_LIMIT.get=function(){return 5},bs.DEFAULT_SIMPLIFY_FACTOR.get=function(){return .01},Object.defineProperties(At,bs);var sn=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Le.COUNTERCLOCKWISE,this._inputLine=t||null},va={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};sn.prototype.isDeletable=function(t,n,u,c){var f=this._inputLine[t],_=this._inputLine[n],x=this._inputLine[u];return!!this.isConcave(f,_,x)&&!!this.isShallow(f,_,x,c)&&this.isShallowSampled(f,_,t,u,c)},sn.prototype.deleteShallowConcavities=function(){for(var t=1,n=this.findNextNonDeletedIndex(t),u=this.findNextNonDeletedIndex(n),c=!1;u<this._inputLine.length;){var f=!1;this.isDeletable(t,n,u,this._distanceTol)&&(this._isDeleted[n]=sn.DELETE,f=!0,c=!0),t=f?u:n,n=this.findNextNonDeletedIndex(t),u=this.findNextNonDeletedIndex(n)}return c},sn.prototype.isShallowConcavity=function(t,n,u,c){return Le.computeOrientation(t,n,u)!==this._angleOrientation?!1:Le.distancePointLine(n,t,u)<c},sn.prototype.isShallowSampled=function(t,n,u,c,f){var _=Math.trunc((c-u)/sn.NUM_PTS_TO_CHECK);_<=0&&(_=1);for(var x=u;x<c;x+=_)if(!this.isShallow(t,n,this._inputLine[x],f))return!1;return!0},sn.prototype.isConcave=function(t,n,u){var c=Le.computeOrientation(t,n,u)===this._angleOrientation;return c},sn.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=Le.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var n=!1;do n=this.deleteShallowConcavities();while(n);return this.collapseLine()},sn.prototype.findNextNonDeletedIndex=function(t){for(var n=t+1;n<this._inputLine.length&&this._isDeleted[n]===sn.DELETE;)n++;return n},sn.prototype.isShallow=function(t,n,u,c){return Le.distancePointLine(n,t,u)<c},sn.prototype.collapseLine=function(){for(var t=new Ce,n=0;n<this._inputLine.length;n++)this._isDeleted[n]!==sn.DELETE&&t.add(this._inputLine[n]);return t.toCoordinateArray()},sn.prototype.interfaces_=function(){return[]},sn.prototype.getClass=function(){return sn},sn.simplify=function(t,n){return new sn(t).simplify(n)},va.INIT.get=function(){return 0},va.DELETE.get=function(){return 1},va.KEEP.get=function(){return 1},va.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(sn,va);var io=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new ue},gu={COORDINATE_ARRAY_TYPE:{configurable:!0}};io.prototype.getCoordinates=function(){return this._ptList.toArray(io.COORDINATE_ARRAY_TYPE)},io.prototype.setPrecisionModel=function(t){this._precisionModel=t},io.prototype.addPt=function(t){var n=new B(t);if(this._precisionModel.makePrecise(n),this.isRedundant(n))return null;this._ptList.add(n)},io.prototype.revere=function(){},io.prototype.addPts=function(t,n){if(n)for(var u=0;u<t.length;u++)this.addPt(t[u]);else for(var c=t.length-1;c>=0;c--)this.addPt(t[c])},io.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var n=this._ptList.get(this._ptList.size()-1);return t.distance(n)<this._minimimVertexDistance},io.prototype.toString=function(){return new pt().createLineString(this.getCoordinates()).toString()},io.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new B(this._ptList.get(0)),n=this._ptList.get(this._ptList.size()-1);if(t.equals(n))return null;this._ptList.add(t)},io.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},io.prototype.interfaces_=function(){return[]},io.prototype.getClass=function(){return io},gu.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(io,gu);var Tt=function(){},ws={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Tt.prototype.interfaces_=function(){return[]},Tt.prototype.getClass=function(){return Tt},Tt.toDegrees=function(t){return 180*t/Math.PI},Tt.normalize=function(t){for(;t>Math.PI;)t-=Tt.PI_TIMES_2;for(;t<=-Math.PI;)t+=Tt.PI_TIMES_2;return t},Tt.angle=function(){if(arguments.length===1){var t=arguments[0];return Math.atan2(t.y,t.x)}if(arguments.length===2){var n=arguments[0],u=arguments[1],c=u.x-n.x,f=u.y-n.y;return Math.atan2(f,c)}},Tt.isAcute=function(t,n,u){var c=t.x-n.x,f=t.y-n.y;return c*(u.x-n.x)+f*(u.y-n.y)>0},Tt.isObtuse=function(t,n,u){var c=t.x-n.x,f=t.y-n.y;return c*(u.x-n.x)+f*(u.y-n.y)<0},Tt.interiorAngle=function(t,n,u){var c=Tt.angle(n,t),f=Tt.angle(n,u);return Math.abs(f-c)},Tt.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Tt.PI_TIMES_2;t>=Tt.PI_TIMES_2&&(t=0)}else{for(;t>=Tt.PI_TIMES_2;)t-=Tt.PI_TIMES_2;t<0&&(t=0)}return t},Tt.angleBetween=function(t,n,u){var c=Tt.angle(n,t),f=Tt.angle(n,u);return Tt.diff(c,f)},Tt.diff=function(t,n){var u=null;return(u=t<n?n-t:t-n)>Math.PI&&(u=2*Math.PI-u),u},Tt.toRadians=function(t){return t*Math.PI/180},Tt.getTurn=function(t,n){var u=Math.sin(n-t);return u>0?Tt.COUNTERCLOCKWISE:u<0?Tt.CLOCKWISE:Tt.NONE},Tt.angleBetweenOriented=function(t,n,u){var c=Tt.angle(n,t),f=Tt.angle(n,u)-c;return f<=-Math.PI?f+Tt.PI_TIMES_2:f>Math.PI?f-Tt.PI_TIMES_2:f},ws.PI_TIMES_2.get=function(){return 2*Math.PI},ws.PI_OVER_2.get=function(){return Math.PI/2},ws.PI_OVER_4.get=function(){return Math.PI/4},ws.COUNTERCLOCKWISE.get=function(){return Le.COUNTERCLOCKWISE},ws.CLOCKWISE.get=function(){return Le.CLOCKWISE},ws.NONE.get=function(){return Le.COLLINEAR},Object.defineProperties(Tt,ws);var xi=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Ye,this._seg1=new Ye,this._offset0=new Ye,this._offset1=new Ye,this._side=0,this._hasNarrowConcaveAngle=!1;var n=arguments[0],u=arguments[1],c=arguments[2];this._precisionModel=n,this._bufParams=u,this._li=new uo,this._filletAngleQuantum=Math.PI/2/u.getQuadrantSegments(),u.getQuadrantSegments()>=8&&u.getJoinStyle()===At.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(c)},ol={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};xi.prototype.addNextSegment=function(t,n){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var u=Le.computeOrientation(this._s0,this._s1,this._s2),c=u===Le.CLOCKWISE&&this._side===Me.LEFT||u===Le.COUNTERCLOCKWISE&&this._side===Me.RIGHT;u===0?this.addCollinear(n):c?this.addOutsideTurn(u,n):this.addInsideTurn(u,n)},xi.prototype.addLineEndCap=function(t,n){var u=new Ye(t,n),c=new Ye;this.computeOffsetSegment(u,Me.LEFT,this._distance,c);var f=new Ye;this.computeOffsetSegment(u,Me.RIGHT,this._distance,f);var _=n.x-t.x,x=n.y-t.y,M=Math.atan2(x,_);switch(this._bufParams.getEndCapStyle()){case At.CAP_ROUND:this._segList.addPt(c.p1),this.addFilletArc(n,M+Math.PI/2,M-Math.PI/2,Le.CLOCKWISE,this._distance),this._segList.addPt(f.p1);break;case At.CAP_FLAT:this._segList.addPt(c.p1),this._segList.addPt(f.p1);break;case At.CAP_SQUARE:var V=new B;V.x=Math.abs(this._distance)*Math.cos(M),V.y=Math.abs(this._distance)*Math.sin(M);var Q=new B(c.p1.x+V.x,c.p1.y+V.y),ce=new B(f.p1.x+V.x,f.p1.y+V.y);this._segList.addPt(Q),this._segList.addPt(ce)}},xi.prototype.getCoordinates=function(){return this._segList.getCoordinates()},xi.prototype.addMitreJoin=function(t,n,u,c){var f=!0,_=null;try{_=Bi.intersection(n.p0,n.p1,u.p0,u.p1),(c<=0?1:_.distance(t)/Math.abs(c))>this._bufParams.getMitreLimit()&&(f=!1)}catch(x){if(!(x instanceof $i))throw x;_=new B(0,0),f=!1}f?this._segList.addPt(_):this.addLimitedMitreJoin(n,u,c,this._bufParams.getMitreLimit())},xi.prototype.addFilletCorner=function(t,n,u,c,f){var _=n.x-t.x,x=n.y-t.y,M=Math.atan2(x,_),V=u.x-t.x,Q=u.y-t.y,ce=Math.atan2(Q,V);c===Le.CLOCKWISE?M<=ce&&(M+=2*Math.PI):M>=ce&&(M-=2*Math.PI),this._segList.addPt(n),this.addFilletArc(t,M,ce,c,f),this._segList.addPt(u)},xi.prototype.addOutsideTurn=function(t,n){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*xi.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===At.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===At.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(n&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},xi.prototype.createSquare=function(t){this._segList.addPt(new B(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new B(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new B(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new B(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},xi.prototype.addSegments=function(t,n){this._segList.addPts(t,n)},xi.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},xi.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},xi.prototype.initSideSegments=function(t,n,u){this._s1=t,this._s2=n,this._side=u,this._seg1.setCoordinates(t,n),this.computeOffsetSegment(this._seg1,u,this._distance,this._offset1)},xi.prototype.addLimitedMitreJoin=function(t,n,u,c){var f=this._seg0.p1,_=Tt.angle(f,this._seg0.p0),x=Tt.angleBetweenOriented(this._seg0.p0,f,this._seg1.p1)/2,M=Tt.normalize(_+x),V=Tt.normalize(M+Math.PI),Q=c*u,ce=u-Q*Math.abs(Math.sin(x)),he=f.x+Q*Math.cos(V),ke=f.y+Q*Math.sin(V),De=new B(he,ke),Xe=new Ye(f,De),ot=Xe.pointAlongOffset(1,ce),Ni=Xe.pointAlongOffset(1,-ce);this._side===Me.LEFT?(this._segList.addPt(ot),this._segList.addPt(Ni)):(this._segList.addPt(Ni),this._segList.addPt(ot))},xi.prototype.computeOffsetSegment=function(t,n,u,c){var f=n===Me.LEFT?1:-1,_=t.p1.x-t.p0.x,x=t.p1.y-t.p0.y,M=Math.sqrt(_*_+x*x),V=f*u*_/M,Q=f*u*x/M;c.p0.x=t.p0.x-Q,c.p0.y=t.p0.y+V,c.p1.x=t.p1.x-Q,c.p1.y=t.p1.y+V},xi.prototype.addFilletArc=function(t,n,u,c,f){var _=c===Le.CLOCKWISE?-1:1,x=Math.abs(n-u),M=Math.trunc(x/this._filletAngleQuantum+.5);if(M<1)return null;for(var V=x/M,Q=0,ce=new B;Q<x;){var he=n+_*Q;ce.x=t.x+f*Math.cos(he),ce.y=t.y+f*Math.sin(he),this._segList.addPt(ce),Q+=V}},xi.prototype.addInsideTurn=function(t,n){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*xi.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var u=new B((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(u);var c=new B((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(c)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},xi.prototype.createCircle=function(t){var n=new B(t.x+this._distance,t.y);this._segList.addPt(n),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},xi.prototype.addBevelJoin=function(t,n){this._segList.addPt(t.p1),this._segList.addPt(n.p0)},xi.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new io,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*xi.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},xi.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===At.JOIN_BEVEL||this._bufParams.getJoinStyle()===At.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Le.CLOCKWISE,this._distance))},xi.prototype.closeRing=function(){this._segList.closeRing()},xi.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},xi.prototype.interfaces_=function(){return[]},xi.prototype.getClass=function(){return xi},ol.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return .001},ol.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return .001},ol.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},ol.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(xi,ol);var qn=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],n=arguments[1];this._precisionModel=t,this._bufParams=n};qn.prototype.getOffsetCurve=function(t,n){if(this._distance=n,n===0)return null;var u=n<0,c=Math.abs(n),f=this.getSegGen(c);t.length<=1?this.computePointCurve(t[0],f):this.computeOffsetCurve(t,u,f);var _=f.getCoordinates();return u&&ve.reverse(_),_},qn.prototype.computeSingleSidedBufferCurve=function(t,n,u){var c=this.simplifyTolerance(this._distance);if(n){u.addSegments(t,!0);var f=sn.simplify(t,-c),_=f.length-1;u.initSideSegments(f[_],f[_-1],Me.LEFT),u.addFirstSegment();for(var x=_-2;x>=0;x--)u.addNextSegment(f[x],!0)}else{u.addSegments(t,!1);var M=sn.simplify(t,c),V=M.length-1;u.initSideSegments(M[0],M[1],Me.LEFT),u.addFirstSegment();for(var Q=2;Q<=V;Q++)u.addNextSegment(M[Q],!0)}u.addLastSegment(),u.closeRing()},qn.prototype.computeRingBufferCurve=function(t,n,u){var c=this.simplifyTolerance(this._distance);n===Me.RIGHT&&(c=-c);var f=sn.simplify(t,c),_=f.length-1;u.initSideSegments(f[_-1],f[0],n);for(var x=1;x<=_;x++){var M=x!==1;u.addNextSegment(f[x],M)}u.closeRing()},qn.prototype.computeLineBufferCurve=function(t,n){var u=this.simplifyTolerance(this._distance),c=sn.simplify(t,u),f=c.length-1;n.initSideSegments(c[0],c[1],Me.LEFT);for(var _=2;_<=f;_++)n.addNextSegment(c[_],!0);n.addLastSegment(),n.addLineEndCap(c[f-1],c[f]);var x=sn.simplify(t,-u),M=x.length-1;n.initSideSegments(x[M],x[M-1],Me.LEFT);for(var V=M-2;V>=0;V--)n.addNextSegment(x[V],!0);n.addLastSegment(),n.addLineEndCap(x[1],x[0]),n.closeRing()},qn.prototype.computePointCurve=function(t,n){switch(this._bufParams.getEndCapStyle()){case At.CAP_ROUND:n.createCircle(t);break;case At.CAP_SQUARE:n.createSquare(t)}},qn.prototype.getLineCurve=function(t,n){if(this._distance=n,n<0&&!this._bufParams.isSingleSided()||n===0)return null;var u=Math.abs(n),c=this.getSegGen(u);if(t.length<=1)this.computePointCurve(t[0],c);else if(this._bufParams.isSingleSided()){var f=n<0;this.computeSingleSidedBufferCurve(t,f,c)}else this.computeLineBufferCurve(t,c);return c.getCoordinates()},qn.prototype.getBufferParameters=function(){return this._bufParams},qn.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},qn.prototype.getRingCurve=function(t,n,u){if(this._distance=u,t.length<=2)return this.getLineCurve(t,u);if(u===0)return qn.copyCoordinates(t);var c=this.getSegGen(u);return this.computeRingBufferCurve(t,n,c),c.getCoordinates()},qn.prototype.computeOffsetCurve=function(t,n,u){var c=this.simplifyTolerance(this._distance);if(n){var f=sn.simplify(t,-c),_=f.length-1;u.initSideSegments(f[_],f[_-1],Me.LEFT),u.addFirstSegment();for(var x=_-2;x>=0;x--)u.addNextSegment(f[x],!0)}else{var M=sn.simplify(t,c),V=M.length-1;u.initSideSegments(M[0],M[1],Me.LEFT),u.addFirstSegment();for(var Q=2;Q<=V;Q++)u.addNextSegment(M[Q],!0)}u.addLastSegment()},qn.prototype.getSegGen=function(t){return new xi(this._precisionModel,this._bufParams,t)},qn.prototype.interfaces_=function(){return[]},qn.prototype.getClass=function(){return qn},qn.copyCoordinates=function(t){for(var n=new Array(t.length).fill(null),u=0;u<n.length;u++)n[u]=new B(t[u]);return n};var vr=function(){this._subgraphs=null,this._seg=new Ye,this._cga=new Le;var t=arguments[0];this._subgraphs=t},_u={DepthSegment:{configurable:!0}};vr.prototype.findStabbedSegments=function(){if(arguments.length===1){for(var t=arguments[0],n=new ue,u=this._subgraphs.iterator();u.hasNext();){var c=u.next(),f=c.getEnvelope();t.y<f.getMinY()||t.y>f.getMaxY()||this.findStabbedSegments(t,c.getDirectedEdges(),n)}return n}if(arguments.length===3){if(Ie(arguments[2],me)&&arguments[0]instanceof B&&arguments[1]instanceof rl){for(var _=arguments[0],x=arguments[1],M=arguments[2],V=x.getEdge().getCoordinates(),Q=0;Q<V.length-1;Q++)if(this._seg.p0=V[Q],this._seg.p1=V[Q+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<_.x)&&!(this._seg.isHorizontal()||_.y<this._seg.p0.y||_.y>this._seg.p1.y||Le.computeOrientation(this._seg.p0,this._seg.p1,_)===Le.RIGHT)){var ce=x.getDepth(Me.LEFT);this._seg.p0.equals(V[Q])||(ce=x.getDepth(Me.RIGHT));var he=new Ns(this._seg,ce);M.add(he)}}else if(Ie(arguments[2],me)&&arguments[0]instanceof B&&Ie(arguments[1],me))for(var ke=arguments[0],De=arguments[1],Xe=arguments[2],ot=De.iterator();ot.hasNext();){var Ni=ot.next();Ni.isForward()&&this.findStabbedSegments(ke,Ni,Xe)}}},vr.prototype.getDepth=function(t){var n=this.findStabbedSegments(t);return n.size()===0?0:To.min(n)._leftDepth},vr.prototype.interfaces_=function(){return[]},vr.prototype.getClass=function(){return vr},_u.DepthSegment.get=function(){return Ns},Object.defineProperties(vr,_u);var Ns=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],n=arguments[1];this._upwardSeg=new Ye(t),this._leftDepth=n};Ns.prototype.compareTo=function(t){var n=t;if(this._upwardSeg.minX()>=n._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=n._upwardSeg.minX())return-1;var u=this._upwardSeg.orientationIndex(n._upwardSeg);return u!==0||(u=-1*n._upwardSeg.orientationIndex(this._upwardSeg))!=0?u:this._upwardSeg.compareTo(n._upwardSeg)},Ns.prototype.compareX=function(t,n){var u=t.p0.compareTo(n.p0);return u!==0?u:t.p1.compareTo(n.p1)},Ns.prototype.toString=function(){return this._upwardSeg.toString()},Ns.prototype.interfaces_=function(){return[ee]},Ns.prototype.getClass=function(){return Ns};var Zt=function(t,n,u){this.p0=t||null,this.p1=n||null,this.p2=u||null};Zt.prototype.area=function(){return Zt.area(this.p0,this.p1,this.p2)},Zt.prototype.signedArea=function(){return Zt.signedArea(this.p0,this.p1,this.p2)},Zt.prototype.interpolateZ=function(t){if(t===null)throw new N("Supplied point is null.");return Zt.interpolateZ(t,this.p0,this.p1,this.p2)},Zt.prototype.longestSideLength=function(){return Zt.longestSideLength(this.p0,this.p1,this.p2)},Zt.prototype.isAcute=function(){return Zt.isAcute(this.p0,this.p1,this.p2)},Zt.prototype.circumcentre=function(){return Zt.circumcentre(this.p0,this.p1,this.p2)},Zt.prototype.area3D=function(){return Zt.area3D(this.p0,this.p1,this.p2)},Zt.prototype.centroid=function(){return Zt.centroid(this.p0,this.p1,this.p2)},Zt.prototype.inCentre=function(){return Zt.inCentre(this.p0,this.p1,this.p2)},Zt.prototype.interfaces_=function(){return[]},Zt.prototype.getClass=function(){return Zt},Zt.area=function(t,n,u){return Math.abs(((u.x-t.x)*(n.y-t.y)-(n.x-t.x)*(u.y-t.y))/2)},Zt.signedArea=function(t,n,u){return((u.x-t.x)*(n.y-t.y)-(n.x-t.x)*(u.y-t.y))/2},Zt.det=function(t,n,u,c){return t*c-n*u},Zt.interpolateZ=function(t,n,u,c){var f=n.x,_=n.y,x=u.x-f,M=c.x-f,V=u.y-_,Q=c.y-_,ce=x*Q-M*V,he=t.x-f,ke=t.y-_,De=(Q*he-M*ke)/ce,Xe=(-V*he+x*ke)/ce;return n.z+De*(u.z-n.z)+Xe*(c.z-n.z)},Zt.longestSideLength=function(t,n,u){var c=t.distance(n),f=n.distance(u),_=u.distance(t),x=c;return f>x&&(x=f),_>x&&(x=_),x},Zt.isAcute=function(t,n,u){return!!Tt.isAcute(t,n,u)&&!!Tt.isAcute(n,u,t)&&!!Tt.isAcute(u,t,n)},Zt.circumcentre=function(t,n,u){var c=u.x,f=u.y,_=t.x-c,x=t.y-f,M=n.x-c,V=n.y-f,Q=2*Zt.det(_,x,M,V),ce=Zt.det(x,_*_+x*x,V,M*M+V*V),he=Zt.det(_,_*_+x*x,M,M*M+V*V);return new B(c-ce/Q,f+he/Q)},Zt.perpendicularBisector=function(t,n){var u=n.x-t.x,c=n.y-t.y,f=new Bi(t.x+u/2,t.y+c/2,1),_=new Bi(t.x-c+u/2,t.y+u+c/2,1);return new Bi(f,_)},Zt.angleBisector=function(t,n,u){var c=n.distance(t),f=c/(c+n.distance(u)),_=u.x-t.x,x=u.y-t.y;return new B(t.x+f*_,t.y+f*x)},Zt.area3D=function(t,n,u){var c=n.x-t.x,f=n.y-t.y,_=n.z-t.z,x=u.x-t.x,M=u.y-t.y,V=u.z-t.z,Q=f*V-_*M,ce=_*x-c*V,he=c*M-f*x,ke=Q*Q+ce*ce+he*he,De=Math.sqrt(ke)/2;return De},Zt.centroid=function(t,n,u){var c=(t.x+n.x+u.x)/3,f=(t.y+n.y+u.y)/3;return new B(c,f)},Zt.inCentre=function(t,n,u){var c=n.distance(u),f=t.distance(u),_=t.distance(n),x=c+f+_,M=(c*t.x+f*n.x+_*u.x)/x,V=(c*t.y+f*n.y+_*u.y)/x;return new B(M,V)};var qr=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new ue;var t=arguments[0],n=arguments[1],u=arguments[2];this._inputGeom=t,this._distance=n,this._curveBuilder=u};qr.prototype.addPoint=function(t){if(this._distance<=0)return null;var n=t.getCoordinates(),u=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(u,W.EXTERIOR,W.INTERIOR)},qr.prototype.addPolygon=function(t){var n=this._distance,u=Me.LEFT;this._distance<0&&(n=-this._distance,u=Me.RIGHT);var c=t.getExteriorRing(),f=ve.removeRepeatedPoints(c.getCoordinates());if(this._distance<0&&this.isErodedCompletely(c,this._distance)||this._distance<=0&&f.length<3)return null;this.addPolygonRing(f,n,u,W.EXTERIOR,W.INTERIOR);for(var _=0;_<t.getNumInteriorRing();_++){var x=t.getInteriorRingN(_),M=ve.removeRepeatedPoints(x.getCoordinates());this._distance>0&&this.isErodedCompletely(x,-this._distance)||this.addPolygonRing(M,n,Me.opposite(u),W.INTERIOR,W.EXTERIOR)}},qr.prototype.isTriangleErodedCompletely=function(t,n){var u=new Zt(t[0],t[1],t[2]),c=u.inCentre();return Le.distancePointLine(c,u.p0,u.p1)<Math.abs(n)},qr.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var n=ve.removeRepeatedPoints(t.getCoordinates()),u=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(u,W.EXTERIOR,W.INTERIOR)},qr.prototype.addCurve=function(t,n,u){if(t===null||t.length<2)return null;var c=new fn(t,new Nt(0,W.BOUNDARY,n,u));this._curveList.add(c)},qr.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},qr.prototype.addPolygonRing=function(t,n,u,c,f){if(n===0&&t.length<es.MINIMUM_VALID_SIZE)return null;var _=c,x=f;t.length>=es.MINIMUM_VALID_SIZE&&Le.isCCW(t)&&(_=f,x=c,u=Me.opposite(u));var M=this._curveBuilder.getRingCurve(t,u,n);this.addCurve(M,_,x)},qr.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Sn?this.addPolygon(t):t instanceof on?this.addLineString(t):t instanceof Br?this.addPoint(t):t instanceof Da?this.addCollection(t):t instanceof to?this.addCollection(t):t instanceof Io?this.addCollection(t):t instanceof Ri&&this.addCollection(t)},qr.prototype.isErodedCompletely=function(t,n){var u=t.getCoordinates();if(u.length<4)return n<0;if(u.length===4)return this.isTriangleErodedCompletely(u,n);var c=t.getEnvelopeInternal(),f=Math.min(c.getHeight(),c.getWidth());return n<0&&2*Math.abs(n)>f},qr.prototype.addCollection=function(t){for(var n=0;n<t.getNumGeometries();n++){var u=t.getGeometryN(n);this.add(u)}},qr.prototype.interfaces_=function(){return[]},qr.prototype.getClass=function(){return qr};var $s=function(){};$s.prototype.locate=function(t){},$s.prototype.interfaces_=function(){return[]},$s.prototype.getClass=function(){return $s};var rs=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};rs.prototype.next=function(){if(this._atStart)return this._atStart=!1,rs.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new e;var t=this._parent.getGeometryN(this._index++);return t instanceof Ri?(this._subcollectionIterator=new rs(t),this._subcollectionIterator.next()):t},rs.prototype.remove=function(){throw new Error(this.getClass().getName())},rs.prototype.hasNext=function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},rs.prototype.interfaces_=function(){return[be]},rs.prototype.getClass=function(){return rs},rs.isAtomic=function(t){return!(t instanceof Ri)};var no=function(){this._geom=null;var t=arguments[0];this._geom=t};no.prototype.locate=function(t){return no.locate(t,this._geom)},no.prototype.interfaces_=function(){return[$s]},no.prototype.getClass=function(){return no},no.isPointInRing=function(t,n){return!!n.getEnvelopeInternal().intersects(t)&&Le.isPointInRing(t,n.getCoordinates())},no.containsPointInPolygon=function(t,n){if(n.isEmpty())return!1;var u=n.getExteriorRing();if(!no.isPointInRing(t,u))return!1;for(var c=0;c<n.getNumInteriorRing();c++){var f=n.getInteriorRingN(c);if(no.isPointInRing(t,f))return!1}return!0},no.containsPoint=function(t,n){if(n instanceof Sn)return no.containsPointInPolygon(t,n);if(n instanceof Ri)for(var u=new rs(n);u.hasNext();){var c=u.next();if(c!==n&&no.containsPoint(t,c))return!0}return!1},no.locate=function(t,n){return n.isEmpty()?W.EXTERIOR:no.containsPoint(t,n)?W.INTERIOR:W.EXTERIOR};var ir=function(){this._edgeMap=new R,this._edgeList=null,this._ptInAreaLocation=[W.NONE,W.NONE]};ir.prototype.getNextCW=function(t){this.getEdges();var n=this._edgeList.indexOf(t),u=n-1;return n===0&&(u=this._edgeList.size()-1),this._edgeList.get(u)},ir.prototype.propagateSideLabels=function(t){for(var n=W.NONE,u=this.iterator();u.hasNext();){var c=u.next().getLabel();c.isArea(t)&&c.getLocation(t,Me.LEFT)!==W.NONE&&(n=c.getLocation(t,Me.LEFT))}if(n===W.NONE)return null;for(var f=n,_=this.iterator();_.hasNext();){var x=_.next(),M=x.getLabel();if(M.getLocation(t,Me.ON)===W.NONE&&M.setLocation(t,Me.ON,f),M.isArea(t)){var V=M.getLocation(t,Me.LEFT),Q=M.getLocation(t,Me.RIGHT);if(Q!==W.NONE){if(Q!==f)throw new zo("side location conflict",x.getCoordinate());V===W.NONE&&at.shouldNeverReachHere("found single null side (at "+x.getCoordinate()+")"),f=V}else at.isTrue(M.getLocation(t,Me.LEFT)===W.NONE,"found single null side"),M.setLocation(t,Me.RIGHT,f),M.setLocation(t,Me.LEFT,f)}}},ir.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},ir.prototype.print=function(t){Gt.out.println("EdgeEndStar:   "+this.getCoordinate());for(var n=this.iterator();n.hasNext();)n.next().print(t)},ir.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},ir.prototype.checkAreaLabelsConsistent=function(t){var n=this.getEdges();if(n.size()<=0)return!0;var u=n.size()-1,c=n.get(u).getLabel().getLocation(t,Me.LEFT);at.isTrue(c!==W.NONE,"Found unlabelled area edge");for(var f=c,_=this.iterator();_.hasNext();){var x=_.next().getLabel();at.isTrue(x.isArea(t),"Found non-area edge");var M=x.getLocation(t,Me.LEFT),V=x.getLocation(t,Me.RIGHT);if(M===V||V!==f)return!1;f=M}return!0},ir.prototype.findIndex=function(t){this.iterator();for(var n=0;n<this._edgeList.size();n++)if(this._edgeList.get(n)===t)return n;return-1},ir.prototype.iterator=function(){return this.getEdges().iterator()},ir.prototype.getEdges=function(){return this._edgeList===null&&(this._edgeList=new ue(this._edgeMap.values())),this._edgeList},ir.prototype.getLocation=function(t,n,u){return this._ptInAreaLocation[t]===W.NONE&&(this._ptInAreaLocation[t]=no.locate(n,u[t].getGeometry())),this._ptInAreaLocation[t]},ir.prototype.toString=function(){var t=new Ht;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append(`
`);for(var n=this.iterator();n.hasNext();){var u=n.next();t.append(u),t.append(`
`)}return t.toString()},ir.prototype.computeEdgeEndLabels=function(t){for(var n=this.iterator();n.hasNext();)n.next().computeLabel(t)},ir.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var n=[!1,!1],u=this.iterator();u.hasNext();)for(var c=u.next().getLabel(),f=0;f<2;f++)c.isLine(f)&&c.getLocation(f)===W.BOUNDARY&&(n[f]=!0);for(var _=this.iterator();_.hasNext();)for(var x=_.next(),M=x.getLabel(),V=0;V<2;V++)if(M.isAnyNull(V)){var Q=W.NONE;if(n[V])Q=W.EXTERIOR;else{var ce=x.getCoordinate();Q=this.getLocation(V,ce,t)}M.setAllLocationsIfNull(V,Q)}},ir.prototype.getDegree=function(){return this._edgeMap.size()},ir.prototype.insertEdgeEnd=function(t,n){this._edgeMap.put(t,n),this._edgeList=null},ir.prototype.interfaces_=function(){return[]},ir.prototype.getClass=function(){return ir};var wp=function(t){function n(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var u=null,c=null,f=this._SCANNING_FOR_INCOMING,_=0;_<this._resultAreaEdgeList.size();_++){var x=this._resultAreaEdgeList.get(_),M=x.getSym();if(x.getLabel().isArea())switch(u===null&&x.isInResult()&&(u=x),f){case this._SCANNING_FOR_INCOMING:if(!M.isInResult())continue;c=M,f=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!x.isInResult())continue;c.setNext(x),f=this._SCANNING_FOR_INCOMING}}if(f===this._LINKING_TO_OUTGOING){if(u===null)throw new zo("no outgoing dirEdge found",this.getCoordinate());at.isTrue(u.isInResult(),"unable to link last incoming dirEdge"),c.setNext(u)}},n.prototype.insert=function(u){var c=u;this.insertEdgeEnd(c,c)},n.prototype.getRightmostEdge=function(){var u=this.getEdges(),c=u.size();if(c<1)return null;var f=u.get(0);if(c===1)return f;var _=u.get(c-1),x=f.getQuadrant(),M=_.getQuadrant();return Li.isNorthern(x)&&Li.isNorthern(M)?f:Li.isNorthern(x)||Li.isNorthern(M)?f.getDy()!==0?f:_.getDy()!==0?_:(at.shouldNeverReachHere("found two horizontal edges incident on node"),null):_},n.prototype.print=function(u){Gt.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var c=this.iterator();c.hasNext();){var f=c.next();u.print("out "),f.print(u),u.println(),u.print("in "),f.getSym().print(u),u.println()}},n.prototype.getResultAreaEdges=function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new ue;for(var u=this.iterator();u.hasNext();){var c=u.next();(c.isInResult()||c.getSym().isInResult())&&this._resultAreaEdgeList.add(c)}return this._resultAreaEdgeList},n.prototype.updateLabelling=function(u){for(var c=this.iterator();c.hasNext();){var f=c.next().getLabel();f.setAllLocationsIfNull(0,u.getLocation(0)),f.setAllLocationsIfNull(1,u.getLocation(1))}},n.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var u=null,c=null,f=this._edgeList.size()-1;f>=0;f--){var _=this._edgeList.get(f),x=_.getSym();c===null&&(c=x),u!==null&&x.setNext(u),u=_}c.setNext(u)},n.prototype.computeDepths=function(){if(arguments.length===1){var u=arguments[0],c=this.findIndex(u),f=u.getDepth(Me.LEFT),_=u.getDepth(Me.RIGHT),x=this.computeDepths(c+1,this._edgeList.size(),f);if(this.computeDepths(0,c,x)!==_)throw new zo("depth mismatch at "+u.getCoordinate())}else if(arguments.length===3){for(var M=arguments[0],V=arguments[1],Q=arguments[2],ce=M;ce<V;ce++){var he=this._edgeList.get(ce);he.setEdgeDepths(Me.RIGHT,Q),Q=he.getDepth(Me.LEFT)}return Q}},n.prototype.mergeSymLabels=function(){for(var u=this.iterator();u.hasNext();){var c=u.next();c.getLabel().merge(c.getSym().getLabel())}},n.prototype.linkMinimalDirectedEdges=function(u){for(var c=null,f=null,_=this._SCANNING_FOR_INCOMING,x=this._resultAreaEdgeList.size()-1;x>=0;x--){var M=this._resultAreaEdgeList.get(x),V=M.getSym();switch(c===null&&M.getEdgeRing()===u&&(c=M),_){case this._SCANNING_FOR_INCOMING:if(V.getEdgeRing()!==u)continue;f=V,_=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(M.getEdgeRing()!==u)continue;f.setNextMin(M),_=this._SCANNING_FOR_INCOMING}}_===this._LINKING_TO_OUTGOING&&(at.isTrue(c!==null,"found null for first outgoing dirEdge"),at.isTrue(c.getEdgeRing()===u,"unable to link last incoming dirEdge"),f.setNextMin(c))},n.prototype.getOutgoingDegree=function(){if(arguments.length===0){for(var u=0,c=this.iterator();c.hasNext();)c.next().isInResult()&&u++;return u}if(arguments.length===1){for(var f=arguments[0],_=0,x=this.iterator();x.hasNext();)x.next().getEdgeRing()===f&&_++;return _}},n.prototype.getLabel=function(){return this._label},n.prototype.findCoveredLineEdges=function(){for(var u=W.NONE,c=this.iterator();c.hasNext();){var f=c.next(),_=f.getSym();if(!f.isLineEdge()){if(f.isInResult()){u=W.INTERIOR;break}if(_.isInResult()){u=W.EXTERIOR;break}}}if(u===W.NONE)return null;for(var x=u,M=this.iterator();M.hasNext();){var V=M.next(),Q=V.getSym();V.isLineEdge()?V.getEdge().setCovered(x===W.INTERIOR):(V.isInResult()&&(x=W.EXTERIOR),Q.isInResult()&&(x=W.INTERIOR))}},n.prototype.computeLabelling=function(u){t.prototype.computeLabelling.call(this,u),this._label=new Nt(W.NONE);for(var c=this.iterator();c.hasNext();)for(var f=c.next().getEdge().getLabel(),_=0;_<2;_++){var x=f.getLocation(_);x!==W.INTERIOR&&x!==W.BOUNDARY||this._label.setLocation(_,W.INTERIOR)}},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(ir),qo=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.createNode=function(u){return new So(u,new wp)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(Ho),ho=function t(){this._pts=null,this._orientation=null;var n=arguments[0];this._pts=n,this._orientation=t.orientation(n)};ho.prototype.compareTo=function(t){var n=t;return ho.compareOriented(this._pts,this._orientation,n._pts,n._orientation)},ho.prototype.interfaces_=function(){return[ee]},ho.prototype.getClass=function(){return ho},ho.orientation=function(t){return ve.increasingDirection(t)===1},ho.compareOriented=function(t,n,u,c){for(var f=n?1:-1,_=c?1:-1,x=n?t.length:-1,M=c?u.length:-1,V=n?0:t.length-1,Q=c?0:u.length-1;;){var ce=t[V].compareTo(u[Q]);if(ce!==0)return ce;var he=(V+=f)===x,ke=(Q+=_)===M;if(he&&!ke)return-1;if(!he&&ke)return 1;if(he&&ke)return 0}};var Mo=function(){this._edges=new ue,this._ocaMap=new R};Mo.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var n=0;n<this._edges.size();n++){var u=this._edges.get(n);n>0&&t.print(","),t.print("(");for(var c=u.getCoordinates(),f=0;f<c.length;f++)f>0&&t.print(","),t.print(c[f].x+" "+c[f].y);t.println(")")}t.print(")  ")},Mo.prototype.addAll=function(t){for(var n=t.iterator();n.hasNext();)this.add(n.next())},Mo.prototype.findEdgeIndex=function(t){for(var n=0;n<this._edges.size();n++)if(this._edges.get(n).equals(t))return n;return-1},Mo.prototype.iterator=function(){return this._edges.iterator()},Mo.prototype.getEdges=function(){return this._edges},Mo.prototype.get=function(t){return this._edges.get(t)},Mo.prototype.findEqualEdge=function(t){var n=new ho(t.getCoordinates());return this._ocaMap.get(n)},Mo.prototype.add=function(t){this._edges.add(t);var n=new ho(t.getCoordinates());this._ocaMap.put(n,t)},Mo.prototype.interfaces_=function(){return[]},Mo.prototype.getClass=function(){return Mo};var Gr=function(){};Gr.prototype.processIntersections=function(t,n,u,c){},Gr.prototype.isDone=function(){},Gr.prototype.interfaces_=function(){return[]},Gr.prototype.getClass=function(){return Gr};var ro=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};ro.prototype.isTrivialIntersection=function(t,n,u,c){if(t===u&&this._li.getIntersectionNum()===1){if(ro.isAdjacentSegments(n,c))return!0;if(t.isClosed()){var f=t.size()-1;if(n===0&&c===f||c===0&&n===f)return!0}}return!1},ro.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},ro.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},ro.prototype.getLineIntersector=function(){return this._li},ro.prototype.hasProperIntersection=function(){return this._hasProper},ro.prototype.processIntersections=function(t,n,u,c){if(t===u&&n===c)return null;this.numTests++;var f=t.getCoordinates()[n],_=t.getCoordinates()[n+1],x=u.getCoordinates()[c],M=u.getCoordinates()[c+1];this._li.computeIntersection(f,_,x,M),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,n,u,c)||(this._hasIntersection=!0,t.addIntersections(this._li,n,0),u.addIntersections(this._li,c,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},ro.prototype.hasIntersection=function(){return this._hasIntersection},ro.prototype.isDone=function(){return!1},ro.prototype.hasInteriorIntersection=function(){return this._hasInterior},ro.prototype.interfaces_=function(){return[Gr]},ro.prototype.getClass=function(){return ro},ro.isAdjacentSegments=function(t,n){return Math.abs(t-n)===1};var Or=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],n=arguments[1],u=arguments[2];this.coord=new B(t),this.segmentIndex=n,this.dist=u};Or.prototype.getSegmentIndex=function(){return this.segmentIndex},Or.prototype.getCoordinate=function(){return this.coord},Or.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Or.prototype.compareTo=function(t){var n=t;return this.compare(n.segmentIndex,n.dist)},Or.prototype.isEndPoint=function(t){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===t},Or.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Or.prototype.getDistance=function(){return this.dist},Or.prototype.compare=function(t,n){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<n?-1:this.dist>n?1:0},Or.prototype.interfaces_=function(){return[ee]},Or.prototype.getClass=function(){return Or};var os=function(){this._nodeMap=new R,this.edge=null;var t=arguments[0];this.edge=t};os.prototype.print=function(t){t.println("Intersections:");for(var n=this.iterator();n.hasNext();)n.next().print(t)},os.prototype.iterator=function(){return this._nodeMap.values().iterator()},os.prototype.addSplitEdges=function(t){this.addEndpoints();for(var n=this.iterator(),u=n.next();n.hasNext();){var c=n.next(),f=this.createSplitEdge(u,c);t.add(f),u=c}},os.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},os.prototype.createSplitEdge=function(t,n){var u=n.segmentIndex-t.segmentIndex+2,c=this.edge.pts[n.segmentIndex],f=n.dist>0||!n.coord.equals2D(c);f||u--;var _=new Array(u).fill(null),x=0;_[x++]=new B(t.coord);for(var M=t.segmentIndex+1;M<=n.segmentIndex;M++)_[x++]=this.edge.pts[M];return f&&(_[x]=n.coord),new as(_,new Nt(this.edge._label))},os.prototype.add=function(t,n,u){var c=new Or(t,n,u),f=this._nodeMap.get(c);return f!==null?f:(this._nodeMap.put(c,c),c)},os.prototype.isIntersection=function(t){for(var n=this.iterator();n.hasNext();)if(n.next().coord.equals(t))return!0;return!1},os.prototype.interfaces_=function(){return[]},os.prototype.getClass=function(){return os};var Go=function(){};Go.prototype.getChainStartIndices=function(t){var n=0,u=new ue;u.add(new ye(n));do{var c=this.findChainEnd(t,n);u.add(new ye(c)),n=c}while(n<t.length-1);return Go.toIntArray(u)},Go.prototype.findChainEnd=function(t,n){for(var u=Li.quadrant(t[n],t[n+1]),c=n+1;c<t.length&&Li.quadrant(t[c-1],t[c])===u;)c++;return c-1},Go.prototype.interfaces_=function(){return[]},Go.prototype.getClass=function(){return Go},Go.toIntArray=function(t){for(var n=new Array(t.size()).fill(null),u=0;u<n.length;u++)n[u]=t.get(u).intValue();return n};var ss=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new ze,this.env2=new ze;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var n=new Go;this.startIndex=n.getChainStartIndices(this.pts)};ss.prototype.getCoordinates=function(){return this.pts},ss.prototype.getMaxX=function(t){var n=this.pts[this.startIndex[t]].x,u=this.pts[this.startIndex[t+1]].x;return n>u?n:u},ss.prototype.getMinX=function(t){var n=this.pts[this.startIndex[t]].x,u=this.pts[this.startIndex[t+1]].x;return n<u?n:u},ss.prototype.computeIntersectsForChain=function(){if(arguments.length===4){var t=arguments[0],n=arguments[1],u=arguments[2],c=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],n,n.startIndex[u],n.startIndex[u+1],c)}else if(arguments.length===6){var f=arguments[0],_=arguments[1],x=arguments[2],M=arguments[3],V=arguments[4],Q=arguments[5],ce=this.pts[f],he=this.pts[_],ke=x.pts[M],De=x.pts[V];if(_-f==1&&V-M==1)return Q.addIntersections(this.e,f,x.e,M),null;if(this.env1.init(ce,he),this.env2.init(ke,De),!this.env1.intersects(this.env2))return null;var Xe=Math.trunc((f+_)/2),ot=Math.trunc((M+V)/2);f<Xe&&(M<ot&&this.computeIntersectsForChain(f,Xe,x,M,ot,Q),ot<V&&this.computeIntersectsForChain(f,Xe,x,ot,V,Q)),Xe<_&&(M<ot&&this.computeIntersectsForChain(Xe,_,x,M,ot,Q),ot<V&&this.computeIntersectsForChain(Xe,_,x,ot,V,Q))}},ss.prototype.getStartIndexes=function(){return this.startIndex},ss.prototype.computeIntersects=function(t,n){for(var u=0;u<this.startIndex.length-1;u++)for(var c=0;c<t.startIndex.length-1;c++)this.computeIntersectsForChain(u,t,c,n)},ss.prototype.interfaces_=function(){return[]},ss.prototype.getClass=function(){return ss};var Mn=function t(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var n=0;n<2;n++)for(var u=0;u<3;u++)this._depth[n][u]=t.NULL_VALUE},ic={NULL_VALUE:{configurable:!0}};Mn.prototype.getDepth=function(t,n){return this._depth[t][n]},Mn.prototype.setDepth=function(t,n,u){this._depth[t][n]=u},Mn.prototype.isNull=function(){if(arguments.length===0){for(var t=0;t<2;t++)for(var n=0;n<3;n++)if(this._depth[t][n]!==Mn.NULL_VALUE)return!1;return!0}if(arguments.length===1){var u=arguments[0];return this._depth[u][1]===Mn.NULL_VALUE}if(arguments.length===2){var c=arguments[0],f=arguments[1];return this._depth[c][f]===Mn.NULL_VALUE}},Mn.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var n=this._depth[t][1];this._depth[t][2]<n&&(n=this._depth[t][2]),n<0&&(n=0);for(var u=1;u<3;u++){var c=0;this._depth[t][u]>n&&(c=1),this._depth[t][u]=c}}},Mn.prototype.getDelta=function(t){return this._depth[t][Me.RIGHT]-this._depth[t][Me.LEFT]},Mn.prototype.getLocation=function(t,n){return this._depth[t][n]<=0?W.EXTERIOR:W.INTERIOR},Mn.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Mn.prototype.add=function(){if(arguments.length===1)for(var t=arguments[0],n=0;n<2;n++)for(var u=1;u<3;u++){var c=t.getLocation(n,u);c!==W.EXTERIOR&&c!==W.INTERIOR||(this.isNull(n,u)?this._depth[n][u]=Mn.depthAtLocation(c):this._depth[n][u]+=Mn.depthAtLocation(c))}else if(arguments.length===3){var f=arguments[0],_=arguments[1];arguments[2]===W.INTERIOR&&this._depth[f][_]++}},Mn.prototype.interfaces_=function(){return[]},Mn.prototype.getClass=function(){return Mn},Mn.depthAtLocation=function(t){return t===W.EXTERIOR?0:t===W.INTERIOR?1:Mn.NULL_VALUE},ic.NULL_VALUE.get=function(){return-1},Object.defineProperties(Mn,ic);var as=function(t){function n(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new os(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Mn,this._depthDelta=0,arguments.length===1){var u=arguments[0];n.call(this,u,null)}else if(arguments.length===2){var c=arguments[0],f=arguments[1];this.pts=c,this._label=f}}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.getDepth=function(){return this._depth},n.prototype.getCollapsedEdge=function(){var u=new Array(2).fill(null);return u[0]=this.pts[0],u[1]=this.pts[1],new n(u,Nt.toLineLabel(this._label))},n.prototype.isIsolated=function(){return this._isIsolated},n.prototype.getCoordinates=function(){return this.pts},n.prototype.setIsolated=function(u){this._isIsolated=u},n.prototype.setName=function(u){this._name=u},n.prototype.equals=function(u){if(!(u instanceof n))return!1;var c=u;if(this.pts.length!==c.pts.length)return!1;for(var f=!0,_=!0,x=this.pts.length,M=0;M<this.pts.length;M++)if(this.pts[M].equals2D(c.pts[M])||(f=!1),this.pts[M].equals2D(c.pts[--x])||(_=!1),!f&&!_)return!1;return!0},n.prototype.getCoordinate=function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var u=arguments[0];return this.pts[u]}},n.prototype.print=function(u){u.print("edge "+this._name+": "),u.print("LINESTRING (");for(var c=0;c<this.pts.length;c++)c>0&&u.print(","),u.print(this.pts[c].x+" "+this.pts[c].y);u.print(")  "+this._label+" "+this._depthDelta)},n.prototype.computeIM=function(u){n.updateIM(this._label,u)},n.prototype.isCollapsed=function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])},n.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},n.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},n.prototype.getDepthDelta=function(){return this._depthDelta},n.prototype.getNumPoints=function(){return this.pts.length},n.prototype.printReverse=function(u){u.print("edge "+this._name+": ");for(var c=this.pts.length-1;c>=0;c--)u.print(this.pts[c]+" ");u.println("")},n.prototype.getMonotoneChainEdge=function(){return this._mce===null&&(this._mce=new ss(this)),this._mce},n.prototype.getEnvelope=function(){if(this._env===null){this._env=new ze;for(var u=0;u<this.pts.length;u++)this._env.expandToInclude(this.pts[u])}return this._env},n.prototype.addIntersection=function(u,c,f,_){var x=new B(u.getIntersection(_)),M=c,V=u.getEdgeDistance(f,_),Q=M+1;if(Q<this.pts.length){var ce=this.pts[Q];x.equals2D(ce)&&(M=Q,V=0)}this.eiList.add(x,M,V)},n.prototype.toString=function(){var u=new Ht;u.append("edge "+this._name+": "),u.append("LINESTRING (");for(var c=0;c<this.pts.length;c++)c>0&&u.append(","),u.append(this.pts[c].x+" "+this.pts[c].y);return u.append(")  "+this._label+" "+this._depthDelta),u.toString()},n.prototype.isPointwiseEqual=function(u){if(this.pts.length!==u.pts.length)return!1;for(var c=0;c<this.pts.length;c++)if(!this.pts[c].equals2D(u.pts[c]))return!1;return!0},n.prototype.setDepthDelta=function(u){this._depthDelta=u},n.prototype.getEdgeIntersectionList=function(){return this.eiList},n.prototype.addIntersections=function(u,c,f){for(var _=0;_<u.getIntersectionNum();_++)this.addIntersection(u,c,f,_)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n.updateIM=function(){if(arguments.length!==2)return t.prototype.updateIM.apply(this,arguments);var u=arguments[0],c=arguments[1];c.setAtLeastIfValid(u.getLocation(0,Me.ON),u.getLocation(1,Me.ON),1),u.isArea()&&(c.setAtLeastIfValid(u.getLocation(0,Me.LEFT),u.getLocation(1,Me.LEFT),2),c.setAtLeastIfValid(u.getLocation(0,Me.RIGHT),u.getLocation(1,Me.RIGHT),2))},n}(lt),Gn=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Mo,this._bufParams=t||null};Gn.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},Gn.prototype.insertUniqueEdge=function(t){var n=this._edgeList.findEqualEdge(t);if(n!==null){var u=n.getLabel(),c=t.getLabel();n.isPointwiseEqual(t)||(c=new Nt(t.getLabel())).flip(),u.merge(c);var f=Gn.depthDelta(c),_=n.getDepthDelta()+f;n.setDepthDelta(_)}else this._edgeList.add(t),t.setDepthDelta(Gn.depthDelta(t.getLabel()))},Gn.prototype.buildSubgraphs=function(t,n){for(var u=new ue,c=t.iterator();c.hasNext();){var f=c.next(),_=f.getRightmostCoordinate(),x=new vr(u).getDepth(_);f.computeDepth(x),f.findResultEdges(),u.add(f),n.add(f.getDirectedEdges(),f.getNodes())}},Gn.prototype.createSubgraphs=function(t){for(var n=new ue,u=t.getNodes().iterator();u.hasNext();){var c=u.next();if(!c.isVisited()){var f=new er;f.create(c),n.add(f)}}return To.sort(n,To.reverseOrder()),n},Gn.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Gn.prototype.getNoder=function(t){if(this._workingNoder!==null)return this._workingNoder;var n=new du,u=new uo;return u.setPrecisionModel(t),n.setSegmentIntersector(new ro(u)),n},Gn.prototype.buffer=function(t,n){var u=this._workingPrecisionModel;u===null&&(u=t.getPrecisionModel()),this._geomFact=t.getFactory();var c=new qn(u,this._bufParams),f=new qr(t,n,c).getCurves();if(f.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(f,u),this._graph=new Ui(new qo),this._graph.addEdges(this._edgeList.getEdges());var _=this.createSubgraphs(this._graph),x=new tr(this._geomFact);this.buildSubgraphs(_,x);var M=x.getPolygons();return M.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(M)},Gn.prototype.computeNodedEdges=function(t,n){var u=this.getNoder(n);u.computeNodes(t);for(var c=u.getNodedSubstrings().iterator();c.hasNext();){var f=c.next(),_=f.getCoordinates();if(_.length!==2||!_[0].equals2D(_[1])){var x=f.getData(),M=new as(f.getCoordinates(),new Nt(x));this.insertUniqueEdge(M)}}},Gn.prototype.setNoder=function(t){this._workingNoder=t},Gn.prototype.interfaces_=function(){return[]},Gn.prototype.getClass=function(){return Gn},Gn.depthDelta=function(t){var n=t.getLocation(0,Me.LEFT),u=t.getLocation(0,Me.RIGHT);return n===W.INTERIOR&&u===W.EXTERIOR?1:n===W.EXTERIOR&&u===W.INTERIOR?-1:0},Gn.convertSegStrings=function(t){for(var n=new pt,u=new ue;t.hasNext();){var c=t.next(),f=n.createLineString(c.getCoordinates());u.add(f)}return n.buildGeometry(u)};var As=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var t=arguments[0],n=arguments[1];this._noder=t,this._scaleFactor=n,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(arguments.length===4){var u=arguments[0],c=arguments[1],f=arguments[2],_=arguments[3];this._noder=u,this._scaleFactor=c,this._offsetX=f,this._offsetY=_,this._isScaled=!this.isIntegerPrecision()}};As.prototype.rescale=function(){if(Ie(arguments[0],ae))for(var t=arguments[0].iterator();t.hasNext();){var n=t.next();this.rescale(n.getCoordinates())}else if(arguments[0]instanceof Array){for(var u=arguments[0],c=0;c<u.length;c++)u[c].x=u[c].x/this._scaleFactor+this._offsetX,u[c].y=u[c].y/this._scaleFactor+this._offsetY;u.length===2&&u[0].equals2D(u[1])&&Gt.out.println(u)}},As.prototype.scale=function(){if(Ie(arguments[0],ae)){for(var t=arguments[0],n=new ue,u=t.iterator();u.hasNext();){var c=u.next();n.add(new fn(this.scale(c.getCoordinates()),c.getData()))}return n}if(arguments[0]instanceof Array){for(var f=arguments[0],_=new Array(f.length).fill(null),x=0;x<f.length;x++)_[x]=new B(Math.round((f[x].x-this._offsetX)*this._scaleFactor),Math.round((f[x].y-this._offsetY)*this._scaleFactor),f[x].z);return ve.removeRepeatedPoints(_)}},As.prototype.isIntegerPrecision=function(){return this._scaleFactor===1},As.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},As.prototype.computeNodes=function(t){var n=t;this._isScaled&&(n=this.scale(t)),this._noder.computeNodes(n)},As.prototype.interfaces_=function(){return[Fs]},As.prototype.getClass=function(){return As};var fo=function(){this._li=new uo,this._segStrings=null;var t=arguments[0];this._segStrings=t},nc={fact:{configurable:!0}};fo.prototype.checkEndPtVertexIntersections=function(){if(arguments.length===0)for(var t=this._segStrings.iterator();t.hasNext();){var n=t.next().getCoordinates();this.checkEndPtVertexIntersections(n[0],this._segStrings),this.checkEndPtVertexIntersections(n[n.length-1],this._segStrings)}else if(arguments.length===2){for(var u=arguments[0],c=arguments[1].iterator();c.hasNext();)for(var f=c.next().getCoordinates(),_=1;_<f.length-1;_++)if(f[_].equals(u))throw new ur("found endpt/interior pt intersection at index "+_+" :pt "+u)}},fo.prototype.checkInteriorIntersections=function(){if(arguments.length===0)for(var t=this._segStrings.iterator();t.hasNext();)for(var n=t.next(),u=this._segStrings.iterator();u.hasNext();){var c=u.next();this.checkInteriorIntersections(n,c)}else if(arguments.length===2)for(var f=arguments[0],_=arguments[1],x=f.getCoordinates(),M=_.getCoordinates(),V=0;V<x.length-1;V++)for(var Q=0;Q<M.length-1;Q++)this.checkInteriorIntersections(f,V,_,Q);else if(arguments.length===4){var ce=arguments[0],he=arguments[1],ke=arguments[2],De=arguments[3];if(ce===ke&&he===De)return null;var Xe=ce.getCoordinates()[he],ot=ce.getCoordinates()[he+1],Ni=ke.getCoordinates()[De],An=ke.getCoordinates()[De+1];if(this._li.computeIntersection(Xe,ot,Ni,An),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,Xe,ot)||this.hasInteriorIntersection(this._li,Ni,An)))throw new ur("found non-noded intersection at "+Xe+"-"+ot+" and "+Ni+"-"+An)}},fo.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},fo.prototype.checkCollapses=function(){if(arguments.length===0)for(var t=this._segStrings.iterator();t.hasNext();){var n=t.next();this.checkCollapses(n)}else if(arguments.length===1)for(var u=arguments[0].getCoordinates(),c=0;c<u.length-2;c++)this.checkCollapse(u[c],u[c+1],u[c+2])},fo.prototype.hasInteriorIntersection=function(t,n,u){for(var c=0;c<t.getIntersectionNum();c++){var f=t.getIntersection(c);if(!f.equals(n)&&!f.equals(u))return!0}return!1},fo.prototype.checkCollapse=function(t,n,u){if(t.equals(u))throw new ur("found non-noded collapse at "+fo.fact.createLineString([t,n,u]))},fo.prototype.interfaces_=function(){return[]},fo.prototype.getClass=function(){return fo},nc.fact.get=function(){return new pt},Object.defineProperties(fo,nc);var dn=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],n=arguments[1],u=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=n,this._li=u,n<=0)throw new N("Scale factor must be non-zero");n!==1&&(this._pt=new B(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new B,this._p1Scaled=new B),this.initCorners(this._pt)},rc={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};dn.prototype.intersectsScaled=function(t,n){var u=Math.min(t.x,n.x),c=Math.max(t.x,n.x),f=Math.min(t.y,n.y),_=Math.max(t.y,n.y),x=this._maxx<u||this._minx>c||this._maxy<f||this._miny>_;if(x)return!1;var M=this.intersectsToleranceSquare(t,n);return at.isTrue(!(x&&M),"Found bad envelope test"),M},dn.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new B(this._maxx,this._maxy),this._corner[1]=new B(this._minx,this._maxy),this._corner[2]=new B(this._minx,this._miny),this._corner[3]=new B(this._maxx,this._miny)},dn.prototype.intersects=function(t,n){return this._scaleFactor===1?this.intersectsScaled(t,n):(this.copyScaled(t,this._p0Scaled),this.copyScaled(n,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},dn.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},dn.prototype.getCoordinate=function(){return this._originalPt},dn.prototype.copyScaled=function(t,n){n.x=this.scale(t.x),n.y=this.scale(t.y)},dn.prototype.getSafeEnvelope=function(){if(this._safeEnv===null){var t=dn.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new ze(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},dn.prototype.intersectsPixelClosure=function(t,n){return this._li.computeIntersection(t,n,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,n,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,n,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,n,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},dn.prototype.intersectsToleranceSquare=function(t,n){var u=!1,c=!1;return this._li.computeIntersection(t,n,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(t,n,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(u=!0),this._li.computeIntersection(t,n,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(c=!0),this._li.computeIntersection(t,n,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!u||!c)||!!t.equals(this._pt)||!!n.equals(this._pt))))},dn.prototype.addSnappedNode=function(t,n){var u=t.getCoordinate(n),c=t.getCoordinate(n+1);return!!this.intersects(u,c)&&(t.addIntersection(this.getCoordinate(),n),!0)},dn.prototype.interfaces_=function(){return[]},dn.prototype.getClass=function(){return dn},rc.SAFE_ENV_EXPANSION_FACTOR.get=function(){return .75},Object.defineProperties(dn,rc);var Cs=function(){this.tempEnv1=new ze,this.selectedSegment=new Ye};Cs.prototype.select=function(){if(arguments.length!==1){if(arguments.length===2){var t=arguments[0],n=arguments[1];t.getLineSegment(n,this.selectedSegment),this.select(this.selectedSegment)}}},Cs.prototype.interfaces_=function(){return[]},Cs.prototype.getClass=function(){return Cs};var Va=function(){this._index=null;var t=arguments[0];this._index=t},Is={HotPixelSnapAction:{configurable:!0}};Va.prototype.snap=function(){if(arguments.length===1){var t=arguments[0];return this.snap(t,null,-1)}if(arguments.length===3){var n=arguments[0],u=arguments[1],c=arguments[2],f=n.getSafeEnvelope(),_=new sl(n,u,c);return this._index.query(f,{interfaces_:function(){return[vs]},visitItem:function(x){x.select(f,_)}}),_.isNodeAdded()}},Va.prototype.interfaces_=function(){return[]},Va.prototype.getClass=function(){return Va},Is.HotPixelSnapAction.get=function(){return sl},Object.defineProperties(Va,Is);var sl=function(t){function n(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var u=arguments[0],c=arguments[1],f=arguments[2];this._hotPixel=u,this._parentEdge=c,this._hotPixelVertexIndex=f}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.isNodeAdded=function(){return this._isNodeAdded},n.prototype.select=function(){if(arguments.length!==2)return t.prototype.select.apply(this,arguments);var u=arguments[0],c=arguments[1],f=u.getContext();if(this._parentEdge!==null&&f===this._parentEdge&&c===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(f,c)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(Cs),Qs=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new ue};Qs.prototype.processIntersections=function(t,n,u,c){if(t===u&&n===c)return null;var f=t.getCoordinates()[n],_=t.getCoordinates()[n+1],x=u.getCoordinates()[c],M=u.getCoordinates()[c+1];if(this._li.computeIntersection(f,_,x,M),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var V=0;V<this._li.getIntersectionNum();V++)this._interiorIntersections.add(this._li.getIntersection(V));t.addIntersections(this._li,n,0),u.addIntersections(this._li,c,1)}},Qs.prototype.isDone=function(){return!1},Qs.prototype.getInteriorIntersections=function(){return this._interiorIntersections},Qs.prototype.interfaces_=function(){return[Gr]},Qs.prototype.getClass=function(){return Qs};var Oo=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new uo,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};Oo.prototype.checkCorrectness=function(t){var n=fn.getNodedSubstrings(t),u=new fo(n);try{u.checkValid()}catch(c){if(!(c instanceof Yi))throw c;c.printStackTrace()}},Oo.prototype.getNodedSubstrings=function(){return fn.getNodedSubstrings(this._nodedSegStrings)},Oo.prototype.snapRound=function(t,n){var u=this.findInteriorIntersections(t,n);this.computeIntersectionSnaps(u),this.computeVertexSnaps(t)},Oo.prototype.findInteriorIntersections=function(t,n){var u=new Qs(n);return this._noder.setSegmentIntersector(u),this._noder.computeNodes(t),u.getInteriorIntersections()},Oo.prototype.computeVertexSnaps=function(){if(Ie(arguments[0],ae))for(var t=arguments[0].iterator();t.hasNext();){var n=t.next();this.computeVertexSnaps(n)}else if(arguments[0]instanceof fn)for(var u=arguments[0],c=u.getCoordinates(),f=0;f<c.length;f++){var _=new dn(c[f],this._scaleFactor,this._li);this._pointSnapper.snap(_,u,f)&&u.addIntersection(c[f],f)}},Oo.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new du,this._pointSnapper=new Va(this._noder.getIndex()),this.snapRound(t,this._li)},Oo.prototype.computeIntersectionSnaps=function(t){for(var n=t.iterator();n.hasNext();){var u=n.next(),c=new dn(u,this._scaleFactor,this._li);this._pointSnapper.snap(c)}},Oo.prototype.interfaces_=function(){return[Fs]},Oo.prototype.getClass=function(){return Oo};var On=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new At,this._resultGeometry=null,this._saveException=null,arguments.length===1){var t=arguments[0];this._argGeom=t}else if(arguments.length===2){var n=arguments[0],u=arguments[1];this._argGeom=n,this._bufParams=u}},Js={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};On.prototype.bufferFixedPrecision=function(t){var n=new As(new Oo(new Ze(1)),t.getScale()),u=new Gn(this._bufParams);u.setWorkingPrecisionModel(t),u.setNoder(n),this._resultGeometry=u.buffer(this._argGeom,this._distance)},On.prototype.bufferReducedPrecision=function(){var t=this;if(arguments.length===0){for(var n=On.MAX_PRECISION_DIGITS;n>=0;n--){try{t.bufferReducedPrecision(n)}catch(_){if(!(_ instanceof zo))throw _;t._saveException=_}if(t._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var u=arguments[0],c=On.precisionScaleFactor(this._argGeom,this._distance,u),f=new Ze(c);this.bufferFixedPrecision(f)}},On.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===Ze.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},On.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},On.prototype.bufferOriginalPrecision=function(){try{var t=new Gn(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(n){if(!(n instanceof ur))throw n;this._saveException=n}},On.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},On.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},On.prototype.interfaces_=function(){return[]},On.prototype.getClass=function(){return On},On.bufferOp=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];return new On(t).getResultGeometry(n)}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof rt&&typeof arguments[1]=="number"){var u=arguments[0],c=arguments[1],f=arguments[2],_=new On(u);return _.setQuadrantSegments(f),_.getResultGeometry(c)}if(arguments[2]instanceof At&&arguments[0]instanceof rt&&typeof arguments[1]=="number"){var x=arguments[0],M=arguments[1],V=arguments[2];return new On(x,V).getResultGeometry(M)}}else if(arguments.length===4){var Q=arguments[0],ce=arguments[1],he=arguments[2],ke=arguments[3],De=new On(Q);return De.setQuadrantSegments(he),De.setEndCapStyle(ke),De.getResultGeometry(ce)}},On.precisionScaleFactor=function(t,n,u){var c=t.getEnvelopeInternal(),f=ut.max(Math.abs(c.getMaxX()),Math.abs(c.getMaxY()),Math.abs(c.getMinX()),Math.abs(c.getMinY()))+2*(n>0?n:0),_=u-Math.trunc(Math.log(f)/Math.log(10)+1);return Math.pow(10,_)},Js.CAP_ROUND.get=function(){return At.CAP_ROUND},Js.CAP_BUTT.get=function(){return At.CAP_FLAT},Js.CAP_FLAT.get=function(){return At.CAP_FLAT},Js.CAP_SQUARE.get=function(){return At.CAP_SQUARE},Js.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(On,Js);var Un=function(){this._pt=[new B,new B],this._distance=F.NaN,this._isNull=!0};Un.prototype.getCoordinates=function(){return this._pt},Un.prototype.getCoordinate=function(t){return this._pt[t]},Un.prototype.setMinimum=function(){if(arguments.length===1){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(arguments.length===2){var n=arguments[0],u=arguments[1];if(this._isNull)return this.initialize(n,u),null;var c=n.distance(u);c<this._distance&&this.initialize(n,u,c)}},Un.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var t=arguments[0],n=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(n),this._distance=t.distance(n),this._isNull=!1}else if(arguments.length===3){var u=arguments[0],c=arguments[1],f=arguments[2];this._pt[0].setCoordinate(u),this._pt[1].setCoordinate(c),this._distance=f,this._isNull=!1}},Un.prototype.getDistance=function(){return this._distance},Un.prototype.setMaximum=function(){if(arguments.length===1){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(arguments.length===2){var n=arguments[0],u=arguments[1];if(this._isNull)return this.initialize(n,u),null;var c=n.distance(u);c>this._distance&&this.initialize(n,u,c)}},Un.prototype.interfaces_=function(){return[]},Un.prototype.getClass=function(){return Un};var Ur=function(){};Ur.prototype.interfaces_=function(){return[]},Ur.prototype.getClass=function(){return Ur},Ur.computeDistance=function(){if(arguments[2]instanceof Un&&arguments[0]instanceof on&&arguments[1]instanceof B)for(var t=arguments[0],n=arguments[1],u=arguments[2],c=t.getCoordinates(),f=new Ye,_=0;_<c.length-1;_++){f.setCoordinates(c[_],c[_+1]);var x=f.closestPoint(n);u.setMinimum(x,n)}else if(arguments[2]instanceof Un&&arguments[0]instanceof Sn&&arguments[1]instanceof B){var M=arguments[0],V=arguments[1],Q=arguments[2];Ur.computeDistance(M.getExteriorRing(),V,Q);for(var ce=0;ce<M.getNumInteriorRing();ce++)Ur.computeDistance(M.getInteriorRingN(ce),V,Q)}else if(arguments[2]instanceof Un&&arguments[0]instanceof rt&&arguments[1]instanceof B){var he=arguments[0],ke=arguments[1],De=arguments[2];if(he instanceof on)Ur.computeDistance(he,ke,De);else if(he instanceof Sn)Ur.computeDistance(he,ke,De);else if(he instanceof Ri)for(var Xe=he,ot=0;ot<Xe.getNumGeometries();ot++){var Ni=Xe.getGeometryN(ot);Ur.computeDistance(Ni,ke,De)}else De.setMinimum(he.getCoordinate(),ke)}else if(arguments[2]instanceof Un&&arguments[0]instanceof Ye&&arguments[1]instanceof B){var An=arguments[0],jr=arguments[1],Gs=arguments[2],wa=An.closestPoint(jr);Gs.setMinimum(wa,jr)}};var ls=function(t){this._maxPtDist=new Un,this._inputGeom=t||null},al={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};ls.prototype.computeMaxMidpointDistance=function(t){var n=new Vs(this._inputGeom);t.apply(n),this._maxPtDist.setMaximum(n.getMaxPointDistance())},ls.prototype.computeMaxVertexDistance=function(t){var n=new ea(this._inputGeom);t.apply(n),this._maxPtDist.setMaximum(n.getMaxPointDistance())},ls.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},ls.prototype.getDistancePoints=function(){return this._maxPtDist},ls.prototype.interfaces_=function(){return[]},ls.prototype.getClass=function(){return ls},al.MaxPointDistanceFilter.get=function(){return ea},al.MaxMidpointDistanceFilter.get=function(){return Vs},Object.defineProperties(ls,al);var ea=function(t){this._maxPtDist=new Un,this._minPtDist=new Un,this._geom=t||null};ea.prototype.filter=function(t){this._minPtDist.initialize(),Ur.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},ea.prototype.getMaxPointDistance=function(){return this._maxPtDist},ea.prototype.interfaces_=function(){return[oe]},ea.prototype.getClass=function(){return ea};var Vs=function(t){this._maxPtDist=new Un,this._minPtDist=new Un,this._geom=t||null};Vs.prototype.filter=function(t,n){if(n===0)return null;var u=t.getCoordinate(n-1),c=t.getCoordinate(n),f=new B((u.x+c.x)/2,(u.y+c.y)/2);this._minPtDist.initialize(),Ur.computeDistance(this._geom,f,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Vs.prototype.isDone=function(){return!1},Vs.prototype.isGeometryChanged=function(){return!1},Vs.prototype.getMaxPointDistance=function(){return this._maxPtDist},Vs.prototype.interfaces_=function(){return[nn]},Vs.prototype.getClass=function(){return Vs};var Lo=function(t){this._comps=t||null};Lo.prototype.filter=function(t){t instanceof Sn&&this._comps.add(t)},Lo.prototype.interfaces_=function(){return[tn]},Lo.prototype.getClass=function(){return Lo},Lo.getPolygons=function(){if(arguments.length===1){var t=arguments[0];return Lo.getPolygons(t,new ue)}if(arguments.length===2){var n=arguments[0],u=arguments[1];return n instanceof Sn?u.add(n):n instanceof Ri&&n.apply(new Lo(u)),u}};var nr=function(){if(this._lines=null,this._isForcedToLineString=!1,arguments.length===1){var t=arguments[0];this._lines=t}else if(arguments.length===2){var n=arguments[0],u=arguments[1];this._lines=n,this._isForcedToLineString=u}};nr.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof es){var n=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(n),null}t instanceof on&&this._lines.add(t)},nr.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},nr.prototype.interfaces_=function(){return[Jo]},nr.prototype.getClass=function(){return nr},nr.getGeometry=function(){if(arguments.length===1){var t=arguments[0];return t.getFactory().buildGeometry(nr.getLines(t))}if(arguments.length===2){var n=arguments[0],u=arguments[1];return n.getFactory().buildGeometry(nr.getLines(n,u))}},nr.getLines=function(){if(arguments.length===1){var t=arguments[0];return nr.getLines(t,!1)}if(arguments.length===2){if(Ie(arguments[0],ae)&&Ie(arguments[1],ae)){for(var n=arguments[0],u=arguments[1],c=n.iterator();c.hasNext();){var f=c.next();nr.getLines(f,u)}return u}if(arguments[0]instanceof rt&&typeof arguments[1]=="boolean"){var _=arguments[0],x=arguments[1],M=new ue;return _.apply(new nr(M,x)),M}if(arguments[0]instanceof rt&&Ie(arguments[1],ae)){var V=arguments[0],Q=arguments[1];return V instanceof on?Q.add(V):V.apply(new nr(Q)),Q}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&Ie(arguments[0],ae)&&Ie(arguments[1],ae)){for(var ce=arguments[0],he=arguments[1],ke=arguments[2],De=ce.iterator();De.hasNext();){var Xe=De.next();nr.getLines(Xe,he,ke)}return he}if(typeof arguments[2]=="boolean"&&arguments[0]instanceof rt&&Ie(arguments[1],ae)){var ot=arguments[0],Ni=arguments[1],An=arguments[2];return ot.apply(new nr(Ni,An)),Ni}}};var mo=function(){if(this._boundaryRule=C.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];if(t===null)throw new N("Rule must be non-null");this._boundaryRule=t}}};mo.prototype.locateInternal=function(){if(arguments[0]instanceof B&&arguments[1]instanceof Sn){var t=arguments[0],n=arguments[1];if(n.isEmpty())return W.EXTERIOR;var u=n.getExteriorRing(),c=this.locateInPolygonRing(t,u);if(c===W.EXTERIOR)return W.EXTERIOR;if(c===W.BOUNDARY)return W.BOUNDARY;for(var f=0;f<n.getNumInteriorRing();f++){var _=n.getInteriorRingN(f),x=this.locateInPolygonRing(t,_);if(x===W.INTERIOR)return W.EXTERIOR;if(x===W.BOUNDARY)return W.BOUNDARY}return W.INTERIOR}if(arguments[0]instanceof B&&arguments[1]instanceof on){var M=arguments[0],V=arguments[1];if(!V.getEnvelopeInternal().intersects(M))return W.EXTERIOR;var Q=V.getCoordinates();return V.isClosed()||!M.equals(Q[0])&&!M.equals(Q[Q.length-1])?Le.isOnLine(M,Q)?W.INTERIOR:W.EXTERIOR:W.BOUNDARY}if(arguments[0]instanceof B&&arguments[1]instanceof Br){var ce=arguments[0];return arguments[1].getCoordinate().equals2D(ce)?W.INTERIOR:W.EXTERIOR}},mo.prototype.locateInPolygonRing=function(t,n){return n.getEnvelopeInternal().intersects(t)?Le.locatePointInRing(t,n.getCoordinates()):W.EXTERIOR},mo.prototype.intersects=function(t,n){return this.locate(t,n)!==W.EXTERIOR},mo.prototype.updateLocationInfo=function(t){t===W.INTERIOR&&(this._isIn=!0),t===W.BOUNDARY&&this._numBoundaries++},mo.prototype.computeLocation=function(t,n){if(n instanceof Br&&this.updateLocationInfo(this.locateInternal(t,n)),n instanceof on)this.updateLocationInfo(this.locateInternal(t,n));else if(n instanceof Sn)this.updateLocationInfo(this.locateInternal(t,n));else if(n instanceof to)for(var u=n,c=0;c<u.getNumGeometries();c++){var f=u.getGeometryN(c);this.updateLocationInfo(this.locateInternal(t,f))}else if(n instanceof Io)for(var _=n,x=0;x<_.getNumGeometries();x++){var M=_.getGeometryN(x);this.updateLocationInfo(this.locateInternal(t,M))}else if(n instanceof Ri)for(var V=new rs(n);V.hasNext();){var Q=V.next();Q!==n&&this.computeLocation(t,Q)}},mo.prototype.locate=function(t,n){return n.isEmpty()?W.EXTERIOR:n instanceof on?this.locateInternal(t,n):n instanceof Sn?this.locateInternal(t,n):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,n),this._boundaryRule.isInBoundary(this._numBoundaries)?W.BOUNDARY:this._numBoundaries>0||this._isIn?W.INTERIOR:W.EXTERIOR)},mo.prototype.interfaces_=function(){return[]},mo.prototype.getClass=function(){return mo};var xr=function t(){if(this._component=null,this._segIndex=null,this._pt=null,arguments.length===2){var n=arguments[0],u=arguments[1];t.call(this,n,t.INSIDE_AREA,u)}else if(arguments.length===3){var c=arguments[0],f=arguments[1],_=arguments[2];this._component=c,this._segIndex=f,this._pt=_}},yu={INSIDE_AREA:{configurable:!0}};xr.prototype.isInsideArea=function(){return this._segIndex===xr.INSIDE_AREA},xr.prototype.getCoordinate=function(){return this._pt},xr.prototype.getGeometryComponent=function(){return this._component},xr.prototype.getSegmentIndex=function(){return this._segIndex},xr.prototype.interfaces_=function(){return[]},xr.prototype.getClass=function(){return xr},yu.INSIDE_AREA.get=function(){return-1},Object.defineProperties(xr,yu);var Bs=function(t){this._pts=t||null};Bs.prototype.filter=function(t){t instanceof Br&&this._pts.add(t)},Bs.prototype.interfaces_=function(){return[tn]},Bs.prototype.getClass=function(){return Bs},Bs.getPoints=function(){if(arguments.length===1){var t=arguments[0];return t instanceof Br?To.singletonList(t):Bs.getPoints(t,new ue)}if(arguments.length===2){var n=arguments[0],u=arguments[1];return n instanceof Br?u.add(n):n instanceof Ri&&n.apply(new Bs(u)),u}};var Kr=function(){this._locations=null;var t=arguments[0];this._locations=t};Kr.prototype.filter=function(t){(t instanceof Br||t instanceof on||t instanceof Sn)&&this._locations.add(new xr(t,0,t.getCoordinate()))},Kr.prototype.interfaces_=function(){return[tn]},Kr.prototype.getClass=function(){return Kr},Kr.getLocations=function(t){var n=new ue;return t.apply(new Kr(n)),n};var Ln=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new mo,this._minDistanceLocation=null,this._minDistance=F.MAX_VALUE,arguments.length===2){var t=arguments[0],n=arguments[1];this._geom=[t,n],this._terminateDistance=0}else if(arguments.length===3){var u=arguments[0],c=arguments[1],f=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=u,this._geom[1]=c,this._terminateDistance=f}};Ln.prototype.computeContainmentDistance=function(){if(arguments.length===0){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(arguments.length===2){var n=arguments[0],u=arguments[1],c=1-n,f=Lo.getPolygons(this._geom[n]);if(f.size()>0){var _=Kr.getLocations(this._geom[c]);if(this.computeContainmentDistance(_,f,u),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[c]=u[0],this._minDistanceLocation[n]=u[1],null}}else if(arguments.length===3){if(arguments[2]instanceof Array&&Ie(arguments[0],me)&&Ie(arguments[1],me)){for(var x=arguments[0],M=arguments[1],V=arguments[2],Q=0;Q<x.size();Q++)for(var ce=x.get(Q),he=0;he<M.size();he++)if(this.computeContainmentDistance(ce,M.get(he),V),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof xr&&arguments[1]instanceof Sn){var ke=arguments[0],De=arguments[1],Xe=arguments[2],ot=ke.getCoordinate();if(W.EXTERIOR!==this._ptLocator.locate(ot,De))return this._minDistance=0,Xe[0]=ke,Xe[1]=new xr(De,ot),null}}},Ln.prototype.computeMinDistanceLinesPoints=function(t,n,u){for(var c=0;c<t.size();c++)for(var f=t.get(c),_=0;_<n.size();_++){var x=n.get(_);if(this.computeMinDistance(f,x,u),this._minDistance<=this._terminateDistance)return null}},Ln.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),n=nr.getLines(this._geom[0]),u=nr.getLines(this._geom[1]),c=Bs.getPoints(this._geom[0]),f=Bs.getPoints(this._geom[1]);return this.computeMinDistanceLines(n,u,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,f,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(u,c,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(c,f,t),void this.updateMinDistance(t,!1))))},Ln.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Ln.prototype.updateMinDistance=function(t,n){if(t[0]===null)return null;n?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Ln.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Ln.prototype.computeMinDistance=function(){if(arguments.length===0){if(this._minDistanceLocation!==null||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2]instanceof Array&&arguments[0]instanceof on&&arguments[1]instanceof Br){var t=arguments[0],n=arguments[1],u=arguments[2];if(t.getEnvelopeInternal().distance(n.getEnvelopeInternal())>this._minDistance)return null;for(var c=t.getCoordinates(),f=n.getCoordinate(),_=0;_<c.length-1;_++){var x=Le.distancePointLine(f,c[_],c[_+1]);if(x<this._minDistance){this._minDistance=x;var M=new Ye(c[_],c[_+1]).closestPoint(f);u[0]=new xr(t,_,M),u[1]=new xr(n,0,f)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof on&&arguments[1]instanceof on){var V=arguments[0],Q=arguments[1],ce=arguments[2];if(V.getEnvelopeInternal().distance(Q.getEnvelopeInternal())>this._minDistance)return null;for(var he=V.getCoordinates(),ke=Q.getCoordinates(),De=0;De<he.length-1;De++)for(var Xe=0;Xe<ke.length-1;Xe++){var ot=Le.distanceLineLine(he[De],he[De+1],ke[Xe],ke[Xe+1]);if(ot<this._minDistance){this._minDistance=ot;var Ni=new Ye(he[De],he[De+1]),An=new Ye(ke[Xe],ke[Xe+1]),jr=Ni.closestPoints(An);ce[0]=new xr(V,De,jr[0]),ce[1]=new xr(Q,Xe,jr[1])}if(this._minDistance<=this._terminateDistance)return null}}}},Ln.prototype.computeMinDistancePoints=function(t,n,u){for(var c=0;c<t.size();c++)for(var f=t.get(c),_=0;_<n.size();_++){var x=n.get(_),M=f.getCoordinate().distance(x.getCoordinate());if(M<this._minDistance&&(this._minDistance=M,u[0]=new xr(f,0,f.getCoordinate()),u[1]=new xr(x,0,x.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Ln.prototype.distance=function(){if(this._geom[0]===null||this._geom[1]===null)throw new N("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Ln.prototype.computeMinDistanceLines=function(t,n,u){for(var c=0;c<t.size();c++)for(var f=t.get(c),_=0;_<n.size();_++){var x=n.get(_);if(this.computeMinDistance(f,x,u),this._minDistance<=this._terminateDistance)return null}},Ln.prototype.interfaces_=function(){return[]},Ln.prototype.getClass=function(){return Ln},Ln.distance=function(t,n){return new Ln(t,n).distance()},Ln.isWithinDistance=function(t,n,u){return new Ln(t,n,u).distance()<=u},Ln.nearestPoints=function(t,n){return new Ln(t,n).nearestPoints()};var fr=function(){this._pt=[new B,new B],this._distance=F.NaN,this._isNull=!0};fr.prototype.getCoordinates=function(){return this._pt},fr.prototype.getCoordinate=function(t){return this._pt[t]},fr.prototype.setMinimum=function(){if(arguments.length===1){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(arguments.length===2){var n=arguments[0],u=arguments[1];if(this._isNull)return this.initialize(n,u),null;var c=n.distance(u);c<this._distance&&this.initialize(n,u,c)}},fr.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var t=arguments[0],n=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(n),this._distance=t.distance(n),this._isNull=!1}else if(arguments.length===3){var u=arguments[0],c=arguments[1],f=arguments[2];this._pt[0].setCoordinate(u),this._pt[1].setCoordinate(c),this._distance=f,this._isNull=!1}},fr.prototype.toString=function(){return ji.toLineString(this._pt[0],this._pt[1])},fr.prototype.getDistance=function(){return this._distance},fr.prototype.setMaximum=function(){if(arguments.length===1){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(arguments.length===2){var n=arguments[0],u=arguments[1];if(this._isNull)return this.initialize(n,u),null;var c=n.distance(u);c>this._distance&&this.initialize(n,u,c)}},fr.prototype.interfaces_=function(){return[]},fr.prototype.getClass=function(){return fr};var oo=function(){};oo.prototype.interfaces_=function(){return[]},oo.prototype.getClass=function(){return oo},oo.computeDistance=function(){if(arguments[2]instanceof fr&&arguments[0]instanceof on&&arguments[1]instanceof B)for(var t=arguments[0],n=arguments[1],u=arguments[2],c=new Ye,f=t.getCoordinates(),_=0;_<f.length-1;_++){c.setCoordinates(f[_],f[_+1]);var x=c.closestPoint(n);u.setMinimum(x,n)}else if(arguments[2]instanceof fr&&arguments[0]instanceof Sn&&arguments[1]instanceof B){var M=arguments[0],V=arguments[1],Q=arguments[2];oo.computeDistance(M.getExteriorRing(),V,Q);for(var ce=0;ce<M.getNumInteriorRing();ce++)oo.computeDistance(M.getInteriorRingN(ce),V,Q)}else if(arguments[2]instanceof fr&&arguments[0]instanceof rt&&arguments[1]instanceof B){var he=arguments[0],ke=arguments[1],De=arguments[2];if(he instanceof on)oo.computeDistance(he,ke,De);else if(he instanceof Sn)oo.computeDistance(he,ke,De);else if(he instanceof Ri)for(var Xe=he,ot=0;ot<Xe.getNumGeometries();ot++){var Ni=Xe.getGeometryN(ot);oo.computeDistance(Ni,ke,De)}else De.setMinimum(he.getCoordinate(),ke)}else if(arguments[2]instanceof fr&&arguments[0]instanceof Ye&&arguments[1]instanceof B){var An=arguments[0],jr=arguments[1],Gs=arguments[2],wa=An.closestPoint(jr);Gs.setMinimum(wa,jr)}};var go=function(){this._g0=null,this._g1=null,this._ptDist=new fr,this._densifyFrac=0;var t=arguments[0],n=arguments[1];this._g0=t,this._g1=n},Rl={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};go.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},go.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new N("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},go.prototype.compute=function(t,n){this.computeOrientedDistance(t,n,this._ptDist),this.computeOrientedDistance(n,t,this._ptDist)},go.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},go.prototype.computeOrientedDistance=function(t,n,u){var c=new xa(n);if(t.apply(c),u.setMaximum(c.getMaxPointDistance()),this._densifyFrac>0){var f=new Po(n,this._densifyFrac);t.apply(f),u.setMaximum(f.getMaxPointDistance())}},go.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},go.prototype.interfaces_=function(){return[]},go.prototype.getClass=function(){return go},go.distance=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];return new go(t,n).distance()}if(arguments.length===3){var u=arguments[0],c=arguments[1],f=arguments[2],_=new go(u,c);return _.setDensifyFraction(f),_.distance()}},Rl.MaxPointDistanceFilter.get=function(){return xa},Rl.MaxDensifiedByFractionDistanceFilter.get=function(){return Po},Object.defineProperties(go,Rl);var xa=function(){this._maxPtDist=new fr,this._minPtDist=new fr,this._euclideanDist=new oo,this._geom=null;var t=arguments[0];this._geom=t};xa.prototype.filter=function(t){this._minPtDist.initialize(),oo.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},xa.prototype.getMaxPointDistance=function(){return this._maxPtDist},xa.prototype.interfaces_=function(){return[oe]},xa.prototype.getClass=function(){return xa};var Po=function(){this._maxPtDist=new fr,this._minPtDist=new fr,this._geom=null,this._numSubSegs=0;var t=arguments[0],n=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/n))};Po.prototype.filter=function(t,n){if(n===0)return null;for(var u=t.getCoordinate(n-1),c=t.getCoordinate(n),f=(c.x-u.x)/this._numSubSegs,_=(c.y-u.y)/this._numSubSegs,x=0;x<this._numSubSegs;x++){var M=u.x+x*f,V=u.y+x*_,Q=new B(M,V);this._minPtDist.initialize(),oo.computeDistance(this._geom,Q,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Po.prototype.isDone=function(){return!1},Po.prototype.isGeometryChanged=function(){return!1},Po.prototype.getMaxPointDistance=function(){return this._maxPtDist},Po.prototype.interfaces_=function(){return[nn]},Po.prototype.getClass=function(){return Po};var Zr=function(t,n,u){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=n||null,this._result=u||null},ta={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Zr.prototype.checkMaximumDistance=function(t,n,u){var c=new go(n,t);if(c.setDensifyFraction(.25),this._maxDistanceFound=c.orientedDistance(),this._maxDistanceFound>u){this._isValid=!1;var f=c.getCoordinates();this._errorLocation=f[1],this._errorIndicator=t.getFactory().createLineString(f),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+ji.toLineString(f[0],f[1])+")"}},Zr.prototype.isValid=function(){var t=Math.abs(this._bufDistance),n=Zr.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-n,this._maxValidDistance=t+n,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Zr.VERBOSE&&Gt.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Zr.prototype.checkNegativeValid=function(){if(!(this._input instanceof Sn||this._input instanceof Io||this._input instanceof Ri))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},Zr.prototype.getErrorIndicator=function(){return this._errorIndicator},Zr.prototype.checkMinimumDistance=function(t,n,u){var c=new Ln(t,n,u);if(this._minDistanceFound=c.distance(),this._minDistanceFound<u){this._isValid=!1;var f=c.nearestPoints();this._errorLocation=c.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(f),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+ji.toLineString(f[0],f[1])+" )"}},Zr.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},Zr.prototype.getErrorLocation=function(){return this._errorLocation},Zr.prototype.getPolygonLines=function(t){for(var n=new ue,u=new nr(n),c=Lo.getPolygons(t).iterator();c.hasNext();)c.next().apply(u);return t.getFactory().buildGeometry(n)},Zr.prototype.getErrorMessage=function(){return this._errMsg},Zr.prototype.interfaces_=function(){return[]},Zr.prototype.getClass=function(){return Zr},ta.VERBOSE.get=function(){return!1},ta.MAX_DISTANCE_DIFF_FRAC.get=function(){return .012},Object.defineProperties(Zr,ta);var Kn=function(t,n,u){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=n||null,this._result=u||null},Fl={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Kn.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Kn.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*Kn.MAX_ENV_DIFF_FRAC;t===0&&(t=.001);var n=new ze(this._input.getEnvelopeInternal());n.expandBy(this._distance);var u=new ze(this._result.getEnvelopeInternal());u.expandBy(t),u.contains(n)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(u)),this.report("Envelope")},Kn.prototype.checkDistance=function(){var t=new Zr(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},Kn.prototype.checkArea=function(){var t=this._input.getArea(),n=this._result.getArea();this._distance>0&&t>n&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<n&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Kn.prototype.checkPolygonal=function(){this._result instanceof Sn||this._result instanceof Io||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Kn.prototype.getErrorIndicator=function(){return this._errorIndicator},Kn.prototype.getErrorLocation=function(){return this._errorLocation},Kn.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Kn.prototype.report=function(t){if(!Kn.VERBOSE)return null;Gt.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},Kn.prototype.getErrorMessage=function(){return this._errorMsg},Kn.prototype.interfaces_=function(){return[]},Kn.prototype.getClass=function(){return Kn},Kn.isValidMsg=function(t,n,u){var c=new Kn(t,n,u);return c.isValid()?null:c.getErrorMessage()},Kn.isValid=function(t,n,u){return!!new Kn(t,n,u).isValid()},Fl.VERBOSE.get=function(){return!1},Fl.MAX_ENV_DIFF_FRAC.get=function(){return .012},Object.defineProperties(Kn,Fl);var Uo=function(){this._pts=null,this._data=null;var t=arguments[0],n=arguments[1];this._pts=t,this._data=n};Uo.prototype.getCoordinates=function(){return this._pts},Uo.prototype.size=function(){return this._pts.length},Uo.prototype.getCoordinate=function(t){return this._pts[t]},Uo.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Uo.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:ga.octant(this.getCoordinate(t),this.getCoordinate(t+1))},Uo.prototype.setData=function(t){this._data=t},Uo.prototype.getData=function(){return this._data},Uo.prototype.toString=function(){return ji.toLineString(new bt(this._pts))},Uo.prototype.interfaces_=function(){return[ns]},Uo.prototype.getClass=function(){return Uo};var Ki=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new ue,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};Ki.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Ki.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},Ki.prototype.getIntersectionSegments=function(){return this._intSegments},Ki.prototype.count=function(){return this._intersectionCount},Ki.prototype.getIntersections=function(){return this._intersections},Ki.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Ki.prototype.setKeepIntersections=function(t){this._keepIntersections=t},Ki.prototype.processIntersections=function(t,n,u,c){if(!this._findAllIntersections&&this.hasIntersection()||t===u&&n===c||this._isCheckEndSegmentsOnly&&!(this.isEndSegment(t,n)||this.isEndSegment(u,c)))return null;var f=t.getCoordinates()[n],_=t.getCoordinates()[n+1],x=u.getCoordinates()[c],M=u.getCoordinates()[c+1];this._li.computeIntersection(f,_,x,M),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=f,this._intSegments[1]=_,this._intSegments[2]=x,this._intSegments[3]=M,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Ki.prototype.isEndSegment=function(t,n){return n===0||n>=t.size()-2},Ki.prototype.hasIntersection=function(){return this._interiorIntersection!==null},Ki.prototype.isDone=function(){return!this._findAllIntersections&&this._interiorIntersection!==null},Ki.prototype.interfaces_=function(){return[Gr]},Ki.prototype.getClass=function(){return Ki},Ki.createAllIntersectionsFinder=function(t){var n=new Ki(t);return n.setFindAllIntersections(!0),n},Ki.createAnyIntersectionFinder=function(t){return new Ki(t)},Ki.createIntersectionCounter=function(t){var n=new Ki(t);return n.setFindAllIntersections(!0),n.setKeepIntersections(!1),n};var _o=function(){this._li=new uo,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};_o.prototype.execute=function(){if(this._segInt!==null)return null;this.checkInteriorIntersections()},_o.prototype.getIntersections=function(){return this._segInt.getIntersections()},_o.prototype.isValid=function(){return this.execute(),this._isValid},_o.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},_o.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Ki(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new du;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},_o.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new zo(this.getErrorMessage(),this._segInt.getInteriorIntersection())},_o.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+ji.toLineString(t[0],t[1])+" and "+ji.toLineString(t[2],t[3])},_o.prototype.interfaces_=function(){return[]},_o.prototype.getClass=function(){return _o},_o.computeIntersections=function(t){var n=new _o(t);return n.setFindAllIntersections(!0),n.isValid(),n.getIntersections()};var zs=function t(){this._nv=null;var n=arguments[0];this._nv=new _o(t.toSegmentStrings(n))};zs.prototype.checkValid=function(){this._nv.checkValid()},zs.prototype.interfaces_=function(){return[]},zs.prototype.getClass=function(){return zs},zs.toSegmentStrings=function(t){for(var n=new ue,u=t.iterator();u.hasNext();){var c=u.next();n.add(new Uo(c.getCoordinates(),c))}return n},zs.checkValid=function(t){new zs(t).checkValid()};var us=function(t){this._mapOp=t};us.prototype.map=function(t){for(var n=new ue,u=0;u<t.getNumGeometries();u++){var c=this._mapOp.map(t.getGeometryN(u));c.isEmpty()||n.add(c)}return t.getFactory().createGeometryCollection(pt.toGeometryArray(n))},us.prototype.interfaces_=function(){return[]},us.prototype.getClass=function(){return us},us.map=function(t,n){return new us(n).map(t)};var Ko=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new ue,this._resultLineList=new ue;var t=arguments[0],n=arguments[1],u=arguments[2];this._op=t,this._geometryFactory=n,this._ptLocator=u};Ko.prototype.collectLines=function(t){for(var n=this._op.getGraph().getEdgeEnds().iterator();n.hasNext();){var u=n.next();this.collectLineEdge(u,t,this._lineEdgesList),this.collectBoundaryTouchEdge(u,t,this._lineEdgesList)}},Ko.prototype.labelIsolatedLine=function(t,n){var u=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(n));t.getLabel().setLocation(n,u)},Ko.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Ko.prototype.collectLineEdge=function(t,n,u){var c=t.getLabel(),f=t.getEdge();t.isLineEdge()&&(t.isVisited()||!mt.isResultOfOp(c,n)||f.isCovered()||(u.add(f),t.setVisitedEdge(!0)))},Ko.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var n=this._op.getGraph().getEdgeEnds().iterator();n.hasNext();){var u=n.next(),c=u.getEdge();if(u.isLineEdge()&&!c.isCoveredSet()){var f=this._op.isCoveredByA(u.getCoordinate());c.setCovered(f)}}},Ko.prototype.labelIsolatedLines=function(t){for(var n=t.iterator();n.hasNext();){var u=n.next(),c=u.getLabel();u.isIsolated()&&(c.isNull(0)?this.labelIsolatedLine(u,0):this.labelIsolatedLine(u,1))}},Ko.prototype.buildLines=function(t){for(var n=this._lineEdgesList.iterator();n.hasNext();){var u=n.next(),c=this._geometryFactory.createLineString(u.getCoordinates());this._resultLineList.add(c),u.setInResult(!0)}},Ko.prototype.collectBoundaryTouchEdge=function(t,n,u){var c=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(at.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(mt.isResultOfOp(c,n)&&n===mt.INTERSECTION&&(u.add(t.getEdge()),t.setVisitedEdge(!0))))},Ko.prototype.interfaces_=function(){return[]},Ko.prototype.getClass=function(){return Ko};var Ss=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new ue;var t=arguments[0],n=arguments[1];this._op=t,this._geometryFactory=n};Ss.prototype.filterCoveredNodeToPoint=function(t){var n=t.getCoordinate();if(!this._op.isCoveredByLA(n)){var u=this._geometryFactory.createPoint(n);this._resultPointList.add(u)}},Ss.prototype.extractNonCoveredResultNodes=function(t){for(var n=this._op.getGraph().getNodes().iterator();n.hasNext();){var u=n.next();if(!u.isInResult()&&!u.isIncidentEdgeInResult()&&(u.getEdges().getDegree()===0||t===mt.INTERSECTION)){var c=u.getLabel();mt.isResultOfOp(c,t)&&this.filterCoveredNodeToPoint(u)}}},Ss.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Ss.prototype.interfaces_=function(){return[]},Ss.prototype.getClass=function(){return Ss};var Zn=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Zn.prototype.transformPoint=function(t,n){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Zn.prototype.transformPolygon=function(t,n){var u=!0,c=this.transformLinearRing(t.getExteriorRing(),t);c!==null&&c instanceof es&&!c.isEmpty()||(u=!1);for(var f=new ue,_=0;_<t.getNumInteriorRing();_++){var x=this.transformLinearRing(t.getInteriorRingN(_),t);x===null||x.isEmpty()||(x instanceof es||(u=!1),f.add(x))}if(u)return this._factory.createPolygon(c,f.toArray([]));var M=new ue;return c!==null&&M.add(c),M.addAll(f),this._factory.buildGeometry(M)},Zn.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Zn.prototype.getInputGeometry=function(){return this._inputGeom},Zn.prototype.transformMultiLineString=function(t,n){for(var u=new ue,c=0;c<t.getNumGeometries();c++){var f=this.transformLineString(t.getGeometryN(c),t);f!==null&&(f.isEmpty()||u.add(f))}return this._factory.buildGeometry(u)},Zn.prototype.transformCoordinates=function(t,n){return this.copy(t)},Zn.prototype.transformLineString=function(t,n){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Zn.prototype.transformMultiPoint=function(t,n){for(var u=new ue,c=0;c<t.getNumGeometries();c++){var f=this.transformPoint(t.getGeometryN(c),t);f!==null&&(f.isEmpty()||u.add(f))}return this._factory.buildGeometry(u)},Zn.prototype.transformMultiPolygon=function(t,n){for(var u=new ue,c=0;c<t.getNumGeometries();c++){var f=this.transformPolygon(t.getGeometryN(c),t);f!==null&&(f.isEmpty()||u.add(f))}return this._factory.buildGeometry(u)},Zn.prototype.copy=function(t){return t.copy()},Zn.prototype.transformGeometryCollection=function(t,n){for(var u=new ue,c=0;c<t.getNumGeometries();c++){var f=this.transform(t.getGeometryN(c));f!==null&&(this._pruneEmptyGeometry&&f.isEmpty()||u.add(f))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(pt.toGeometryArray(u)):this._factory.buildGeometry(u)},Zn.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Br)return this.transformPoint(t,null);if(t instanceof Da)return this.transformMultiPoint(t,null);if(t instanceof es)return this.transformLinearRing(t,null);if(t instanceof on)return this.transformLineString(t,null);if(t instanceof to)return this.transformMultiLineString(t,null);if(t instanceof Sn)return this.transformPolygon(t,null);if(t instanceof Io)return this.transformMultiPolygon(t,null);if(t instanceof Ri)return this.transformGeometryCollection(t,null);throw new N("Unknown Geometry subtype: "+t.getClass().getName())},Zn.prototype.transformLinearRing=function(t,n){var u=this.transformCoordinates(t.getCoordinateSequence(),t);if(u===null)return this._factory.createLinearRing(null);var c=u.size();return c>0&&c<4&&!this._preserveType?this._factory.createLineString(u):this._factory.createLinearRing(u)},Zn.prototype.interfaces_=function(){return[]},Zn.prototype.getClass=function(){return Zn};var Zo=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Ye,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof on&&typeof arguments[1]=="number"){var n=arguments[0],u=arguments[1];t.call(this,n.getCoordinates(),u)}else if(arguments[0]instanceof Array&&typeof arguments[1]=="number"){var c=arguments[0],f=arguments[1];this._srcPts=c,this._isClosed=t.isClosed(c),this._snapTolerance=f}};Zo.prototype.snapVertices=function(t,n){for(var u=this._isClosed?t.size()-1:t.size(),c=0;c<u;c++){var f=t.get(c),_=this.findSnapForVertex(f,n);_!==null&&(t.set(c,new B(_)),c===0&&this._isClosed&&t.set(t.size()-1,new B(_)))}},Zo.prototype.findSnapForVertex=function(t,n){for(var u=0;u<n.length;u++){if(t.equals2D(n[u]))return null;if(t.distance(n[u])<this._snapTolerance)return n[u]}return null},Zo.prototype.snapTo=function(t){var n=new Ce(this._srcPts);return this.snapVertices(n,t),this.snapSegments(n,t),n.toCoordinateArray()},Zo.prototype.snapSegments=function(t,n){if(n.length===0)return null;var u=n.length;n[0].equals2D(n[n.length-1])&&(u=n.length-1);for(var c=0;c<u;c++){var f=n[c],_=this.findSegmentIndexToSnap(f,t);_>=0&&t.add(_+1,new B(f),!1)}},Zo.prototype.findSegmentIndexToSnap=function(t,n){for(var u=F.MAX_VALUE,c=-1,f=0;f<n.size()-1;f++){if(this._seg.p0=n.get(f),this._seg.p1=n.get(f+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var _=this._seg.distance(t);_<this._snapTolerance&&_<u&&(u=_,c=f)}return c},Zo.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Zo.prototype.interfaces_=function(){return[]},Zo.prototype.getClass=function(){return Zo},Zo.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var an=function(t){this._srcGeom=t||null},oc={SNAP_PRECISION_FACTOR:{configurable:!0}};an.prototype.snapTo=function(t,n){var u=this.extractTargetCoordinates(t);return new vu(n,u).transform(this._srcGeom)},an.prototype.snapToSelf=function(t,n){var u=this.extractTargetCoordinates(this._srcGeom),c=new vu(t,u,!0).transform(this._srcGeom),f=c;return n&&Ie(f,ks)&&(f=c.buffer(0)),f},an.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},an.prototype.extractTargetCoordinates=function(t){for(var n=new Y,u=t.getCoordinates(),c=0;c<u.length;c++)n.add(u[c]);return n.toArray(new Array(0).fill(null))},an.prototype.computeMinimumSegmentLength=function(t){for(var n=F.MAX_VALUE,u=0;u<t.length-1;u++){var c=t[u].distance(t[u+1]);c<n&&(n=c)}return n},an.prototype.interfaces_=function(){return[]},an.prototype.getClass=function(){return an},an.snap=function(t,n,u){var c=new Array(2).fill(null),f=new an(t);c[0]=f.snapTo(n,u);var _=new an(n);return c[1]=_.snapTo(c[0],u),c},an.computeOverlaySnapTolerance=function(){if(arguments.length===1){var t=arguments[0],n=an.computeSizeBasedSnapTolerance(t),u=t.getPrecisionModel();if(u.getType()===Ze.FIXED){var c=1/u.getScale()*2/1.415;c>n&&(n=c)}return n}if(arguments.length===2){var f=arguments[0],_=arguments[1];return Math.min(an.computeOverlaySnapTolerance(f),an.computeOverlaySnapTolerance(_))}},an.computeSizeBasedSnapTolerance=function(t){var n=t.getEnvelopeInternal();return Math.min(n.getHeight(),n.getWidth())*an.SNAP_PRECISION_FACTOR},an.snapToSelf=function(t,n,u){return new an(t).snapToSelf(n,u)},oc.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(an,oc);var vu=function(t){function n(u,c,f){t.call(this),this._snapTolerance=u||null,this._snapPts=c||null,this._isSelfSnap=f!==void 0&&f}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.snapLine=function(u,c){var f=new Zo(u,this._snapTolerance);return f.setAllowSnappingToSourceVertices(this._isSelfSnap),f.snapTo(c)},n.prototype.transformCoordinates=function(u,c){var f=u.toCoordinateArray(),_=this.snapLine(f,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(_)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(Zn),dr=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};dr.prototype.getCommon=function(){return F.longBitsToDouble(this._commonBits)},dr.prototype.add=function(t){var n=F.doubleToLongBits(t);if(this._isFirst)return this._commonBits=n,this._commonSignExp=dr.signExpBits(this._commonBits),this._isFirst=!1,null;if(dr.signExpBits(n)!==this._commonSignExp)return this._commonBits=0,null;this._commonMantissaBitsCount=dr.numCommonMostSigMantissaBits(this._commonBits,n),this._commonBits=dr.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))},dr.prototype.toString=function(){if(arguments.length===1){var t=arguments[0],n=F.longBitsToDouble(t),u="0000000000000000000000000000000000000000000000000000000000000000"+F.toBinaryString(t),c=u.substring(u.length-64);return c.substring(0,1)+"  "+c.substring(1,12)+"(exp) "+c.substring(12)+" [ "+n+" ]"}},dr.prototype.interfaces_=function(){return[]},dr.prototype.getClass=function(){return dr},dr.getBit=function(t,n){return t&1<<n?1:0},dr.signExpBits=function(t){return t>>52},dr.zeroLowerBits=function(t,n){return t&~((1<<n)-1)},dr.numCommonMostSigMantissaBits=function(t,n){for(var u=0,c=52;c>=0;c--){if(dr.getBit(t,c)!==dr.getBit(n,c))return u;u++}return 52};var Ts=function(){this._commonCoord=null,this._ccFilter=new ia},Nl={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Ts.prototype.addCommonBits=function(t){var n=new Hs(this._commonCoord);t.apply(n),t.geometryChanged()},Ts.prototype.removeCommonBits=function(t){if(this._commonCoord.x===0&&this._commonCoord.y===0)return t;var n=new B(this._commonCoord);n.x=-n.x,n.y=-n.y;var u=new Hs(n);return t.apply(u),t.geometryChanged(),t},Ts.prototype.getCommonCoordinate=function(){return this._commonCoord},Ts.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Ts.prototype.interfaces_=function(){return[]},Ts.prototype.getClass=function(){return Ts},Nl.CommonCoordinateFilter.get=function(){return ia},Nl.Translater.get=function(){return Hs},Object.defineProperties(Ts,Nl);var ia=function(){this._commonBitsX=new dr,this._commonBitsY=new dr};ia.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},ia.prototype.getCommonCoordinate=function(){return new B(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},ia.prototype.interfaces_=function(){return[oe]},ia.prototype.getClass=function(){return ia};var Hs=function(){this.trans=null;var t=arguments[0];this.trans=t};Hs.prototype.filter=function(t,n){var u=t.getOrdinate(n,0)+this.trans.x,c=t.getOrdinate(n,1)+this.trans.y;t.setOrdinate(n,0,u),t.setOrdinate(n,1,c)},Hs.prototype.isDone=function(){return!1},Hs.prototype.isGeometryChanged=function(){return!0},Hs.prototype.interfaces_=function(){return[nn]},Hs.prototype.getClass=function(){return Hs};var Nn=function(t,n){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=n,this.computeSnapTolerance()};Nn.prototype.selfSnap=function(t){return new an(t).snapTo(t,this._snapTolerance)},Nn.prototype.removeCommonBits=function(t){this._cbr=new Ts,this._cbr.add(t[0]),this._cbr.add(t[1]);var n=new Array(2).fill(null);return n[0]=this._cbr.removeCommonBits(t[0].copy()),n[1]=this._cbr.removeCommonBits(t[1].copy()),n},Nn.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},Nn.prototype.getResultGeometry=function(t){var n=this.snap(this._geom),u=mt.overlayOp(n[0],n[1],t);return this.prepareResult(u)},Nn.prototype.checkValid=function(t){t.isValid()||Gt.out.println("Snapped geometry is invalid")},Nn.prototype.computeSnapTolerance=function(){this._snapTolerance=an.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},Nn.prototype.snap=function(t){var n=this.removeCommonBits(t);return an.snap(n[0],n[1],this._snapTolerance)},Nn.prototype.interfaces_=function(){return[]},Nn.prototype.getClass=function(){return Nn},Nn.overlayOp=function(t,n,u){return new Nn(t,n).getResultGeometry(u)},Nn.union=function(t,n){return Nn.overlayOp(t,n,mt.UNION)},Nn.intersection=function(t,n){return Nn.overlayOp(t,n,mt.INTERSECTION)},Nn.symDifference=function(t,n){return Nn.overlayOp(t,n,mt.SYMDIFFERENCE)},Nn.difference=function(t,n){return Nn.overlayOp(t,n,mt.DIFFERENCE)};var mr=function(t,n){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=n};mr.prototype.getResultGeometry=function(t){var n=null,u=!1,c=null;try{n=mt.overlayOp(this._geom[0],this._geom[1],t),u=!0}catch(f){if(!(f instanceof ur))throw f;c=f}if(!u)try{n=Nn.overlayOp(this._geom[0],this._geom[1],t)}catch(f){throw f instanceof ur?c:f}return n},mr.prototype.interfaces_=function(){return[]},mr.prototype.getClass=function(){return mr},mr.overlayOp=function(t,n,u){return new mr(t,n).getResultGeometry(u)},mr.union=function(t,n){return mr.overlayOp(t,n,mt.UNION)},mr.intersection=function(t,n){return mr.overlayOp(t,n,mt.INTERSECTION)},mr.symDifference=function(t,n){return mr.overlayOp(t,n,mt.SYMDIFFERENCE)},mr.difference=function(t,n){return mr.overlayOp(t,n,mt.DIFFERENCE)};var ll=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],n=arguments[1];this.mce=t,this.chainIndex=n};ll.prototype.computeIntersections=function(t,n){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,n)},ll.prototype.interfaces_=function(){return[]},ll.prototype.getClass=function(){return ll};var a=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,arguments.length===2){var n=arguments[0],u=arguments[1];this._eventType=t.DELETE,this._xValue=n,this._insertEvent=u}else if(arguments.length===3){var c=arguments[0],f=arguments[1],_=arguments[2];this._eventType=t.INSERT,this._label=c,this._xValue=f,this._obj=_}},p={INSERT:{configurable:!0},DELETE:{configurable:!0}};a.prototype.isDelete=function(){return this._eventType===a.DELETE},a.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},a.prototype.getObject=function(){return this._obj},a.prototype.compareTo=function(t){var n=t;return this._xValue<n._xValue?-1:this._xValue>n._xValue?1:this._eventType<n._eventType?-1:this._eventType>n._eventType?1:0},a.prototype.getInsertEvent=function(){return this._insertEvent},a.prototype.isInsert=function(){return this._eventType===a.INSERT},a.prototype.isSameLabel=function(t){return this._label!==null&&this._label===t._label},a.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},a.prototype.interfaces_=function(){return[ee]},a.prototype.getClass=function(){return a},p.INSERT.get=function(){return 1},p.DELETE.get=function(){return 2},Object.defineProperties(a,p);var m=function(){};m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m};var v=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],n=arguments[1],u=arguments[2];this._li=t,this._includeProper=n,this._recordIsolated=u};v.prototype.isTrivialIntersection=function(t,n,u,c){if(t===u&&this._li.getIntersectionNum()===1){if(v.isAdjacentSegments(n,c))return!0;if(t.isClosed()){var f=t.getNumPoints()-1;if(n===0&&c===f||c===0&&n===f)return!0}}return!1},v.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},v.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},v.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},v.prototype.isBoundaryPointInternal=function(t,n){for(var u=n.iterator();u.hasNext();){var c=u.next().getCoordinate();if(t.isIntersection(c))return!0}return!1},v.prototype.hasProperIntersection=function(){return this._hasProper},v.prototype.hasIntersection=function(){return this._hasIntersection},v.prototype.isDone=function(){return this._isDone},v.prototype.isBoundaryPoint=function(t,n){return n!==null&&(!!this.isBoundaryPointInternal(t,n[0])||!!this.isBoundaryPointInternal(t,n[1]))},v.prototype.setBoundaryNodes=function(t,n){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=n},v.prototype.addIntersections=function(t,n,u,c){if(t===u&&n===c)return null;this.numTests++;var f=t.getCoordinates()[n],_=t.getCoordinates()[n+1],x=u.getCoordinates()[c],M=u.getCoordinates()[c+1];this._li.computeIntersection(f,_,x,M),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),u.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,n,u,c)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,n,0),u.addIntersections(this._li,c,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},v.prototype.interfaces_=function(){return[]},v.prototype.getClass=function(){return v},v.isAdjacentSegments=function(t,n){return Math.abs(t-n)===1};var b=function(t){function n(){t.call(this),this.events=new ue,this.nOverlaps=null}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.prepareEvents=function(){To.sort(this.events);for(var u=0;u<this.events.size();u++){var c=this.events.get(u);c.isDelete()&&c.getInsertEvent().setDeleteEventIndex(u)}},n.prototype.computeIntersections=function(){if(arguments.length===1){var u=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var c=0;c<this.events.size();c++){var f=this.events.get(c);if(f.isInsert()&&this.processOverlaps(c,f.getDeleteEventIndex(),f,u),u.isDone())break}}else if(arguments.length===3){if(arguments[2]instanceof v&&Ie(arguments[0],me)&&Ie(arguments[1],me)){var _=arguments[0],x=arguments[1],M=arguments[2];this.addEdges(_,_),this.addEdges(x,x),this.computeIntersections(M)}else if(typeof arguments[2]=="boolean"&&Ie(arguments[0],me)&&arguments[1]instanceof v){var V=arguments[0],Q=arguments[1];arguments[2]?this.addEdges(V,null):this.addEdges(V),this.computeIntersections(Q)}}},n.prototype.addEdge=function(u,c){for(var f=u.getMonotoneChainEdge(),_=f.getStartIndexes(),x=0;x<_.length-1;x++){var M=new ll(f,x),V=new a(c,f.getMinX(x),M);this.events.add(V),this.events.add(new a(f.getMaxX(x),V))}},n.prototype.processOverlaps=function(u,c,f,_){for(var x=f.getObject(),M=u;M<c;M++){var V=this.events.get(M);if(V.isInsert()){var Q=V.getObject();f.isSameLabel(V)||(x.computeIntersections(Q,_),this.nOverlaps++)}}},n.prototype.addEdges=function(){if(arguments.length===1)for(var u=arguments[0].iterator();u.hasNext();){var c=u.next();this.addEdge(c,c)}else if(arguments.length===2)for(var f=arguments[0],_=arguments[1],x=f.iterator();x.hasNext();){var M=x.next();this.addEdge(M,_)}},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(m),D=function(){this._min=F.POSITIVE_INFINITY,this._max=F.NEGATIVE_INFINITY},J={NodeComparator:{configurable:!0}};D.prototype.getMin=function(){return this._min},D.prototype.intersects=function(t,n){return!(this._min>n||this._max<t)},D.prototype.getMax=function(){return this._max},D.prototype.toString=function(){return ji.toLineString(new B(this._min,0),new B(this._max,0))},D.prototype.interfaces_=function(){return[]},D.prototype.getClass=function(){return D},J.NodeComparator.get=function(){return le},Object.defineProperties(D,J);var le=function(){};le.prototype.compare=function(t,n){var u=t,c=n,f=(u._min+u._max)/2,_=(c._min+c._max)/2;return f<_?-1:f>_?1:0},le.prototype.interfaces_=function(){return[se]},le.prototype.getClass=function(){return le};var de=function(t){function n(){t.call(this),this._item=null;var u=arguments[0],c=arguments[1],f=arguments[2];this._min=u,this._max=c,this._item=f}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.query=function(u,c,f){if(!this.intersects(u,c))return null;f.visitItem(this._item)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(D),Ee=function(t){function n(){t.call(this),this._node1=null,this._node2=null;var u=arguments[0],c=arguments[1];this._node1=u,this._node2=c,this.buildExtent(this._node1,this._node2)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.buildExtent=function(u,c){this._min=Math.min(u._min,c._min),this._max=Math.max(u._max,c._max)},n.prototype.query=function(u,c,f){if(!this.intersects(u,c))return null;this._node1!==null&&this._node1.query(u,c,f),this._node2!==null&&this._node2.query(u,c,f)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(D),He=function(){this._leaves=new ue,this._root=null,this._level=0};He.prototype.buildTree=function(){To.sort(this._leaves,new D.NodeComparator);for(var t=this._leaves,n=null,u=new ue;;){if(this.buildLevel(t,u),u.size()===1)return u.get(0);n=t,t=u,u=n}},He.prototype.insert=function(t,n,u){if(this._root!==null)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new de(t,n,u))},He.prototype.query=function(t,n,u){this.init(),this._root.query(t,n,u)},He.prototype.buildRoot=function(){if(this._root!==null)return null;this._root=this.buildTree()},He.prototype.printNode=function(t){Gt.out.println(ji.toLineString(new B(t._min,this._level),new B(t._max,this._level)))},He.prototype.init=function(){if(this._root!==null)return null;this.buildRoot()},He.prototype.buildLevel=function(t,n){this._level++,n.clear();for(var u=0;u<t.size();u+=2){var c=t.get(u);if((u+1<t.size()?t.get(u):null)===null)n.add(c);else{var f=new Ee(t.get(u),t.get(u+1));n.add(f)}}},He.prototype.interfaces_=function(){return[]},He.prototype.getClass=function(){return He};var ft=function(){this._items=new ue};ft.prototype.visitItem=function(t){this._items.add(t)},ft.prototype.getItems=function(){return this._items},ft.prototype.interfaces_=function(){return[vs]},ft.prototype.getClass=function(){return ft};var It=function(){this._index=null;var t=arguments[0];if(!Ie(t,ks))throw new N("Argument must be Polygonal");this._index=new gr(t)},Lr={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};It.prototype.locate=function(t){var n=new Qn(t),u=new Pn(n);return this._index.query(t.y,t.y,u),n.getLocation()},It.prototype.interfaces_=function(){return[$s]},It.prototype.getClass=function(){return It},Lr.SegmentVisitor.get=function(){return Pn},Lr.IntervalIndexedGeometry.get=function(){return gr},Object.defineProperties(It,Lr);var Pn=function(){this._counter=null;var t=arguments[0];this._counter=t};Pn.prototype.visitItem=function(t){var n=t;this._counter.countSegment(n.getCoordinate(0),n.getCoordinate(1))},Pn.prototype.interfaces_=function(){return[vs]},Pn.prototype.getClass=function(){return Pn};var gr=function(){this._index=new He;var t=arguments[0];this.init(t)};gr.prototype.init=function(t){for(var n=nr.getLines(t).iterator();n.hasNext();){var u=n.next().getCoordinates();this.addLine(u)}},gr.prototype.addLine=function(t){for(var n=1;n<t.length;n++){var u=new Ye(t[n-1],t[n]),c=Math.min(u.p0.y,u.p1.y),f=Math.max(u.p0.y,u.p1.y);this._index.insert(c,f,u)}},gr.prototype.query=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1],u=new ft;return this._index.query(t,n,u),u.getItems()}if(arguments.length===3){var c=arguments[0],f=arguments[1],_=arguments[2];this._index.query(c,f,_)}},gr.prototype.interfaces_=function(){return[]},gr.prototype.getClass=function(){return gr};var br=function(t){function n(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new Ll,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new mo,arguments.length===2){var u=arguments[0],c=arguments[1],f=C.OGC_SFS_BOUNDARY_RULE;this._argIndex=u,this._parentGeom=c,this._boundaryNodeRule=f,c!==null&&this.add(c)}else if(arguments.length===3){var _=arguments[0],x=arguments[1],M=arguments[2];this._argIndex=_,this._parentGeom=x,this._boundaryNodeRule=M,x!==null&&this.add(x)}}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.insertBoundaryPoint=function(u,c){var f=this._nodes.addNode(c).getLabel(),_=1;W.NONE,f.getLocation(u,Me.ON)===W.BOUNDARY&&_++;var x=n.determineBoundary(this._boundaryNodeRule,_);f.setLocation(u,x)},n.prototype.computeSelfNodes=function(){if(arguments.length===2){var u=arguments[0],c=arguments[1];return this.computeSelfNodes(u,c,!1)}if(arguments.length===3){var f=arguments[0],_=arguments[1],x=arguments[2],M=new v(f,!0,!1);M.setIsDoneIfProperInt(x);var V=this.createEdgeSetIntersector(),Q=this._parentGeom instanceof es||this._parentGeom instanceof Sn||this._parentGeom instanceof Io,ce=_||!Q;return V.computeIntersections(this._edges,M,ce),this.addSelfIntersectionNodes(this._argIndex),M}},n.prototype.computeSplitEdges=function(u){for(var c=this._edges.iterator();c.hasNext();)c.next().eiList.addSplitEdges(u)},n.prototype.computeEdgeIntersections=function(u,c,f){var _=new v(c,f,!0);return _.setBoundaryNodes(this.getBoundaryNodes(),u.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,u._edges,_),_},n.prototype.getGeometry=function(){return this._parentGeom},n.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},n.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},n.prototype.addPoint=function(){if(arguments[0]instanceof Br){var u=arguments[0].getCoordinate();this.insertPoint(this._argIndex,u,W.INTERIOR)}else if(arguments[0]instanceof B){var c=arguments[0];this.insertPoint(this._argIndex,c,W.INTERIOR)}},n.prototype.addPolygon=function(u){this.addPolygonRing(u.getExteriorRing(),W.EXTERIOR,W.INTERIOR);for(var c=0;c<u.getNumInteriorRing();c++){var f=u.getInteriorRingN(c);this.addPolygonRing(f,W.INTERIOR,W.EXTERIOR)}},n.prototype.addEdge=function(u){this.insertEdge(u);var c=u.getCoordinates();this.insertPoint(this._argIndex,c[0],W.BOUNDARY),this.insertPoint(this._argIndex,c[c.length-1],W.BOUNDARY)},n.prototype.addLineString=function(u){var c=ve.removeRepeatedPoints(u.getCoordinates());if(c.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=c[0],null;var f=new as(c,new Nt(this._argIndex,W.INTERIOR));this._lineEdgeMap.put(u,f),this.insertEdge(f),at.isTrue(c.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,c[0]),this.insertBoundaryPoint(this._argIndex,c[c.length-1])},n.prototype.getInvalidPoint=function(){return this._invalidPoint},n.prototype.getBoundaryPoints=function(){for(var u=this.getBoundaryNodes(),c=new Array(u.size()).fill(null),f=0,_=u.iterator();_.hasNext();){var x=_.next();c[f++]=x.getCoordinate().copy()}return c},n.prototype.getBoundaryNodes=function(){return this._boundaryNodes===null&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},n.prototype.addSelfIntersectionNode=function(u,c,f){if(this.isBoundaryNode(u,c))return null;f===W.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(u,c):this.insertPoint(u,c,f)},n.prototype.addPolygonRing=function(u,c,f){if(u.isEmpty())return null;var _=ve.removeRepeatedPoints(u.getCoordinates());if(_.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=_[0],null;var x=c,M=f;Le.isCCW(_)&&(x=f,M=c);var V=new as(_,new Nt(this._argIndex,W.BOUNDARY,x,M));this._lineEdgeMap.put(u,V),this.insertEdge(V),this.insertPoint(this._argIndex,_[0],W.BOUNDARY)},n.prototype.insertPoint=function(u,c,f){var _=this._nodes.addNode(c),x=_.getLabel();x===null?_._label=new Nt(u,f):x.setLocation(u,f)},n.prototype.createEdgeSetIntersector=function(){return new b},n.prototype.addSelfIntersectionNodes=function(u){for(var c=this._edges.iterator();c.hasNext();)for(var f=c.next(),_=f.getLabel().getLocation(u),x=f.eiList.iterator();x.hasNext();){var M=x.next();this.addSelfIntersectionNode(u,M.coord,_)}},n.prototype.add=function(){if(arguments.length!==1)return t.prototype.add.apply(this,arguments);var u=arguments[0];if(u.isEmpty())return null;if(u instanceof Io&&(this._useBoundaryDeterminationRule=!1),u instanceof Sn)this.addPolygon(u);else if(u instanceof on)this.addLineString(u);else if(u instanceof Br)this.addPoint(u);else if(u instanceof Da)this.addCollection(u);else if(u instanceof to)this.addCollection(u);else if(u instanceof Io)this.addCollection(u);else{if(!(u instanceof Ri))throw new Error(u.getClass().getName());this.addCollection(u)}},n.prototype.addCollection=function(u){for(var c=0;c<u.getNumGeometries();c++){var f=u.getGeometryN(c);this.add(f)}},n.prototype.locate=function(u){return Ie(this._parentGeom,ks)&&this._parentGeom.getNumGeometries()>50?(this._areaPtLocator===null&&(this._areaPtLocator=new It(this._parentGeom)),this._areaPtLocator.locate(u)):this._ptLocator.locate(u,this._parentGeom)},n.prototype.findEdge=function(){if(arguments.length===1){var u=arguments[0];return this._lineEdgeMap.get(u)}return t.prototype.findEdge.apply(this,arguments)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n.determineBoundary=function(u,c){return u.isInBoundary(c)?W.BOUNDARY:W.INTERIOR},n}(Ui),cs=function(){if(this._li=new uo,this._resultPrecisionModel=null,this._arg=null,arguments.length===1){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new br(0,t)}else if(arguments.length===2){var n=arguments[0],u=arguments[1],c=C.OGC_SFS_BOUNDARY_RULE;n.getPrecisionModel().compareTo(u.getPrecisionModel())>=0?this.setComputationPrecision(n.getPrecisionModel()):this.setComputationPrecision(u.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new br(0,n,c),this._arg[1]=new br(1,u,c)}else if(arguments.length===3){var f=arguments[0],_=arguments[1],x=arguments[2];f.getPrecisionModel().compareTo(_.getPrecisionModel())>=0?this.setComputationPrecision(f.getPrecisionModel()):this.setComputationPrecision(_.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new br(0,f,x),this._arg[1]=new br(1,_,x)}};cs.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},cs.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},cs.prototype.interfaces_=function(){return[]},cs.prototype.getClass=function(){return cs};var na=function(){};na.prototype.interfaces_=function(){return[]},na.prototype.getClass=function(){return na},na.map=function(){if(arguments[0]instanceof rt&&Ie(arguments[1],na.MapOp)){for(var t=arguments[0],n=arguments[1],u=new ue,c=0;c<t.getNumGeometries();c++){var f=n.map(t.getGeometryN(c));f!==null&&u.add(f)}return t.getFactory().buildGeometry(u)}if(Ie(arguments[0],ae)&&Ie(arguments[1],na.MapOp)){for(var _=arguments[0],x=arguments[1],M=new ue,V=_.iterator();V.hasNext();){var Q=V.next(),ce=x.map(Q);ce!==null&&M.add(ce)}return M}},na.MapOp=function(){};var mt=function(t){function n(){var u=arguments[0],c=arguments[1];t.call(this,u,c),this._ptLocator=new mo,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Mo,this._resultPolyList=new ue,this._resultLineList=new ue,this._resultPointList=new ue,this._graph=new Ui(new qo),this._geomFact=u.getFactory()}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.insertUniqueEdge=function(u){var c=this._edgeList.findEqualEdge(u);if(c!==null){var f=c.getLabel(),_=u.getLabel();c.isPointwiseEqual(u)||(_=new Nt(u.getLabel())).flip();var x=c.getDepth();x.isNull()&&x.add(f),x.add(_),f.merge(_)}else this._edgeList.add(u)},n.prototype.getGraph=function(){return this._graph},n.prototype.cancelDuplicateResultEdges=function(){for(var u=this._graph.getEdgeEnds().iterator();u.hasNext();){var c=u.next(),f=c.getSym();c.isInResult()&&f.isInResult()&&(c.setInResult(!1),f.setInResult(!1))}},n.prototype.isCoveredByLA=function(u){return!!this.isCovered(u,this._resultLineList)||!!this.isCovered(u,this._resultPolyList)},n.prototype.computeGeometry=function(u,c,f,_){var x=new ue;return x.addAll(u),x.addAll(c),x.addAll(f),x.isEmpty()?n.createEmptyResult(_,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(x)},n.prototype.mergeSymLabels=function(){for(var u=this._graph.getNodes().iterator();u.hasNext();)u.next().getEdges().mergeSymLabels()},n.prototype.isCovered=function(u,c){for(var f=c.iterator();f.hasNext();){var _=f.next();if(this._ptLocator.locate(u,_)!==W.EXTERIOR)return!0}return!1},n.prototype.replaceCollapsedEdges=function(){for(var u=new ue,c=this._edgeList.iterator();c.hasNext();){var f=c.next();f.isCollapsed()&&(c.remove(),u.add(f.getCollapsedEdge()))}this._edgeList.addAll(u)},n.prototype.updateNodeLabelling=function(){for(var u=this._graph.getNodes().iterator();u.hasNext();){var c=u.next(),f=c.getEdges().getLabel();c.getLabel().merge(f)}},n.prototype.getResultGeometry=function(u){return this.computeOverlay(u),this._resultGeom},n.prototype.insertUniqueEdges=function(u){for(var c=u.iterator();c.hasNext();){var f=c.next();this.insertUniqueEdge(f)}},n.prototype.computeOverlay=function(u){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var c=new ue;this._arg[0].computeSplitEdges(c),this._arg[1].computeSplitEdges(c),this.insertUniqueEdges(c),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),zs.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(u),this.cancelDuplicateResultEdges();var f=new tr(this._geomFact);f.add(this._graph),this._resultPolyList=f.getPolygons();var _=new Ko(this,this._geomFact,this._ptLocator);this._resultLineList=_.build(u);var x=new Ss(this,this._geomFact,this._ptLocator);this._resultPointList=x.build(u),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,u)},n.prototype.labelIncompleteNode=function(u,c){var f=this._ptLocator.locate(u.getCoordinate(),this._arg[c].getGeometry());u.getLabel().setLocation(c,f)},n.prototype.copyPoints=function(u){for(var c=this._arg[u].getNodeIterator();c.hasNext();){var f=c.next();this._graph.addNode(f.getCoordinate()).setLabel(u,f.getLabel().getLocation(u))}},n.prototype.findResultAreaEdges=function(u){for(var c=this._graph.getEdgeEnds().iterator();c.hasNext();){var f=c.next(),_=f.getLabel();_.isArea()&&!f.isInteriorAreaEdge()&&n.isResultOfOp(_.getLocation(0,Me.RIGHT),_.getLocation(1,Me.RIGHT),u)&&f.setInResult(!0)}},n.prototype.computeLabelsFromDepths=function(){for(var u=this._edgeList.iterator();u.hasNext();){var c=u.next(),f=c.getLabel(),_=c.getDepth();if(!_.isNull()){_.normalize();for(var x=0;x<2;x++)f.isNull(x)||!f.isArea()||_.isNull(x)||(_.getDelta(x)===0?f.toLine(x):(at.isTrue(!_.isNull(x,Me.LEFT),"depth of LEFT side has not been initialized"),f.setLocation(x,Me.LEFT,_.getLocation(x,Me.LEFT)),at.isTrue(!_.isNull(x,Me.RIGHT),"depth of RIGHT side has not been initialized"),f.setLocation(x,Me.RIGHT,_.getLocation(x,Me.RIGHT))))}}},n.prototype.computeLabelling=function(){for(var u=this._graph.getNodes().iterator();u.hasNext();)u.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},n.prototype.labelIncompleteNodes=function(){for(var u=this._graph.getNodes().iterator();u.hasNext();){var c=u.next(),f=c.getLabel();c.isIsolated()&&(f.isNull(0)?this.labelIncompleteNode(c,0):this.labelIncompleteNode(c,1)),c.getEdges().updateLabelling(f)}},n.prototype.isCoveredByA=function(u){return!!this.isCovered(u,this._resultPolyList)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(cs);mt.overlayOp=function(t,n,u){return new mt(t,n).getResultGeometry(u)},mt.intersection=function(t,n){if(t.isEmpty()||n.isEmpty())return mt.createEmptyResult(mt.INTERSECTION,t,n,t.getFactory());if(t.isGeometryCollection()){var u=n;return us.map(t,{interfaces_:function(){return[na.MapOp]},map:function(c){return c.intersection(u)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(n),mr.overlayOp(t,n,mt.INTERSECTION)},mt.symDifference=function(t,n){if(t.isEmpty()||n.isEmpty()){if(t.isEmpty()&&n.isEmpty())return mt.createEmptyResult(mt.SYMDIFFERENCE,t,n,t.getFactory());if(t.isEmpty())return n.copy();if(n.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(n),mr.overlayOp(t,n,mt.SYMDIFFERENCE)},mt.resultDimension=function(t,n,u){var c=n.getDimension(),f=u.getDimension(),_=-1;switch(t){case mt.INTERSECTION:_=Math.min(c,f);break;case mt.UNION:_=Math.max(c,f);break;case mt.DIFFERENCE:_=c;break;case mt.SYMDIFFERENCE:_=Math.max(c,f)}return _},mt.createEmptyResult=function(t,n,u,c){var f=null;switch(mt.resultDimension(t,n,u)){case-1:f=c.createGeometryCollection(new Array(0).fill(null));break;case 0:f=c.createPoint();break;case 1:f=c.createLineString();break;case 2:f=c.createPolygon()}return f},mt.difference=function(t,n){return t.isEmpty()?mt.createEmptyResult(mt.DIFFERENCE,t,n,t.getFactory()):n.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(n),mr.overlayOp(t,n,mt.DIFFERENCE))},mt.isResultOfOp=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1],u=t.getLocation(0),c=t.getLocation(1);return mt.isResultOfOp(u,c,n)}if(arguments.length===3){var f=arguments[0],_=arguments[1],x=arguments[2];switch(f===W.BOUNDARY&&(f=W.INTERIOR),_===W.BOUNDARY&&(_=W.INTERIOR),x){case mt.INTERSECTION:return f===W.INTERIOR&&_===W.INTERIOR;case mt.UNION:return f===W.INTERIOR||_===W.INTERIOR;case mt.DIFFERENCE:return f===W.INTERIOR&&_!==W.INTERIOR;case mt.SYMDIFFERENCE:return f===W.INTERIOR&&_!==W.INTERIOR||f!==W.INTERIOR&&_===W.INTERIOR}return!1}},mt.INTERSECTION=1,mt.UNION=2,mt.DIFFERENCE=3,mt.SYMDIFFERENCE=4;var qs=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new mo,this._seg=new Ye;var t=arguments[0],n=arguments[1];this._g=t,this._boundaryDistanceTolerance=n,this._linework=this.extractLinework(t)};qs.prototype.isWithinToleranceOfBoundary=function(t){for(var n=0;n<this._linework.getNumGeometries();n++)for(var u=this._linework.getGeometryN(n).getCoordinateSequence(),c=0;c<u.size()-1;c++)if(u.getCoordinate(c,this._seg.p0),u.getCoordinate(c+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},qs.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?W.BOUNDARY:this._ptLocator.locate(t,this._g)},qs.prototype.extractLinework=function(t){var n=new ba;t.apply(n);var u=n.getLinework(),c=pt.toLineStringArray(u);return t.getFactory().createMultiLineString(c)},qs.prototype.interfaces_=function(){return[]},qs.prototype.getClass=function(){return qs};var ba=function(){this._linework=null,this._linework=new ue};ba.prototype.getLinework=function(){return this._linework},ba.prototype.filter=function(t){if(t instanceof Sn){var n=t;this._linework.add(n.getExteriorRing());for(var u=0;u<n.getNumInteriorRing();u++)this._linework.add(n.getInteriorRingN(u))}},ba.prototype.interfaces_=function(){return[tn]},ba.prototype.getClass=function(){return ba};var ra=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};ra.prototype.extractPoints=function(t,n,u){for(var c=t.getCoordinates(),f=0;f<c.length-1;f++)this.computeOffsetPoints(c[f],c[f+1],n,u)},ra.prototype.setSidesToGenerate=function(t,n){this._doLeft=t,this._doRight=n},ra.prototype.getPoints=function(t){for(var n=new ue,u=nr.getLines(this._g).iterator();u.hasNext();){var c=u.next();this.extractPoints(c,t,n)}return n},ra.prototype.computeOffsetPoints=function(t,n,u,c){var f=n.x-t.x,_=n.y-t.y,x=Math.sqrt(f*f+_*_),M=u*f/x,V=u*_/x,Q=(n.x+t.x)/2,ce=(n.y+t.y)/2;if(this._doLeft){var he=new B(Q-V,ce+M);c.add(he)}if(this._doRight){var ke=new B(Q+V,ce-M);c.add(ke)}},ra.prototype.interfaces_=function(){return[]},ra.prototype.getClass=function(){return ra};var Yr=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new ue;var n=arguments[0],u=arguments[1],c=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(n,u),this._geom=[n,u,c],this._locFinder=[new qs(this._geom[0],this._boundaryDistanceTolerance),new qs(this._geom[1],this._boundaryDistanceTolerance),new qs(this._geom[2],this._boundaryDistanceTolerance)]},Yn={TOLERANCE:{configurable:!0}};Yr.prototype.reportResult=function(t,n,u){Gt.out.println("Overlay result invalid - A:"+W.toLocationSymbol(n[0])+" B:"+W.toLocationSymbol(n[1])+" expected:"+(u?"i":"e")+" actual:"+W.toLocationSymbol(n[2]))},Yr.prototype.isValid=function(t){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var n=this.checkValid(t);return n},Yr.prototype.checkValid=function(){if(arguments.length===1){for(var t=arguments[0],n=0;n<this._testCoords.size();n++){var u=this._testCoords.get(n);if(!this.checkValid(t,u))return this._invalidLocation=u,!1}return!0}if(arguments.length===2){var c=arguments[0],f=arguments[1];return this._location[0]=this._locFinder[0].getLocation(f),this._location[1]=this._locFinder[1].getLocation(f),this._location[2]=this._locFinder[2].getLocation(f),!!Yr.hasLocation(this._location,W.BOUNDARY)||this.isValidResult(c,this._location)}},Yr.prototype.addTestPts=function(t){var n=new ra(t);this._testCoords.addAll(n.getPoints(5*this._boundaryDistanceTolerance))},Yr.prototype.isValidResult=function(t,n){var u=mt.isResultOfOp(n[0],n[1],t),c=!(u^n[2]===W.INTERIOR);return c||this.reportResult(t,n,u),c},Yr.prototype.getInvalidLocation=function(){return this._invalidLocation},Yr.prototype.interfaces_=function(){return[]},Yr.prototype.getClass=function(){return Yr},Yr.hasLocation=function(t,n){for(var u=0;u<3;u++)if(t[u]===n)return!0;return!1},Yr.computeBoundaryDistanceTolerance=function(t,n){return Math.min(an.computeSizeBasedSnapTolerance(t),an.computeSizeBasedSnapTolerance(n))},Yr.isValid=function(t,n,u,c){return new Yr(t,n,c).isValid(u)},Yn.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Yr,Yn);var wr=function t(n){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(n),this._inputGeoms=n};wr.prototype.extractElements=function(t,n){if(t===null)return null;for(var u=0;u<t.getNumGeometries();u++){var c=t.getGeometryN(u);this._skipEmpty&&c.isEmpty()||n.add(c)}},wr.prototype.combine=function(){for(var t=new ue,n=this._inputGeoms.iterator();n.hasNext();){var u=n.next();this.extractElements(u,t)}return t.size()===0?this._geomFactory!==null?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},wr.prototype.interfaces_=function(){return[]},wr.prototype.getClass=function(){return wr},wr.combine=function(){if(arguments.length===1){var t=arguments[0];return new wr(t).combine()}if(arguments.length===2){var n=arguments[0],u=arguments[1];return new wr(wr.createList(n,u)).combine()}if(arguments.length===3){var c=arguments[0],f=arguments[1],_=arguments[2];return new wr(wr.createList(c,f,_)).combine()}},wr.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},wr.createList=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1],u=new ue;return u.add(t),u.add(n),u}if(arguments.length===3){var c=arguments[0],f=arguments[1],_=arguments[2],x=new ue;return x.add(c),x.add(f),x.add(_),x}};var yn=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,this._inputPolys===null&&(this._inputPolys=new ue)},sc={STRTREE_NODE_CAPACITY:{configurable:!0}};yn.prototype.reduceToGeometries=function(t){for(var n=new ue,u=t.iterator();u.hasNext();){var c=u.next(),f=null;Ie(c,me)?f=this.unionTree(c):c instanceof rt&&(f=c),n.add(f)}return n},yn.prototype.extractByEnvelope=function(t,n,u){for(var c=new ue,f=0;f<n.getNumGeometries();f++){var _=n.getGeometryN(f);_.getEnvelopeInternal().intersects(t)?c.add(_):u.add(_)}return this._geomFactory.buildGeometry(c)},yn.prototype.unionOptimized=function(t,n){var u=t.getEnvelopeInternal(),c=n.getEnvelopeInternal();if(!u.intersects(c))return wr.combine(t,n);if(t.getNumGeometries()<=1&&n.getNumGeometries()<=1)return this.unionActual(t,n);var f=u.intersection(c);return this.unionUsingEnvelopeIntersection(t,n,f)},yn.prototype.union=function(){if(this._inputPolys===null)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new fu(yn.STRTREE_NODE_CAPACITY),n=this._inputPolys.iterator();n.hasNext();){var u=n.next();t.insert(u.getEnvelopeInternal(),u)}this._inputPolys=null;var c=t.itemsTree();return this.unionTree(c)},yn.prototype.binaryUnion=function(){if(arguments.length===1){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(arguments.length===3){var n=arguments[0],u=arguments[1],c=arguments[2];if(c-u<=1){var f=yn.getGeometry(n,u);return this.unionSafe(f,null)}if(c-u==2)return this.unionSafe(yn.getGeometry(n,u),yn.getGeometry(n,u+1));var _=Math.trunc((c+u)/2),x=this.binaryUnion(n,u,_),M=this.binaryUnion(n,_,c);return this.unionSafe(x,M)}},yn.prototype.repeatedUnion=function(t){for(var n=null,u=t.iterator();u.hasNext();){var c=u.next();n=n===null?c.copy():n.union(c)}return n},yn.prototype.unionSafe=function(t,n){return t===null&&n===null?null:t===null?n.copy():n===null?t.copy():this.unionOptimized(t,n)},yn.prototype.unionActual=function(t,n){return yn.restrictToPolygons(t.union(n))},yn.prototype.unionTree=function(t){var n=this.reduceToGeometries(t);return this.binaryUnion(n)},yn.prototype.unionUsingEnvelopeIntersection=function(t,n,u){var c=new ue,f=this.extractByEnvelope(u,t,c),_=this.extractByEnvelope(u,n,c),x=this.unionActual(f,_);return c.add(x),wr.combine(c)},yn.prototype.bufferUnion=function(){if(arguments.length===1){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(arguments.length===2){var n=arguments[0],u=arguments[1];return n.getFactory().createGeometryCollection([n,u]).buffer(0)}},yn.prototype.interfaces_=function(){return[]},yn.prototype.getClass=function(){return yn},yn.restrictToPolygons=function(t){if(Ie(t,ks))return t;var n=Lo.getPolygons(t);return n.size()===1?n.get(0):t.getFactory().createMultiPolygon(pt.toPolygonArray(n))},yn.getGeometry=function(t,n){return n>=t.size()?null:t.get(n)},yn.union=function(t){return new yn(t).union()},sc.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(yn,sc);var ul=function(){};ul.prototype.interfaces_=function(){return[]},ul.prototype.getClass=function(){return ul},ul.union=function(t,n){if(t.isEmpty()||n.isEmpty()){if(t.isEmpty()&&n.isEmpty())return mt.createEmptyResult(mt.UNION,t,n,t.getFactory());if(t.isEmpty())return n.copy();if(n.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(n),mr.overlayOp(t,n,mt.UNION)},i.GeoJSONReader=ha,i.GeoJSONWriter=Na,i.OverlayOp=mt,i.UnionOp=ul,i.BufferOp=On,Object.defineProperty(i,"__esModule",{value:!0})})});var el=rr(id());var Dr=63710088e-1,nd={centimeters:Dr*100,centimetres:Dr*100,degrees:Dr/111325,feet:Dr*3.28084,inches:Dr*39.37,kilometers:Dr/1e3,kilometres:Dr/1e3,meters:Dr,metres:Dr,miles:Dr/1609.344,millimeters:Dr*1e3,millimetres:Dr*1e3,nauticalmiles:Dr/1852,radians:1,yards:Dr*1.0936},cL={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/Dr,yards:1.0936133};function Rr(i,s,o){o===void 0&&(o={});var e={type:"Feature"};return(o.id===0||o.id)&&(e.id=o.id),o.bbox&&(e.bbox=o.bbox),e.properties=s||{},e.geometry=i,e}function Rt(i,s,o){if(o===void 0&&(o={}),!i)throw new Error("coordinates is required");if(!Array.isArray(i))throw new Error("coordinates must be an Array");if(i.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!oa(i[0])||!oa(i[1]))throw new Error("coordinates must contain numbers");var e={type:"Point",coordinates:i};return Rr(e,s,o)}function Bn(i,s,o){o===void 0&&(o={});for(var e=0,r=i;e<r.length;e++){var l=r[e];if(l.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var h=0;h<l[l.length-1].length;h++)if(l[l.length-1][h]!==l[0][h])throw new Error("First and last Position are not equivalent.")}var g={type:"Polygon",coordinates:i};return Rr(g,s,o)}function wn(i,s,o){if(o===void 0&&(o={}),i.length<2)throw new Error("coordinates must be an array of two or more positions");var e={type:"LineString",coordinates:i};return Rr(e,s,o)}function bi(i,s){s===void 0&&(s={});var o={type:"FeatureCollection"};return s.id&&(o.id=s.id),s.bbox&&(o.bbox=s.bbox),o.features=i,o}function kp(i,s,o){o===void 0&&(o={});var e={type:"MultiPoint",coordinates:i};return Rr(e,s,o)}function bu(i,s){s===void 0&&(s="kilometers");var o=nd[s];if(!o)throw new Error(s+" units is invalid");return i*o}function wu(i,s){s===void 0&&(s="kilometers");var o=nd[s];if(!o)throw new Error(s+" units is invalid");return i/o}function hl(i){var s=i%(2*Math.PI);return s*180/Math.PI}function $r(i){var s=i%360;return s*Math.PI/180}function fl(i,s,o){if(s===void 0&&(s="kilometers"),o===void 0&&(o="kilometers"),!(i>=0))throw new Error("length must be a positive number");return bu(wu(i,s),o)}function oa(i){return!isNaN(i)&&i!==null&&!Array.isArray(i)}function Mr(i,s,o){if(i!==null)for(var e,r,l,h,g,y,w,k=0,R=0,A,Y=i.type,X=Y==="FeatureCollection",j=Y==="Feature",S=X?i.features.length:1,O=0;O<S;O++){w=X?i.features[O].geometry:j?i.geometry:i,A=w?w.type==="GeometryCollection":!1,g=A?w.geometries.length:1;for(var N=0;N<g;N++){var F=0,Z=0;if(h=A?w.geometries[N]:w,h!==null){y=h.coordinates;var ee=h.type;switch(k=o&&(ee==="Polygon"||ee==="MultiPolygon")?1:0,ee){case null:break;case"Point":if(s(y,R,O,F,Z)===!1)return!1;R++,F++;break;case"LineString":case"MultiPoint":for(e=0;e<y.length;e++){if(s(y[e],R,O,F,Z)===!1)return!1;R++,ee==="MultiPoint"&&F++}ee==="LineString"&&F++;break;case"Polygon":case"MultiLineString":for(e=0;e<y.length;e++){for(r=0;r<y[e].length-k;r++){if(s(y[e][r],R,O,F,Z)===!1)return!1;R++}ee==="MultiLineString"&&F++,ee==="Polygon"&&Z++}ee==="Polygon"&&F++;break;case"MultiPolygon":for(e=0;e<y.length;e++){for(Z=0,r=0;r<y[e].length;r++){for(l=0;l<y[e][r].length-k;l++){if(s(y[e][r][l],R,O,F,Z)===!1)return!1;R++}Z++}F++}break;case"GeometryCollection":for(e=0;e<h.geometries.length;e++)if(Mr(h.geometries[e],s,o)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function rd(i,s,o,e){var r=o;return Mr(i,function(l,h,g,y,w){h===0&&o===void 0?r=l:r=s(r,l,h,g,y,w)},e),r}function Cn(i,s){if(i.type==="Feature")s(i,0);else if(i.type==="FeatureCollection")for(var o=0;o<i.features.length&&s(i.features[o],o)!==!1;o++);}function Ka(i,s){var o,e,r,l,h,g,y,w,k,R,A=0,Y=i.type==="FeatureCollection",X=i.type==="Feature",j=Y?i.features.length:1;for(o=0;o<j;o++){for(g=Y?i.features[o].geometry:X?i.geometry:i,w=Y?i.features[o].properties:X?i.properties:{},k=Y?i.features[o].bbox:X?i.bbox:void 0,R=Y?i.features[o].id:X?i.id:void 0,y=g?g.type==="GeometryCollection":!1,h=y?g.geometries.length:1,r=0;r<h;r++){if(l=y?g.geometries[r]:g,l===null){if(s(null,A,w,k,R)===!1)return!1;continue}switch(l.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(s(l,A,w,k,R)===!1)return!1;break}case"GeometryCollection":{for(e=0;e<l.geometries.length;e++)if(s(l.geometries[e],A,w,k,R)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}A++}}function xo(i,s){Ka(i,function(o,e,r,l,h){var g=o===null?null:o.type;switch(g){case null:case"Point":case"LineString":case"Polygon":return s(Rr(o,r,{bbox:l,id:h}),e,0)===!1?!1:void 0}var y;switch(g){case"MultiPoint":y="Point";break;case"MultiLineString":y="LineString";break;case"MultiPolygon":y="Polygon";break}for(var w=0;w<o.coordinates.length;w++){var k=o.coordinates[w],R={type:y,coordinates:k};if(s(Rr(R,r),e,w)===!1)return!1}})}function Cu(i,s){xo(i,function(o,e,r){var l=0;if(o.geometry){var h=o.geometry.type;if(!(h==="Point"||h==="MultiPoint")){var g,y=0,w=0,k=0;if(Mr(o,function(R,A,Y,X,j){if(g===void 0||e>y||X>w||j>k){g=R,y=e,w=X,k=j,l=0;return}var S=wn([g,R],o.properties);if(s(S,e,r,j,l)===!1)return!1;l++,g=R})===!1)return!1}}})}function od(i,s,o){var e=o,r=!1;return Cu(i,function(l,h,g,y,w){r===!1&&o===void 0?e=l:e=s(e,l,h,g,y,w),r=!0}),e}function Dp(i){var s=[1/0,1/0,-1/0,-1/0];return Mr(i,function(o){s[0]>o[0]&&(s[0]=o[0]),s[1]>o[1]&&(s[1]=o[1]),s[2]<o[0]&&(s[2]=o[0]),s[3]<o[1]&&(s[3]=o[1])}),s}Dp.default=Dp;var Ro=Dp;function zn(i){if(!i)throw new Error("coord is required");if(!Array.isArray(i)){if(i.type==="Feature"&&i.geometry!==null&&i.geometry.type==="Point")return i.geometry.coordinates;if(i.type==="Point")return i.coordinates}if(Array.isArray(i)&&i.length>=2&&!Array.isArray(i[0])&&!Array.isArray(i[1]))return i;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function gn(i){if(Array.isArray(i))return i;if(i.type==="Feature"){if(i.geometry!==null)return i.geometry.coordinates}else if(i.coordinates)return i.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Iu(i,s,o){if(!i)throw new Error("No feature passed");if(!o)throw new Error(".featureOf() requires a name");if(!i||i.type!=="Feature"||!i.geometry)throw new Error("Invalid input to "+o+", Feature with geometry required");if(!i.geometry||i.geometry.type!==s)throw new Error("Invalid input to "+o+": must be a "+s+", given "+i.geometry.type)}function ao(i){return i.type==="Feature"?i.geometry:i}function gs(i,s){return i.type==="FeatureCollection"?"FeatureCollection":i.type==="GeometryCollection"?"GeometryCollection":i.type==="Feature"&&i.geometry!==null?i.geometry.type:i.type}var by=rr(yc(),1);var ky=rr(Sd(),1);function Qr(i,s,o){if(o===void 0&&(o={}),!i)throw new Error("point is required");if(!s)throw new Error("polygon is required");var e=zn(i),r=ao(s),l=r.type,h=s.bbox,g=r.coordinates;if(h&&Dy(e,h)===!1)return!1;l==="Polygon"&&(g=[g]);for(var y=!1,w=0;w<g.length&&!y;w++)if(Td(e,g[w][0],o.ignoreBoundary)){for(var k=!1,R=1;R<g[w].length&&!k;)Td(e,g[w][R],!o.ignoreBoundary)&&(k=!0),R++;k||(y=!0)}return y}function Td(i,s,o){var e=!1;s[0][0]===s[s.length-1][0]&&s[0][1]===s[s.length-1][1]&&(s=s.slice(0,s.length-1));for(var r=0,l=s.length-1;r<s.length;l=r++){var h=s[r][0],g=s[r][1],y=s[l][0],w=s[l][1],k=i[1]*(h-y)+g*(y-i[0])+w*(i[0]-h)===0&&(h-i[0])*(y-i[0])<=0&&(g-i[1])*(w-i[1])<=0;if(k)return!o;var R=g>i[1]!=w>i[1]&&i[0]<(y-h)*(i[1]-g)/(w-g)+h;R&&(e=!e)}return e}function Dy(i,s){return s[0]<=i[0]&&s[1]<=i[1]&&s[2]>=i[0]&&s[3]>=i[1]}function Ry(i,s,o){o===void 0&&(o={});var e=zn(i),r=zn(s),l=$r(r[1]-e[1]),h=$r(r[0]-e[0]),g=$r(e[1]),y=$r(r[1]),w=Math.pow(Math.sin(l/2),2)+Math.pow(Math.sin(h/2),2)*Math.cos(g)*Math.cos(y);return bu(2*Math.atan2(Math.sqrt(w),Math.sqrt(1-w)),o.units)}var Dn=Ry;var Md=new ArrayBuffer(16),BP=new Float64Array(Md),zP=new Uint32Array(Md);var Wy=rr(Yp(),1);var hk=function(){function i(s){this.points=s.points||[],this.duration=s.duration||1e4,this.sharpness=s.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=s.stepLength||60,this.length=this.points.length,this.delay=0;for(var o=0;o<this.length;o++)this.points[o].z=this.points[o].z||0;for(var o=0;o<this.length-1;o++){var e=this.points[o],r=this.points[o+1];this.centers.push({x:(e.x+r.x)/2,y:(e.y+r.y)/2,z:(e.z+r.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(var o=0;o<this.centers.length-1;o++){var l=this.points[o+1].x-(this.centers[o].x+this.centers[o+1].x)/2,h=this.points[o+1].y-(this.centers[o].y+this.centers[o+1].y)/2,g=this.points[o+1].z-(this.centers[o].y+this.centers[o+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[o+1].x+this.sharpness*(this.centers[o].x+l),y:(1-this.sharpness)*this.points[o+1].y+this.sharpness*(this.centers[o].y+h),z:(1-this.sharpness)*this.points[o+1].z+this.sharpness*(this.centers[o].z+g)},{x:(1-this.sharpness)*this.points[o+1].x+this.sharpness*(this.centers[o+1].x+l),y:(1-this.sharpness)*this.points[o+1].y+this.sharpness*(this.centers[o+1].y+h),z:(1-this.sharpness)*this.points[o+1].z+this.sharpness*(this.centers[o+1].z+g)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return i.prototype.cacheSteps=function(s){var o=[],e=this.pos(0);o.push(0);for(var r=0;r<this.duration;r+=10){var l=this.pos(r),h=Math.sqrt((l.x-e.x)*(l.x-e.x)+(l.y-e.y)*(l.y-e.y)+(l.z-e.z)*(l.z-e.z));h>s&&(o.push(r),e=l)}return o},i.prototype.vector=function(s){var o=this.pos(s+10),e=this.pos(s-10);return{angle:180*Math.atan2(o.y-e.y,o.x-e.x)/3.14,speed:Math.sqrt((e.x-o.x)*(e.x-o.x)+(e.y-o.y)*(e.y-o.y)+(e.z-o.z)*(e.z-o.z))}},i.prototype.pos=function(s){var o=s-this.delay;o<0&&(o=0),o>this.duration&&(o=this.duration-1);var e=o/this.duration;if(e>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*e),l=(this.length-1)*e-r;return Xy(l,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])},i}();function Xy(i,s,o,e,r){var l=$y(i),h={x:r.x*l[0]+e.x*l[1]+o.x*l[2]+s.x*l[3],y:r.y*l[0]+e.y*l[1]+o.y*l[2]+s.y*l[3],z:r.z*l[0]+e.z*l[1]+o.z*l[2]+s.z*l[3]};return h}function $y(i){var s=i*i,o=s*i;return[o,3*s*(1-i),3*i*(1-i)*(1-i),(1-i)*(1-i)*(1-i)]}function Mu(i,s){s===void 0&&(s={});var o=Number(i[0]),e=Number(i[1]),r=Number(i[2]),l=Number(i[3]);if(i.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var h=[o,e],g=[o,l],y=[r,l],w=[r,e];return Bn([[h,w,y,g,h]],s.properties,{bbox:i,id:s.id})}function Qy(i){return Mu(Ro(i))}var jp=Qy;function sa(i,s,o,e){e===void 0&&(e={});var r=zn(i),l=$r(r[0]),h=$r(r[1]),g=$r(o),y=wu(s,e.units),w=Math.asin(Math.sin(h)*Math.cos(y)+Math.cos(h)*Math.sin(y)*Math.cos(g)),k=l+Math.atan2(Math.sin(g)*Math.sin(y)*Math.cos(h),Math.cos(y)-Math.sin(h)*Math.sin(w)),R=hl(k),A=hl(w);return Rt([R,A],e.properties)}function Ma(i,s,o){if(o===void 0&&(o={}),o.final===!0)return Jy(i,s);var e=zn(i),r=zn(s),l=$r(e[0]),h=$r(r[0]),g=$r(e[1]),y=$r(r[1]),w=Math.sin(h-l)*Math.cos(y),k=Math.cos(g)*Math.sin(y)-Math.sin(g)*Math.cos(y)*Math.cos(h-l);return hl(Math.atan2(w,k))}function Jy(i,s){var o=Ma(s,i);return o=(o+180)%360,o}var g1=rr(Vd(),1);function _1(i){if(!i)throw new Error("geojson is required");var s=[];return xo(i,function(o){y1(o,s)}),bi(s)}function y1(i,s){var o=[],e=i.geometry;if(e!==null){switch(e.type){case"Polygon":o=gn(e);break;case"LineString":o=[gn(e)]}o.forEach(function(r){var l=v1(r,i.properties);l.forEach(function(h){h.id=s.length,s.push(h)})})}}function v1(i,s){var o=[];return i.reduce(function(e,r){var l=wn([e,r],s);return l.bbox=x1(e,r),o.push(l),r}),o}function x1(i,s){var o=i[0],e=i[1],r=s[0],l=s[1],h=o<r?o:r,g=e<l?e:l,y=o>r?o:r,w=e>l?e:l;return[h,g,y,w]}var ml=_1;var tm=rr(Fc(),1);function Y1(i,s){var o={},e=[];if(i.type==="LineString"&&(i=Rr(i)),s.type==="LineString"&&(s=Rr(s)),i.type==="Feature"&&s.type==="Feature"&&i.geometry!==null&&s.geometry!==null&&i.geometry.type==="LineString"&&s.geometry.type==="LineString"&&i.geometry.coordinates.length===2&&s.geometry.coordinates.length===2){var r=em(i,s);return r&&e.push(r),bi(e)}var l=(0,tm.default)();return l.load(ml(s)),Cn(ml(i),function(h){Cn(l.search(h),function(g){var y=em(h,g);if(y){var w=gn(y).join(",");o[w]||(o[w]=!0,e.push(y))}})}),bi(e)}function em(i,s){var o=gn(i),e=gn(s);if(o.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(e.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var r=o[0][0],l=o[0][1],h=o[1][0],g=o[1][1],y=e[0][0],w=e[0][1],k=e[1][0],R=e[1][1],A=(R-w)*(h-r)-(k-y)*(g-l),Y=(k-y)*(l-w)-(R-w)*(r-y),X=(h-r)*(l-w)-(g-l)*(r-y);if(A===0)return null;var j=Y/A,S=X/A;if(j>=0&&j<=1&&S>=0&&S<=1){var O=r+j*(h-r),N=l+j*(g-l);return Rt([O,N])}return null}var gl=Y1;function j1(i,s,o){o===void 0&&(o={});var e=Rt([1/0,1/0],{dist:1/0}),r=0;return xo(i,function(l){for(var h=gn(l),g=0;g<h.length-1;g++){var y=Rt(h[g]);y.properties.dist=Dn(s,y,o);var w=Rt(h[g+1]);w.properties.dist=Dn(s,w,o);var k=Dn(y,w,o),R=Math.max(y.properties.dist,w.properties.dist),A=Ma(y,w),Y=sa(s,R,A+90,o),X=sa(s,R,A-90,o),j=gl(wn([Y.geometry.coordinates,X.geometry.coordinates]),wn([y.geometry.coordinates,w.geometry.coordinates])),S=null;j.features.length>0&&(S=j.features[0],S.properties.dist=Dn(s,S,o),S.properties.location=r+Dn(y,S,o)),y.properties.dist<e.properties.dist&&(e=y,e.properties.index=g,e.properties.location=r),w.properties.dist<e.properties.dist&&(e=w,e.properties.index=g+1,e.properties.location=r+k),S&&S.properties.dist<e.properties.dist&&(e=S,e.properties.index=g),r+=k}}),e}var _l=j1;function W1(i,s,o){o===void 0&&(o={});var e=zn(i),r=zn(s);r[0]+=r[0]-e[0]>180?-360:e[0]-r[0]>180?360:0;var l=X1(e,r),h=fl(l,"meters",o.units);return h}function X1(i,s,o){o=o===void 0?Dr:Number(o);var e=o,r=i[1]*Math.PI/180,l=s[1]*Math.PI/180,h=l-r,g=Math.abs(s[0]-i[0])*Math.PI/180;g>Math.PI&&(g-=2*Math.PI);var y=Math.log(Math.tan(l/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),w=Math.abs(y)>1e-11?h/y:Math.cos(r),k=Math.sqrt(h*h+w*w*g*g),R=k*e;return R}var Du=W1;function $1(i,s,o){if(o===void 0&&(o={}),o.method||(o.method="geodesic"),o.units||(o.units="kilometers"),!i)throw new Error("pt is required");if(Array.isArray(i)?i=Rt(i):i.type==="Point"?i=Rr(i):Iu(i,"Point","point"),!s)throw new Error("line is required");Array.isArray(s)?s=wn(s):s.type==="LineString"?s=Rr(s):Iu(s,"LineString","line");var e=1/0,r=i.geometry.coordinates;return Cu(s,function(l){var h=l.geometry.coordinates[0],g=l.geometry.coordinates[1],y=Q1(r,h,g,o);y<e&&(e=y)}),fl(e,"degrees",o.units)}function Q1(i,s,o,e){var r=[o[0]-s[0],o[1]-s[1]],l=[i[0]-s[0],i[1]-s[1]],h=im(l,r);if(h<=0)return ph(i,s,{method:e.method,units:"degrees"});var g=im(r,r);if(g<=h)return ph(i,o,{method:e.method,units:"degrees"});var y=h/g,w=[s[0]+y*r[0],s[1]+y*r[1]];return ph(i,w,{method:e.method,units:"degrees"})}function im(i,s){return i[0]*s[0]+i[1]*s[1]}function ph(i,s,o){return o.method==="planar"?Du(i,s,o):Dn(i,s,o)}var Ru=$1;var J1=rr(yc(),1);function _s(i,s){return s===void 0&&(s={}),od(i,function(o,e){var r=e.geometry.coordinates;return o+Dn(r[0],r[1],s)},0)}function ev(i,s,o){var e=gn(o);if(gs(o)!=="LineString")throw new Error("line must be a LineString");var r=_l(o,i),l=_l(o,s),h;r.properties.index<=l.properties.index?h=[r,l]:h=[l,r];for(var g=[h[0].geometry.coordinates],y=h[0].properties.index+1;y<h[1].properties.index+1;y++)g.push(e[y]);return g.push(h[1].geometry.coordinates),wn(g,o.properties)}var Oa=ev;var nv=rr(Yp(),1);var rm=Math.PI/180,om=180/Math.PI,Fu=function(i,s){this.lon=i,this.lat=s,this.x=rm*i,this.y=rm*s};Fu.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)};Fu.prototype.antipode=function(){var i=-1*this.lat,s=this.lon<0?180+this.lon:(180-this.lon)*-1;return new Fu(s,i)};var sm=function(){this.coords=[],this.length=0};sm.prototype.move_to=function(i){this.length++,this.coords.push(i)};var gh=function(i){this.properties=i||{},this.geometries=[]};gh.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(this.geometries.length===1)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var i=[],s=0;s<this.geometries.length;s++)i.push(this.geometries[s].coords);return{geometry:{type:"MultiLineString",coordinates:i},type:"Feature",properties:this.properties}};gh.prototype.wkt=function(){for(var i="",s="LINESTRING(",o=function(l){s+=l[0]+" "+l[1]+","},e=0;e<this.geometries.length;e++){if(this.geometries[e].coords.length===0)return"LINESTRING(empty)";var r=this.geometries[e].coords;r.forEach(o),i+=s.substring(0,s.length-1)+")"}return i};var am=function(i,s,o){if(!i||i.x===void 0||i.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!s||s.x===void 0||s.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new Fu(i.x,i.y),this.end=new Fu(s.x,s.y),this.properties=o||{};var e=this.start.x-this.end.x,r=this.start.y-this.end.y,l=Math.pow(Math.sin(r/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(e/2),2);if(this.g=2*Math.asin(Math.sqrt(l)),this.g===Math.PI)throw new Error("it appears "+i.view()+" and "+s.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+i+" and "+s)};am.prototype.interpolate=function(i){var s=Math.sin((1-i)*this.g)/Math.sin(this.g),o=Math.sin(i*this.g)/Math.sin(this.g),e=s*Math.cos(this.start.y)*Math.cos(this.start.x)+o*Math.cos(this.end.y)*Math.cos(this.end.x),r=s*Math.cos(this.start.y)*Math.sin(this.start.x)+o*Math.cos(this.end.y)*Math.sin(this.end.x),l=s*Math.sin(this.start.y)+o*Math.sin(this.end.y),h=om*Math.atan2(l,Math.sqrt(Math.pow(e,2)+Math.pow(r,2))),g=om*Math.atan2(r,e);return[g,h]};am.prototype.Arc=function(i,s){var o=[];if(!i||i<=2)o.push([this.start.lon,this.start.lat]),o.push([this.end.lon,this.end.lat]);else for(var e=1/(i-1),r=0;r<i;++r){var l=e*r,h=this.interpolate(l);o.push(h)}for(var g=!1,y=0,w=s&&s.offset?s.offset:10,k=180-w,R=-180+w,A=360-w,Y=1;Y<o.length;++Y){var X=o[Y-1][0],j=o[Y][0],S=Math.abs(j-X);S>A&&(j>k&&X<R||X>k&&j<R)?g=!0:S>y&&(y=S)}var O=[];if(g&&y<w){var N=[];O.push(N);for(var F=0;F<o.length;++F){var Z=parseFloat(o[F][0]);if(F>0&&Math.abs(Z-o[F-1][0])>A){var ee=parseFloat(o[F-1][0]),re=parseFloat(o[F-1][1]),se=parseFloat(o[F][0]),B=parseFloat(o[F][1]);if(ee>-180&&ee<R&&se===180&&F+1<o.length&&o[F-1][0]>-180&&o[F-1][0]<R){N.push([-180,o[F][1]]),F++,N.push([o[F][0],o[F][1]]);continue}else if(ee>k&&ee<180&&se===-180&&F+1<o.length&&o[F-1][0]>k&&o[F-1][0]<180){N.push([180,o[F][1]]),F++,N.push([o[F][0],o[F][1]]);continue}if(ee<R&&se>k){var _e=ee;ee=se,se=_e;var Te=re;re=B,B=Te}if(ee>k&&se<R&&(se+=360),ee<=180&&se>=180&&ee<se){var Pe=(180-ee)/(se-ee),W=Pe*B+(1-Pe)*re;N.push([o[F-1][0]>k?180:-180,W]),N=[],N.push([o[F-1][0]>k?-180:180,W]),O.push(N)}else N=[],O.push(N);N.push([Z,o[F][1]])}else N.push([o[F][0],o[F][1]])}}else{var zt=[];O.push(zt);for(var Ie=0;Ie<o.length;++Ie)zt.push([o[Ie][0],o[Ie][1]])}for(var ut=new gh(this.properties),Be=0;Be<O.length;++Be){var Ht=new sm;ut.geometries.push(Ht);for(var ye=O[Be],Ae=0;Ae<ye.length;++Ae)Ht.move_to(ye[Ae])}return ut};var sv=rr(Fc(),1);var Bx=rr(Fc(),1);var zx=rr(Vh(),1);var Gx=rr(yc(),1);var Xt=[],$t=[],Qt=[],Jt=[],ei=[],ti=[],ii=[],ni=[],ri=[],oi=[],si=[],ai=[],li=[],ui=[],ci=[],pi=[],hi=[],fi=[],di=[],mi=[],gi=[],_i=[],yi=[],vi=[];ii[85]=oi[85]=-1;ni[85]=si[85]=0;ri[85]=ai[85]=1;di[85]=_i[85]=1;mi[85]=yi[85]=0;gi[85]=vi[85]=1;Xt[85]=Jt[85]=0;$t[85]=ei[85]=-1;Qt[85]=ci[85]=0;pi[85]=li[85]=0;hi[85]=ui[85]=1;ti[85]=fi[85]=1;_i[1]=_i[169]=0;yi[1]=yi[169]=-1;vi[1]=vi[169]=0;li[1]=li[169]=-1;ui[1]=ui[169]=0;ci[1]=ci[169]=0;oi[4]=oi[166]=0;si[4]=si[166]=-1;ai[4]=ai[166]=1;pi[4]=pi[166]=1;hi[4]=hi[166]=0;fi[4]=fi[166]=0;ii[16]=ii[154]=0;ni[16]=ni[154]=1;ri[16]=ri[154]=1;Jt[16]=Jt[154]=1;ei[16]=ei[154]=0;ti[16]=ti[154]=1;di[64]=di[106]=0;mi[64]=mi[106]=1;gi[64]=gi[106]=0;Xt[64]=Xt[106]=-1;$t[64]=$t[106]=0;Qt[64]=Qt[106]=1;di[2]=di[168]=0;mi[2]=mi[168]=-1;gi[2]=gi[168]=1;_i[2]=_i[168]=0;yi[2]=yi[168]=-1;vi[2]=vi[168]=0;li[2]=li[168]=-1;ui[2]=ui[168]=0;ci[2]=ci[168]=0;pi[2]=pi[168]=-1;hi[2]=hi[168]=0;fi[2]=fi[168]=1;ii[8]=ii[162]=0;ni[8]=ni[162]=-1;ri[8]=ri[162]=0;oi[8]=oi[162]=0;si[8]=si[162]=-1;ai[8]=ai[162]=1;li[8]=li[162]=1;ui[8]=ui[162]=0;ci[8]=ci[162]=1;pi[8]=pi[162]=1;hi[8]=hi[162]=0;fi[8]=fi[162]=0;ii[32]=ii[138]=0;ni[32]=ni[138]=1;ri[32]=ri[138]=1;oi[32]=oi[138]=0;si[32]=si[138]=1;ai[32]=ai[138]=0;Xt[32]=Xt[138]=1;$t[32]=$t[138]=0;Qt[32]=Qt[138]=0;Jt[32]=Jt[138]=1;ei[32]=ei[138]=0;ti[32]=ti[138]=1;_i[128]=_i[42]=0;yi[128]=yi[42]=1;vi[128]=vi[42]=1;di[128]=di[42]=0;mi[128]=mi[42]=1;gi[128]=gi[42]=0;Xt[128]=Xt[42]=-1;$t[128]=$t[42]=0;Qt[128]=Qt[42]=1;Jt[128]=Jt[42]=-1;ei[128]=ei[42]=0;ti[128]=ti[42]=0;oi[5]=oi[165]=-1;si[5]=si[165]=0;ai[5]=ai[165]=0;_i[5]=_i[165]=1;yi[5]=yi[165]=0;vi[5]=vi[165]=0;pi[20]=pi[150]=0;hi[20]=hi[150]=1;fi[20]=fi[150]=1;Jt[20]=Jt[150]=0;ei[20]=ei[150]=-1;ti[20]=ti[150]=1;ii[80]=ii[90]=-1;ni[80]=ni[90]=0;ri[80]=ri[90]=1;di[80]=di[90]=1;mi[80]=mi[90]=0;gi[80]=gi[90]=1;li[65]=li[105]=0;ui[65]=ui[105]=1;ci[65]=ci[105]=0;Xt[65]=Xt[105]=0;$t[65]=$t[105]=-1;Qt[65]=Qt[105]=0;ii[160]=ii[10]=-1;ni[160]=ni[10]=0;ri[160]=ri[10]=1;oi[160]=oi[10]=-1;si[160]=si[10]=0;ai[160]=ai[10]=0;_i[160]=_i[10]=1;yi[160]=yi[10]=0;vi[160]=vi[10]=0;di[160]=di[10]=1;mi[160]=mi[10]=0;gi[160]=gi[10]=1;pi[130]=pi[40]=0;hi[130]=hi[40]=1;fi[130]=fi[40]=1;li[130]=li[40]=0;ui[130]=ui[40]=1;ci[130]=ci[40]=0;Xt[130]=Xt[40]=0;$t[130]=$t[40]=-1;Qt[130]=Qt[40]=0;Jt[130]=Jt[40]=0;ei[130]=ei[40]=-1;ti[130]=ti[40]=1;oi[37]=oi[133]=0;si[37]=si[133]=1;ai[37]=ai[133]=1;_i[37]=_i[133]=0;yi[37]=yi[133]=1;vi[37]=vi[133]=0;Xt[37]=Xt[133]=-1;$t[37]=$t[133]=0;Qt[37]=Qt[133]=0;Jt[37]=Jt[133]=1;ei[37]=ei[133]=0;ti[37]=ti[133]=0;pi[148]=pi[22]=-1;hi[148]=hi[22]=0;fi[148]=fi[22]=0;_i[148]=_i[22]=0;yi[148]=yi[22]=-1;vi[148]=vi[22]=1;di[148]=di[22]=0;mi[148]=mi[22]=1;gi[148]=gi[22]=1;Jt[148]=Jt[22]=-1;ei[148]=ei[22]=0;ti[148]=ti[22]=1;ii[82]=ii[88]=0;ni[82]=ni[88]=-1;ri[82]=ri[88]=1;pi[82]=pi[88]=1;hi[82]=hi[88]=0;fi[82]=fi[88]=1;li[82]=li[88]=-1;ui[82]=ui[88]=0;ci[82]=ci[88]=1;di[82]=di[88]=0;mi[82]=mi[88]=-1;gi[82]=gi[88]=0;ii[73]=ii[97]=0;ni[73]=ni[97]=1;ri[73]=ri[97]=0;oi[73]=oi[97]=0;si[73]=si[97]=-1;ai[73]=ai[97]=0;li[73]=li[97]=1;ui[73]=ui[97]=0;ci[73]=ci[97]=0;Xt[73]=Xt[97]=1;$t[73]=$t[97]=0;Qt[73]=Qt[97]=1;ii[145]=ii[25]=0;ni[145]=ni[25]=-1;ri[145]=ri[25]=0;li[145]=li[25]=1;ui[145]=ui[25]=0;ci[145]=ci[25]=1;_i[145]=_i[25]=0;yi[145]=yi[25]=1;vi[145]=vi[25]=1;Jt[145]=Jt[25]=-1;ei[145]=ei[25]=0;ti[145]=ti[25]=0;oi[70]=oi[100]=0;si[70]=si[100]=1;ai[70]=ai[100]=0;pi[70]=pi[100]=-1;hi[70]=hi[100]=0;fi[70]=fi[100]=1;di[70]=di[100]=0;mi[70]=mi[100]=-1;gi[70]=gi[100]=1;Xt[70]=Xt[100]=1;$t[70]=$t[100]=0;Qt[70]=Qt[100]=0;oi[101]=oi[69]=0;si[101]=si[69]=1;ai[101]=ai[69]=0;Xt[101]=Xt[69]=1;$t[101]=$t[69]=0;Qt[101]=Qt[69]=0;_i[149]=_i[21]=0;yi[149]=yi[21]=1;vi[149]=vi[21]=1;Jt[149]=Jt[21]=-1;ei[149]=ei[21]=0;ti[149]=ti[21]=0;pi[86]=pi[84]=-1;hi[86]=hi[84]=0;fi[86]=fi[84]=1;di[86]=di[84]=0;mi[86]=mi[84]=-1;gi[86]=gi[84]=1;ii[89]=ii[81]=0;ni[89]=ni[81]=-1;ri[89]=ri[81]=0;li[89]=li[81]=1;ui[89]=ui[81]=0;ci[89]=ci[81]=1;ii[96]=ii[74]=0;ni[96]=ni[74]=1;ri[96]=ri[74]=0;oi[96]=oi[74]=-1;si[96]=si[74]=0;ai[96]=ai[74]=1;di[96]=di[74]=1;mi[96]=mi[74]=0;gi[96]=gi[74]=0;Xt[96]=Xt[74]=1;$t[96]=$t[74]=0;Qt[96]=Qt[74]=1;ii[24]=ii[146]=0;ni[24]=ni[146]=-1;ri[24]=ri[146]=1;pi[24]=pi[146]=1;hi[24]=hi[146]=0;fi[24]=fi[146]=1;li[24]=li[146]=0;ui[24]=ui[146]=1;ci[24]=ci[146]=1;Jt[24]=Jt[146]=0;ei[24]=ei[146]=-1;ti[24]=ti[146]=0;oi[6]=oi[164]=-1;si[6]=si[164]=0;ai[6]=ai[164]=1;pi[6]=pi[164]=-1;hi[6]=hi[164]=0;fi[6]=fi[164]=0;_i[6]=_i[164]=0;yi[6]=yi[164]=-1;vi[6]=vi[164]=1;di[6]=di[164]=1;mi[6]=mi[164]=0;gi[6]=gi[164]=0;li[129]=li[41]=0;ui[129]=ui[41]=1;ci[129]=ci[41]=1;_i[129]=_i[41]=0;yi[129]=yi[41]=1;vi[129]=vi[41]=0;Xt[129]=Xt[41]=-1;$t[129]=$t[41]=0;Qt[129]=Qt[41]=0;Jt[129]=Jt[41]=0;ei[129]=ei[41]=-1;ti[129]=ti[41]=0;pi[66]=pi[104]=0;hi[66]=hi[104]=1;fi[66]=fi[104]=0;li[66]=li[104]=-1;ui[66]=ui[104]=0;ci[66]=ci[104]=1;di[66]=di[104]=0;mi[66]=mi[104]=-1;gi[66]=gi[104]=0;Xt[66]=Xt[104]=0;$t[66]=$t[104]=-1;Qt[66]=Qt[104]=1;ii[144]=ii[26]=-1;ni[144]=ni[26]=0;ri[144]=ri[26]=0;_i[144]=_i[26]=1;yi[144]=yi[26]=0;vi[144]=vi[26]=1;di[144]=di[26]=0;mi[144]=mi[26]=1;gi[144]=gi[26]=1;Jt[144]=Jt[26]=-1;ei[144]=ei[26]=0;ti[144]=ti[26]=1;oi[36]=oi[134]=0;si[36]=si[134]=1;ai[36]=ai[134]=1;pi[36]=pi[134]=0;hi[36]=hi[134]=1;fi[36]=fi[134]=0;Xt[36]=Xt[134]=0;$t[36]=$t[134]=-1;Qt[36]=Qt[134]=1;Jt[36]=Jt[134]=1;ei[36]=ei[134]=0;ti[36]=ti[134]=0;ii[9]=ii[161]=-1;ni[9]=ni[161]=0;ri[9]=ri[161]=0;oi[9]=oi[161]=0;si[9]=si[161]=-1;ai[9]=ai[161]=0;li[9]=li[161]=1;ui[9]=ui[161]=0;ci[9]=ci[161]=0;_i[9]=_i[161]=1;yi[9]=yi[161]=0;vi[9]=vi[161]=1;ii[136]=0;ni[136]=1;ri[136]=1;oi[136]=0;si[136]=1;ai[136]=0;pi[136]=-1;hi[136]=0;fi[136]=1;li[136]=-1;ui[136]=0;ci[136]=0;_i[136]=0;yi[136]=-1;vi[136]=0;di[136]=0;mi[136]=-1;gi[136]=1;Xt[136]=1;$t[136]=0;Qt[136]=0;Jt[136]=1;ei[136]=0;ti[136]=1;ii[34]=0;ni[34]=-1;ri[34]=0;oi[34]=0;si[34]=-1;ai[34]=1;pi[34]=1;hi[34]=0;fi[34]=0;li[34]=1;ui[34]=0;ci[34]=1;_i[34]=0;yi[34]=1;vi[34]=1;di[34]=0;mi[34]=1;gi[34]=0;Xt[34]=-1;$t[34]=0;Qt[34]=1;Jt[34]=-1;ei[34]=0;ti[34]=0;ii[35]=0;ni[35]=1;ri[35]=1;oi[35]=0;si[35]=-1;ai[35]=1;pi[35]=1;hi[35]=0;fi[35]=0;li[35]=-1;ui[35]=0;ci[35]=0;_i[35]=0;yi[35]=-1;vi[35]=0;di[35]=0;mi[35]=1;gi[35]=0;Xt[35]=-1;$t[35]=0;Qt[35]=1;Jt[35]=1;ei[35]=0;ti[35]=1;ii[153]=0;ni[153]=1;ri[153]=1;li[153]=-1;ui[153]=0;ci[153]=0;_i[153]=0;yi[153]=-1;vi[153]=0;Jt[153]=1;ei[153]=0;ti[153]=1;oi[102]=0;si[102]=-1;ai[102]=1;pi[102]=1;hi[102]=0;fi[102]=0;di[102]=0;mi[102]=1;gi[102]=0;Xt[102]=-1;$t[102]=0;Qt[102]=1;ii[155]=0;ni[155]=-1;ri[155]=0;li[155]=1;ui[155]=0;ci[155]=1;_i[155]=0;yi[155]=1;vi[155]=1;Jt[155]=-1;ei[155]=0;ti[155]=0;oi[103]=0;si[103]=1;ai[103]=0;pi[103]=-1;hi[103]=0;fi[103]=1;di[103]=0;mi[103]=-1;gi[103]=1;Xt[103]=1;$t[103]=0;Qt[103]=0;ii[152]=0;ni[152]=1;ri[152]=1;pi[152]=-1;hi[152]=0;fi[152]=1;li[152]=-1;ui[152]=0;ci[152]=0;_i[152]=0;yi[152]=-1;vi[152]=0;di[152]=0;mi[152]=-1;gi[152]=1;Jt[152]=1;ei[152]=0;ti[152]=1;ii[156]=0;ni[156]=-1;ri[156]=1;pi[156]=1;hi[156]=0;fi[156]=1;li[156]=-1;ui[156]=0;ci[156]=0;_i[156]=0;yi[156]=-1;vi[156]=0;di[156]=0;mi[156]=1;gi[156]=1;Jt[156]=-1;ei[156]=0;ti[156]=1;ii[137]=0;ni[137]=1;ri[137]=1;oi[137]=0;si[137]=1;ai[137]=0;li[137]=-1;ui[137]=0;ci[137]=0;_i[137]=0;yi[137]=-1;vi[137]=0;Xt[137]=1;$t[137]=0;Qt[137]=0;Jt[137]=1;ei[137]=0;ti[137]=1;ii[139]=0;ni[139]=1;ri[139]=1;oi[139]=0;si[139]=-1;ai[139]=0;li[139]=1;ui[139]=0;ci[139]=0;_i[139]=0;yi[139]=1;vi[139]=0;Xt[139]=-1;$t[139]=0;Qt[139]=0;Jt[139]=1;ei[139]=0;ti[139]=1;ii[98]=0;ni[98]=-1;ri[98]=0;oi[98]=0;si[98]=-1;ai[98]=1;pi[98]=1;hi[98]=0;fi[98]=0;li[98]=1;ui[98]=0;ci[98]=1;di[98]=0;mi[98]=1;gi[98]=0;Xt[98]=-1;$t[98]=0;Qt[98]=1;ii[99]=0;ni[99]=1;ri[99]=0;oi[99]=0;si[99]=-1;ai[99]=1;pi[99]=1;hi[99]=0;fi[99]=0;li[99]=-1;ui[99]=0;ci[99]=1;di[99]=0;mi[99]=-1;gi[99]=0;Xt[99]=1;$t[99]=0;Qt[99]=1;oi[38]=0;si[38]=-1;ai[38]=1;pi[38]=1;hi[38]=0;fi[38]=0;_i[38]=0;yi[38]=1;vi[38]=1;di[38]=0;mi[38]=1;gi[38]=0;Xt[38]=-1;$t[38]=0;Qt[38]=1;Jt[38]=-1;ei[38]=0;ti[38]=0;oi[39]=0;si[39]=1;ai[39]=1;pi[39]=-1;hi[39]=0;fi[39]=0;_i[39]=0;yi[39]=-1;vi[39]=1;di[39]=0;mi[39]=1;gi[39]=0;Xt[39]=-1;$t[39]=0;Qt[39]=1;Jt[39]=1;ei[39]=0;ti[39]=0;var Bh=function(i){return[[i.bottomleft,0],[0,0],[0,i.leftbottom]]},zh=function(i){return[[1,i.rightbottom],[1,0],[i.bottomright,0]]},Hh=function(i){return[[i.topright,1],[1,1],[1,i.righttop]]},qh=function(i){return[[0,i.lefttop],[0,1],[i.topleft,1]]},Gh=function(i){return[[i.bottomright,0],[i.bottomleft,0],[0,i.leftbottom],[0,i.lefttop]]},Uh=function(i){return[[i.bottomright,0],[i.bottomleft,0],[1,i.righttop],[1,i.rightbottom]]},Kh=function(i){return[[1,i.righttop],[1,i.rightbottom],[i.topleft,1],[i.topright,1]]},Zh=function(i){return[[0,i.leftbottom],[0,i.lefttop],[i.topleft,1],[i.topright,1]]},Ux=function(i){return[[0,0],[0,i.leftbottom],[1,i.rightbottom],[1,0]]},Kx=function(i){return[[1,0],[i.bottomright,0],[i.topright,1],[1,1]]},Zx=function(i){return[[1,1],[1,i.righttop],[0,i.lefttop],[0,1]]},Yx=function(i){return[[i.bottomleft,0],[0,0],[0,1],[i.topleft,1]]},jx=function(i){return[[1,i.righttop],[1,i.rightbottom],[0,i.leftbottom],[0,i.lefttop]]},Wx=function(i){return[[i.topleft,1],[i.topright,1],[i.bottomright,0],[i.bottomleft,0]]},Xx=function(){return[[0,0],[0,1],[1,1],[1,0]]},$x=function(i){return[[1,i.rightbottom],[1,0],[0,0],[0,1],[i.topleft,1]]},Qx=function(i){return[[i.topright,1],[1,1],[1,0],[0,0],[0,i.leftbottom]]},Jx=function(i){return[[1,0],[i.bottomright,0],[0,i.lefttop],[0,1],[1,1]]},eb=function(i){return[[1,1],[1,i.righttop],[i.bottomleft,0],[0,0],[0,1]]},tb=function(i){return[[1,i.righttop],[1,i.rightbottom],[0,i.lefttop],[0,1],[i.topleft,1]]},ib=function(i){return[[1,1],[1,i.righttop],[i.bottomright,0],[i.bottomleft,0],[i.topright,1]]},nb=function(i){return[[1,i.rightbottom],[1,0],[i.bottomright,0],[0,i.leftbottom],[0,i.lefttop]]},rb=function(i){return[[i.topright,1],[i.bottomleft,0],[0,0],[0,i.leftbottom],[i.topleft,1]]},ob=function(i){return[[i.bottomright,0],[i.bottomleft,0],[0,i.lefttop],[0,1],[i.topleft,1]]},sb=function(i){return[[1,1],[1,i.righttop],[0,i.leftbottom],[0,i.lefttop],[i.topright,1]]},ab=function(i){return[[1,i.rightbottom],[1,0],[i.bottomright,0],[i.topleft,1],[i.topright,1]]},lb=function(i){return[[1,i.righttop],[1,i.rightbottom],[i.bottomleft,0],[0,0],[0,i.leftbottom]]},ub=function(i){return[[1,i.rightbottom],[1,0],[0,0],[0,i.leftbottom],[i.topleft,1],[i.topright,1]]},cb=function(i){return[[1,1],[1,0],[i.bottomright,0],[0,i.leftbottom],[0,i.lefttop],[i.topright,1]]},pb=function(i){return[[1,1],[1,i.righttop],[i.bottomright,0],[i.bottomleft,0],[0,i.lefttop],[0,1]]},hb=function(i){return[[1,i.righttop],[1,i.rightbottom],[i.bottomleft,0],[0,0],[0,1],[i.topleft,1]]},fb=function(i){return[[1,1],[1,i.righttop],[i.bottomleft,0],[0,0],[0,i.leftbottom],[i.topright,1]]},db=function(i){return[[1,i.rightbottom],[1,0],[i.bottomright,0],[0,i.lefttop],[0,1],[i.topleft,1]]},mb=function(i){return[[1,i.righttop],[1,i.rightbottom],[i.bottomright,0],[i.bottomleft,0],[0,i.leftbottom],[0,i.lefttop],[i.topleft,1],[i.topright,1]]},gb=function(i){return[[1,1],[1,i.righttop],[i.bottomleft,0],[0,0],[0,i.leftbottom],[i.topright,1]]},_b=function(i){return[[1,i.rightbottom],[1,0],[i.bottomright,0],[0,i.lefttop],[0,1],[i.topleft,1]]},yb=function(i){return[[1,1],[1,i.righttop],[i.bottomright,0],[i.bottomleft,0],[0,i.leftbottom],[0,i.lefttop],[i.topright,1]]},vb=function(i){return[[1,i.righttop],[1,i.rightbottom],[i.bottomleft,0],[0,0],[0,i.leftbottom],[i.topleft,1],[i.topright,1]]},xb=function(i){return[[1,i.righttop],[1,i.rightbottom],[i.bottomright,0],[i.bottomleft,0],[0,i.lefttop],[0,1],[i.topleft,1]]},bb=function(i){return[[1,i.rightbottom],[1,0],[i.bottomright,0],[0,i.leftbottom],[0,i.lefttop],[i.topleft,1],[i.topright,1]]},wi=[],Ci=[],Ii=[],Si=[],Ti=[],Ei=[],Mi=[],Oi=[];Si[1]=Ti[1]=18;Si[169]=Ti[169]=18;Ii[4]=Ci[4]=12;Ii[166]=Ci[166]=12;wi[16]=Oi[16]=4;wi[154]=Oi[154]=4;Ei[64]=Mi[64]=22;Ei[106]=Mi[106]=22;Ii[2]=Ei[2]=17;Si[2]=Ti[2]=18;Ii[168]=Ei[168]=17;Si[168]=Ti[168]=18;wi[8]=Si[8]=9;Ci[8]=Ii[8]=12;wi[162]=Si[162]=9;Ci[162]=Ii[162]=12;wi[32]=Oi[32]=4;Ci[32]=Mi[32]=1;wi[138]=Oi[138]=4;Ci[138]=Mi[138]=1;Ti[128]=Oi[128]=21;Ei[128]=Mi[128]=22;Ti[42]=Oi[42]=21;Ei[42]=Mi[42]=22;Ci[5]=Ti[5]=14;Ci[165]=Ti[165]=14;Ii[20]=Oi[20]=6;Ii[150]=Oi[150]=6;wi[80]=Ei[80]=11;wi[90]=Ei[90]=11;Si[65]=Mi[65]=3;Si[105]=Mi[105]=3;wi[160]=Ei[160]=11;Ci[160]=Ti[160]=14;wi[10]=Ei[10]=11;Ci[10]=Ti[10]=14;Ii[130]=Oi[130]=6;Si[130]=Mi[130]=3;Ii[40]=Oi[40]=6;Si[40]=Mi[40]=3;Ci[101]=Mi[101]=1;Ci[69]=Mi[69]=1;Ti[149]=Oi[149]=21;Ti[21]=Oi[21]=21;Ii[86]=Ei[86]=17;Ii[84]=Ei[84]=17;wi[89]=Si[89]=9;wi[81]=Si[81]=9;wi[96]=Mi[96]=0;Ci[96]=Ei[96]=15;wi[74]=Mi[74]=0;Ci[74]=Ei[74]=15;wi[24]=Ii[24]=8;Si[24]=Oi[24]=7;wi[146]=Ii[146]=8;Si[146]=Oi[146]=7;Ci[6]=Ei[6]=15;Ii[6]=Ti[6]=16;Ci[164]=Ei[164]=15;Ii[164]=Ti[164]=16;Si[129]=Oi[129]=7;Ti[129]=Mi[129]=20;Si[41]=Oi[41]=7;Ti[41]=Mi[41]=20;Ii[66]=Mi[66]=2;Si[66]=Ei[66]=19;Ii[104]=Mi[104]=2;Si[104]=Ei[104]=19;wi[144]=Ti[144]=10;Ei[144]=Oi[144]=23;wi[26]=Ti[26]=10;Ei[26]=Oi[26]=23;Ci[36]=Oi[36]=5;Ii[36]=Mi[36]=2;Ci[134]=Oi[134]=5;Ii[134]=Mi[134]=2;wi[9]=Ti[9]=10;Ci[9]=Si[9]=13;wi[161]=Ti[161]=10;Ci[161]=Si[161]=13;Ci[37]=Oi[37]=5;Ti[37]=Mi[37]=20;Ci[133]=Oi[133]=5;Ti[133]=Mi[133]=20;Ii[148]=Ti[148]=16;Ei[148]=Oi[148]=23;Ii[22]=Ti[22]=16;Ei[22]=Oi[22]=23;wi[82]=Ii[82]=8;Si[82]=Ei[82]=19;wi[88]=Ii[88]=8;Si[88]=Ei[88]=19;wi[73]=Mi[73]=0;Ci[73]=Si[73]=13;wi[97]=Mi[97]=0;Ci[97]=Si[97]=13;wi[145]=Si[145]=9;Ti[145]=Oi[145]=21;wi[25]=Si[25]=9;Ti[25]=Oi[25]=21;Ci[70]=Mi[70]=1;Ii[70]=Ei[70]=17;Ci[100]=Mi[100]=1;Ii[100]=Ei[100]=17;wi[34]=Si[34]=9;Ci[34]=Ii[34]=12;Ti[34]=Oi[34]=21;Ei[34]=Mi[34]=22;wi[136]=Oi[136]=4;Ci[136]=Mi[136]=1;Ii[136]=Ei[136]=17;Si[136]=Ti[136]=18;wi[35]=Oi[35]=4;Ci[35]=Ii[35]=12;Si[35]=Ti[35]=18;Ei[35]=Mi[35]=22;wi[153]=Oi[153]=4;Si[153]=Ti[153]=18;Ci[102]=Ii[102]=12;Ei[102]=Mi[102]=22;wi[155]=Si[155]=9;Ti[155]=Oi[155]=23;Ci[103]=Mi[103]=1;Ii[103]=Ei[103]=17;wi[152]=Oi[152]=4;Ii[152]=Ei[152]=17;Si[152]=Ti[152]=18;wi[156]=Ii[156]=8;Si[156]=Ti[156]=18;Ei[156]=Oi[156]=23;wi[137]=Oi[137]=4;Ci[137]=Mi[137]=1;Si[137]=Ti[137]=18;wi[139]=Oi[139]=4;Ci[139]=Si[139]=13;Ti[139]=Mi[139]=20;wi[98]=Si[98]=9;Ci[98]=Ii[98]=12;Ei[98]=Mi[98]=22;wi[99]=Mi[99]=0;Ci[99]=Ii[99]=12;Si[99]=Ei[99]=19;Ci[38]=Ii[38]=12;Ti[38]=Oi[38]=21;Ei[38]=Mi[38]=22;Ci[39]=Oi[39]=5;Ii[39]=Ti[39]=16;Ei[39]=Mi[39]=22;var Ue=[];Ue[1]=Ue[169]=Bh;Ue[4]=Ue[166]=zh;Ue[16]=Ue[154]=Hh;Ue[64]=Ue[106]=qh;Ue[168]=Ue[2]=Gh;Ue[162]=Ue[8]=Uh;Ue[138]=Ue[32]=Kh;Ue[42]=Ue[128]=Zh;Ue[5]=Ue[165]=Ux;Ue[20]=Ue[150]=Kx;Ue[80]=Ue[90]=Zx;Ue[65]=Ue[105]=Yx;Ue[160]=Ue[10]=jx;Ue[130]=Ue[40]=Wx;Ue[85]=Xx;Ue[101]=Ue[69]=$x;Ue[149]=Ue[21]=Qx;Ue[86]=Ue[84]=Jx;Ue[89]=Ue[81]=eb;Ue[96]=Ue[74]=tb;Ue[24]=Ue[146]=ib;Ue[6]=Ue[164]=nb;Ue[129]=Ue[41]=rb;Ue[66]=Ue[104]=ob;Ue[144]=Ue[26]=sb;Ue[36]=Ue[134]=ab;Ue[9]=Ue[161]=lb;Ue[37]=Ue[133]=ub;Ue[148]=Ue[22]=cb;Ue[82]=Ue[88]=pb;Ue[73]=Ue[97]=hb;Ue[145]=Ue[25]=fb;Ue[70]=Ue[100]=db;Ue[34]=function(i){return[Zh(i),Uh(i)]};Ue[35]=mb;Ue[136]=function(i){return[Kh(i),Gh(i)]};Ue[153]=function(i){return[Hh(i),Bh(i)]};Ue[102]=function(i){return[zh(i),qh(i)]};Ue[155]=gb;Ue[103]=_b;Ue[152]=function(i){return[Hh(i),Gh(i)]};Ue[156]=yb;Ue[137]=function(i){return[Kh(i),Bh(i)]};Ue[139]=vb;Ue[98]=function(i){return[Uh(i),qh(i)]};Ue[99]=xb;Ue[38]=function(i){return[zh(i),Zh(i)]};Ue[39]=bb;function Cb(i){return(i>0)-(i<0)||+i}function tu(i,s,o){var e=s[0]-i[0],r=s[1]-i[1],l=o[0]-s[0],h=o[1]-s[1];return Cb(e*h-l*r)}function f0(i,s){var o=i.geometry.coordinates[0].map(function(h){return h[0]}),e=i.geometry.coordinates[0].map(function(h){return h[1]}),r=s.geometry.coordinates[0].map(function(h){return h[0]}),l=s.geometry.coordinates[0].map(function(h){return h[1]});return Math.max.apply(null,o)===Math.max.apply(null,r)&&Math.max.apply(null,e)===Math.max.apply(null,l)&&Math.min.apply(null,o)===Math.min.apply(null,r)&&Math.min.apply(null,e)===Math.min.apply(null,l)}function Yh(i,s){return s.geometry.coordinates[0].every(function(o){return Qr(Rt(o),i)})}function d0(i,s){return i[0]===s[0]&&i[1]===s[1]}var Ib=function(){function i(s){this.id=i.buildId(s),this.coordinates=s,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return i.buildId=function(s){return s.join(",")},i.prototype.removeInnerEdge=function(s){this.innerEdges=this.innerEdges.filter(function(o){return o.from.id!==s.from.id})},i.prototype.removeOuterEdge=function(s){this.outerEdges=this.outerEdges.filter(function(o){return o.to.id!==s.to.id})},i.prototype.addOuterEdge=function(s){this.outerEdges.push(s),this.outerEdgesSorted=!1},i.prototype.sortOuterEdges=function(){var s=this;this.outerEdgesSorted||(this.outerEdges.sort(function(o,e){var r=o.to,l=e.to;if(r.coordinates[0]-s.coordinates[0]>=0&&l.coordinates[0]-s.coordinates[0]<0)return 1;if(r.coordinates[0]-s.coordinates[0]<0&&l.coordinates[0]-s.coordinates[0]>=0)return-1;if(r.coordinates[0]-s.coordinates[0]===0&&l.coordinates[0]-s.coordinates[0]===0)return r.coordinates[1]-s.coordinates[1]>=0||l.coordinates[1]-s.coordinates[1]>=0?r.coordinates[1]-l.coordinates[1]:l.coordinates[1]-r.coordinates[1];var h=tu(s.coordinates,r.coordinates,l.coordinates);if(h<0)return 1;if(h>0)return-1;var g=Math.pow(r.coordinates[0]-s.coordinates[0],2)+Math.pow(r.coordinates[1]-s.coordinates[1],2),y=Math.pow(l.coordinates[0]-s.coordinates[0],2)+Math.pow(l.coordinates[1]-s.coordinates[1],2);return g-y}),this.outerEdgesSorted=!0)},i.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},i.prototype.getOuterEdge=function(s){return this.sortOuterEdges(),this.outerEdges[s]},i.prototype.addInnerEdge=function(s){this.innerEdges.push(s)},i}(),jh=Ib;var Sb=function(){function i(s,o){this.from=s,this.to=o,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return i.prototype.getSymetric=function(){return this.symetric||(this.symetric=new i(this.to,this.from),this.symetric.symetric=this),this.symetric},i.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},i.prototype.isEqual=function(s){return this.from.id===s.from.id&&this.to.id===s.to.id},i.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},i.prototype.toLineString=function(){return wn([this.from.coordinates,this.to.coordinates])},i.prototype.compareTo=function(s){return tu(s.from.coordinates,s.to.coordinates,this.to.coordinates)},i}(),m0=Sb;var Tb=function(){function i(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return i.prototype.push=function(s){this.edges.push(s),this.polygon=this.envelope=void 0},i.prototype.get=function(s){return this.edges[s]},Object.defineProperty(i.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),i.prototype.forEach=function(s){this.edges.forEach(s)},i.prototype.map=function(s){return this.edges.map(s)},i.prototype.some=function(s){return this.edges.some(s)},i.prototype.isValid=function(){return!0},i.prototype.isHole=function(){var s=this,o=this.edges.reduce(function(h,g,y){return g.from.coordinates[1]>s.edges[h].from.coordinates[1]&&(h=y),h},0),e=(o===0?this.length:o)-1,r=(o+1)%this.length,l=tu(this.edges[e].from.coordinates,this.edges[o].from.coordinates,this.edges[r].from.coordinates);return l===0?this.edges[e].from.coordinates[0]>this.edges[r].from.coordinates[0]:l>0},i.prototype.toMultiPoint=function(){return kp(this.edges.map(function(s){return s.from.coordinates}))},i.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var s=this.edges.map(function(o){return o.from.coordinates});return s.push(this.edges[0].from.coordinates),this.polygon=Bn([s])},i.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=jp(this.toPolygon())},i.findEdgeRingContaining=function(s,o){var e=s.getEnvelope(),r,l;return o.forEach(function(h){var g=h.getEnvelope();if(l&&(r=l.getEnvelope()),!f0(g,e)&&Yh(g,e)){for(var y=s.map(function(X){return X.from.coordinates}),w=void 0,k=function(X){h.some(function(j){return d0(X,j.from.coordinates)})||(w=X)},R=0,A=y;R<A.length;R++){var Y=A[R];k(Y)}w&&h.inside(Rt(w))&&(!l||Yh(r,g))&&(l=h)}}),l},i.prototype.inside=function(s){return Qr(s,this.toPolygon())},i}(),Wh=Tb;function Eb(i){if(!i)throw new Error("No geojson passed");if(i.type!=="FeatureCollection"&&i.type!=="GeometryCollection"&&i.type!=="MultiLineString"&&i.type!=="LineString"&&i.type!=="Feature")throw new Error("Invalid input type '"+i.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}var e5=function(){function i(){this.edges=[],this.nodes={}}return i.fromGeoJson=function(s){Eb(s);var o=new i;return xo(s,function(e){Iu(e,"LineString","Graph::fromGeoJson"),rd(e,function(r,l){if(r){var h=o.getNode(r),g=o.getNode(l);o.addEdge(h,g)}return l})}),o},i.prototype.getNode=function(s){var o=jh.buildId(s),e=this.nodes[o];return e||(e=this.nodes[o]=new jh(s)),e},i.prototype.addEdge=function(s,o){var e=new m0(s,o),r=e.getSymetric();this.edges.push(e),this.edges.push(r)},i.prototype.deleteDangles=function(){var s=this;Object.keys(this.nodes).map(function(o){return s.nodes[o]}).forEach(function(o){return s._removeIfDangle(o)})},i.prototype._removeIfDangle=function(s){var o=this;if(s.innerEdges.length<=1){var e=s.getOuterEdges().map(function(r){return r.to});this.removeNode(s),e.forEach(function(r){return o._removeIfDangle(r)})}},i.prototype.deleteCutEdges=function(){var s=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(o){o.label===o.symetric.label&&(s.removeEdge(o.symetric),s.removeEdge(o))})},i.prototype._computeNextCWEdges=function(s){var o=this;typeof s>"u"?Object.keys(this.nodes).forEach(function(e){return o._computeNextCWEdges(o.nodes[e])}):s.getOuterEdges().forEach(function(e,r){s.getOuterEdge((r===0?s.getOuterEdges().length:r)-1).symetric.next=e})},i.prototype._computeNextCCWEdges=function(s,o){for(var e=s.getOuterEdges(),r,l,h=e.length-1;h>=0;--h){var g=e[h],y=g.symetric,w=void 0,k=void 0;g.label===o&&(w=g),y.label===o&&(k=y),!(!w||!k)&&(k&&(l=k),w&&(l&&(l.next=w,l=void 0),r||(r=w)))}l&&(l.next=r)},i.prototype._findLabeledEdgeRings=function(){var s=[],o=0;return this.edges.forEach(function(e){if(!(e.label>=0)){s.push(e);var r=e;do r.label=o,r=r.next;while(!e.isEqual(r));o++}}),s},i.prototype.getEdgeRings=function(){var s=this;this._computeNextCWEdges(),this.edges.forEach(function(e){e.label=void 0}),this._findLabeledEdgeRings().forEach(function(e){s._findIntersectionNodes(e).forEach(function(r){s._computeNextCCWEdges(r,e.label)})});var o=[];return this.edges.forEach(function(e){e.ring||o.push(s._findEdgeRing(e))}),o},i.prototype._findIntersectionNodes=function(s){var o=[],e=s,r=function(){var l=0;e.from.getOuterEdges().forEach(function(h){h.label===s.label&&++l}),l>1&&o.push(e.from),e=e.next};do r();while(!s.isEqual(e));return o},i.prototype._findEdgeRing=function(s){var o=s,e=new Wh;do e.push(o),o.ring=e,o=o.next;while(!s.isEqual(o));return e},i.prototype.removeNode=function(s){var o=this;s.getOuterEdges().forEach(function(e){return o.removeEdge(e)}),s.innerEdges.forEach(function(e){return o.removeEdge(e)}),delete this.nodes[s.id]},i.prototype.removeEdge=function(s){this.edges=this.edges.filter(function(o){return!o.isEqual(s)}),s.deleteEdge()},i}();var Pb=rr(Xh(),1);var kb=rr(Xh(),1);var Rb=rr(I0(),1);var Hb=rr(R0(),1);function N0(i){for(var s=i,o=[];s.parent;)o.unshift(s),s=s.parent;return o}function Gb(){return new A0(function(i){return i.f})}var ef={search:function(i,s,o,e){i.cleanDirty(),e=e||{};var r=e.heuristic||ef.heuristics.manhattan,l=e.closest||!1,h=Gb(),g=s;for(s.h=r(s,o),h.push(s);h.size()>0;){var y=h.pop();if(y===o)return N0(y);y.closed=!0;for(var w=i.neighbors(y),k=0,R=w.length;k<R;++k){var A=w[k];if(!(A.closed||A.isWall())){var Y=y.g+A.getCost(y),X=A.visited;(!X||Y<A.g)&&(A.visited=!0,A.parent=y,A.h=A.h||r(A,o),A.g=Y,A.f=A.g+A.h,i.markDirty(A),l&&(A.h<g.h||A.h===g.h&&A.g<g.g)&&(g=A),X?h.rescoreElement(A):h.push(A))}}}return l?N0(g):[]},heuristics:{manhattan:function(i,s){var o=Math.abs(s.x-i.x),e=Math.abs(s.y-i.y);return o+e},diagonal:function(i,s){var o=1,e=Math.sqrt(2),r=Math.abs(s.x-i.x),l=Math.abs(s.y-i.y);return o*(r+l)+(e-2*o)*Math.min(r,l)}},cleanNode:function(i){i.f=0,i.g=0,i.h=0,i.visited=!1,i.closed=!1,i.parent=null}};function Hu(i,s){s=s||{},this.nodes=[],this.diagonal=!!s.diagonal,this.grid=[];for(var o=0;o<i.length;o++){this.grid[o]=[];for(var e=0,r=i[o];e<r.length;e++){var l=new rp(o,e,r[e]);this.grid[o][e]=l,this.nodes.push(l)}}this.init()}Hu.prototype.init=function(){this.dirtyNodes=[];for(var i=0;i<this.nodes.length;i++)ef.cleanNode(this.nodes[i])};Hu.prototype.cleanDirty=function(){for(var i=0;i<this.dirtyNodes.length;i++)ef.cleanNode(this.dirtyNodes[i]);this.dirtyNodes=[]};Hu.prototype.markDirty=function(i){this.dirtyNodes.push(i)};Hu.prototype.neighbors=function(i){var s=[],o=i.x,e=i.y,r=this.grid;return r[o-1]&&r[o-1][e]&&s.push(r[o-1][e]),r[o+1]&&r[o+1][e]&&s.push(r[o+1][e]),r[o]&&r[o][e-1]&&s.push(r[o][e-1]),r[o]&&r[o][e+1]&&s.push(r[o][e+1]),this.diagonal&&(r[o-1]&&r[o-1][e-1]&&s.push(r[o-1][e-1]),r[o+1]&&r[o+1][e-1]&&s.push(r[o+1][e-1]),r[o-1]&&r[o-1][e+1]&&s.push(r[o-1][e+1]),r[o+1]&&r[o+1][e+1]&&s.push(r[o+1][e+1])),s};Hu.prototype.toString=function(){for(var i=[],s=this.grid,o,e,r,l,h=0,g=s.length;h<g;h++){for(o=[],e=s[h],r=0,l=e.length;r<l;r++)o.push(e[r].weight);i.push(o.join(" "))}return i.join(`
`)};function rp(i,s,o){this.x=i,this.y=s,this.weight=o}rp.prototype.toString=function(){return"["+this.x+" "+this.y+"]"};rp.prototype.getCost=function(i){return i&&i.x!==this.x&&i.y!==this.y?this.weight*1.41421:this.weight};rp.prototype.isWall=function(){return this.weight===0};function A0(i){this.content=[],this.scoreFunction=i}A0.prototype={push:function(i){this.content.push(i),this.sinkDown(this.content.length-1)},pop:function(){var i=this.content[0],s=this.content.pop();return this.content.length>0&&(this.content[0]=s,this.bubbleUp(0)),i},remove:function(i){var s=this.content.indexOf(i),o=this.content.pop();s!==this.content.length-1&&(this.content[s]=o,this.scoreFunction(o)<this.scoreFunction(i)?this.sinkDown(s):this.bubbleUp(s))},size:function(){return this.content.length},rescoreElement:function(i){this.sinkDown(this.content.indexOf(i))},sinkDown:function(i){for(var s=this.content[i];i>0;){var o=(i+1>>1)-1,e=this.content[o];if(this.scoreFunction(s)<this.scoreFunction(e))this.content[o]=s,this.content[i]=e,i=o;else break}},bubbleUp:function(i){for(var s=this.content.length,o=this.content[i],e=this.scoreFunction(o);;){var r=i+1<<1,l=r-1,h=null,g;if(l<s){var y=this.content[l];g=this.scoreFunction(y),g<e&&(h=l)}if(r<s){var w=this.content[r],k=this.scoreFunction(w);k<(h===null?e:g)&&(h=r)}if(h!==null)this.content[i]=this.content[h],this.content[h]=o,i=h;else break}}};function tf(){this._=null}function nu(i){i.U=i.C=i.L=i.R=i.P=i.N=null}tf.prototype={constructor:tf,insert:function(i,s){var o,e,r;if(i){if(s.P=i,s.N=i.N,i.N&&(i.N.P=s),i.N=s,i.R){for(i=i.R;i.L;)i=i.L;i.L=s}else i.R=s;o=i}else this._?(i=V0(this._),s.P=null,s.N=i,i.P=i.L=s,o=i):(s.P=s.N=null,this._=s,o=null);for(s.L=s.R=null,s.U=o,s.C=!0,i=s;o&&o.C;)e=o.U,o===e.L?(r=e.R,r&&r.C?(o.C=r.C=!1,e.C=!0,i=e):(i===o.R&&(qu(this,o),i=o,o=i.U),o.C=!1,e.C=!0,Gu(this,e))):(r=e.L,r&&r.C?(o.C=r.C=!1,e.C=!0,i=e):(i===o.L&&(Gu(this,o),i=o,o=i.U),o.C=!1,e.C=!0,qu(this,e))),o=i.U;this._.C=!1},remove:function(i){i.N&&(i.N.P=i.P),i.P&&(i.P.N=i.N),i.N=i.P=null;var s=i.U,o,e=i.L,r=i.R,l,h;if(e?r?l=V0(r):l=e:l=r,s?s.L===i?s.L=l:s.R=l:this._=l,e&&r?(h=l.C,l.C=i.C,l.L=e,e.U=l,l!==r?(s=l.U,l.U=i.U,i=l.R,s.L=i,l.R=r,r.U=l):(l.U=s,s=l,i=l.R)):(h=i.C,i=l),i&&(i.U=s),!h){if(i&&i.C){i.C=!1;return}do{if(i===this._)break;if(i===s.L){if(o=s.R,o.C&&(o.C=!1,s.C=!0,qu(this,s),o=s.R),o.L&&o.L.C||o.R&&o.R.C){(!o.R||!o.R.C)&&(o.L.C=!1,o.C=!0,Gu(this,o),o=s.R),o.C=s.C,s.C=o.R.C=!1,qu(this,s),i=this._;break}}else if(o=s.L,o.C&&(o.C=!1,s.C=!0,Gu(this,s),o=s.L),o.L&&o.L.C||o.R&&o.R.C){(!o.L||!o.L.C)&&(o.R.C=!1,o.C=!0,qu(this,o),o=s.L),o.C=s.C,s.C=o.L.C=!1,Gu(this,s),i=this._;break}o.C=!0,i=s,s=s.U}while(!i.C);i&&(i.C=!1)}}};function qu(i,s){var o=s,e=s.R,r=o.U;r?r.L===o?r.L=e:r.R=e:i._=e,e.U=r,o.U=e,o.R=e.L,o.R&&(o.R.U=o),e.L=o}function Gu(i,s){var o=s,e=s.L,r=o.U;r?r.L===o?r.L=e:r.R=e:i._=e,e.U=r,o.U=e,o.L=e.R,o.L&&(o.L.U=o),e.R=o}function V0(i){for(;i.L;)i=i.L;return i}var nf=tf;function ru(i,s,o,e){var r=[null,null],l=eo.push(r)-1;return r.left=i,r.right=s,o&&Uu(r,i,s,o),e&&Uu(r,s,i,e),Fo[i.index].halfedges.push(l),Fo[s.index].halfedges.push(l),r}function ou(i,s,o){var e=[s,o];return e.left=i,e}function Uu(i,s,o,e){!i[0]&&!i[1]?(i[0]=e,i.left=s,i.right=o):i.left===o?i[1]=e:i[0]=e}function Ub(i,s,o,e,r){var l=i[0],h=i[1],g=l[0],y=l[1],w=h[0],k=h[1],R=0,A=1,Y=w-g,X=k-y,j;if(j=s-g,!(!Y&&j>0)){if(j/=Y,Y<0){if(j<R)return;j<A&&(A=j)}else if(Y>0){if(j>A)return;j>R&&(R=j)}if(j=e-g,!(!Y&&j<0)){if(j/=Y,Y<0){if(j>A)return;j>R&&(R=j)}else if(Y>0){if(j<R)return;j<A&&(A=j)}if(j=o-y,!(!X&&j>0)){if(j/=X,X<0){if(j<R)return;j<A&&(A=j)}else if(X>0){if(j>A)return;j>R&&(R=j)}if(j=r-y,!(!X&&j<0)){if(j/=X,X<0){if(j>A)return;j>R&&(R=j)}else if(X>0){if(j<R)return;j<A&&(A=j)}return!(R>0)&&!(A<1)||(R>0&&(i[0]=[g+R*Y,y+R*X]),A<1&&(i[1]=[g+A*Y,y+A*X])),!0}}}}}function Kb(i,s,o,e,r){var l=i[1];if(l)return!0;var h=i[0],g=i.left,y=i.right,w=g[0],k=g[1],R=y[0],A=y[1],Y=(w+R)/2,X=(k+A)/2,j,S;if(A===k){if(Y<s||Y>=e)return;if(w>R){if(!h)h=[Y,o];else if(h[1]>=r)return;l=[Y,r]}else{if(!h)h=[Y,r];else if(h[1]<o)return;l=[Y,o]}}else if(j=(w-R)/(A-k),S=X-j*Y,j<-1||j>1)if(w>R){if(!h)h=[(o-S)/j,o];else if(h[1]>=r)return;l=[(r-S)/j,r]}else{if(!h)h=[(r-S)/j,r];else if(h[1]<o)return;l=[(o-S)/j,o]}else if(k<A){if(!h)h=[s,j*s+S];else if(h[0]>=e)return;l=[e,j*e+S]}else{if(!h)h=[e,j*e+S];else if(h[0]<s)return;l=[s,j*s+S]}return i[0]=h,i[1]=l,!0}function B0(i,s,o,e){for(var r=eo.length,l;r--;)(!Kb(l=eo[r],i,s,o,e)||!Ub(l,i,s,o,e)||!(Math.abs(l[0][0]-l[1][0])>cn||Math.abs(l[0][1]-l[1][1])>cn))&&delete eo[r]}function z0(i){return Fo[i.index]={site:i,halfedges:[]}}function Zb(i,s){var o=i.site,e=s.left,r=s.right;return o===r&&(r=e,e=o),r?Math.atan2(r[1]-e[1],r[0]-e[0]):(o===e?(e=s[1],r=s[0]):(e=s[0],r=s[1]),Math.atan2(e[0]-r[0],r[1]-e[1]))}function rf(i,s){return s[+(s.left!==i.site)]}function Yb(i,s){return s[+(s.left===i.site)]}function H0(){for(var i=0,s=Fo.length,o,e,r,l;i<s;++i)if((o=Fo[i])&&(l=(e=o.halfedges).length)){var h=new Array(l),g=new Array(l);for(r=0;r<l;++r)h[r]=r,g[r]=Zb(o,eo[e[r]]);for(h.sort(function(y,w){return g[w]-g[y]}),r=0;r<l;++r)g[r]=e[h[r]];for(r=0;r<l;++r)e[r]=g[r]}}function q0(i,s,o,e){var r=Fo.length,l,h,g,y,w,k,R,A,Y,X,j,S,O=!0;for(l=0;l<r;++l)if(h=Fo[l]){for(g=h.site,w=h.halfedges,y=w.length;y--;)eo[w[y]]||w.splice(y,1);for(y=0,k=w.length;y<k;)X=Yb(h,eo[w[y]]),j=X[0],S=X[1],R=rf(h,eo[w[++y%k]]),A=R[0],Y=R[1],(Math.abs(j-A)>cn||Math.abs(S-Y)>cn)&&(w.splice(y,0,eo.push(ou(g,X,Math.abs(j-i)<cn&&e-S>cn?[i,Math.abs(A-i)<cn?Y:e]:Math.abs(S-e)<cn&&o-j>cn?[Math.abs(Y-e)<cn?A:o,e]:Math.abs(j-o)<cn&&S-s>cn?[o,Math.abs(A-o)<cn?Y:s]:Math.abs(S-s)<cn&&j-i>cn?[Math.abs(Y-s)<cn?A:i,s]:null))-1),++k);k&&(O=!1)}if(O){var N,F,Z,ee=1/0;for(l=0,O=null;l<r;++l)(h=Fo[l])&&(g=h.site,N=g[0]-i,F=g[1]-s,Z=N*N+F*F,Z<ee&&(ee=Z,O=h));if(O){var re=[i,s],se=[i,e],B=[o,e],_e=[o,s];O.halfedges.push(eo.push(ou(g=O.site,re,se))-1,eo.push(ou(g,se,B))-1,eo.push(ou(g,B,_e))-1,eo.push(ou(g,_e,re))-1)}}for(l=0;l<r;++l)(h=Fo[l])&&(h.halfedges.length||delete Fo[l])}var G0=[],op;function jb(){nu(this),this.x=this.y=this.arc=this.site=this.cy=null}function bl(i){var s=i.P,o=i.N;if(!(!s||!o)){var e=s.site,r=i.site,l=o.site;if(e!==l){var h=r[0],g=r[1],y=e[0]-h,w=e[1]-g,k=l[0]-h,R=l[1]-g,A=2*(y*R-w*k);if(!(A>=-U0)){var Y=y*y+w*w,X=k*k+R*R,j=(R*Y-w*X)/A,S=(y*X-k*Y)/A,O=G0.pop()||new jb;O.arc=i,O.site=r,O.x=j+h,O.y=(O.cy=S+g)+Math.sqrt(j*j+S*S),i.circle=O;for(var N=null,F=su._;F;)if(O.y<F.y||O.y===F.y&&O.x<=F.x)if(F.L)F=F.L;else{N=F.P;break}else if(F.R)F=F.R;else{N=F;break}su.insert(N,O),N||(op=O)}}}}function wl(i){var s=i.circle;s&&(s.P||(op=s.N),su.remove(s),G0.push(s),nu(s),i.circle=null)}var Z0=[];function Wb(){nu(this),this.edge=this.site=this.circle=null}function K0(i){var s=Z0.pop()||new Wb;return s.site=i,s}function of(i){wl(i),Cl.remove(i),Z0.push(i),nu(i)}function Y0(i){var s=i.circle,o=s.x,e=s.cy,r=[o,e],l=i.P,h=i.N,g=[i];of(i);for(var y=l;y.circle&&Math.abs(o-y.circle.x)<cn&&Math.abs(e-y.circle.cy)<cn;)l=y.P,g.unshift(y),of(y),y=l;g.unshift(y),wl(y);for(var w=h;w.circle&&Math.abs(o-w.circle.x)<cn&&Math.abs(e-w.circle.cy)<cn;)h=w.N,g.push(w),of(w),w=h;g.push(w),wl(w);var k=g.length,R;for(R=1;R<k;++R)w=g[R],y=g[R-1],Uu(w.edge,y.site,w.site,r);y=g[0],w=g[k-1],w.edge=ru(y.site,w.site,null,r),bl(y),bl(w)}function j0(i){for(var s=i[0],o=i[1],e,r,l,h,g=Cl._;g;)if(l=W0(g,o)-s,l>cn)g=g.L;else if(h=s-Xb(g,o),h>cn){if(!g.R){e=g;break}g=g.R}else{l>-cn?(e=g.P,r=g):h>-cn?(e=g,r=g.N):e=r=g;break}z0(i);var y=K0(i);if(Cl.insert(e,y),!(!e&&!r)){if(e===r){wl(e),r=K0(e.site),Cl.insert(y,r),y.edge=r.edge=ru(e.site,y.site),bl(e),bl(r);return}if(!r){y.edge=ru(e.site,y.site);return}wl(e),wl(r);var w=e.site,k=w[0],R=w[1],A=i[0]-k,Y=i[1]-R,X=r.site,j=X[0]-k,S=X[1]-R,O=2*(A*S-Y*j),N=A*A+Y*Y,F=j*j+S*S,Z=[(S*N-Y*F)/O+k,(A*F-j*N)/O+R];Uu(r.edge,w,X,Z),y.edge=ru(w,i,null,Z),r.edge=ru(i,X,null,Z),bl(e),bl(r)}}function W0(i,s){var o=i.site,e=o[0],r=o[1],l=r-s;if(!l)return e;var h=i.P;if(!h)return-1/0;o=h.site;var g=o[0],y=o[1],w=y-s;if(!w)return g;var k=g-e,R=1/l-1/w,A=k/w;return R?(-A+Math.sqrt(A*A-2*R*(k*k/(-2*w)-y+w/2+r-l/2)))/R+e:(e+g)/2}function Xb(i,s){var o=i.N;if(o)return W0(o,s);var e=i.site;return e[1]===s?e[0]:1/0}var cn=1e-6,U0=1e-12,Cl,Fo,su,eo;function $b(i,s,o){return(i[0]-o[0])*(s[1]-i[1])-(i[0]-s[0])*(o[1]-i[1])}function Qb(i,s){return s[1]-i[1]||s[0]-i[0]}function sp(i,s){var o=i.sort(Qb).pop(),e,r,l;for(eo=[],Fo=new Array(i.length),Cl=new nf,su=new nf;;)if(l=op,o&&(!l||o[1]<l.y||o[1]===l.y&&o[0]<l.x))(o[0]!==e||o[1]!==r)&&(j0(o),e=o[0],r=o[1]),o=i.pop();else if(l)Y0(l.arc);else break;if(H0(),s){var h=+s[0][0],g=+s[0][1],y=+s[1][0],w=+s[1][1];B0(h,g,y,w),q0(h,g,y,w)}this.edges=eo,this.cells=Fo,Cl=su=eo=Fo=null}sp.prototype={constructor:sp,polygons:function(){var i=this.edges;return this.cells.map(function(s){var o=s.halfedges.map(function(e){return rf(s,i[e])});return o.data=s.site.data,o})},triangles:function(){var i=[],s=this.edges;return this.cells.forEach(function(o,e){if(g=(l=o.halfedges).length)for(var r=o.site,l,h=-1,g,y,w=s[l[g-1]],k=w.left===r?w.right:w.left;++h<g;)y=k,w=s[l[h]],k=w.left===r?w.right:w.left,y&&k&&e<y.index&&e<k.index&&$b(r,y,k)<0&&i.push([r.data,y.data,k.data])}),i},links:function(){return this.edges.filter(function(i){return i.right}).map(function(i){return{source:i.left.data,target:i.right.data}})},find:function(i,s,o){for(var e=this,r,l=e._found||0,h=e.cells.length,g;!(g=e.cells[l]);)if(++l>=h)return null;var y=i-g.site[0],w=s-g.site[1],k=y*y+w*w;do g=e.cells[r=l],l=null,g.halfedges.forEach(function(R){var A=e.edges[R],Y=A.left;if(!((Y===g.site||!Y)&&!(Y=A.right))){var X=i-Y[0],j=s-Y[1],S=X*X+j*j;S<k&&(k=S,l=Y.index)}});while(l!==null);return e._found=r,o==null||k<=o*o?g.site:null}};var sw=rr(au(),1);var xf=rr(J0(),1);function Wo(){return new up}function up(){this.reset()}up.prototype={constructor:up,reset:function(){this.s=this.t=0},add:function(i){e_(lp,i,this.t),e_(this,lp.s,this.s),this.s?this.t+=lp.t:this.s=lp.t},valueOf:function(){return this.s}};var lp=new up;function e_(i,s,o){var e=i.s=s+o,r=e-s,l=e-r;i.t=s-l+(o-r)}var qi=1e-6;var Xi=Math.PI,Nr=Xi/2,cp=Xi/4,ca=Xi*2,Il=180/Xi,Xo=Xi/180,sr=Math.abs,Zs=Math.atan,$o=Math.atan2,Di=Math.cos;var pp=Math.exp;var Ku=Math.log;var Yt=Math.sin;var lo=Math.sqrt,Zu=Math.tan;function lf(i){return i>1?0:i<-1?Xi:Math.acos(i)}function No(i){return i>1?Nr:i<-1?-Nr:Math.asin(i)}function Ys(){}var aw=Wo(),j7=Wo();function Sl(i){var s=i[0],o=i[1],e=Di(o);return[e*Di(s),e*Yt(s),Yt(o)]}function Yu(i,s){return[i[1]*s[2]-i[2]*s[1],i[2]*s[0]-i[0]*s[2],i[0]*s[1]-i[1]*s[0]]}function ju(i){var s=lo(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);i[0]/=s,i[1]/=s,i[2]/=s}var r9=Wo();function i_(i,s){return[i>Xi?i-ca:i<-Xi?i+ca:i,s]}i_.invert=i_;function uf(){var i=[],s;return{point:function(o,e){s.push([o,e])},lineStart:function(){i.push(s=[])},lineEnd:Ys,rejoin:function(){i.length>1&&i.push(i.pop().concat(i.shift()))},result:function(){var o=i;return i=[],s=null,o}}}function cf(i,s){return sr(i[0]-s[0])<qi&&sr(i[1]-s[1])<qi}function hp(i,s,o,e){this.x=i,this.z=s,this.o=o,this.e=e,this.v=!1,this.n=this.p=null}function pf(i,s,o,e,r){var l=[],h=[],g,y;if(i.forEach(function(X){if(!((j=X.length-1)<=0)){var j,S=X[0],O=X[j],N;if(cf(S,O)){for(r.lineStart(),g=0;g<j;++g)r.point((S=X[g])[0],S[1]);r.lineEnd();return}l.push(N=new hp(S,X,null,!0)),h.push(N.o=new hp(S,null,N,!1)),l.push(N=new hp(O,X,null,!1)),h.push(N.o=new hp(O,null,N,!0))}}),!!l.length){for(h.sort(s),n_(l),n_(h),g=0,y=h.length;g<y;++g)h[g].e=o=!o;for(var w=l[0],k,R;;){for(var A=w,Y=!0;A.v;)if((A=A.n)===w)return;k=A.z,r.lineStart();do{if(A.v=A.o.v=!0,A.e){if(Y)for(g=0,y=k.length;g<y;++g)r.point((R=k[g])[0],R[1]);else e(A.x,A.n.x,1,r);A=A.n}else{if(Y)for(k=A.p.z,g=k.length-1;g>=0;--g)r.point((R=k[g])[0],R[1]);else e(A.x,A.p.x,-1,r);A=A.p}A=A.o,k=A.z,Y=!Y}while(!A.v);r.lineEnd()}}}function n_(i){if(s=i.length){for(var s,o=0,e=i[0],r;++o<s;)e.n=r=i[o],r.p=e,e=r;e.n=r=i[0],r.p=e}}function Xa(i,s){return i<s?-1:i>s?1:i>=s?0:NaN}function hf(i){return i.length===1&&(i=cw(i)),{left:function(s,o,e,r){for(e==null&&(e=0),r==null&&(r=s.length);e<r;){var l=e+r>>>1;i(s[l],o)<0?e=l+1:r=l}return e},right:function(s,o,e,r){for(e==null&&(e=0),r==null&&(r=s.length);e<r;){var l=e+r>>>1;i(s[l],o)>0?r=l:e=l+1}return e}}}function cw(i){return function(s,o){return Xa(i(s),o)}}var r_=hf(Xa),pw=r_.right,hw=r_.left;var o_=Array.prototype,dw=o_.slice,mw=o_.map;var X9=Math.sqrt(50),$9=Math.sqrt(10),Q9=Math.sqrt(2);function dp(i){for(var s=i.length,o,e=-1,r=0,l,h;++e<s;)r+=i[e].length;for(l=new Array(r);--s>=0;)for(h=i[s],o=h.length;--o>=0;)l[--r]=h[o];return l}var Cw=1e9,FV=-Cw;var ff=Wo();function df(i,s){var o=s[0],e=s[1],r=[Yt(o),-Di(o),0],l=0,h=0;ff.reset();for(var g=0,y=i.length;g<y;++g)if(k=(w=i[g]).length)for(var w,k,R=w[k-1],A=R[0],Y=R[1]/2+cp,X=Yt(Y),j=Di(Y),S=0;S<k;++S,A=N,X=Z,j=ee,R=O){var O=w[S],N=O[0],F=O[1]/2+cp,Z=Yt(F),ee=Di(F),re=N-A,se=re>=0?1:-1,B=se*re,_e=B>Xi,Te=X*Z;if(ff.add($o(Te*se*Yt(B),j*ee+Te*Di(B))),l+=_e?re+se*ca:re,_e^A>=o^N>=o){var Pe=Yu(Sl(R),Sl(O));ju(Pe);var W=Yu(r,Pe);ju(W);var zt=(_e^re>=0?-1:1)*No(W[2]);(e>zt||e===zt&&(Pe[0]||Pe[1]))&&(h+=_e^re>=0?1:-1)}}return(l<-qi||l<qi&&ff<-qi)^h&1}var KV=Wo();var cB=Wo(),pB=Wo();var Tw=1/0;var dB=-Tw;function mf(i){this._context=i}mf.prototype={_radius:4.5,pointRadius:function(i){return this._radius=i,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(i,s){switch(this._point){case 0:{this._context.moveTo(i,s),this._point=1;break}case 1:{this._context.lineTo(i,s);break}default:{this._context.moveTo(i+this._radius,s),this._context.arc(i,s,this._radius,0,ca);break}}},result:Ys};var IB=Wo();function gf(){this._string=[]}gf.prototype={_radius:4.5,_circle:l_(4.5),pointRadius:function(i){return(i=+i)!==this._radius&&(this._radius=i,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(i,s){switch(this._point){case 0:{this._string.push("M",i,",",s),this._point=1;break}case 1:{this._string.push("L",i,",",s);break}default:{this._circle==null&&(this._circle=l_(this._radius)),this._string.push("M",i,",",s,this._circle);break}}},result:function(){if(this._string.length){var i=this._string.join("");return this._string=[],i}else return null}};function l_(i){return"m0,"+i+"a"+i+","+i+" 0 1,1 0,"+-2*i+"a"+i+","+i+" 0 1,1 0,"+2*i+"z"}function _f(i,s,o,e){return function(r,l){var h=s(l),g=r.invert(e[0],e[1]),y=uf(),w=s(y),k=!1,R,A,Y,X={point:j,lineStart:O,lineEnd:N,polygonStart:function(){X.point=F,X.lineStart=Z,X.lineEnd=ee,A=[],R=[]},polygonEnd:function(){X.point=j,X.lineStart=O,X.lineEnd=N,A=dp(A);var re=df(R,g);A.length?(k||(l.polygonStart(),k=!0),pf(A,Ow,re,o,l)):re&&(k||(l.polygonStart(),k=!0),l.lineStart(),o(null,null,1,l),l.lineEnd()),k&&(l.polygonEnd(),k=!1),A=R=null},sphere:function(){l.polygonStart(),l.lineStart(),o(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function j(re,se){var B=r(re,se);i(re=B[0],se=B[1])&&l.point(re,se)}function S(re,se){var B=r(re,se);h.point(B[0],B[1])}function O(){X.point=S,h.lineStart()}function N(){X.point=j,h.lineEnd()}function F(re,se){Y.push([re,se]);var B=r(re,se);w.point(B[0],B[1])}function Z(){w.lineStart(),Y=[]}function ee(){F(Y[0][0],Y[0][1]),w.lineEnd();var re=w.clean(),se=y.result(),B,_e=se.length,Te,Pe,W;if(Y.pop(),R.push(Y),Y=null,!!_e){if(re&1){if(Pe=se[0],(Te=Pe.length-1)>0){for(k||(l.polygonStart(),k=!0),l.lineStart(),B=0;B<Te;++B)l.point((W=Pe[B])[0],W[1]);l.lineEnd()}return}_e>1&&re&2&&se.push(se.pop().concat(se.shift())),A.push(se.filter(Mw))}}return X}}function Mw(i){return i.length>1}function Ow(i,s){return((i=i.x)[0]<0?i[1]-Nr-qi:Nr-i[1])-((s=s.x)[0]<0?s[1]-Nr-qi:Nr-s[1])}var Lw=_f(function(){return!0},Pw,Dw,[-Xi,-Nr]);function Pw(i){var s=NaN,o=NaN,e=NaN,r;return{lineStart:function(){i.lineStart(),r=1},point:function(l,h){var g=l>0?Xi:-Xi,y=sr(l-s);sr(y-Xi)<qi?(i.point(s,o=(o+h)/2>0?Nr:-Nr),i.point(e,o),i.lineEnd(),i.lineStart(),i.point(g,o),i.point(l,o),r=0):e!==g&&y>=Xi&&(sr(s-e)<qi&&(s-=e*qi),sr(l-g)<qi&&(l-=g*qi),o=kw(s,o,l,h),i.point(e,o),i.lineEnd(),i.lineStart(),i.point(g,o),r=0),i.point(s=l,o=h),e=g},lineEnd:function(){i.lineEnd(),s=o=NaN},clean:function(){return 2-r}}}function kw(i,s,o,e){var r,l,h=Yt(i-o);return sr(h)>qi?Zs((Yt(s)*(l=Di(e))*Yt(o)-Yt(e)*(r=Di(s))*Yt(i))/(r*l*h)):(s+e)/2}function Dw(i,s,o,e){var r;if(i==null)r=o*Nr,e.point(-Xi,r),e.point(0,r),e.point(Xi,r),e.point(Xi,0),e.point(Xi,-r),e.point(0,-r),e.point(-Xi,-r),e.point(-Xi,0),e.point(-Xi,r);else if(sr(i[0]-s[0])>qi){var l=i[0]<s[0]?Xi:-Xi;r=o*l/2,e.point(-l,r),e.point(0,r),e.point(l,r)}else e.point(s[0],s[1])}function mp(i){return function(s){var o=new yf;for(var e in i)o[e]=i[e];return o.stream=s,o}}function yf(){}yf.prototype={constructor:yf,point:function(i,s){this.stream.point(i,s)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var pz=Di(30*Xo);var Sz=mp({point:function(i,s){this.stream.point(i*Xo,s*Xo)}});function gp(i){return function(s,o){var e=Di(s),r=Di(o),l=i(e*r);return[l*r*Yt(s),l*Yt(o)]}}function pa(i){return function(s,o){var e=lo(s*s+o*o),r=i(e),l=Yt(r),h=Di(r);return[$o(s*l,e*h),No(e&&o*l/e)]}}var m_=gp(function(i){return lo(2/(1+i))});m_.invert=pa(function(i){return 2*No(i/2)});var g_=gp(function(i){return(i=lf(i))&&i/Yt(i)});g_.invert=pa(function(i){return i});function vf(i,s){return[i,Ku(Zu((Nr+s)/2))]}vf.invert=function(i,s){return[i,2*Zs(pp(s))-Nr]};function _p(i,s){return[i,s]}_p.invert=_p;function __(i,s){var o=Di(s),e=Di(i)*o;return[o*Yt(i)/e,Yt(s)/e]}__.invert=pa(Zs);function y_(i,s){var o=s*s,e=o*o;return[i*(.8707-.131979*o+e*(-.013791+e*(.003971*o-.001529*e))),s*(1.007226+o*(.015085+e*(-.044475+.028874*o-.005916*e)))]}y_.invert=function(i,s){var o=s,e=25,r;do{var l=o*o,h=l*l;o-=r=(o*(1.007226+l*(.015085+h*(-.044475+.028874*l-.005916*h)))-s)/(1.007226+l*(.015085*3+h*(-.044475*7+.028874*9*l-.005916*11*h)))}while(sr(r)>qi&&--e>0);return[i/(.8707+(l=o*o)*(-.131979+l*(-.013791+l*l*l*(.003971-.001529*l)))),o]};function v_(i,s){return[Di(s)*Yt(i),Yt(s)]}v_.invert=pa(No);function x_(i,s){var o=Di(s),e=1+Di(i)*o;return[o*Yt(i)/e,Yt(s)/e]}x_.invert=pa(function(i){return 2*Zs(i)});function b_(i,s){return[Ku(Zu((Nr+s)/2)),-i]}b_.invert=function(i,s){return[-s,2*Zs(pp(i))-Nr]};var Bw=rr(au(),1);var zw=rr(au(),1);var qw=rr(au(),1);var Gw=rr(au(),1);var Jw=["overlay"],eC=["content"],tC=["*"],iC=(i,s,o,e,r,l,h,g,y,w,k,R,A,Y)=>({"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":i,"p-overlay-center":s,"p-overlay-top":o,"p-overlay-top-start":e,"p-overlay-top-end":r,"p-overlay-bottom":l,"p-overlay-bottom-start":h,"p-overlay-bottom-end":g,"p-overlay-left":y,"p-overlay-left-start":w,"p-overlay-left-end":k,"p-overlay-right":R,"p-overlay-right-start":A,"p-overlay-right-end":Y}),nC=(i,s,o)=>({showTransitionParams:i,hideTransitionParams:s,transform:o}),rC=i=>({value:"visible",params:i}),oC=i=>({mode:i}),sC=i=>({$implicit:i});function aC(i,s){i&1&&it(0)}function lC(i,s){if(i&1){let o=We();G(0,"div",3,1),Oe("click",function(r){te(o);let l=T(2);return ie(l.onOverlayContentClick(r))})("@overlayContentAnimation.start",function(r){te(o);let l=T(2);return ie(l.onOverlayContentAnimationStart(r))})("@overlayContentAnimation.done",function(r){te(o);let l=T(2);return ie(l.onOverlayContentAnimationDone(r))}),Do(2),U(3,aC,1,0,"ng-container",4),K()}if(i&2){let o=T(2);Re(o.contentStyleClass),I("ngStyle",o.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",nt(11,rC,Vn(7,nC,o.showTransitionOptions,o.hideTransitionOptions,o.transformOptions[o.modal?o.overlayResponsiveDirection:"default"]))),E(3),I("ngTemplateOutlet",o.contentTemplate)("ngTemplateOutletContext",nt(15,sC,nt(13,oC,o.overlayMode)))}}function uC(i,s){if(i&1){let o=We();G(0,"div",3,0),Oe("click",function(){te(o);let r=T();return ie(r.onOverlayClick())}),U(2,lC,4,17,"div",2),K()}if(i&2){let o=T();Re(o.styleClass),I("ngStyle",o.style)("ngClass",Ep(5,iC,[o.modal,o.modal&&o.overlayResponsiveDirection==="center",o.modal&&o.overlayResponsiveDirection==="top",o.modal&&o.overlayResponsiveDirection==="top-start",o.modal&&o.overlayResponsiveDirection==="top-end",o.modal&&o.overlayResponsiveDirection==="bottom",o.modal&&o.overlayResponsiveDirection==="bottom-start",o.modal&&o.overlayResponsiveDirection==="bottom-end",o.modal&&o.overlayResponsiveDirection==="left",o.modal&&o.overlayResponsiveDirection==="left-start",o.modal&&o.overlayResponsiveDirection==="left-end",o.modal&&o.overlayResponsiveDirection==="right",o.modal&&o.overlayResponsiveDirection==="right-start",o.modal&&o.overlayResponsiveDirection==="right-end"])),E(2),I("ngIf",o.visible)}}var cC={provide:Er,useExisting:Ir(()=>Tl),multi:!0},pC=Bl([ds({transform:"{{transform}}",opacity:0}),Us("{{showTransitionParams}}")]),hC=Bl([Us("{{hideTransitionParams}}",ds({transform:"{{transform}}",opacity:0}))]),Tl=(()=>{let s=class s{constructor(e,r,l,h,g,y,w,k){d(this,"document");d(this,"platformId");d(this,"el");d(this,"renderer");d(this,"config");d(this,"overlayService");d(this,"cd");d(this,"zone");d(this,"visibleChange",new qe);d(this,"onBeforeShow",new qe);d(this,"onShow",new qe);d(this,"onBeforeHide",new qe);d(this,"onHide",new qe);d(this,"onAnimationStart",new qe);d(this,"onAnimationDone",new qe);d(this,"templates");d(this,"overlayViewChild");d(this,"contentViewChild");d(this,"contentTemplate");d(this,"_visible",!1);d(this,"_mode");d(this,"_style");d(this,"_styleClass");d(this,"_contentStyle");d(this,"_contentStyleClass");d(this,"_target");d(this,"_appendTo");d(this,"_autoZIndex");d(this,"_baseZIndex");d(this,"_showTransitionOptions");d(this,"_hideTransitionOptions");d(this,"_listener");d(this,"_responsive");d(this,"_options");d(this,"modalVisible",!1);d(this,"isOverlayClicked",!1);d(this,"isOverlayContentClicked",!1);d(this,"scrollHandler");d(this,"documentClickListener");d(this,"documentResizeListener");d(this,"documentKeyboardListener");d(this,"window");d(this,"transformOptions",{default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"});this.document=e,this.platformId=r,this.el=l,this.renderer=h,this.config=g,this.overlayService=y,this.cd=w,this.zone=k,this.window=this.document.defaultView}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(e){this._mode=e}get style(){return Ve.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(e){this._style=e}get styleClass(){return Ve.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(e){this._styleClass=e}get contentStyle(){return Ve.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(e){this._contentStyle=e}get contentStyleClass(){return Ve.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(e){this._contentStyleClass=e}get target(){let e=this._target||this.overlayOptions?.target;return e===void 0?"@prev":e}set target(e){this._target=e}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(e){this._appendTo=e}get autoZIndex(){let e=this._autoZIndex||this.overlayOptions?.autoZIndex;return e===void 0?!0:e}set autoZIndex(e){this._autoZIndex=e}get baseZIndex(){let e=this._baseZIndex||this.overlayOptions?.baseZIndex;return e===void 0?0:e}set baseZIndex(e){this._baseZIndex=e}get showTransitionOptions(){let e=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return e===void 0?".12s cubic-bezier(0, 0, 0.2, 1)":e}set showTransitionOptions(e){this._showTransitionOptions=e}get hideTransitionOptions(){let e=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return e===void 0?".1s linear":e}set hideTransitionOptions(e){this._hideTransitionOptions=e}get listener(){return this._listener||this.overlayOptions?.listener}set listener(e){this._listener=e}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(e){this._responsive=e}get options(){return this._options}set options(e){this._options=e}get modal(){if(za(this.platformId))return this.mode==="modal"||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return Cr(Cr({},this.config?.overlayOptions),this.options)}get overlayResponsiveOptions(){return Cr(Cr({},this.overlayOptions?.responsive),this.responsive)}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return ge.getTargetElement(this.target,this.el?.nativeElement)}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}show(e,r=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),r&&ge.focus(this.targetEl),this.modal&&ge.addClass(this.document?.body,"p-overflow-hidden")}hide(e,r=!1){if(this.visible)this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),r&&ge.focus(this.targetEl),this.modal&&ge.removeClass(this.document?.body,"p-overflow-hidden");else return}alignOverlay(){!this.modal&&ge.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(e){this._visible=e,this.visibleChange.emit(e)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(e){this.overlayService.add({originalEvent:e,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(e){switch(e.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&Ta.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),ge.appendOverlay(this.overlayEl,this.appendTo==="body"?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&ge.addClass(this.overlayEl,"p-component-overlay-leave");break}this.handleEvents("onAnimationStart",e)}onOverlayContentAnimationDone(e){let r=this.overlayEl||e.element.parentElement;switch(e.toState){case"visible":this.visible&&this.show(r,!0),this.bindListeners();break;case"void":if(!this.visible){this.hide(r,!0),this.modalVisible=!1,this.unbindListeners(),ge.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Ta.clear(r),this.cd.markForCheck();break}}this.handleEvents("onAnimationDone",e)}handleEvents(e,r){this[e].emit(r),this.options&&this.options[e]&&this.options[e](r),this.config?.overlayOptions&&(this.config?.overlayOptions)[e]&&(this.config?.overlayOptions)[e](r)}bindListeners(){this.unbindListeners(),this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new dc(this.targetEl,e=>{(this.listener?this.listener(e,{type:"scroll",mode:this.overlayMode,valid:!0}):!0)&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",e=>{let l=!(this.targetEl&&(this.targetEl.isSameNode(e.target)||!this.isOverlayClicked&&this.targetEl.contains(e.target)))&&!this.isOverlayContentClicked;(this.listener?this.listener(e,{type:"outside",mode:this.overlayMode,valid:e.which!==3&&l}):l)&&this.hide(e),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",e=>{(this.listener?this.listener(e,{type:"resize",mode:this.overlayMode,valid:!ge.isTouchDevice()}):!ge.isTouchDevice())&&this.hide(e,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",e=>{if(this.overlayOptions.hideOnEscape===!1||e.code!=="Escape")return;(this.listener?this.listener(e,{type:"keydown",mode:this.overlayMode,valid:!ge.isTouchDevice()}):!ge.isTouchDevice())&&this.zone.run(()=>{this.hide(e,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(ge.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Ta.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}};d(s,"\u0275fac",function(r){return new(r||s)(Ge(fs),Ge(lc),Ge(Sr),Ge(yo),Ge(so),Ge(Ha),Ge(Wi),Ge(ps))}),d(s,"\u0275cmp",je({type:s,selectors:[["p-overlay"]],contentQueries:function(r,l,h){if(r&1&&Gi(h,Pi,4),r&2){let g;Je(g=et())&&(l.templates=g)}},viewQuery:function(r,l){if(r&1&&(Ct(Jw,5),Ct(eC,5)),r&2){let h;Je(h=et())&&(l.overlayViewChild=h.first),Je(h=et())&&(l.contentViewChild=h.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[jn([cC])],ngContentSelectors:tC,decls:1,vars:1,consts:[["overlay",""],["content",""],[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"click","ngStyle","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,l){r&1&&(hs(),U(0,uC,3,20,"div",2)),r&2&&I("ngIf",l.modalVisible)},dependencies:[vn,ln,bn,xn],styles:[`@layer primeng{.p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}}
`],encapsulation:2,data:{animation:[xu("overlayContentAnimation",[Ea(":enter",[mc(pC)]),Ea(":leave",[mc(hC)])])]},changeDetection:0}));let i=s;return i})(),Pa=(()=>{let s=class s{};d(s,"\u0275fac",function(r){return new(r||s)}),d(s,"\u0275mod",Bt({type:s})),d(s,"\u0275inj",Vt({imports:[kt,wt,wt]}));let i=s;return i})();var fC=["element"],dC=["content"],mC=["*"],gC=(i,s,o)=>({"p-scroller":!0,"p-scroller-inline":i,"p-both-scroll":s,"p-horizontal-scroll":o}),wf=(i,s)=>({$implicit:i,options:s}),_C=i=>({"p-scroller-loading":i}),yC=i=>({"p-component-overlay":i}),vC=i=>({numCols:i}),C_=i=>({options:i}),xC=()=>({styleClass:"p-scroller-loading-icon"}),bC=(i,s)=>({rows:i,columns:s});function wC(i,s){i&1&&it(0)}function CC(i,s){if(i&1&&(Fe(0),U(1,wC,1,0,"ng-container",10),Ne()),i&2){let o=T(2);E(),I("ngTemplateOutlet",o.contentTemplate)("ngTemplateOutletContext",Hi(2,wf,o.loadedItems,o.getContentOptions()))}}function IC(i,s){i&1&&it(0)}function SC(i,s){if(i&1&&(Fe(0),U(1,IC,1,0,"ng-container",10),Ne()),i&2){let o=s.$implicit,e=s.index,r=T(3);E(),I("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",Hi(2,wf,o,r.getOptions(e)))}}function TC(i,s){if(i&1&&(G(0,"div",11,3),U(2,SC,2,5,"ng-container",12),K()),i&2){let o=T(2);I("ngClass",nt(5,_C,o.d_loading))("ngStyle",o.contentStyle),ne("data-pc-section","content"),E(2),I("ngForOf",o.loadedItems)("ngForTrackBy",o._trackBy||o.index)}}function EC(i,s){if(i&1&&xe(0,"div",13),i&2){let o=T(2);I("ngStyle",o.spacerStyle),ne("data-pc-section","spacer")}}function MC(i,s){i&1&&it(0)}function OC(i,s){if(i&1&&(Fe(0),U(1,MC,1,0,"ng-container",10),Ne()),i&2){let o=s.index,e=T(4);E(),I("ngTemplateOutlet",e.loaderTemplate)("ngTemplateOutletContext",nt(4,C_,e.getLoaderOptions(o,e.both&&nt(2,vC,e._numItemsInViewport.cols))))}}function LC(i,s){if(i&1&&(Fe(0),U(1,OC,2,6,"ng-container",15),Ne()),i&2){let o=T(3);E(),I("ngForOf",o.loaderArr)}}function PC(i,s){i&1&&it(0)}function kC(i,s){if(i&1&&(Fe(0),U(1,PC,1,0,"ng-container",10),Ne()),i&2){let o=T(4);E(),I("ngTemplateOutlet",o.loaderIconTemplate)("ngTemplateOutletContext",nt(3,C_,Yo(2,xC)))}}function DC(i,s){i&1&&xe(0,"SpinnerIcon",16),i&2&&(I("styleClass","p-scroller-loading-icon pi-spin"),ne("data-pc-section","loadingIcon"))}function RC(i,s){if(i&1&&U(0,kC,2,5,"ng-container",6)(1,DC,1,2,"ng-template",null,5,Tr),i&2){let o=Zi(2),e=T(3);I("ngIf",e.loaderIconTemplate)("ngIfElse",o)}}function FC(i,s){if(i&1&&(G(0,"div",14),U(1,LC,2,1,"ng-container",6)(2,RC,3,2,"ng-template",null,4,Tr),K()),i&2){let o=Zi(3),e=T(2);I("ngClass",nt(4,yC,!e.loaderTemplate)),ne("data-pc-section","loader"),E(),I("ngIf",e.loaderTemplate)("ngIfElse",o)}}function NC(i,s){if(i&1){let o=We();Fe(0),G(1,"div",7,1),Oe("scroll",function(r){te(o);let l=T();return ie(l.onContainerScroll(r))}),U(3,CC,2,5,"ng-container",6)(4,TC,3,7,"ng-template",null,2,Tr)(6,EC,1,2,"div",8)(7,FC,4,6,"div",9),K(),Ne()}if(i&2){let o=Zi(5),e=T();E(),Re(e._styleClass),I("ngStyle",e._style)("ngClass",Vn(12,gC,e.inline,e.both,e.horizontal)),ne("id",e._id)("tabindex",e.tabindex)("data-pc-name","scroller")("data-pc-section","root"),E(2),I("ngIf",e.contentTemplate)("ngIfElse",o),E(3),I("ngIf",e._showSpacer),E(),I("ngIf",!e.loaderDisabled&&e._showLoader&&e.d_loading)}}function AC(i,s){i&1&&it(0)}function VC(i,s){if(i&1&&(Fe(0),U(1,AC,1,0,"ng-container",10),Ne()),i&2){let o=T(2);E(),I("ngTemplateOutlet",o.contentTemplate)("ngTemplateOutletContext",Hi(5,wf,o.items,Hi(2,bC,o._items,o.loadedColumns)))}}function BC(i,s){if(i&1&&(Do(0),U(1,VC,2,8,"ng-container",17)),i&2){let o=T();E(),I("ngIf",o.contentTemplate)}}var uu=(()=>{let s=class s{constructor(e,r,l,h,g){d(this,"document");d(this,"platformId");d(this,"renderer");d(this,"cd");d(this,"zone");d(this,"onLazyLoad",new qe);d(this,"onScroll",new qe);d(this,"onScrollIndexChange",new qe);d(this,"elementViewChild");d(this,"contentViewChild");d(this,"templates");d(this,"_id");d(this,"_style");d(this,"_styleClass");d(this,"_tabindex",0);d(this,"_items");d(this,"_itemSize",0);d(this,"_scrollHeight");d(this,"_scrollWidth");d(this,"_orientation","vertical");d(this,"_step",0);d(this,"_delay",0);d(this,"_resizeDelay",10);d(this,"_appendOnly",!1);d(this,"_inline",!1);d(this,"_lazy",!1);d(this,"_disabled",!1);d(this,"_loaderDisabled",!1);d(this,"_columns");d(this,"_showSpacer",!0);d(this,"_showLoader",!1);d(this,"_numToleratedItems");d(this,"_loading");d(this,"_autoSize",!1);d(this,"_trackBy");d(this,"_options");d(this,"d_loading",!1);d(this,"d_numToleratedItems");d(this,"contentEl");d(this,"contentTemplate");d(this,"itemTemplate");d(this,"loaderTemplate");d(this,"loaderIconTemplate");d(this,"first",0);d(this,"last",0);d(this,"page",0);d(this,"isRangeChanged",!1);d(this,"numItemsInViewport",0);d(this,"lastScrollPos",0);d(this,"lazyLoadState",{});d(this,"loaderArr",[]);d(this,"spacerStyle",{});d(this,"contentStyle",{});d(this,"scrollTimeout");d(this,"resizeTimeout");d(this,"initialized",!1);d(this,"windowResizeListener");d(this,"defaultWidth");d(this,"defaultHeight");d(this,"defaultContentWidth");d(this,"defaultContentHeight");this.document=e,this.platformId=r,this.renderer=l,this.cd=h,this.zone=g}get id(){return this._id}set id(e){this._id=e}get style(){return this._style}set style(e){this._style=e}get styleClass(){return this._styleClass}set styleClass(e){this._styleClass=e}get tabindex(){return this._tabindex}set tabindex(e){this._tabindex=e}get items(){return this._items}set items(e){this._items=e}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e}get scrollWidth(){return this._scrollWidth}set scrollWidth(e){this._scrollWidth=e}get orientation(){return this._orientation}set orientation(e){this._orientation=e}get step(){return this._step}set step(e){this._step=e}get delay(){return this._delay}set delay(e){this._delay=e}get resizeDelay(){return this._resizeDelay}set resizeDelay(e){this._resizeDelay=e}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=e}get inline(){return this._inline}set inline(e){this._inline=e}get lazy(){return this._lazy}set lazy(e){this._lazy=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(e){this._loaderDisabled=e}get columns(){return this._columns}set columns(e){this._columns=e}get showSpacer(){return this._showSpacer}set showSpacer(e){this._showSpacer=e}get showLoader(){return this._showLoader}set showLoader(e){this._showLoader=e}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(e){this._numToleratedItems=e}get loading(){return this._loading}set loading(e){this._loading=e}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e}get trackBy(){return this._trackBy}set trackBy(e){this._trackBy=e}get options(){return this._options}set options(e){this._options=e,e&&typeof e=="object"&&Object.entries(e).forEach(([r,l])=>this[`_${r}`]!==l&&(this[`_${r}`]=l))}get vertical(){return this._orientation==="vertical"}get horizontal(){return this._orientation==="horizontal"}get both(){return this._orientation==="both"}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(e=>this._columns?e:e.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}ngOnInit(){this.setInitialState()}ngOnChanges(e){let r=!1;if(e.loading){let{previousValue:l,currentValue:h}=e.loading;this.lazy&&l!==h&&h!==this.d_loading&&(this.d_loading=h,r=!0)}if(e.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),e.numToleratedItems){let{previousValue:l,currentValue:h}=e.numToleratedItems;l!==h&&h!==this.d_numToleratedItems&&(this.d_numToleratedItems=h)}if(e.options){let{previousValue:l,currentValue:h}=e.options;this.lazy&&l?.loading!==h?.loading&&h?.loading!==this.d_loading&&(this.d_loading=h.loading,r=!0),l?.numToleratedItems!==h?.numToleratedItems&&h?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=h.numToleratedItems)}this.initialized&&!r&&(e.items?.previousValue?.length!==e.items?.currentValue?.length||e.itemSize||e.scrollHeight||e.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"item":this.itemTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"loadericon":this.loaderIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}ngAfterViewInit(){Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){za(this.platformId)&&!this.initialized&&ge.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.calculateAutoSize(),this.defaultWidth=ge.getWidth(this.elementViewChild?.nativeElement),this.defaultHeight=ge.getHeight(this.elementViewChild?.nativeElement),this.defaultContentWidth=ge.getWidth(this.contentEl),this.defaultContentHeight=ge.getHeight(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(e){this.contentEl=e||this.contentViewChild?.nativeElement||ge.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this._step||1))}isPageChanged(e){return this._step?this.page!==this.getPageByFirst(e??this.first):!0}scrollTo(e){this.elementViewChild?.nativeElement?.scrollTo(e)}scrollToIndex(e,r="auto"){if(this.both?e.every(h=>h>-1):e>-1){let h=this.first,{scrollTop:g=0,scrollLeft:y=0}=this.elementViewChild?.nativeElement,{numToleratedItems:w}=this.calculateNumItems(),k=this.getContentPosition(),R=this.itemSize,A=(N=0,F)=>N<=F?0:N,Y=(N,F,Z)=>N*F+Z,X=(N=0,F=0)=>this.scrollTo({left:N,top:F,behavior:r}),j=this.both?{rows:0,cols:0}:0,S=!1,O=!1;this.both?(j={rows:A(e[0],w[0]),cols:A(e[1],w[1])},X(Y(j.cols,R[1],k.left),Y(j.rows,R[0],k.top)),O=this.lastScrollPos.top!==g||this.lastScrollPos.left!==y,S=j.rows!==h.rows||j.cols!==h.cols):(j=A(e,w),this.horizontal?X(Y(j,R,k.left),g):X(y,Y(j,R,k.top)),O=this.lastScrollPos!==(this.horizontal?y:g),S=j!==h),this.isRangeChanged=S,O&&(this.first=j)}}scrollInView(e,r,l="auto"){if(r){let{first:h,viewport:g}=this.getRenderedRange(),y=(R=0,A=0)=>this.scrollTo({left:R,top:A,behavior:l}),w=r==="to-start",k=r==="to-end";if(w){if(this.both)g.first.rows-h.rows>e[0]?y(g.first.cols*this._itemSize[1],(g.first.rows-1)*this._itemSize[0]):g.first.cols-h.cols>e[1]&&y((g.first.cols-1)*this._itemSize[1],g.first.rows*this._itemSize[0]);else if(g.first-h>e){let R=(g.first-1)*this._itemSize;this.horizontal?y(R,0):y(0,R)}}else if(k){if(this.both)g.last.rows-h.rows<=e[0]+1?y(g.first.cols*this._itemSize[1],(g.first.rows+1)*this._itemSize[0]):g.last.cols-h.cols<=e[1]+1&&y((g.first.cols+1)*this._itemSize[1],g.first.rows*this._itemSize[0]);else if(g.last-h<=e+1){let R=(g.first+1)*this._itemSize;this.horizontal?y(R,0):y(0,R)}}}else this.scrollToIndex(e,l)}getRenderedRange(){let e=(h,g)=>g||h?Math.floor(h/(g||h)):0,r=this.first,l=0;if(this.elementViewChild?.nativeElement){let{scrollTop:h,scrollLeft:g}=this.elementViewChild.nativeElement;if(this.both)r={rows:e(h,this._itemSize[0]),cols:e(g,this._itemSize[1])},l={rows:r.rows+this.numItemsInViewport.rows,cols:r.cols+this.numItemsInViewport.cols};else{let y=this.horizontal?g:h;r=e(y,this._itemSize),l=r+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:r,last:l}}}calculateNumItems(){let e=this.getContentPosition(),r=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-e.left:0)||0,l=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-e.top:0)||0,h=(k,R)=>R||k?Math.ceil(k/(R||k)):0,g=k=>Math.ceil(k/2),y=this.both?{rows:h(l,this._itemSize[0]),cols:h(r,this._itemSize[1])}:h(this.horizontal?r:l,this._itemSize),w=this.d_numToleratedItems||(this.both?[g(y.rows),g(y.cols)]:g(y));return{numItemsInViewport:y,numToleratedItems:w}}calculateOptions(){let{numItemsInViewport:e,numToleratedItems:r}=this.calculateNumItems(),l=(y,w,k,R=!1)=>this.getLast(y+w+(y<k?2:3)*k,R),h=this.first,g=this.both?{rows:l(this.first.rows,e.rows,r[0]),cols:l(this.first.cols,e.cols,r[1],!0)}:l(this.first,e,r);this.last=g,this.numItemsInViewport=e,this.d_numToleratedItems=r,this.showLoader&&(this.loaderArr=this.both?Array.from({length:e.rows}).map(()=>Array.from({length:e.cols})):Array.from({length:e})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:h.cols}:0:h,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";let[e,r]=[ge.getWidth(this.contentEl),ge.getHeight(this.contentEl)];e!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),r!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");let[l,h]=[ge.getWidth(this.elementViewChild.nativeElement),ge.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=l<this.defaultWidth?l+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=h<this.defaultHeight?h+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(e=0,r=!1){return this._items?Math.min(r?(this._columns||this._items[0]).length:this._items.length,e):0}getContentPosition(){if(this.contentEl){let e=getComputedStyle(this.contentEl),r=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),l=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),h=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),g=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:r,right:l,top:h,bottom:g,x:r+l,y:h+g}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){let e=this.elementViewChild.nativeElement.parentElement.parentElement,r=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||e.offsetWidth}px`,l=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||e.offsetHeight}px`,h=(g,y)=>this.elementViewChild.nativeElement.style[g]=y;this.both||this.horizontal?(h("height",l),h("width",r)):h("height",l)}}setSpacerSize(){if(this._scrollHeight!=="100%"&&this._items){let e=this.getContentPosition(),r=(l,h,g,y=0)=>this.spacerStyle=Es(Cr({},this.spacerStyle),{[`${l}`]:(h||[]).length*g+y+"px"});this.both?(r("height",this._items,this._itemSize[0],e.y),r("width",this._columns||this._items[1],this._itemSize[1],e.x)):this.horizontal?r("width",this._columns||this._items,this._itemSize,e.x):r("height",this._items,this._itemSize,e.y)}}setContentPosition(e){if(this.contentEl&&!this._appendOnly){let r=e?e.first:this.first,l=(g,y)=>g*y,h=(g=0,y=0)=>this.contentStyle=Es(Cr({},this.contentStyle),{transform:`translate3d(${g}px, ${y}px, 0)`});if(this.both)h(l(r.cols,this._itemSize[1]),l(r.rows,this._itemSize[0]));else{let g=l(r,this._itemSize);this.horizontal?h(g,0):h(0,g)}}}onScrollPositionChange(e){let r=e.target,l=this.getContentPosition(),h=(O,N)=>O?O>N?O-N:O:0,g=(O,N)=>N||O?Math.floor(O/(N||O)):0,y=(O,N,F,Z,ee,re)=>O<=ee?ee:re?F-Z-ee:N+ee-1,w=(O,N,F,Z,ee,re,se)=>O<=re?0:Math.max(0,se?O<N?F:O-re:O>N?F:O-2*re),k=(O,N,F,Z,ee,re=!1)=>{let se=N+Z+2*ee;return O>=ee&&(se+=ee+1),this.getLast(se,re)},R=h(r.scrollTop,l.top),A=h(r.scrollLeft,l.left),Y=this.both?{rows:0,cols:0}:0,X=this.last,j=!1,S=this.lastScrollPos;if(this.both){let O=this.lastScrollPos.top<=R,N=this.lastScrollPos.left<=A;if(!this._appendOnly||this._appendOnly&&(O||N)){let F={rows:g(R,this._itemSize[0]),cols:g(A,this._itemSize[1])},Z={rows:y(F.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],O),cols:y(F.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],N)};Y={rows:w(F.rows,Z.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],O),cols:w(F.cols,Z.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],N)},X={rows:k(F.rows,Y.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:k(F.cols,Y.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},j=Y.rows!==this.first.rows||X.rows!==this.last.rows||Y.cols!==this.first.cols||X.cols!==this.last.cols||this.isRangeChanged,S={top:R,left:A}}}else{let O=this.horizontal?A:R,N=this.lastScrollPos<=O;if(!this._appendOnly||this._appendOnly&&N){let F=g(O,this._itemSize),Z=y(F,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,N);Y=w(F,Z,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,N),X=k(F,Y,this.last,this.numItemsInViewport,this.d_numToleratedItems),j=Y!==this.first||X!==this.last||this.isRangeChanged,S=O}}return{first:Y,last:X,isRangeChanged:j,scrollPos:S}}onScrollChange(e){let{first:r,last:l,isRangeChanged:h,scrollPos:g}=this.onScrollPositionChange(e);if(h){let y={first:r,last:l};if(this.setContentPosition(y),this.first=r,this.last=l,this.lastScrollPos=g,this.handleEvents("onScrollIndexChange",y),this._lazy&&this.isPageChanged(r)){let w={first:this._step?Math.min(this.getPageByFirst(r)*this._step,this.items.length-this._step):r,last:Math.min(this._step?(this.getPageByFirst(r)+1)*this._step:l,this.items.length)};(this.lazyLoadState.first!==w.first||this.lazyLoadState.last!==w.last)&&this.handleEvents("onLazyLoad",w),this.lazyLoadState=w}}}onContainerScroll(e){if(this.handleEvents("onScroll",{originalEvent:e}),this._delay&&this.isPageChanged()){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){let{isRangeChanged:r}=this.onScrollPositionChange(e);(r||(this._step?this.isPageChanged():!1))&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&(!this._lazy||this._loading===void 0)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(e)}bindResizeListener(){za(this.platformId)&&(this.windowResizeListener||this.zone.runOutsideAngular(()=>{let e=this.document.defaultView,r=ge.isTouchDevice()?"orientationchange":"resize";this.windowResizeListener=this.renderer.listen(e,r,this.onWindowResize.bind(this))}))}unbindResizeListener(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(ge.isVisible(this.elementViewChild?.nativeElement)){let[e,r]=[ge.getWidth(this.elementViewChild?.nativeElement),ge.getHeight(this.elementViewChild?.nativeElement)],[l,h]=[e!==this.defaultWidth,r!==this.defaultHeight];(this.both?l||h:this.horizontal?l:this.vertical?h:!1)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=e,this.defaultHeight=r,this.defaultContentWidth=ge.getWidth(this.contentEl),this.defaultContentHeight=ge.getHeight(this.contentEl),this.init(),this.calculateAutoSize()})}},this._resizeDelay)}handleEvents(e,r){return this.options&&this.options[e]?this.options[e](r):this[e].emit(r)}getContentOptions(){return{contentStyleClass:`p-scroller-content ${this.d_loading?"p-scroller-loading":""}`,items:this.loadedItems,getItemOptions:e=>this.getOptions(e),loading:this.d_loading,getLoaderOptions:(e,r)=>this.getLoaderOptions(e,r),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(e){let r=(this._items||[]).length,l=this.both?this.first.rows+e:this.first+e;return{index:l,count:r,first:l===0,last:l===r-1,even:l%2===0,odd:l%2!==0}}getLoaderOptions(e,r){let l=this.loaderArr.length;return Cr({index:e,count:l,first:e===0,last:e===l-1,even:e%2===0,odd:e%2!==0},r)}};d(s,"\u0275fac",function(r){return new(r||s)(Ge(fs),Ge(lc),Ge(yo),Ge(Wi),Ge(ps))}),d(s,"\u0275cmp",je({type:s,selectors:[["p-scroller"]],contentQueries:function(r,l,h){if(r&1&&Gi(h,Pi,4),r&2){let g;Je(g=et())&&(l.templates=g)}},viewQuery:function(r,l){if(r&1&&(Ct(fC,5),Ct(dC,5)),r&2){let h;Je(h=et())&&(l.elementViewChild=h.first),Je(h=et())&&(l.contentViewChild=h.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[Al],ngContentSelectors:mC,decls:3,vars:2,consts:[["disabledContainer",""],["element",""],["buildInContent",""],["content",""],["buildInLoader",""],["buildInLoaderIcon",""],[4,"ngIf","ngIfElse"],[3,"scroll","ngStyle","ngClass"],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"styleClass"],[4,"ngIf"]],template:function(r,l){if(r&1&&(hs(),U(0,NC,8,16,"ng-container",6)(1,BC,2,1,"ng-template",null,0,Tr)),r&2){let h=Zi(2);I("ngIf",!l._disabled)("ngIfElse",h)}},dependencies:()=>[vn,jo,ln,bn,xn,qa],styles:[`@layer primeng{p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{scale:2}.p-scroller-inline .p-scroller-content{position:static}}
`],encapsulation:2}));let i=s;return i})(),Ls=(()=>{let s=class s{};d(s,"\u0275fac",function(r){return new(r||s)}),d(s,"\u0275mod",Bt({type:s})),d(s,"\u0275inj",Vt({imports:[kt,wt,qa,wt]}));let i=s;return i})();var cu=(()=>{let s=class s extends Dt{constructor(){super(...arguments);d(this,"pathId")}ngOnInit(){this.pathId="url(#"+un()+")"}};d(s,"\u0275fac",(()=>{let r;return function(h){return(r||(r=Mt(s)))(h||s)}})()),d(s,"\u0275cmp",je({type:s,selectors:[["SearchIcon"]],standalone:!0,features:[Ot,Pt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(l,h){l&1&&(dt(),G(0,"svg",0)(1,"g"),xe(2,"path",1),K(),G(3,"defs")(4,"clipPath",2),xe(5,"rect",3),K()()()),l&2&&(Re(h.getClassNames()),ne("aria-label",h.ariaLabel)("aria-hidden",h.ariaHidden)("role",h.role),E(),ne("clip-path",h.pathId),E(3),I("id",h.pathId))},encapsulation:2}));let i=s;return i})();var Qo=(()=>{let s=class s extends Dt{};d(s,"\u0275fac",(()=>{let e;return function(l){return(e||(e=Mt(s)))(l||s)}})()),d(s,"\u0275cmp",je({type:s,selectors:[["ChevronDownIcon"]],standalone:!0,features:[Ot,Pt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(r,l){r&1&&(dt(),G(0,"svg",0),xe(1,"path",1),K()),r&2&&(Re(l.getClassNames()),ne("aria-label",l.ariaLabel)("aria-hidden",l.ariaHidden)("role",l.role))},encapsulation:2}));let i=s;return i})();var I_=(()=>{let s=class s extends Dt{};d(s,"\u0275fac",(()=>{let e;return function(l){return(e||(e=Mt(s)))(l||s)}})()),d(s,"\u0275cmp",je({type:s,selectors:[["MinusIcon"]],standalone:!0,features:[Ot,Pt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z","fill","currentColor"]],template:function(r,l){r&1&&(dt(),G(0,"svg",0),xe(1,"path",1),K()),r&2&&(Re(l.getClassNames()),ne("aria-label",l.ariaLabel)("aria-hidden",l.ariaHidden)("role",l.role))},dependencies:[kt],encapsulation:2}));let i=s;return i})();var Xu=i=>({height:i}),HC=(i,s)=>({"p-multiselect-item":!0,"p-disabled":i,"p-focus":s}),qC=i=>({"p-variant-filled":i}),GC=i=>({"p-highlight":i}),yp=i=>({$implicit:i});function UC(i,s){i&1&&xe(0,"CheckIcon",7),i&2&&(I("styleClass","p-checkbox-icon"),ne("aria-hidden",!0))}function KC(i,s){}function ZC(i,s){i&1&&U(0,KC,0,0,"ng-template")}function YC(i,s){if(i&1&&(G(0,"span",8),U(1,ZC,1,0,null,9),K()),i&2){let o=T(2);ne("aria-hidden",!0),E(),I("ngTemplateOutlet",o.checkIconTemplate)}}function jC(i,s){}function WC(i,s){i&1&&U(0,jC,0,0,"ng-template")}function XC(i,s){if(i&1&&(G(0,"span",8),U(1,WC,1,0,null,4),K()),i&2){let o=T(2);ne("aria-hidden",!0),E(),I("ngTemplateOutlet",o.itemCheckboxIconTemplate)("ngTemplateOutletContext",nt(3,yp,o.selected))}}function $C(i,s){if(i&1&&(Fe(0),U(1,UC,1,2,"CheckIcon",5)(2,YC,2,2,"span",6)(3,XC,2,5,"span",6),Ne()),i&2){let o=T();E(),I("ngIf",!o.checkIconTemplate&&!o.itemCheckboxIconTemplate),E(),I("ngIf",o.checkIconTemplate),E(),I("ngIf",o.itemCheckboxIconTemplate)}}function QC(i,s){if(i&1&&(G(0,"span"),Qe(1),K()),i&2){let o,e=T();E(),Lt((o=e.label)!==null&&o!==void 0?o:"empty")}}function JC(i,s){i&1&&it(0)}var e2=["container"],t2=["overlay"],i2=["filterInput"],n2=["focusInput"],r2=["items"],o2=["scroller"],s2=["lastHiddenFocusableEl"],a2=["firstHiddenFocusableEl"],l2=["headerCheckbox"],u2=[[["p-header"]],[["p-footer"]]],c2=["p-header","p-footer"],p2=(i,s)=>({$implicit:i,removeChip:s}),h2=i=>({"p-disabled":i}),f2=i=>({"max-height":i}),S_=i=>({options:i}),d2=(i,s)=>({"p-variant-filled":i,"p-checkbox-disabled":s}),m2=(i,s,o)=>({"p-highlight":i,"p-focus":s,"p-disabled":o}),g2=(i,s)=>({$implicit:i,partialSelected:s}),T_=(i,s)=>({$implicit:i,options:s}),_2=()=>({});function y2(i,s){if(i&1&&(Fe(0),Qe(1),Ne()),i&2){let o=T(2);E(),Lt(o.label()||"empty")}}function v2(i,s){if(i&1){let o=We();G(0,"TimesCircleIcon",31),Oe("click",function(){te(o);let r=T(2).$implicit,l=T(3);return ie(l.removeOption(r,l.event))}),K()}if(i&2){let o=T(2).$implicit,e=T(3);I("ngClass",nt(4,h2,e.isOptionDisabled(o)))("styleClass","p-multiselect-token-icon"),ne("data-pc-section","clearicon")("aria-hidden",!0)}}function x2(i,s){i&1&&it(0)}function b2(i,s){if(i&1){let o=We();G(0,"span",32),Oe("click",function(){te(o);let r=T(2).$implicit,l=T(3);return ie(l.removeOption(r,l.event))}),U(1,x2,1,0,"ng-container",33),K()}if(i&2){let o=T(5);ne("data-pc-section","clearicon")("aria-hidden",!0),E(),I("ngTemplateOutlet",o.removeTokenIconTemplate)}}function w2(i,s){if(i&1&&(Fe(0),U(1,v2,1,6,"TimesCircleIcon",29)(2,b2,2,3,"span",30),Ne()),i&2){let o=T(4);E(),I("ngIf",!o.removeTokenIconTemplate),E(),I("ngIf",o.removeTokenIconTemplate)}}function C2(i,s){if(i&1&&(G(0,"div",27,4)(2,"span",28),Qe(3),K(),U(4,w2,3,2,"ng-container",20),K()),i&2){let o=s.$implicit,e=T(3);E(3),Lt(e.getLabelByValue(o)),E(),I("ngIf",!e.disabled)}}function I2(i,s){if(i&1&&(Fe(0),Qe(1),Ne()),i&2){let o=T(3);E(),Lt(o.placeholder()||o.defaultLabel||"empty")}}function S2(i,s){if(i&1&&(Fe(0),U(1,C2,5,2,"div",26)(2,I2,2,1,"ng-container",20),Ne()),i&2){let o=T(2);E(),I("ngForOf",o.chipSelectedItems()),E(),I("ngIf",!o.modelValue()||o.modelValue().length===0)}}function T2(i,s){if(i&1&&(Fe(0),U(1,y2,2,1,"ng-container",20)(2,S2,3,2,"ng-container",20),Ne()),i&2){let o=T();E(),I("ngIf",o.display==="comma"),E(),I("ngIf",o.display==="chip")}}function E2(i,s){i&1&&it(0)}function M2(i,s){if(i&1){let o=We();G(0,"TimesIcon",36),Oe("click",function(r){te(o);let l=T(2);return ie(l.clear(r))}),K()}i&2&&(I("styleClass","p-multiselect-clear-icon"),ne("data-pc-section","clearicon")("aria-hidden",!0))}function O2(i,s){}function L2(i,s){i&1&&U(0,O2,0,0,"ng-template")}function P2(i,s){if(i&1){let o=We();G(0,"span",37),Oe("click",function(r){te(o);let l=T(2);return ie(l.clear(r))}),U(1,L2,1,0,null,33),K()}if(i&2){let o=T(2);ne("data-pc-section","clearicon")("aria-hidden",!0),E(),I("ngTemplateOutlet",o.clearIconTemplate)}}function k2(i,s){if(i&1&&(Fe(0),U(1,M2,1,3,"TimesIcon",34)(2,P2,2,3,"span",35),Ne()),i&2){let o=T();E(),I("ngIf",!o.clearIconTemplate),E(),I("ngIf",o.clearIconTemplate)}}function D2(i,s){i&1&&it(0)}function R2(i,s){if(i&1&&(Fe(0),U(1,D2,1,0,"ng-container",33),Ne()),i&2){let o=T(2);E(),I("ngTemplateOutlet",o.loadingIconTemplate)}}function F2(i,s){if(i&1&&xe(0,"span",40),i&2){let o=T(3);I("ngClass","p-multiselect-trigger-icon pi-spin "+o.loadingIcon)}}function N2(i,s){i&1&&xe(0,"span",41),i&2&&Re("p-multiselect-trigger-icon pi pi-spinner pi-spin")}function A2(i,s){if(i&1&&(Fe(0),U(1,F2,1,1,"span",38)(2,N2,1,2,"span",39),Ne()),i&2){let o=T(2);E(),I("ngIf",o.loadingIcon),E(),I("ngIf",!o.loadingIcon)}}function V2(i,s){if(i&1&&(Fe(0),U(1,R2,2,1,"ng-container",20)(2,A2,3,2,"ng-container",20),Ne()),i&2){let o=T();E(),I("ngIf",o.loadingIconTemplate),E(),I("ngIf",!o.loadingIconTemplate)}}function B2(i,s){if(i&1&&xe(0,"span",45),i&2){let o=T(3);I("ngClass",o.dropdownIcon),ne("data-pc-section","triggericon")("aria-hidden",!0)}}function z2(i,s){i&1&&xe(0,"ChevronDownIcon",46),i&2&&(I("styleClass","p-multiselect-trigger-icon"),ne("data-pc-section","triggericon")("aria-hidden",!0))}function H2(i,s){if(i&1&&(Fe(0),U(1,B2,1,3,"span",43)(2,z2,1,3,"ChevronDownIcon",44),Ne()),i&2){let o=T(2);E(),I("ngIf",o.dropdownIcon),E(),I("ngIf",!o.dropdownIcon)}}function q2(i,s){}function G2(i,s){i&1&&U(0,q2,0,0,"ng-template")}function U2(i,s){if(i&1&&(G(0,"span",47),U(1,G2,1,0,null,33),K()),i&2){let o=T(2);ne("data-pc-section","triggericon")("aria-hidden",!0),E(),I("ngTemplateOutlet",o.dropdownIconTemplate)}}function K2(i,s){if(i&1&&U(0,H2,3,2,"ng-container",20)(1,U2,2,3,"span",42),i&2){let o=T();I("ngIf",!o.dropdownIconTemplate),E(),I("ngIf",o.dropdownIconTemplate)}}function Z2(i,s){i&1&&it(0)}function Y2(i,s){i&1&&it(0)}function j2(i,s){if(i&1&&(Fe(0),U(1,Y2,1,0,"ng-container",21),Ne()),i&2){let o=T(3);E(),I("ngTemplateOutlet",o.filterTemplate)("ngTemplateOutletContext",nt(2,S_,o.filterOptions))}}function W2(i,s){i&1&&xe(0,"CheckIcon",46),i&2&&(I("styleClass","p-checkbox-icon"),ne("aria-hidden",!0))}function X2(i,s){if(i&1&&(Fe(0),U(1,W2,1,2,"CheckIcon",44),Ne()),i&2){let o=T(6);E(),I("ngIf",o.allSelected())}}function $2(i,s){}function Q2(i,s){i&1&&U(0,$2,0,0,"ng-template")}function J2(i,s){if(i&1&&(G(0,"span",63),U(1,Q2,1,0,null,21),K()),i&2){let o=T(6);ne("aria-hidden",!0),E(),I("ngTemplateOutlet",o.checkIconTemplate)("ngTemplateOutletContext",nt(3,yp,o.allSelected()))}}function eI(i,s){}function tI(i,s){i&1&&U(0,eI,0,0,"ng-template")}function iI(i,s){if(i&1&&(G(0,"span",63),U(1,tI,1,0,null,21),K()),i&2){let o=T(6);ne("aria-hidden",!0),E(),I("ngTemplateOutlet",o.headerCheckboxIconTemplate)("ngTemplateOutletContext",Hi(3,g2,o.allSelected(),o.partialSelected()))}}function nI(i,s){if(i&1&&(Fe(0),U(1,X2,2,1,"ng-container",20)(2,J2,2,5,"span",62)(3,iI,2,6,"span",62),Ne()),i&2){let o=T(5);E(),I("ngIf",!o.checkIconTemplate&&!o.headerCheckboxIconTemplate),E(),I("ngIf",o.checkIconTemplate),E(),I("ngIf",o.headerCheckboxIconTemplate)}}function rI(i,s){if(i&1){let o=We();G(0,"div",59),Oe("click",function(r){te(o);let l=T(4);return ie(l.onToggleAll(r))})("keydown",function(r){te(o);let l=T(4);return ie(l.onHeaderCheckboxKeyDown(r))}),G(1,"div",16)(2,"input",60,9),Oe("focus",function(){te(o);let r=T(4);return ie(r.onHeaderCheckboxFocus())})("blur",function(){te(o);let r=T(4);return ie(r.onHeaderCheckboxBlur())}),K()(),G(4,"div",61),U(5,nI,4,3,"ng-container",20),K()()}if(i&2){let o=T(4);I("ngClass",Hi(10,d2,o.variant==="filled"||o.config.inputStyle()==="filled",o.disabled||o.toggleAllDisabled)),E(),ne("data-p-hidden-accessible",!0),E(),I("readonly",o.readonly)("disabled",o.disabled||o.toggleAllDisabled),ne("checked",o.allSelected())("aria-label",o.toggleAllAriaLabel),E(2),I("ngClass",Vn(13,m2,o.allSelected(),o.headerCheckboxFocus,o.disabled||o.toggleAllDisabled)),ne("aria-label",o.toggleAllAriaLabel)("aria-checked",o.allSelected()),E(),I("ngIf",o.allSelected()||o.partialSelected())}}function oI(i,s){i&1&&xe(0,"SearchIcon",46),i&2&&I("styleClass","p-multiselect-filter-icon")}function sI(i,s){}function aI(i,s){i&1&&U(0,sI,0,0,"ng-template")}function lI(i,s){if(i&1&&(G(0,"span",67),U(1,aI,1,0,null,33),K()),i&2){let o=T(5);E(),I("ngTemplateOutlet",o.filterIconTemplate)}}function uI(i,s){if(i&1){let o=We();G(0,"div",64)(1,"input",65,10),Oe("input",function(r){te(o);let l=T(4);return ie(l.onFilterInputChange(r))})("keydown",function(r){te(o);let l=T(4);return ie(l.onFilterKeyDown(r))})("click",function(r){te(o);let l=T(4);return ie(l.onInputClick(r))})("blur",function(r){te(o);let l=T(4);return ie(l.onFilterBlur(r))}),K(),U(3,oI,1,1,"SearchIcon",44)(4,lI,2,1,"span",66),K()}if(i&2){let o=T(4);E(),I("value",o._filterValue()||"")("disabled",o.disabled),ne("autocomplete",o.autocomplete)("placeholder",o.filterPlaceHolder)("aria-owns",o.id+"_list")("aria-activedescendant",o.focusedOptionId)("placeholder",o.filterPlaceHolder)("aria-label",o.ariaFilterLabel),E(2),I("ngIf",!o.filterIconTemplate),E(),I("ngIf",o.filterIconTemplate)}}function cI(i,s){i&1&&xe(0,"TimesIcon",46),i&2&&I("styleClass","p-multiselect-close-icon")}function pI(i,s){}function hI(i,s){i&1&&U(0,pI,0,0,"ng-template")}function fI(i,s){if(i&1&&(G(0,"span",68),U(1,hI,1,0,null,33),K()),i&2){let o=T(4);E(),I("ngTemplateOutlet",o.closeIconTemplate)}}function dI(i,s){if(i&1){let o=We();U(0,rI,6,17,"div",55)(1,uI,5,10,"div",56),G(2,"button",57),Oe("click",function(r){te(o);let l=T(3);return ie(l.close(r))}),U(3,cI,1,1,"TimesIcon",44)(4,fI,2,1,"span",58),K()}if(i&2){let o=T(3);I("ngIf",o.isSelectionAllDisabled()),E(),I("ngIf",o.filter),E(),ne("aria-label",o.closeAriaLabel),E(),I("ngIf",!o.closeIconTemplate),E(),I("ngIf",o.closeIconTemplate)}}function mI(i,s){if(i&1&&(G(0,"div",54),Do(1),U(2,Z2,1,0,"ng-container",33)(3,j2,2,4,"ng-container",23)(4,dI,5,5,"ng-template",null,8,Tr),K()),i&2){let o=Zi(5),e=T(2);E(2),I("ngTemplateOutlet",e.headerTemplate),E(),I("ngIf",e.filterTemplate)("ngIfElse",o)}}function gI(i,s){i&1&&it(0)}function _I(i,s){if(i&1&&U(0,gI,1,0,"ng-container",21),i&2){let o=s.$implicit,e=s.options;T(2);let r=Zi(8);I("ngTemplateOutlet",r)("ngTemplateOutletContext",Hi(2,T_,o,e))}}function yI(i,s){i&1&&it(0)}function vI(i,s){if(i&1&&U(0,yI,1,0,"ng-container",21),i&2){let o=s.options,e=T(4);I("ngTemplateOutlet",e.loaderTemplate)("ngTemplateOutletContext",nt(2,S_,o))}}function xI(i,s){i&1&&(Fe(0),U(1,vI,1,4,"ng-template",70),Ne())}function bI(i,s){if(i&1){let o=We();G(0,"p-scroller",69,11),Oe("onLazyLoad",function(r){te(o);let l=T(2);return ie(l.onLazyLoad.emit(r))}),U(2,_I,1,5,"ng-template",25)(3,xI,2,0,"ng-container",20),K()}if(i&2){let o=T(2);Ba(nt(9,Xu,o.scrollHeight)),I("items",o.visibleOptions())("itemSize",o.virtualScrollItemSize||o._itemSize)("autoSize",!0)("tabindex",-1)("lazy",o.lazy)("options",o.virtualScrollOptions),E(3),I("ngIf",o.loaderTemplate)}}function wI(i,s){i&1&&it(0)}function CI(i,s){if(i&1&&(Fe(0),U(1,wI,1,0,"ng-container",21),Ne()),i&2){T();let o=Zi(8),e=T();E(),I("ngTemplateOutlet",o)("ngTemplateOutletContext",Hi(3,T_,e.visibleOptions(),Yo(2,_2)))}}function II(i,s){if(i&1&&(G(0,"span"),Qe(1),K()),i&2){let o=T(2).$implicit,e=T(3);E(),Lt(e.getOptionGroupLabel(o.optionGroup))}}function SI(i,s){i&1&&it(0)}function TI(i,s){if(i&1&&(Fe(0),G(1,"li",74),U(2,II,2,1,"span",20)(3,SI,1,0,"ng-container",21),K(),Ne()),i&2){let o=T(),e=o.$implicit,r=o.index,l=T().options,h=T(2);E(),I("ngStyle",nt(5,Xu,l.itemSize+"px")),ne("id",h.id+"_"+h.getOptionIndex(r,l)),E(),I("ngIf",!h.groupTemplate),E(),I("ngTemplateOutlet",h.groupTemplate)("ngTemplateOutletContext",nt(7,yp,e.optionGroup))}}function EI(i,s){if(i&1){let o=We();Fe(0),G(1,"p-multiSelectItem",75),Oe("onClick",function(r){te(o);let l=T().index,h=T().options,g=T(2);return ie(g.onOptionSelect(r,!1,g.getOptionIndex(l,h)))})("onMouseEnter",function(r){te(o);let l=T().index,h=T().options,g=T(2);return ie(g.onOptionMouseEnter(r,g.getOptionIndex(l,h)))}),K(),Ne()}if(i&2){let o=T(),e=o.$implicit,r=o.index,l=T().options,h=T(2);E(),I("id",h.id+"_"+h.getOptionIndex(r,l))("option",e)("selected",h.isSelected(e))("label",h.getOptionLabel(e))("disabled",h.isOptionDisabled(e))("template",h.itemTemplate)("checkIconTemplate",h.checkIconTemplate)("itemCheckboxIconTemplate",h.itemCheckboxIconTemplate)("itemSize",l.itemSize)("focused",h.focusedOptionIndex()===h.getOptionIndex(r,l))("ariaPosInset",h.getAriaPosInset(h.getOptionIndex(r,l)))("ariaSetSize",h.ariaSetSize)}}function MI(i,s){if(i&1&&U(0,TI,4,9,"ng-container",20)(1,EI,2,12,"ng-container",20),i&2){let o=s.$implicit,e=T(3);I("ngIf",e.isOptionGroup(o)),E(),I("ngIf",!e.isOptionGroup(o))}}function OI(i,s){if(i&1&&(Fe(0),Qe(1),Ne()),i&2){let o=T(4);E(),kn(" ",o.emptyFilterMessageLabel," ")}}function LI(i,s){i&1&&it(0,null,13)}function PI(i,s){if(i&1&&(G(0,"li",76),U(1,OI,2,1,"ng-container",23)(2,LI,2,0,"ng-container",33),K()),i&2){let o=T().options,e=T(2);I("ngStyle",nt(4,Xu,o.itemSize+"px")),E(),I("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),E(),I("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function kI(i,s){if(i&1&&(Fe(0),Qe(1),Ne()),i&2){let o=T(4);E(),kn(" ",o.emptyMessageLabel," ")}}function DI(i,s){i&1&&it(0,null,14)}function RI(i,s){if(i&1&&(G(0,"li",76),U(1,kI,2,1,"ng-container",23)(2,DI,2,0,"ng-container",33),K()),i&2){let o=T().options,e=T(2);I("ngStyle",nt(4,Xu,o.itemSize+"px")),E(),I("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),E(),I("ngTemplateOutlet",e.emptyTemplate)}}function FI(i,s){if(i&1&&(G(0,"ul",71,12),U(2,MI,2,2,"ng-template",72)(3,PI,3,6,"li",73)(4,RI,3,6,"li",73),K()),i&2){let o=s.$implicit,e=s.options,r=T(2);I("ngClass",e.contentStyleClass)("ngStyle",e.contentStyle),ne("aria-label",r.listLabel),E(2),I("ngForOf",o),E(),I("ngIf",r.hasFilter()&&r.isEmpty()),E(),I("ngIf",!r.hasFilter()&&r.isEmpty())}}function NI(i,s){i&1&&it(0)}function AI(i,s){if(i&1&&(G(0,"div",77),Do(1,1),U(2,NI,1,0,"ng-container",33),K()),i&2){let o=T(2);E(2),I("ngTemplateOutlet",o.footerTemplate)}}function VI(i,s){if(i&1){let o=We();G(0,"div",48)(1,"span",49,5),Oe("focus",function(r){te(o);let l=T();return ie(l.onFirstHiddenFocus(r))}),K(),U(3,mI,6,3,"div",50),G(4,"div",51),U(5,bI,4,11,"p-scroller",52)(6,CI,2,6,"ng-container",20)(7,FI,5,6,"ng-template",null,6,Tr),K(),U(9,AI,3,1,"div",53),G(10,"span",49,7),Oe("focus",function(r){te(o);let l=T();return ie(l.onLastHiddenFocus(r))}),K()()}if(i&2){let o=T();Re(o.panelStyleClass),I("ngClass","p-multiselect-panel p-component")("ngStyle",o.panelStyle),ne("id",o.id+"_list"),E(),ne("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),E(2),I("ngIf",o.showHeader),E(),I("ngStyle",nt(16,f2,o.virtualScroll?"auto":o.scrollHeight||"auto")),E(),I("ngIf",o.virtualScroll),E(),I("ngIf",!o.virtualScroll),E(3),I("ngIf",o.footerFacet||o.footerTemplate),E(),ne("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var BI={provide:Er,useExisting:Ir(()=>If),multi:!0},zI=(()=>{let s=class s{constructor(e){d(this,"config");d(this,"id");d(this,"option");d(this,"selected");d(this,"label");d(this,"disabled");d(this,"itemSize");d(this,"focused");d(this,"ariaPosInset");d(this,"ariaSetSize");d(this,"template");d(this,"checkIconTemplate");d(this,"itemCheckboxIconTemplate");d(this,"onClick",new qe);d(this,"onMouseEnter",new qe);this.config=e}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option,selected:this.selected}),e.stopPropagation()}onOptionMouseEnter(e){this.onMouseEnter.emit({originalEvent:e,option:this.option,selected:this.selected})}};d(s,"\u0275fac",function(r){return new(r||s)(Ge(so))}),d(s,"\u0275cmp",je({type:s,selectors:[["p-multiSelectItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:[2,"selected","selected",we],label:"label",disabled:[2,"disabled","disabled",we],itemSize:[2,"itemSize","itemSize",Et],focused:[2,"focused","focused",we],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkIconTemplate:"checkIconTemplate",itemCheckboxIconTemplate:"itemCheckboxIconTemplate"},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[mn],decls:6,vars:28,consts:[["pRipple","","role","option",1,"p-multiselect-item",3,"click","mouseenter","ngStyle","ngClass","id"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"]],template:function(r,l){r&1&&(G(0,"li",0),Oe("click",function(g){return l.onOptionClick(g)})("mouseenter",function(g){return l.onOptionMouseEnter(g)}),G(1,"div",1)(2,"div",2),U(3,$C,4,3,"ng-container",3),K()(),U(4,QC,2,1,"span",3)(5,JC,1,0,"ng-container",4),K()),r&2&&(I("ngStyle",nt(17,Xu,l.itemSize+"px"))("ngClass",Hi(19,HC,l.disabled,l.focused))("id",l.id),ne("aria-label",l.label)("aria-setsize",l.ariaSetSize)("aria-posinset",l.ariaPosInset)("aria-selected",l.selected)("data-p-focused",l.focused)("data-p-highlight",l.selected)("data-p-disabled",l.disabled)("aria-checked",l.selected),E(),I("ngClass",nt(22,qC,l.config.inputStyle()==="filled")),E(),I("ngClass",nt(24,GC,l.selected)),E(),I("ngIf",l.selected),E(),I("ngIf",!l.template),E(),I("ngTemplateOutlet",l.template)("ngTemplateOutletContext",nt(26,yp,l.option)))},dependencies:()=>[vn,ln,bn,xn,ms,vo],encapsulation:2}));let i=s;return i})(),If=(()=>{let s=class s{constructor(e,r,l,h,g,y,w){d(this,"el");d(this,"renderer");d(this,"cd");d(this,"zone");d(this,"filterService");d(this,"config");d(this,"overlayService");d(this,"id");d(this,"ariaLabel");d(this,"style");d(this,"styleClass");d(this,"panelStyle");d(this,"panelStyleClass");d(this,"inputId");d(this,"disabled");d(this,"readonly");d(this,"group");d(this,"filter",!0);d(this,"filterPlaceHolder");d(this,"filterLocale");d(this,"overlayVisible");d(this,"tabindex",0);d(this,"variant","outlined");d(this,"appendTo");d(this,"dataKey");d(this,"name");d(this,"ariaLabelledBy");d(this,"selectionLimit");d(this,"selectedItemsLabel");d(this,"showToggleAll",!0);d(this,"emptyFilterMessage","");d(this,"emptyMessage","");d(this,"resetFilterOnHide",!1);d(this,"dropdownIcon");d(this,"optionLabel");d(this,"optionValue");d(this,"optionDisabled");d(this,"optionGroupLabel","label");d(this,"optionGroupChildren","items");d(this,"showHeader",!0);d(this,"filterBy");d(this,"scrollHeight","200px");d(this,"lazy",!1);d(this,"virtualScroll");d(this,"loading",!1);d(this,"virtualScrollItemSize");d(this,"loadingIcon");d(this,"virtualScrollOptions");d(this,"overlayOptions");d(this,"ariaFilterLabel");d(this,"filterMatchMode","contains");d(this,"tooltip","");d(this,"tooltipPosition","right");d(this,"tooltipPositionStyle","absolute");d(this,"tooltipStyleClass");d(this,"autofocusFilter",!0);d(this,"display","comma");d(this,"autocomplete","off");d(this,"showClear",!1);d(this,"autofocus");d(this,"focusOnHover",!1);d(this,"filterFields");d(this,"selectOnFocus",!1);d(this,"autoOptionFocus",!0);d(this,"onChange",new qe);d(this,"onFilter",new qe);d(this,"onFocus",new qe);d(this,"onBlur",new qe);d(this,"onClick",new qe);d(this,"onClear",new qe);d(this,"onPanelShow",new qe);d(this,"onPanelHide",new qe);d(this,"onLazyLoad",new qe);d(this,"onRemove",new qe);d(this,"onSelectAllChange",new qe);d(this,"containerViewChild");d(this,"overlayViewChild");d(this,"filterInputChild");d(this,"focusInputViewChild");d(this,"itemsViewChild");d(this,"scroller");d(this,"lastHiddenFocusableElementOnOverlay");d(this,"firstHiddenFocusableElementOnOverlay");d(this,"headerCheckboxViewChild");d(this,"footerFacet");d(this,"headerFacet");d(this,"templates");d(this,"searchValue");d(this,"searchTimeout");d(this,"_selectAll",null);d(this,"_autoZIndex");d(this,"_baseZIndex");d(this,"_showTransitionOptions");d(this,"_hideTransitionOptions");d(this,"_defaultLabel");d(this,"_placeholder",Pr(void 0));d(this,"_itemSize");d(this,"_selectionLimit");d(this,"_disableTooltip",!1);d(this,"value");d(this,"_filteredOptions");d(this,"onModelChange",()=>{});d(this,"onModelTouched",()=>{});d(this,"valuesAsString");d(this,"focus");d(this,"filtered");d(this,"itemTemplate");d(this,"groupTemplate");d(this,"loaderTemplate");d(this,"headerTemplate");d(this,"filterTemplate");d(this,"footerTemplate");d(this,"emptyFilterTemplate");d(this,"emptyTemplate");d(this,"selectedItemsTemplate");d(this,"checkIconTemplate");d(this,"loadingIconTemplate");d(this,"filterIconTemplate");d(this,"removeTokenIconTemplate");d(this,"closeIconTemplate");d(this,"clearIconTemplate");d(this,"dropdownIconTemplate");d(this,"itemCheckboxIconTemplate");d(this,"headerCheckboxIconTemplate");d(this,"headerCheckboxFocus");d(this,"filterOptions");d(this,"preventModelTouched");d(this,"preventDocumentDefault");d(this,"focused",!1);d(this,"itemsWrapper");d(this,"_displaySelectedLabel",!0);d(this,"_maxSelectedLabels",3);d(this,"modelValue",Pr(null));d(this,"_filterValue",Pr(null));d(this,"_options",Pr(null));d(this,"startRangeIndex",Pr(-1));d(this,"focusedOptionIndex",Pr(-1));d(this,"selectedOptions");d(this,"clickInProgress",!1);d(this,"visibleOptions",Ms(()=>{let e=this.getAllVisibleAndNonVisibleOptions(),r=Ve.isArray(e)&&Ve.isObject(e[0]);if(this._filterValue()){let l;if(r?l=this.filterService.filter(e,this.searchFields(),this._filterValue(),this.filterMatchMode,this.filterLocale):l=e.filter(h=>h.toString().toLocaleLowerCase().includes(this._filterValue().toLocaleLowerCase())),this.group){let h=this.options||[],g=[];return h.forEach(y=>{let k=this.getOptionGroupChildren(y).filter(R=>l.includes(R));k.length>0&&g.push(Es(Cr({},y),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...k]}))}),this.flatOptions(g)}return l}return e}));d(this,"label",Ms(()=>{let e,r=this.modelValue();if(r&&r.length&&this.displaySelectedLabel){if(Ve.isNotEmpty(this.maxSelectedLabels)&&r.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(let l=0;l<r.length;l++)l!==0&&(e+=", "),e+=this.getLabelByValue(r[l])}else e=this.placeholder()||this.defaultLabel||"";return e}));d(this,"chipSelectedItems",Ms(()=>Ve.isNotEmpty(this.maxSelectedLabels)&&this.modelValue()&&this.modelValue().length>this.maxSelectedLabels?this.modelValue().slice(0,this.maxSelectedLabels):this.modelValue()));this.el=e,this.renderer=r,this.cd=l,this.zone=h,this.filterService=g,this.config=y,this.overlayService=w,Vl(()=>{let k=this.modelValue(),R=this.visibleOptions();R&&Ve.isNotEmpty(R)&&(this.optionValue&&this.optionLabel&&k?this.selectedOptions=R.filter(A=>k.includes(A[this.optionLabel])||k.includes(A[this.optionValue])):this.selectedOptions=k,this.cd.markForCheck())})}set displaySelectedLabel(e){this._displaySelectedLabel=e}get displaySelectedLabel(){return this._displaySelectedLabel}set maxSelectedLabels(e){this._maxSelectedLabels=e}get maxSelectedLabels(){return this._maxSelectedLabels}get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}set defaultLabel(e){this._defaultLabel=e,console.warn("defaultLabel property is deprecated since 16.6.0, use placeholder instead")}get defaultLabel(){return this._defaultLabel}set placeholder(e){this._placeholder.set(e)}get placeholder(){return this._placeholder.asReadonly()}get options(){return this._options()}set options(e){Ve.deepEquals(this._options(),e)||this._options.set(e)}get filterValue(){return this._filterValue()}set filterValue(e){this._filterValue.set(e)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get selectAll(){return this._selectAll}set selectAll(e){this._selectAll=e}get containerClass(){return{"p-multiselect p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-multiselect-clearable":this.showClear&&!this.disabled,"p-multiselect-chip":this.display==="chip","p-focus":this.focused,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"}}get inputClass(){return{"p-multiselect-label p-inputtext":!0,"p-placeholder":(this.placeholder()||this.defaultLabel)&&(this.label()===this.placeholder()||this.label()===this.defaultLabel),"p-multiselect-label-empty":!this.selectedItemsTemplate&&(this.label()==="p-emptylabel"||this.label().length===0)}}get panelClass(){return{"p-multiselect-panel p-component":!0,"p-input-filled":this.config.inputStyle()==="filled","p-ripple-disabled":this.config.ripple===!1}}get labelClass(){return{"p-multiselect-label":!0,"p-placeholder":this.label()===this.placeholder()||this.label()===this.defaultLabel,"p-multiselect-label-empty":!this.placeholder()&&!this.defaultLabel&&(!this.modelValue()||this.modelValue().length===0)}}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Wn.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Wn.EMPTY_FILTER_MESSAGE)}get filled(){return typeof this.modelValue()=="string"?!!this.modelValue():Ve.isNotEmpty(this.modelValue())}get isVisibleClearIcon(){return this.modelValue()!=null&&this.modelValue()!==""&&Ve.isNotEmpty(this.modelValue())&&this.showClear&&!this.disabled&&this.filled}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}get listLabel(){return this.config.getTranslation(Wn.ARIA).listLabel}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}ngOnInit(){this.id=this.id||un(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}maxSelectionLimitReached(){return Ve.isNotEmpty(this.selectionLimit)&&this.modelValue()&&this.modelValue().length===this.selectionLimit}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"selectedItems":this.selectedItemsTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"checkicon":this.checkIconTemplate=e.template,console.warn("checkicon is deprecated and will removed in v18. Use itemcheckboxicon or headercheckboxicon templates instead.");break;case"headercheckboxicon":this.headerCheckboxIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;case"removetokenicon":this.removeTokenIconTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;case"itemcheckboxicon":this.itemCheckboxIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}ngAfterViewInit(){this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild?.alignOverlay()},1)}),this.filtered=!1)}flatOptions(e){return(e||[]).reduce((r,l,h)=>{r.push({optionGroup:l,group:!0,index:h});let g=this.getOptionGroupChildren(l);return g&&g.forEach(y=>r.push(y)),r},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()){this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex());let e=this.getOptionValue(this.visibleOptions()[this.focusedOptionIndex()]);this.onOptionSelect({originalEvent:null,option:[e]})}}updateModel(e,r){this.value=e,this.onModelChange(e),this.modelValue.set(e)}onInputClick(e){e.stopPropagation(),e.preventDefault(),this.focusedOptionIndex.set(-1)}onOptionSelect(e,r=!1,l=-1){let{originalEvent:h,option:g}=e;if(this.disabled||this.isOptionDisabled(g))return;let y=this.isSelected(g),w=null;y?(w=this.modelValue().filter(k=>!Ve.equals(k,this.getOptionValue(g),this.equalityKey())),this.onRemove.emit({newValue:this.value,removed:this.getOptionValue(g)})):w=[...this.modelValue()||[],this.getOptionValue(g)],this.updateModel(w,h),l!==-1&&this.focusedOptionIndex.set(l),r&&ge.focus(this.focusInputViewChild?.nativeElement),this.onChange.emit({originalEvent:Es(Cr({},e),{selected:!e.selected}),value:w,itemValue:g})}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}onOptionSelectRange(e,r=-1,l=-1){if(r===-1&&(r=this.findNearestSelectedOptionIndex(l,!0)),l===-1&&(l=this.findNearestSelectedOptionIndex(r)),r!==-1&&l!==-1){let h=Math.min(r,l),g=Math.max(r,l),y=this.visibleOptions().slice(h,g+1).filter(w=>this.isValidOption(w)).map(w=>this.getOptionValue(w));this.updateModel(y,e)}}searchFields(){return(this.filterBy||this.optionLabel||"label").split(",")}findNearestSelectedOptionIndex(e,r=!1){let l=-1;return this.hasSelectedOption()&&(r?(l=this.findPrevSelectedOptionIndex(e),l=l===-1?this.findNextSelectedOptionIndex(e):l):(l=this.findNextSelectedOptionIndex(e),l=l===-1?this.findPrevSelectedOptionIndex(e):l)),l>-1?l:e}findPrevSelectedOptionIndex(e){let r=this.hasSelectedOption()&&e>0?Ve.findLastIndex(this.visibleOptions().slice(0,e),l=>this.isValidSelectedOption(l)):-1;return r>-1?r:-1}findFirstFocusedOptionIndex(){let e=this.findFirstSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextSelectedOptionIndex(e){let r=this.hasSelectedOption()&&e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(l=>this.isValidSelectedOption(l)):-1;return r>-1?r+e+1:-1}equalityKey(){return this.optionValue?null:this.dataKey}hasSelectedOption(){return Ve.isNotEmpty(this.modelValue())}isSelectionAllDisabled(){return this.showToggleAll&&Ve.isEmpty(this.selectionLimit)}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isOptionGroup(e){return(this.group||this.optionGroupLabel)&&e.optionGroup&&e.group}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionDisabled(e){return this.maxSelectionLimitReached()&&!this.isSelected(e)?!0:this.optionDisabled?Ve.resolveFieldData(e,this.optionDisabled):e&&e.disabled!==void 0?e.disabled:!1}isSelected(e){let r=this.getOptionValue(e);return(this.modelValue()||[]).some(l=>Ve.equals(l,r,this.equalityKey()))}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}getOptionIndex(e,r){return this.virtualScrollerDisabled?e:r&&r.getItemOptions(e).index}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(r=>this.isOptionGroup(r)).length:e)+1}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}getLabelByValue(e){let l=(this.group?this.flatOptions(this._options()):this._options()||[]).find(h=>!this.isOptionGroup(h)&&Ve.equals(this.getOptionValue(h),e,this.equalityKey()));return l?this.getOptionLabel(l):null}getSelectedItemsLabel(){let e=/{(.*?)}/,r=this.selectedItemsLabel?this.selectedItemsLabel:this.config.getTranslation(Wn.SELECTION_MESSAGE);return e.test(r)?r.replace(r.match(e)[0],this.modelValue().length+""):r}getOptionLabel(e){return this.optionLabel?Ve.resolveFieldData(e,this.optionLabel):e&&e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?Ve.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}getOptionGroupLabel(e){return this.optionGroupLabel?Ve.resolveFieldData(e,this.optionGroupLabel):e&&e.label!=null?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?Ve.resolveFieldData(e,this.optionGroupChildren):e.items}onKeyDown(e){if(this.disabled){e.preventDefault();return}let r=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if(e.code==="KeyA"&&r){let l=this.visibleOptions().filter(h=>this.isValidOption(h)).map(h=>this.getOptionValue(h));this.updateModel(l,e),e.preventDefault();break}!r&&Ve.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e,e.key),e.preventDefault());break}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break;default:break}}onArrowLeftKey(e,r=!1){r&&this.focusedOptionIndex.set(-1)}onArrowDownKey(e){let r=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex(),r),this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault(),e.stopPropagation()}onArrowUpKey(e,r=!1){if(e.altKey&&!r)this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide(),e.preventDefault();else{let l=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,l,this.startRangeIndex()),this.changeFocusedOptionIndex(e,l),!this.overlayVisible&&this.show(),e.preventDefault()}e.stopPropagation()}onHomeKey(e,r=!1){let{currentTarget:l}=e;if(r){let h=l.value.length;l.setSelectionRange(0,e.shiftKey?h:0),this.focusedOptionIndex.set(-1)}else{let h=e.metaKey||e.ctrlKey,g=this.findFirstOptionIndex();e.shiftKey&&h&&this.onOptionSelectRange(e,g,this.startRangeIndex()),this.changeFocusedOptionIndex(e,g),!this.overlayVisible&&this.show()}e.preventDefault()}onEndKey(e,r=!1){let{currentTarget:l}=e;if(r){let h=l.value.length;l.setSelectionRange(e.shiftKey?0:h,h),this.focusedOptionIndex.set(-1)}else{let h=e.metaKey||e.ctrlKey,g=this.findLastFocusedOptionIndex();e.shiftKey&&h&&this.onOptionSelectRange(e,this.startRangeIndex(),g),this.changeFocusedOptionIndex(e,g),!this.overlayVisible&&this.show()}e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onEnterKey(e){this.overlayVisible?this.focusedOptionIndex()!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex()):this.onOptionSelect({originalEvent:e,option:this.visibleOptions()[this.focusedOptionIndex()]})):this.onArrowDownKey(e),e.preventDefault()}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onDeleteKey(e){this.showClear&&(this.clear(e),e.preventDefault())}onTabKey(e,r=!1){r||(this.overlayVisible&&this.hasFocusableElements()?(ge.focus(e.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),e.preventDefault()):(this.focusedOptionIndex()!==-1&&this.onOptionSelect({originalEvent:e,option:this.visibleOptions()[this.focusedOptionIndex()]}),this.overlayVisible&&this.hide(this.filter)))}onShiftKey(){this.startRangeIndex.set(this.focusedOptionIndex())}onContainerClick(e){if(!(this.disabled||this.loading||this.readonly||e.target.isSameNode(this.focusInputViewChild?.nativeElement))){if(e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')){e.preventDefault();return}else if(!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(e.target)){if(this.clickInProgress)return;this.clickInProgress=!0,setTimeout(()=>{this.clickInProgress=!1},150),this.overlayVisible?this.hide(!0):this.show(!0)}this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),this.onClick.emit(e),this.cd.detectChanges()}}onFirstHiddenFocus(e){let r=e.relatedTarget===this.focusInputViewChild?.nativeElement?ge.getFirstFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;ge.focus(r)}onInputFocus(e){this.focused=!0;let r=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(r),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit({originalEvent:e})}onInputBlur(e){this.focused=!1,this.onBlur.emit({originalEvent:e}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onFilterInputChange(e){let r=e.target.value;this._filterValue.set(r),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()})}onLastHiddenFocus(e){let r=e.relatedTarget===this.focusInputViewChild?.nativeElement?ge.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;ge.focus(r)}onOptionMouseEnter(e,r){this.focusOnHover&&this.changeFocusedOptionIndex(e,r)}onHeaderCheckboxKeyDown(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"Space":this.onToggleAll(e);break;case"Enter":this.onToggleAll(e);break;default:break}}onFilterBlur(e){this.focusedOptionIndex.set(-1)}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}onToggleAll(e){if(!(this.disabled||this.readonly)){if(this.selectAll!=null)this.onSelectAllChange.emit({originalEvent:e,checked:!this.allSelected()});else{let r=this.getAllVisibleAndNonVisibleOptions().filter(y=>this.isSelected(y)&&(this.optionDisabled?Ve.resolveFieldData(y,this.optionDisabled):y&&y.disabled!==void 0?y.disabled:!1)),l=this.allSelected()?this.visibleOptions().filter(y=>!this.isValidOption(y)&&this.isSelected(y)):this.visibleOptions().filter(y=>this.isSelected(y)||this.isValidOption(y)),h=[...r,...l].map(y=>this.getOptionValue(y)),g=[...new Set(h)];this.updateModel(g,e),(!g.length||g.length===this.getAllVisibleAndNonVisibleOptions().length)&&this.onSelectAllChange.emit({originalEvent:e,checked:!!g.length})}this.partialSelected()&&(this.selectedOptions=null,this.cd.markForCheck()),this.onChange.emit({originalEvent:e,value:this.value}),ge.focus(this.headerCheckboxViewChild?.nativeElement),this.headerCheckboxFocus=!0,e.preventDefault(),e.stopPropagation()}}changeFocusedOptionIndex(e,r){this.focusedOptionIndex()!==r&&(this.focusedOptionIndex.set(r),this.scrollInView())}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(e=-1){let r=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let l=ge.findSingle(this.itemsViewChild.nativeElement,`li[id="${r}"]`);l?l.scrollIntoView&&l.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}writeValue(e){this.value=e,!Ve.isEmpty(this.selectionLimit)&&Ve.isEmpty(this.value)?this.modelValue.set([]):this.modelValue.set(this.value),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}allSelected(){return this.selectAll!==null?this.selectAll:Ve.isNotEmpty(this.visibleOptions())&&this.visibleOptions().every(e=>this.isOptionGroup(e)||this.isOptionDisabled(e)||this.isSelected(e))}partialSelected(){return this.selectedOptions&&this.selectedOptions.length>0&&this.selectedOptions.length<this.options.length}show(e){this.overlayVisible=!0;let r=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(r),e&&ge.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}hide(e){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.overlayOptions?.mode==="modal"&&ge.unblockBodyScroll(),e&&ge.focus(this.focusInputViewChild?.nativeElement),this.onPanelHide.emit(),this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.itemsWrapper=ge.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-multiselect-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this._options()&&this._options().length)if(this.virtualScroll){let r=Ve.isNotEmpty(this.modelValue())?this.focusedOptionIndex():-1;r!==-1&&this.scroller?.scrollToIndex(r)}else{let r=ge.findSingle(this.itemsWrapper,'[data-p-highlight="true"]');r&&r.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit();case"void":this.itemsWrapper=null,this.onModelTouched();break}}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue.set(null),this._filteredOptions=null}close(e){this.hide(),e.preventDefault(),e.stopPropagation()}clear(e){this.value=null,this.updateModel(null,e),this.selectedOptions=null,this.onClear.emit(),this._disableTooltip=!0,e.stopPropagation()}labelContainerMouseLeave(){this._disableTooltip&&(this._disableTooltip=!1)}removeOption(e,r){let l=this.modelValue().filter(h=>!Ve.equals(h,e,this.equalityKey()));this.updateModel(l,r),this.onChange.emit({originalEvent:r,value:l,itemValue:e}),r&&r.stopPropagation()}findNextItem(e){let r=e.nextElementSibling;return r?ge.hasClass(r.children[0],"p-disabled")||ge.isHidden(r.children[0])||ge.hasClass(r,"p-multiselect-item-group")?this.findNextItem(r):r.children[0]:null}findPrevItem(e){let r=e.previousElementSibling;return r?ge.hasClass(r.children[0],"p-disabled")||ge.isHidden(r.children[0])||ge.hasClass(r,"p-multiselect-item-group")?this.findPrevItem(r):r.children[0]:null}findNextOptionIndex(e){let r=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(l=>this.isValidOption(l)):-1;return r>-1?r+e+1:e}findPrevOptionIndex(e){let r=e>0?Ve.findLastIndex(this.visibleOptions().slice(0,e),l=>this.isValidOption(l)):-1;return r>-1?r:e}findLastSelectedOptionIndex(){return this.hasSelectedOption()?Ve.findLastIndex(this.visibleOptions(),e=>this.isValidSelectedOption(e)):-1}findLastFocusedOptionIndex(){let e=this.findLastSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findLastOptionIndex(){return Ve.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}searchOptions(e,r){this.searchValue=(this.searchValue||"")+r;let l=-1,h=!1;return this.focusedOptionIndex()!==-1?(l=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(g=>this.isOptionMatched(g)),l=l===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(g=>this.isOptionMatched(g)):l+this.focusedOptionIndex()):l=this.visibleOptions().findIndex(g=>this.isOptionMatched(g)),l!==-1&&(h=!0),l===-1&&this.focusedOptionIndex()===-1&&(l=this.findFirstFocusedOptionIndex()),l!==-1&&this.changeFocusedOptionIndex(e,l),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),h}activateFilter(){if(this.hasFilter()&&this._options)if(this.group){let e=[];for(let r of this.options){let l=this.filterService.filter(this.getOptionGroupChildren(r),this.searchFields(),this.filterValue,this.filterMatchMode,this.filterLocale);l&&l.length&&e.push(Es(Cr({},r),{[this.optionGroupChildren]:l}))}this._filteredOptions=e}else this._filteredOptions=this.filterService.filter(this.options,this.searchFields(),this.filterValue,this.filterMatchMode,this.filterLocale);else this._filteredOptions=null}hasFocusableElements(){return ge.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"])').length>0}hasFilter(){return this._filterValue()&&this._filterValue().trim().length>0}};d(s,"\u0275fac",function(r){return new(r||s)(Ge(Sr),Ge(yo),Ge(Wi),Ge(ps),Ge(pc),Ge(so),Ge(Ha))}),d(s,"\u0275cmp",je({type:s,selectors:[["p-multiSelect"]],contentQueries:function(r,l,h){if(r&1&&(Gi(h,Bf,5),Gi(h,Lp,5),Gi(h,Pi,4)),r&2){let g;Je(g=et())&&(l.footerFacet=g.first),Je(g=et())&&(l.headerFacet=g.first),Je(g=et())&&(l.templates=g)}},viewQuery:function(r,l){if(r&1&&(Ct(e2,5),Ct(t2,5),Ct(i2,5),Ct(n2,5),Ct(r2,5),Ct(o2,5),Ct(s2,5),Ct(a2,5),Ct(l2,5)),r&2){let h;Je(h=et())&&(l.containerViewChild=h.first),Je(h=et())&&(l.overlayViewChild=h.first),Je(h=et())&&(l.filterInputChild=h.first),Je(h=et())&&(l.focusInputViewChild=h.first),Je(h=et())&&(l.itemsViewChild=h.first),Je(h=et())&&(l.scroller=h.first),Je(h=et())&&(l.lastHiddenFocusableElementOnOverlay=h.first),Je(h=et())&&(l.firstHiddenFocusableElementOnOverlay=h.first),Je(h=et())&&(l.headerCheckboxViewChild=h.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(r,l){r&2&&ko("p-inputwrapper-focus",l.focused||l.overlayVisible)("p-inputwrapper-filled",l.filled)},inputs:{id:"id",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:[2,"disabled","disabled",we],readonly:[2,"readonly","readonly",we],group:[2,"group","group",we],filter:[2,"filter","filter",we],filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:[2,"overlayVisible","overlayVisible",we],tabindex:[2,"tabindex","tabindex",Et],variant:"variant",appendTo:"appendTo",dataKey:"dataKey",name:"name",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:[2,"selectionLimit","selectionLimit",e=>Et(e,null)],selectedItemsLabel:"selectedItemsLabel",showToggleAll:[2,"showToggleAll","showToggleAll",we],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",we],dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:[2,"showHeader","showHeader",we],filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",we],virtualScroll:[2,"virtualScroll","virtualScroll",we],loading:[2,"loading","loading",we],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",Et],loadingIcon:"loadingIcon",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:[2,"autofocusFilter","autofocusFilter",we],display:"display",autocomplete:"autocomplete",showClear:[2,"showClear","showClear",we],autofocus:[2,"autofocus","autofocus",we],autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue",itemSize:"itemSize",selectAll:"selectAll",focusOnHover:[2,"focusOnHover","focusOnHover",we],filterFields:"filterFields",selectOnFocus:[2,"selectOnFocus","selectOnFocus",we],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",we]},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad",onRemove:"onRemove",onSelectAllChange:"onSelectAllChange"},features:[jn([BI]),mn],ngContentSelectors:c2,decls:17,vars:44,consts:[["container",""],["focusInput",""],["elseBlock",""],["overlay",""],["token",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["headerCheckbox",""],["filterInput",""],["scroller",""],["items",""],["emptyFilter",""],["empty",""],[3,"click","ngClass","ngStyle"],[1,"p-hidden-accessible"],["role","combobox","pAutoFocus","",3,"focus","blur","keydown","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus"],[1,"p-multiselect-label-container",3,"mouseleave","pTooltip","tooltipDisabled","tooltipPosition","positionStyle","tooltipStyleClass"],[3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-multiselect-trigger"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],["class","p-multiselect-token",4,"ngFor","ngForOf"],[1,"p-multiselect-token"],[1,"p-multiselect-token-label"],[3,"ngClass","styleClass","click",4,"ngIf"],["class","p-multiselect-token-icon",3,"click",4,"ngIf"],[3,"click","ngClass","styleClass"],[1,"p-multiselect-token-icon",3,"click"],[4,"ngTemplateOutlet"],[3,"styleClass","click",4,"ngIf"],["class","p-multiselect-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-multiselect-clear-icon",3,"click"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-multiselect-trigger-icon",4,"ngIf"],["class","p-multiselect-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-multiselect-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-multiselect-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-items-wrapper",3,"ngStyle"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],["class","p-multiselect-footer",4,"ngIf"],[1,"p-multiselect-header"],["class","p-checkbox p-component",3,"ngClass","click","keydown",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],["type","button","pRipple","",1,"p-multiselect-close","p-link","p-button-icon-only",3,"click"],["class","p-multiselect-close-icon",4,"ngIf"],[1,"p-checkbox","p-component",3,"click","keydown","ngClass"],["type","checkbox",3,"focus","blur","readonly","disabled"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],["class","p-checkbox-icon",4,"ngIf"],[1,"p-checkbox-icon"],[1,"p-multiselect-filter-container"],["type","text","role","searchbox","role","searchbox",1,"p-multiselect-filter","p-inputtext","p-component",3,"input","keydown","click","blur","value","disabled"],["class","p-multiselect-filter-icon",4,"ngIf"],[1,"p-multiselect-filter-icon"],[1,"p-multiselect-close-icon"],[3,"onLazyLoad","items","itemSize","autoSize","tabindex","lazy","options"],["pTemplate","loader"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-items","p-component",3,"ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-multiselect-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-multiselect-item-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","selected","label","disabled","template","checkIconTemplate","itemCheckboxIconTemplate","itemSize","focused","ariaPosInset","ariaSetSize"],["role","option",1,"p-multiselect-empty-message",3,"ngStyle"],[1,"p-multiselect-footer"]],template:function(r,l){if(r&1){let h=We();hs(u2),G(0,"div",15,0),Oe("click",function(y){return te(h),ie(l.onContainerClick(y))}),G(2,"div",16)(3,"input",17,1),Oe("focus",function(y){return te(h),ie(l.onInputFocus(y))})("blur",function(y){return te(h),ie(l.onInputBlur(y))})("keydown",function(y){return te(h),ie(l.onKeyDown(y))}),K()(),G(5,"div",18),Oe("mouseleave",function(){return te(h),ie(l.labelContainerMouseLeave())}),G(6,"div",19),U(7,T2,3,2,"ng-container",20)(8,E2,1,0,"ng-container",21),K(),U(9,k2,3,2,"ng-container",20),K(),G(10,"div",22),U(11,V2,3,2,"ng-container",23)(12,K2,2,2,"ng-template",null,2,Tr),K(),G(14,"p-overlay",24,3),Sa("visibleChange",function(y){return te(h),Ia(l.overlayVisible,y)||(l.overlayVisible=y),ie(y)}),Oe("onAnimationStart",function(y){return te(h),ie(l.onOverlayAnimationStart(y))})("onHide",function(){return te(h),ie(l.hide())}),U(16,VI,12,18,"ng-template",25),K()()}if(r&2){let h,g=Zi(13);Re(l.styleClass),I("ngClass",l.containerClass)("ngStyle",l.style),ne("id",l.id),E(2),ne("data-p-hidden-accessible",!0),E(),I("pTooltip",l.tooltip)("tooltipPosition",l.tooltipPosition)("positionStyle",l.tooltipPositionStyle)("tooltipStyleClass",l.tooltipStyleClass)("autofocus",l.autofocus),ne("aria-disabled",l.disabled)("id",l.inputId)("aria-label",l.ariaLabel)("aria-labelledby",l.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",(h=l.overlayVisible)!==null&&h!==void 0?h:!1)("aria-controls",l.overlayVisible?l.id+"_list":null)("tabindex",l.disabled?-1:l.tabindex)("aria-activedescendant",l.focused?l.focusedOptionId:void 0)("value",l.label()||"empty"),E(2),I("pTooltip",l.tooltip)("tooltipDisabled",l._disableTooltip)("tooltipPosition",l.tooltipPosition)("positionStyle",l.tooltipPositionStyle)("tooltipStyleClass",l.tooltipStyleClass),E(),I("ngClass",l.labelClass),E(),I("ngIf",!l.selectedItemsTemplate),E(),I("ngTemplateOutlet",l.selectedItemsTemplate)("ngTemplateOutletContext",Hi(41,p2,l.selectedOptions,l.removeOption.bind(l))),E(),I("ngIf",l.isVisibleClearIcon),E(2),I("ngIf",l.loading)("ngIfElse",g),E(3),Ca("visible",l.overlayVisible),I("options",l.overlayOptions)("target","@parent")("appendTo",l.appendTo)("autoZIndex",l.autoZIndex)("baseZIndex",l.baseZIndex)("showTransitionOptions",l.showTransitionOptions)("hideTransitionOptions",l.hideTransitionOptions)}},dependencies:()=>[vn,jo,ln,bn,xn,Tl,Pi,gc,ms,uu,Xr,vo,cu,zl,or,Qo,zI],styles:[`@layer primeng{.p-multiselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-multiselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-multiselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer;display:flex}.p-multiselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-multiselect-label-empty{overflow:hidden;visibility:hidden}.p-multiselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-multiselect-token-icon{cursor:pointer}.p-multiselect-token-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100px}.p-multiselect-items-wrapper{overflow:auto}.p-multiselect-items{margin:0;padding:0;list-style-type:none}.p-multiselect-item{cursor:pointer;display:flex;align-items:center;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-multiselect-header{display:flex;align-items:center;justify-content:space-between}.p-multiselect-filter-container{position:relative;flex:1 1 auto}.p-multiselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-multiselect-filter-container .p-inputtext{width:100%}.p-multiselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative}.p-fluid .p-multiselect{display:flex}.p-multiselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-multiselect-clearable{position:relative}}
`],encapsulation:2,changeDetection:0}));let i=s;return i})(),E_=(()=>{let s=class s{};d(s,"\u0275fac",function(r){return new(r||s)}),d(s,"\u0275mod",Bt({type:s})),d(s,"\u0275inj",Vt({imports:[kt,Pa,wt,Ga,Wr,Ls,kr,vo,cu,zl,or,Qo,vo,I_,Pa,wt,Ls]}));let i=s;return i})();var qI=["*"];function GI(i,s){i&1&&it(0)}function UI(i,s){if(i&1&&(G(0,"div",4),U(1,GI,1,0,"ng-container",5),K()),i&2){let o=T();ne("data-pc-section","start"),E(),I("ngTemplateOutlet",o.startTemplate)}}function KI(i,s){i&1&&it(0)}function ZI(i,s){if(i&1&&(G(0,"div",6),U(1,KI,1,0,"ng-container",5),K()),i&2){let o=T();ne("data-pc-section","center"),E(),I("ngTemplateOutlet",o.centerTemplate)}}function YI(i,s){i&1&&it(0)}function jI(i,s){if(i&1&&(G(0,"div",7),U(1,YI,1,0,"ng-container",5),K()),i&2){let o=T();ne("data-pc-section","end"),E(),I("ngTemplateOutlet",o.endTemplate)}}var M_=(()=>{let s=class s{constructor(e){d(this,"el");d(this,"style");d(this,"styleClass");d(this,"ariaLabelledBy");d(this,"templates");d(this,"startTemplate");d(this,"endTemplate");d(this,"centerTemplate");this.el=e}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"start":case"left":this.startTemplate=e.template;break;case"end":case"right":this.endTemplate=e.template;break;case"center":this.centerTemplate=e.template;break}})}};d(s,"\u0275fac",function(r){return new(r||s)(Ge(Sr))}),d(s,"\u0275cmp",je({type:s,selectors:[["p-toolbar"]],contentQueries:function(r,l,h){if(r&1&&Gi(h,Pi,4),r&2){let g;Je(g=et())&&(l.templates=g)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy"},ngContentSelectors:qI,decls:5,vars:9,consts:[["role","toolbar",3,"ngClass","ngStyle"],["class","p-toolbar-group-left p-toolbar-group-start",4,"ngIf"],["class","p-toolbar-group-center",4,"ngIf"],["class","p-toolbar-group-right p-toolbar-group-end",4,"ngIf"],[1,"p-toolbar-group-left","p-toolbar-group-start"],[4,"ngTemplateOutlet"],[1,"p-toolbar-group-center"],[1,"p-toolbar-group-right","p-toolbar-group-end"]],template:function(r,l){r&1&&(hs(),G(0,"div",0),Do(1),U(2,UI,2,2,"div",1)(3,ZI,2,2,"div",2)(4,jI,2,2,"div",3),K()),r&2&&(Re(l.styleClass),I("ngClass","p-toolbar p-component")("ngStyle",l.style),ne("aria-labelledby",l.ariaLabelledBy)("data-pc-name","toolbar"),E(2),I("ngIf",l.startTemplate),E(),I("ngIf",l.centerTemplate),E(),I("ngIf",l.endTemplate))},dependencies:[vn,ln,bn,xn],styles:[`@layer primeng{.p-toolbar{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.p-toolbar-group-start,.p-toolbar-group-center,.p-toolbar-group-end,.p-toolbar-group-left,.p-toolbar-group-right{display:flex;align-items:center}}
`],encapsulation:2,changeDetection:0}));let i=s;return i})(),O_=(()=>{let s=class s{};d(s,"\u0275fac",function(r){return new(r||s)}),d(s,"\u0275mod",Bt({type:s})),d(s,"\u0275inj",Vt({imports:[kt,wt,wt]}));let i=s;return i})();function XI(i,s){if(i&1&&(dt(),G(0,"text",20),Qe(1),K()),i&2){let o=T(2).$implicit,e=T();ne("y",e.dir_y0+e.dir_yy+4),E(),Lt(e.tfl_routes_index[o].direction[0].stops[e.tfl_routes_index[o].direction[0].stops.length-1].name)}}function $I(i,s){if(i&1&&(dt(),G(0,"text",23),Qe(1),Mp(2,"number"),K()),i&2){let o=T().$implicit,e=T(2).$implicit,r=T();ne("y",r.dir_y0+r.dir_yy*o.from_line_start+4),E(),cl("",r.bus_numbers[r.line_stops_prediction[e][o.id].veh_ref]?r.bus_numbers[r.line_stops_prediction[e][o.id].veh_ref]:r.line_stops_prediction[e][o.id].veh_ref," - ",Op(2,3,r.line_stops_prediction[e][o.id].val/60,"1.0-0","en"),"")}}function QI(i,s){if(i&1&&(dt(),G(0,"g")(1,"circle",21)(2,"title"),Qe(3),K()(),U(4,$I,3,7,"text",22),K()),i&2){let o=s.$implicit,e=T(2).$implicit,r=T();E(),ne("cy",r.dir_y0+r.dir_yy*o.from_line_start)("fill",r.qsi_points[e]&&r.qsi_points[e].direction[0].indexOf(o.id)!=-1?"#00c":"#fff"),E(2),Lt(o.name),E(),I("ngIf",r.line_stops_prediction[e]&&r.line_stops_prediction[e][o.id])}}function JI(i,s){if(i&1&&(dt(),G(0,"g")(1,"text",18),Qe(2),K(),U(3,XI,2,2,"text",19)(4,QI,5,4,"g",17),K()),i&2){let o=T().$implicit,e=T();E(),ne("y",e.dir_y0-12),E(),Lt(e.tfl_routes_index[o].direction[0].stops[0].name),E(),I("ngIf",!e.tfl_routes_index[o].direction[1]),E(),I("ngForOf",e.tfl_routes_index[o]==null||e.tfl_routes_index[o].direction[0]==null?null:e.tfl_routes_index[o].direction[0].stops)}}function eS(i,s){if(i&1&&(dt(),G(0,"text",26),Qe(1),Mp(2,"number"),K()),i&2){let o=T().$implicit,e=T(2).$implicit,r=T();ne("y",r.dir_y0+r.dir_yy-r.dir_yy*o.from_line_start+4),E(),cl("",Op(2,3,r.line_stops_prediction[e][o.id].val/60,"1.0-0","en")," - ",r.bus_numbers[r.line_stops_prediction[e][o.id].veh_ref]?r.bus_numbers[r.line_stops_prediction[e][o.id].veh_ref]:r.line_stops_prediction[e][o.id].veh_ref,"")}}function tS(i,s){if(i&1&&(dt(),G(0,"g")(1,"circle",24)(2,"title"),Qe(3),K()(),U(4,eS,3,7,"text",25),K()),i&2){let o=s.$implicit,e=T(2).$implicit,r=T();E(),ne("cy",r.dir_y0+r.dir_yy-r.dir_yy*o.from_line_start)("fill",r.qsi_points[e]&&r.qsi_points[e].direction[1].indexOf(o.id)!=-1?"#00c":"#fff"),E(2),Lt(o.name),E(),I("ngIf",r.line_stops_prediction[e]&&r.line_stops_prediction[e][o.id])}}function iS(i,s){if(i&1&&(dt(),G(0,"g")(1,"text",18),Qe(2),K(),U(3,tS,5,4,"g",17),K()),i&2){let o=T().$implicit,e=T();E(),ne("y",e.dir_y0+e.dir_yy+20),E(),Lt(e.tfl_routes_index[o].direction[1].stops[0].name),E(),I("ngForOf",e.tfl_routes_index[o]==null||e.tfl_routes_index[o].direction[1]==null?null:e.tfl_routes_index[o].direction[1].stops)}}function nS(i,s){if(i&1&&(dt(),G(0,"g"),xe(1,"rect",29),G(2,"text",30),Qe(3),K()()),i&2){let o=T(2).$implicit,e=T(2);E(),ne("y",e.dir_y0+e.vehicles[o].pos*e.dir_yy-7),E(),ne("y",e.dir_y0+e.vehicles[o].pos*e.dir_yy+13-7),E(),Lt(e.bus_numbers[o]?e.bus_numbers[o]:o)}}function rS(i,s){if(i&1&&(dt(),G(0,"g"),U(1,nS,4,3,"g",16),G(2,"g",27),xe(3,"path",28),G(4,"title"),Qe(5),K()()()),i&2){let o=T().$implicit,e=T(2);E(),I("ngIf",e.vehicles[o].pos<.99),E(),ne("transform","translate("+e.route_dir0_x+" "+(e.dir_y0+e.vehicles[o].pos*e.dir_yy)+")")("stroke",e.vehicles[o].seconds_ago<60?"#0c0":"#aaa"),E(3),cl("",e.vehicles[o].seconds_ago,"` - ",e.vehicles[o].pos,"")}}function oS(i,s){if(i&1&&(dt(),G(0,"g"),xe(1,"rect",32),G(2,"text",33),Qe(3),K()()),i&2){let o=T(2).$implicit,e=T(2);E(),ne("y",e.dir_y0+e.dir_yy-e.vehicles[o].pos*e.dir_yy-18+7),E(),ne("y",e.dir_y0+e.dir_yy-e.vehicles[o].pos*e.dir_yy-5+7),E(),Lt(e.bus_numbers[o]?e.bus_numbers[o]:o)}}function sS(i,s){if(i&1&&(dt(),G(0,"g"),U(1,oS,4,3,"g",16),G(2,"g",27),xe(3,"path",31),G(4,"title"),Qe(5),K()()()),i&2){let o=T().$implicit,e=T(2);E(),I("ngIf",e.vehicles[o].pos<.99),E(),ne("transform","translate("+e.route_dir1_x+" "+(e.dir_y0+e.dir_yy-e.vehicles[o].pos*e.dir_yy)+")")("stroke",e.vehicles[o].seconds_ago<60?"#0c0":"#aaa"),E(3),cl("",e.vehicles[o].seconds_ago,"` - ",e.vehicles[o].pos,"")}}function aS(i,s){if(i&1&&(dt(),G(0,"g"),U(1,rS,6,5,"g",16)(2,sS,6,5,"g",16),K()),i&2){let o=s.$implicit,e=T(2);E(),I("ngIf",e.vehicles[o].on_route&&e.vehicles[o].dir==0),E(),I("ngIf",e.vehicles[o].on_route&&e.vehicles[o].dir==1)}}function lS(i,s){if(i&1&&(G(0,"div",9)(1,"div")(2,"div",10)(3,"div",11),Qe(4),K(),G(5,"div",12),Qe(6," EWT:"),xe(7,"br"),Qe(8," Vehicles: "),K()()(),G(9,"div"),dt(),G(10,"svg",13)(11,"style"),Qe(12," circle { stroke: #778; } circle:hover { r: 5; } .terminal_point { font-size: 15px; } text { font-size: 13px; } .qsi_ewt { width: 14%; height: 18px; stroke: #dde; fill: #fff; } .headway_dir0 { width: 25%; height: 18px; fill: #fff; } "),K(),xe(13,"line",14)(14,"line",15),U(15,JI,5,4,"g",16)(16,iS,4,3,"g",16)(17,aS,3,2,"g",17),K()()()),i&2){let o=s.$implicit,e=T();E(4),kn(" ",o," "),E(9),ne("y1",e.dir_y0)("y2",e.dir_y0+e.dir_yy),E(),ne("y1",e.dir_y0)("y2",e.dir_y0+e.dir_yy),E(),I("ngIf",e.tfl_routes_index[o]&&e.tfl_routes_index[o].direction&&e.tfl_routes_index[o].direction[0]),E(),I("ngIf",e.tfl_routes_index[o]&&e.tfl_routes_index[o].direction&&e.tfl_routes_index[o].direction[1]),E(),I("ngForOf",e.vehicles_on_route[o])}}var L_=(()=>{let s=class s{constructor(e,r,l,h,g,y){d(this,"route");d(this,"cookieService");d(this,"http");d(this,"title");d(this,"confirmationService");d(this,"messageService");d(this,"map");d(this,"bus_numbers",{});d(this,"curDate",new Date);d(this,"curTS",Math.floor(new Date().valueOf()/1e3));d(this,"curDate_str","");d(this,"vehicles",{});d(this,"map_center",[51.5,0]);d(this,"satellite",!1);d(this,"tile_layer");d(this,"dir_y0",50);d(this,"dir_yy",110);d(this,"route_dir0_x",50);d(this,"route_dir1_x",150);d(this,"routes",[]);d(this,"routes_index",{});d(this,"sirivm_lines",[]);d(this,"vehicles_on_route",{});d(this,"active_routes",["249","319","N171"]);d(this,"tfl_routes",[]);d(this,"tfl_routes_index",{});d(this,"sirivm_line_refs",[]);d(this,"lines_on_map",{});d(this,"qsi_points",{});d(this,"line_stops_prediction",{});d(this,"vehicles_on_line",{});this.route=e,this.cookieService=r,this.http=l,this.title=h,this.confirmationService=g,this.messageService=y}ngOnInit(){this.curDate_str=this.curDate.getFullYear()+"-"+(this.curDate.getMonth()+1).toString().padStart(2,"0")+"-"+this.curDate.getDate().toString().padStart(2,"0"),this.cookieService.check("routes")&&(this.active_routes=JSON.parse(this.cookieService.get("routes"))),this.active_routes.sort(),this.cookieService.set("routes",JSON.stringify(this.active_routes),7),fetch("assets/bus_numbers.json").then(e=>e.json()).then(e=>{this.bus_numbers=e,console.log("bus_numbers",this.bus_numbers)}),this.rootInit()}rootInit(){this.dir_yy=window.innerHeight-110-this.dir_y0-50,this.route_dir0_x=.47*window.innerWidth/2/this.active_routes.length,this.route_dir1_x=.53*window.innerWidth/2/this.active_routes.length,console.log("dir_yy",this.dir_yy),this.map=el.default.map("map",{center:this.map_center,zoom:13,attributionControl:!1}),this.tile_layer=el.default.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",{maxZoom:19,attribution:null}).addTo(this.map),this.getTfLLines(),this.getTfLLinesPredictions()}getGTFS(){this.http.get("https://functions.yandexcloud.net/d4e4j5e1vvflhjmdlf5g?get=routes").subscribe(e=>{console.log("routes",e);for(let r of e)this.routes_index[r.route_id]=r,this.routes.push(this.routes_index[r.route_id]);this.getGTFSRT()})}getGTFSRT(){this.http.get("https://functions.yandexcloud.net/d4eg5940hvs6j0q67g9m").subscribe(e=>{console.log("rt",e,this.curTS)})}getSiriVM(){this.http.get("https://functions.yandexcloud.net/d4er3felqnp8vqlcair4?routes="+this.active_routes.join(",")).subscribe(e=>{console.log(new Date().valueOf(),"sirivm",e,this.curTS),this.sirivm_lines=[...new Set(e.available_routes)],this.sirivm_line_refs=this.sirivm_lines.filter(r=>this.active_routes.indexOf(r.PublishedLineName)!=-1).map(r=>r.LineRef),this.getSiriVMapiRun()},e=>{console.error(e),setTimeout(()=>{this.getSiriVM()},1e4)})}getSiriVMapiRun(){this.getSiriVMapi(this.sirivm_line_refs[0]),setTimeout(()=>{this.getSiriVMapiRun()},1e4)}getSiriVMapi(e){console.log(new Date().valueOf(),"getSiriVMapi",e),this.http.get("https://functions.yandexcloud.net/d4eikqpo43j92s7kljs6?lineRef="+e).subscribe(r=>{console.log(new Date().valueOf(),"getSiriVMapi",e,r);let l=this.tfl_routes_index[r.avl_data[0].PublishedLineName];this.vehicles_on_route[r.avl_data[0].PublishedLineName]=[];for(let h of r.avl_data){this.vehicles[h.VehicleRef]||(this.vehicles[h.VehicleRef]={});let g=this.vehicles[h.VehicleRef],y=[];for(let R in l.direction)y.push(Ru(Rt([h.Longitude,h.Latitude]),l.direction[R].lineString,{units:"meters"}));g.on_route=!1;let w=Math.floor(new Date(h.imkt).valueOf()/1e3),k=Math.floor(new Date().valueOf()/1e3-new Date(h.imkt).valueOf()/1e3);g.seconds_ago=k,k>20*19&&(k=20*19);for(let R of y)R<100&&k<300&&(this.vehicles_on_route[h.PublishedLineName].push(h.VehicleRef),g.on_route=!0);if(g.avl=h,g.avl_hist){if(g.on_route&&g.dir==0){let A=_s(Oa(l.direction[0].lineString.geometry.coordinates[0],Rt([h.Longitude,h.Latitude]),l.direction[0].lineString),{units:"meters"})/l.direction[0].length;if(A==g.pos)continue;A>=g.pos?(g.avl_hist.push({dir_ind:0,pos:A,ts:w}),g.dir=0,g.pos=A):(g.dir=1,g.pos=0)}if(g.on_route&&g.dir==1){let A=_s(Oa(l.direction[1].lineString.geometry.coordinates[0],Rt([h.Longitude,h.Latitude]),l.direction[1].lineString),{units:"meters"})/l.direction[1].length;if(A==g.pos)continue;A>=g.pos?(g.avl_hist.push({dir_ind:1,pos:A,ts:w}),g.dir=1,g.pos=A):(g.dir=0,g.pos=0)}}else{g.avl_hist=[];let A=_s(Oa(l.direction[0].lineString.geometry.coordinates[0],Rt([h.Longitude,h.Latitude]),l.direction[0].lineString),{units:"meters"})/l.direction[0].length;g.avl_hist.push({dir_ind:0,pos:A,ts:w}),g.dir=0,g.pos=A}g.icon=el.default.divIcon({className:"map-vehicle-icon",html:'<div style="position:absolute; margin-top:-12px; margin-left:-12px; background:#fff; opacity:'+(1-.05*k/20)+"; color:#000; font-weight:700; width:28px; height:28px; line-height:24px; text-align:center; border:red solid 2px; border-radius:0 50% 50% 50%; transform: rotate("+(45+h.bearing*1)+'deg); text-align:center; line-height:24px;"><span style="display:block; transform: rotate(-'+(45+h.bearing*1)+'deg);">'+h.PublishedLineName+"</span></div>"}),g.on_map?(g.on_map.setLatLng([h.Latitude,h.Longitude]),g.on_map.setIcon(g.icon),g.on_map.setTooltipContent(this.bus_numbers[h.VehicleRef]+" ("+h.VehicleRef+")<br>"+h.imkt)):g.on_map=el.default.marker([h.Latitude,h.Longitude],{icon:g.icon}).addTo(this.map).bindTooltip(this.bus_numbers[h.VehicleRef]+" ("+h.VehicleRef+")<br>"+h.imkt,{direction:"right"}).on("click",R=>{console.log(g)})}console.log(this.vehicles_on_route,this.vehicles),this.sirivm_line_refs.indexOf(e)!=this.sirivm_line_refs.length-1&&this.getSiriVMapi(this.sirivm_line_refs[this.sirivm_line_refs.indexOf(e)+1])})}getTfLLines(){this.http.get("https://api.tfl.gov.uk/Line/Mode/bus").subscribe(e=>{console.log("getTfLLines",e),this.tfl_routes=e,this.tfl_routes.sort((r,l)=>r.name*1-l.name*1);for(let r of this.tfl_routes)this.tfl_routes_index[r.name]=r;for(let r of this.active_routes)this.getTfLLine(r)})}changeActiveRoutes(){console.log("changeActiveRoutes",this.active_routes),this.route_dir0_x=.47*window.innerWidth/2/this.active_routes.length,this.route_dir1_x=.53*window.innerWidth/2/this.active_routes.length,this.active_routes.sort(),this.sirivm_line_refs=this.sirivm_lines.filter(e=>this.active_routes.indexOf(e.PublishedLineName)!=-1).map(e=>e.LineRef),this.cookieService.set("routes",JSON.stringify(this.active_routes),7);for(let e in this.lines_on_map)this.active_routes.indexOf(e)==-1&&(this.lines_on_map[e].remove(),delete this.lines_on_map[e]);for(let e of this.active_routes)this.getTfLLine(e)}getTfLLine(e){fetch("assets/qsi_"+e+".json").then(r=>r.json()).then(r=>{this.qsi_points[e]=r,console.log(e,r)}),this.http.get("https://api.tfl.gov.uk/Line/"+e+"/Route/Sequence/all").subscribe(r=>{console.log("getTfLLine",e,r);let l=this.tfl_routes_index[e];l.line=r;for(let h of r.lineStrings){let g=r.lineStrings.indexOf(h);h=JSON.parse(h);let y=wn(h[0]);console.log("tl",y),this.lines_on_map[e]=el.default.geoJSON(y).addTo(this.map),l.direction||(l.direction=[]),l.direction[g]||(l.direction[g]={}),l.direction[g].length=_s(y,{units:"meters"}),l.direction[g].lineString=y,l.direction[g].stops=[];for(let w of r.stopPointSequences[g].stopPoint){let k=_s(Oa(y.geometry.coordinates[0],Rt([w.lon,w.lat]),y),{units:"meters"});w.from_line_start=k/l.direction[g].length,l.direction[g].stops.push(w)}}console.log(l)})}getTfLLinesPredictions(){for(let e of this.active_routes)this.getTfLLinePredictions(e);setTimeout(()=>{this.getTfLLinesPredictions()},1e4)}getTfLLinePredictions(e){this.http.get("https://countdown.api.tfl.gov.uk/interfaces/ura/instant_V1?LineName="+e+"&ReturnList=VehicleId,RegistrationNumber,StopCode2,EstimatedTime,StopPointName,DirectionID,LineName,StopPointType",{responseType:"text"}).subscribe(r=>{let l=JSON.parse("["+r.replaceAll(`
`,",")+"]");this.line_stops_prediction[e]={};let h=0;this.vehicles_on_line[e]=[];for(let g of l)if(g[0]==4)h=g[2];else if(g[0]==1){this.vehicles_on_line[e].push(g[7]);let y=Math.floor((g[8]-h)/1e3);this.line_stops_prediction[e][g[2]]?this.line_stops_prediction[e][g[2]].val>y&&(this.line_stops_prediction[e][g[2]]={val:y,veh_ref:g[7]}):this.line_stops_prediction[e][g[2]]={val:y,veh_ref:g[7]}}console.log("vehicles_on_line",this.vehicles_on_line),this.vehicles_on_line[e].length>0&&this.getSiriVMapiVehicles(e)})}getSiriVMapiVehicles(e){console.log(new Date().valueOf(),"getSiriVMapiVehicles",e),this.http.get("https://functions.yandexcloud.net/d4eb08bojc1s2um4s9u5?vehRef="+this.vehicles_on_line[e].join(",")).subscribe(r=>{console.log(new Date().valueOf(),"getSiriVMapiVehicles",e,r);let l=this.tfl_routes_index[e];this.vehicles_on_route[e]=[];for(let h of r.avl_data){this.vehicles[h.VehicleRef]||(this.vehicles[h.VehicleRef]={});let g=this.vehicles[h.VehicleRef],y=[];for(let R in l.direction)y.push(Ru(Rt([h.Longitude,h.Latitude]),l.direction[R].lineString,{units:"meters"}));g.on_route=!1;let w=Math.floor(new Date(h.imkt).valueOf()/1e3),k=Math.floor(new Date().valueOf()/1e3-new Date(h.imkt).valueOf()/1e3);g.seconds_ago=k,k>20*19&&(k=20*19);for(let R of y)R<100&&k<300&&(this.vehicles_on_route[e].push(h.VehicleRef),g.on_route=!0);if(g.avl=h,g.avl_hist){if(g.on_route&&g.dir==0){let A=_s(Oa(l.direction[0].lineString.geometry.coordinates[0],Rt([h.Longitude,h.Latitude]),l.direction[0].lineString),{units:"meters"})/l.direction[0].length;if(A==g.pos)continue;A>=g.pos?(g.avl_hist.push({dir_ind:0,pos:A,ts:w}),g.dir=0,g.pos=A):(g.dir=1,g.pos=0)}if(g.on_route&&g.dir==1){let A=_s(Oa(l.direction[1].lineString.geometry.coordinates[0],Rt([h.Longitude,h.Latitude]),l.direction[1].lineString),{units:"meters"})/l.direction[1].length;if(A==g.pos)continue;A>=g.pos?(g.avl_hist.push({dir_ind:1,pos:A,ts:w}),g.dir=1,g.pos=A):(g.dir=0,g.pos=0)}}else{g.avl_hist=[];let A=_s(Oa(l.direction[0].lineString.geometry.coordinates[0],Rt([h.Longitude,h.Latitude]),l.direction[0].lineString),{units:"meters"})/l.direction[0].length;g.avl_hist.push({dir_ind:0,pos:A,ts:w}),g.dir=0,g.pos=A}g.icon=el.default.divIcon({className:"map-vehicle-icon",html:'<div style="position:absolute; margin-top:-12px; margin-left:-12px; background:#fff; opacity:'+(1-.05*k/20)+"; color:#000; font-weight:700; width:28px; height:28px; line-height:24px; text-align:center; border:red solid 2px; border-radius:0 50% 50% 50%; transform: rotate("+(45+h.bearing*1)+'deg); text-align:center; line-height:24px;"><span style="display:block; transform: rotate(-'+(45+h.bearing*1)+'deg);">'+e+"</span></div>"}),g.on_map?(g.on_map.setLatLng([h.Latitude,h.Longitude]),g.on_map.setIcon(g.icon),g.on_map.setTooltipContent(this.bus_numbers[h.VehicleRef]+" ("+h.VehicleRef+")<br>"+h.imkt)):g.on_map=el.default.marker([h.Latitude,h.Longitude],{icon:g.icon}).addTo(this.map).bindTooltip(this.bus_numbers[h.VehicleRef]+" ("+h.VehicleRef+")<br>"+h.imkt,{direction:"right"}).on("click",R=>{console.log(g)})}console.log(this.vehicles_on_route,this.vehicles)})}};d(s,"\u0275fac",function(r){return new(r||s)(Ge(Af),Ge(zf),Ge(Df),Ge(Nf),Ge(cc),Ge(hc))}),d(s,"\u0275cmp",je({type:s,selectors:[["app-disp"]],features:[jn([cc,hc])],decls:12,vars:3,consts:[[1,"p-toolbar-group-start"],[1,"p-toolbar-group-center"],["optionLabel","name","optionValue","name","placeholder","Select Routes","selectionLimit","5","maxSelectedLabels","6","display","chip",3,"ngModelChange","onChange","options","ngModel"],[1,"p-toolbar-group-end"],[2,"width","100%","border-collapse","collapse","height","calc(100vh - 75px)"],[2,"width","50%"],[2,"display","flex","height","calc(100vh - 75px)"],["style","flex: 1 1 0; border-right: #dde solid 1px;",4,"ngFor","ngForOf"],["id","map",1,"map","map_div"],[2,"flex","1 1 0","border-right","#dde solid 1px"],[2,"display","flex"],[2,"flex","1 1 0","text-align","center","font-size","22px","line-height","32px","color","#334","font-weight","700"],[2,"flex","1 1 0","font-size","13px"],["xmlns","http://www.w3.org/2000/svg",2,"height","calc(100vh - 110px)","width","100%","font-size","11px","color","#aaa"],["x1","47%","x2","47%","stroke","#777"],["x1","53%","x2","53%","stroke","#777"],[4,"ngIf"],[4,"ngFor","ngForOf"],["text-anchor","middle","x","50%",1,"terminal_point"],["text-anchor","middle","x","25%",4,"ngIf"],["text-anchor","middle","x","25%"],["cx","47%","r","3"],["text-anchor","end","x","43%","fill","#889",4,"ngIf"],["text-anchor","end","x","43%","fill","#889"],["cx","53%","r","3"],["text-anchor","start","x","57%","fill","#889",4,"ngIf"],["text-anchor","start","x","57%","fill","#889"],["fill","#fff","stroke-width","2"],["transform","rotate(45)","d","M 0 -6 C 6 -6 6 0 6 0 L 6 6 L 0 6 C -6 6 -6 0 -6 0 C -6 -6 0 -6 0 -6"],["x","16%","stroke","#7f7",1,"headway_dir0"],["text-anchor","middle","x","28.75%"],["transform","rotate(225)","d","M 0 -6 C 6 -6 6 0 6 0 L 6 6 L 0 6 C -6 6 -6 0 -6 0 C -6 -6 0 -6 0 -6"],["x","59%","stroke","#7f7",1,"headway_dir0"],["text-anchor","middle","x","71.75%"]],template:function(r,l){r&1&&(G(0,"p-toolbar"),xe(1,"div",0),G(2,"div",1)(3,"p-multiSelect",2),Sa("ngModelChange",function(g){return Ia(l.active_routes,g)||(l.active_routes=g),g}),Oe("onChange",function(){return l.changeActiveRoutes()}),K()(),xe(4,"div",3),K(),G(5,"table",4)(6,"tr")(7,"td",5)(8,"div",6),U(9,lS,18,8,"div",7),K()(),G(10,"td"),xe(11,"div",8),K()()()),r&2&&(E(3),I("options",l.tfl_routes),Ca("ngModel",l.active_routes),E(6),I("ngForOf",l.active_routes))},dependencies:[jo,ln,Hf,qf,If,M_,kf],styles:[".map_div[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 75px);cursor:default}.map-vehicle-icon[_ngcontent-%COMP%]{display:block}"]}));let i=s;return i})();var El=(()=>{let s=class s extends Dt{};d(s,"\u0275fac",(()=>{let e;return function(l){return(e||(e=Mt(s)))(l||s)}})()),d(s,"\u0275cmp",je({type:s,selectors:[["ChevronRightIcon"]],standalone:!0,features:[Ot,Pt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(r,l){r&1&&(dt(),G(0,"svg",0),xe(1,"path",1),K()),r&2&&(Re(l.getClassNames()),ne("aria-label",l.ariaLabel)("aria-hidden",l.ariaHidden)("role",l.role))},encapsulation:2}));let i=s;return i})();var P_=(()=>{let s=class s{};d(s,"\u0275fac",function(r){return new(r||s)}),d(s,"\u0275mod",Bt({type:s})),d(s,"\u0275inj",Vt({imports:[kt,El,Qo,wt]}));let i=s;return i})();var uS=["container"],cS=["focusInput"],pS=["multiIn"],hS=["multiContainer"],fS=["ddBtn"],dS=["items"],mS=["scroller"],gS=["overlay"],_S=i=>({"p-autocomplete-token":!0,"p-focus":i}),D_=i=>({$implicit:i}),vp=i=>({height:i}),R_=(i,s)=>({$implicit:i,options:s}),yS=i=>({options:i}),vS=()=>({}),xS=(i,s,o)=>({"p-highlight":i,"p-focus":s,"p-disabled":o}),bS=(i,s)=>({$implicit:i,index:s});function wS(i,s){if(i&1){let o=We();G(0,"input",20,3),Oe("input",function(r){te(o);let l=T();return ie(l.onInput(r))})("keydown",function(r){te(o);let l=T();return ie(l.onKeyDown(r))})("change",function(r){te(o);let l=T();return ie(l.onInputChange(r))})("focus",function(r){te(o);let l=T();return ie(l.onInputFocus(r))})("blur",function(r){te(o);let l=T();return ie(l.onInputBlur(r))})("paste",function(r){te(o);let l=T();return ie(l.onInputPaste(r))})("keyup",function(r){te(o);let l=T();return ie(l.onInputKeyUp(r))}),K()}if(i&2){let o,e=T();Re(e.inputStyleClass),I("autofocus",e.autofocus)("ngClass",e.inputClass)("ngStyle",e.inputStyle)("type",e.type)("autocomplete",e.autocomplete)("required",e.required)("name",e.name)("tabindex",e.disabled?-1:e.tabindex)("readonly",e.readonly)("disabled",e.disabled),ne("value",e.inputValue())("id",e.inputId)("placeholder",e.placeholder)("size",e.size)("maxlength",e.maxlength)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-required",e.required)("aria-expanded",(o=e.overlayVisible)!==null&&o!==void 0?o:!1)("aria-controls",e.overlayVisible?e.id+"_list":null)("aria-activedescendant",e.focused?e.focusedOptionId:void 0)}}function CS(i,s){if(i&1){let o=We();G(0,"TimesIcon",23),Oe("click",function(){te(o);let r=T(2);return ie(r.clear())}),K()}i&2&&(I("styleClass","p-autocomplete-clear-icon"),ne("aria-hidden",!0))}function IS(i,s){}function SS(i,s){i&1&&U(0,IS,0,0,"ng-template")}function TS(i,s){if(i&1){let o=We();G(0,"span",24),Oe("click",function(){te(o);let r=T(2);return ie(r.clear())}),U(1,SS,1,0,null,17),K()}if(i&2){let o=T(2);ne("aria-hidden",!0),E(),I("ngTemplateOutlet",o.clearIconTemplate)}}function ES(i,s){if(i&1&&(Fe(0),U(1,CS,1,2,"TimesIcon",21)(2,TS,2,2,"span",22),Ne()),i&2){let o=T();E(),I("ngIf",!o.clearIconTemplate),E(),I("ngIf",o.clearIconTemplate)}}function MS(i,s){i&1&&it(0)}function OS(i,s){if(i&1&&(G(0,"span",35),Qe(1),K()),i&2){let o=T().$implicit,e=T(2);E(),Lt(e.getMultipleLabel(o))}}function LS(i,s){i&1&&xe(0,"TimesCircleIcon",36),i&2&&(I("styleClass","p-autocomplete-token-icon"),ne("aria-hidden",!0))}function PS(i,s){}function kS(i,s){i&1&&U(0,PS,0,0,"ng-template")}function DS(i,s){if(i&1&&(G(0,"span",37),U(1,kS,1,0,null,17),K()),i&2){let o=T(3);ne("aria-hidden",!0),E(),I("ngTemplateOutlet",o.removeIconTemplate)}}function RS(i,s){if(i&1){let o=We();G(0,"li",29,5),U(2,MS,1,0,"ng-container",30)(3,OS,2,1,"span",31),G(4,"span",32),Oe("click",function(r){let l=te(o).index,h=T(2);return ie(h.readonly?"":h.removeOption(r,l))}),U(5,LS,1,2,"TimesCircleIcon",33)(6,DS,2,2,"span",34),K()()}if(i&2){let o=s.$implicit,e=s.index,r=T(2);I("ngClass",nt(11,_S,r.focusedMultipleOptionIndex()===e)),ne("id",r.id+"_multiple_option_"+e)("aria-label",r.getOptionLabel(o))("aria-setsize",r.modelValue().length)("aria-posinset",e+1)("aria-selected",!0),E(2),I("ngTemplateOutlet",r.selectedItemTemplate)("ngTemplateOutletContext",nt(13,D_,o)),E(),I("ngIf",!r.selectedItemTemplate),E(2),I("ngIf",!r.removeIconTemplate),E(),I("ngIf",r.removeIconTemplate)}}function FS(i,s){if(i&1){let o=We();G(0,"ul",25,4),Oe("focus",function(r){te(o);let l=T();return ie(l.onMultipleContainerFocus(r))})("blur",function(r){te(o);let l=T();return ie(l.onMultipleContainerBlur(r))})("keydown",function(r){te(o);let l=T();return ie(l.onMultipleContainerKeyDown(r))}),U(2,RS,7,15,"li",26),G(3,"li",27)(4,"input",28,3),Oe("input",function(r){te(o);let l=T();return ie(l.onInput(r))})("keydown",function(r){te(o);let l=T();return ie(l.onKeyDown(r))})("change",function(r){te(o);let l=T();return ie(l.onInputChange(r))})("focus",function(r){te(o);let l=T();return ie(l.onInputFocus(r))})("blur",function(r){te(o);let l=T();return ie(l.onInputBlur(r))})("paste",function(r){te(o);let l=T();return ie(l.onInputPaste(r))})("keyup",function(r){te(o);let l=T();return ie(l.onInputKeyUp(r))}),K()()()}if(i&2){let o,e=T();I("ngClass",e.multiContainerClass)("tabindex",-1),ne("aria-orientation","horizontal")("aria-activedescendant",e.focused?e.focusedMultipleOptionId:void 0),E(2),I("ngForOf",e.modelValue()),E(2),Re(e.inputStyleClass),I("autofocus",e.autofocus)("ngClass",e.inputClass)("ngStyle",e.inputStyle)("autocomplete",e.autocomplete)("required",e.required)("tabindex",e.disabled?-1:e.tabindex)("readonly",e.readonly)("disabled",e.disabled),ne("type",e.type)("id",e.inputId)("name",e.name)("placeholder",e.filled?null:e.placeholder)("size",e.size)("maxlength",e.maxlength)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-required",e.required)("aria-expanded",(o=e.overlayVisible)!==null&&o!==void 0?o:!1)("aria-controls",e.overlayVisible?e.id+"_list":null)("aria-activedescendant",e.focused?e.focusedOptionId:void 0)}}function NS(i,s){i&1&&xe(0,"SpinnerIcon",40),i&2&&(I("styleClass","p-autocomplete-loader")("spin",!0),ne("aria-hidden",!0))}function AS(i,s){}function VS(i,s){i&1&&U(0,AS,0,0,"ng-template")}function BS(i,s){if(i&1&&(G(0,"span",41),U(1,VS,1,0,null,17),K()),i&2){let o=T(2);ne("aria-hidden",!0),E(),I("ngTemplateOutlet",o.loadingIconTemplate)}}function zS(i,s){if(i&1&&(Fe(0),U(1,NS,1,3,"SpinnerIcon",38)(2,BS,2,2,"span",39),Ne()),i&2){let o=T();E(),I("ngIf",!o.loadingIconTemplate),E(),I("ngIf",o.loadingIconTemplate)}}function HS(i,s){if(i&1&&xe(0,"span",44),i&2){let o=T(2);I("ngClass",o.dropdownIcon),ne("aria-hidden",!0)}}function qS(i,s){i&1&&xe(0,"ChevronDownIcon")}function GS(i,s){}function US(i,s){i&1&&U(0,GS,0,0,"ng-template")}function KS(i,s){if(i&1&&(Fe(0),U(1,qS,1,0,"ChevronDownIcon",12)(2,US,1,0,null,17),Ne()),i&2){let o=T(2);E(),I("ngIf",!o.dropdownIconTemplate),E(),I("ngTemplateOutlet",o.dropdownIconTemplate)}}function ZS(i,s){if(i&1){let o=We();G(0,"button",42,6),Oe("click",function(r){te(o);let l=T();return ie(l.handleDropdownClick(r))}),U(2,HS,1,2,"span",43)(3,KS,3,2,"ng-container",12),K()}if(i&2){let o=T();I("disabled",o.disabled),ne("aria-label",o.dropdownAriaLabel)("tabindex",o.tabindex),E(2),I("ngIf",o.dropdownIcon),E(),I("ngIf",!o.dropdownIcon)}}function YS(i,s){i&1&&it(0)}function jS(i,s){i&1&&it(0)}function WS(i,s){if(i&1&&U(0,jS,1,0,"ng-container",30),i&2){let o=s.$implicit,e=s.options;T(2);let r=Zi(14);I("ngTemplateOutlet",r)("ngTemplateOutletContext",Hi(2,R_,o,e))}}function XS(i,s){i&1&&it(0)}function $S(i,s){if(i&1&&U(0,XS,1,0,"ng-container",30),i&2){let o=s.options,e=T(3);I("ngTemplateOutlet",e.loaderTemplate)("ngTemplateOutletContext",nt(2,yS,o))}}function QS(i,s){i&1&&(Fe(0),U(1,$S,1,4,"ng-template",47),Ne())}function JS(i,s){if(i&1){let o=We();G(0,"p-scroller",45,7),Oe("onLazyLoad",function(r){te(o);let l=T();return ie(l.onLazyLoad.emit(r))}),U(2,WS,1,5,"ng-template",46)(3,QS,2,0,"ng-container",12),K()}if(i&2){let o=T();Ba(nt(8,vp,o.scrollHeight)),I("items",o.visibleOptions())("itemSize",o.virtualScrollItemSize||o._itemSize)("autoSize",!0)("lazy",o.lazy)("options",o.virtualScrollOptions),E(3),I("ngIf",o.loaderTemplate)}}function eT(i,s){i&1&&it(0)}function tT(i,s){if(i&1&&(Fe(0),U(1,eT,1,0,"ng-container",30),Ne()),i&2){let o=T(),e=Zi(14);E(),I("ngTemplateOutlet",e)("ngTemplateOutletContext",Hi(3,R_,o.visibleOptions(),Yo(2,vS)))}}function iT(i,s){if(i&1&&(G(0,"span"),Qe(1),K()),i&2){let o=T(2).$implicit,e=T(2);E(),Lt(e.getOptionGroupLabel(o.optionGroup))}}function nT(i,s){i&1&&it(0)}function rT(i,s){if(i&1&&(Fe(0),G(1,"li",51),U(2,iT,2,1,"span",12)(3,nT,1,0,"ng-container",30),K(),Ne()),i&2){let o=T(),e=o.$implicit,r=o.index,l=T().options,h=T();E(),I("ngStyle",nt(5,vp,l.itemSize+"px")),ne("id",h.id+"_"+h.getOptionIndex(r,l)),E(),I("ngIf",!h.groupTemplate),E(),I("ngTemplateOutlet",h.groupTemplate)("ngTemplateOutletContext",nt(7,D_,e.optionGroup))}}function oT(i,s){if(i&1&&(G(0,"span"),Qe(1),K()),i&2){let o=T(2).$implicit,e=T(2);E(),Lt(e.getOptionLabel(o))}}function sT(i,s){i&1&&it(0)}function aT(i,s){if(i&1){let o=We();Fe(0),G(1,"li",52),Oe("click",function(r){te(o);let l=T().$implicit,h=T(2);return ie(h.onOptionSelect(r,l))})("mouseenter",function(r){te(o);let l=T().index,h=T().options,g=T();return ie(g.onOptionMouseEnter(r,g.getOptionIndex(l,h)))}),U(2,oT,2,1,"span",12)(3,sT,1,0,"ng-container",30),K(),Ne()}if(i&2){let o=T(),e=o.$implicit,r=o.index,l=T().options,h=T();E(),I("ngStyle",nt(12,vp,l.itemSize+"px"))("ngClass",Vn(14,xS,h.isSelected(e),h.focusedOptionIndex()===h.getOptionIndex(r,l),h.isOptionDisabled(e))),ne("id",h.id+"_"+h.getOptionIndex(r,l))("aria-label",h.getOptionLabel(e))("aria-selected",h.isSelected(e))("aria-disabled",h.isOptionDisabled(e))("data-p-focused",h.focusedOptionIndex()===h.getOptionIndex(r,l))("aria-setsize",h.ariaSetSize)("aria-posinset",h.getAriaPosInset(h.getOptionIndex(r,l))),E(),I("ngIf",!h.itemTemplate),E(),I("ngTemplateOutlet",h.itemTemplate)("ngTemplateOutletContext",Hi(18,bS,e,l.getOptions?l.getOptions(r):r))}}function lT(i,s){if(i&1&&U(0,rT,4,9,"ng-container",12)(1,aT,4,21,"ng-container",12),i&2){let o=s.$implicit,e=T(2);I("ngIf",e.isOptionGroup(o)),E(),I("ngIf",!e.isOptionGroup(o))}}function uT(i,s){if(i&1&&(Fe(0),Qe(1),Ne()),i&2){let o=T(3);E(),kn(" ",o.searchResultMessageText," ")}}function cT(i,s){i&1&&it(0,null,9)}function pT(i,s){if(i&1&&(G(0,"li",53),U(1,uT,2,1,"ng-container",54)(2,cT,2,0,"ng-container",17),K()),i&2){let o=T().options,e=T();I("ngStyle",nt(4,vp,o.itemSize+"px")),E(),I("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),E(),I("ngTemplateOutlet",e.emptyTemplate)}}function hT(i,s){if(i&1&&(G(0,"ul",48,8),U(2,lT,2,2,"ng-template",49)(3,pT,3,6,"li",50),K()),i&2){let o=s.$implicit,e=s.options,r=T();Ba(e.contentStyle),I("ngClass",e.contentStyleClass),ne("id",r.id+"_list")("aria-label",r.listLabel),E(2),I("ngForOf",o),E(),I("ngIf",!o||o&&o.length===0&&r.showEmptyMessage)}}function fT(i,s){i&1&&it(0)}var dT={provide:Er,useExisting:Ir(()=>mT),multi:!0},mT=(()=>{let s=class s{constructor(e,r,l,h,g,y,w){d(this,"document");d(this,"el");d(this,"renderer");d(this,"cd");d(this,"config");d(this,"overlayService");d(this,"zone");d(this,"minLength",1);d(this,"delay",300);d(this,"style");d(this,"panelStyle");d(this,"styleClass");d(this,"panelStyleClass");d(this,"inputStyle");d(this,"inputId");d(this,"inputStyleClass");d(this,"placeholder");d(this,"readonly");d(this,"disabled");d(this,"scrollHeight","200px");d(this,"lazy",!1);d(this,"virtualScroll");d(this,"virtualScrollItemSize");d(this,"virtualScrollOptions");d(this,"maxlength");d(this,"name");d(this,"required");d(this,"size");d(this,"appendTo");d(this,"autoHighlight");d(this,"forceSelection");d(this,"type","text");d(this,"autoZIndex",!0);d(this,"baseZIndex",0);d(this,"ariaLabel");d(this,"dropdownAriaLabel");d(this,"ariaLabelledBy");d(this,"dropdownIcon");d(this,"unique",!0);d(this,"group");d(this,"completeOnFocus",!1);d(this,"showClear",!1);d(this,"field");d(this,"dropdown");d(this,"showEmptyMessage",!0);d(this,"dropdownMode","blank");d(this,"multiple");d(this,"tabindex");d(this,"dataKey");d(this,"emptyMessage");d(this,"showTransitionOptions",".12s cubic-bezier(0, 0, 0.2, 1)");d(this,"hideTransitionOptions",".1s linear");d(this,"autofocus");d(this,"autocomplete","off");d(this,"optionGroupChildren","items");d(this,"optionGroupLabel","label");d(this,"overlayOptions");d(this,"optionLabel");d(this,"optionValue");d(this,"id");d(this,"searchMessage");d(this,"emptySelectionMessage");d(this,"selectionMessage");d(this,"autoOptionFocus",!1);d(this,"selectOnFocus");d(this,"searchLocale");d(this,"optionDisabled");d(this,"focusOnHover");d(this,"variant","outlined");d(this,"completeMethod",new qe);d(this,"onSelect",new qe);d(this,"onUnselect",new qe);d(this,"onFocus",new qe);d(this,"onBlur",new qe);d(this,"onDropdownClick",new qe);d(this,"onClear",new qe);d(this,"onKeyUp",new qe);d(this,"onShow",new qe);d(this,"onHide",new qe);d(this,"onLazyLoad",new qe);d(this,"containerEL");d(this,"inputEL");d(this,"multiInputEl");d(this,"multiContainerEL");d(this,"dropdownButton");d(this,"itemsViewChild");d(this,"scroller");d(this,"overlayViewChild");d(this,"templates");d(this,"_itemSize");d(this,"itemsWrapper");d(this,"itemTemplate");d(this,"emptyTemplate");d(this,"headerTemplate");d(this,"footerTemplate");d(this,"selectedItemTemplate");d(this,"groupTemplate");d(this,"loaderTemplate");d(this,"removeIconTemplate");d(this,"loadingIconTemplate");d(this,"clearIconTemplate");d(this,"dropdownIconTemplate");d(this,"value");d(this,"_suggestions",Pr(null));d(this,"onModelChange",()=>{});d(this,"onModelTouched",()=>{});d(this,"timeout");d(this,"overlayVisible");d(this,"suggestionsUpdated");d(this,"highlightOption");d(this,"highlightOptionChanged");d(this,"focused",!1);d(this,"_filled");d(this,"loading");d(this,"scrollHandler");d(this,"listId");d(this,"searchTimeout");d(this,"dirty",!1);d(this,"modelValue",Pr(null));d(this,"focusedMultipleOptionIndex",Pr(-1));d(this,"focusedOptionIndex",Pr(-1));d(this,"visibleOptions",Ms(()=>this.group?this.flatOptions(this._suggestions()):this._suggestions()||[]));d(this,"inputValue",Ms(()=>{let e=this.modelValue(),r=this.getSelectedOption(e);if(e)if(typeof e=="object"||this.optionValue){let l=this.getOptionLabel(r);return l??e}else return e;else return""}));this.document=e,this.el=r,this.renderer=l,this.cd=h,this.config=g,this.overlayService=y,this.zone=w,Vl(()=>{this.filled=Ve.isNotEmpty(this.modelValue())})}get suggestions(){return this._suggestions()}set suggestions(e){this._suggestions.set(e),this.handleSuggestionsChange()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get filled(){return this._filled}set filled(e){this._filled=e}get focusedMultipleOptionId(){return this.focusedMultipleOptionIndex()!==-1?`${this.id}_multiple_option_${this.focusedMultipleOptionIndex()}`:null}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}get containerClass(){return{"p-autocomplete p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-focus":this.focused,"p-autocomplete-dd":this.dropdown,"p-autocomplete-multiple":this.multiple,"p-inputwrapper-focus":this.focused,"p-overlay-open":this.overlayVisible}}get multiContainerClass(){return{"p-autocomplete-multiple-container p-component p-inputtext":!0,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"}}get panelClass(){return{"p-autocomplete-panel p-component":!0,"p-input-filled":this.config.inputStyle()==="filled","p-ripple-disabled":this.config.ripple===!1}}get panelStyles(){return Cr({"max-height":this.virtualScroll?"auto":this.scrollHeight},this.panelStyle)}get inputClass(){return{"p-autocomplete-input p-inputtext p-component":!this.multiple,"p-autocomplete-dd-input":this.dropdown,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"}}get searchResultMessageText(){return Ve.isNotEmpty(this.visibleOptions())&&this.overlayVisible?this.searchMessageText.replaceAll("{0}",this.visibleOptions().length):this.emptySearchMessageText}get searchMessageText(){return this.searchMessage||this.config.translation.searchMessage||""}get emptySearchMessageText(){return this.emptyMessage||this.config.translation.emptySearchMessage||""}get selectionMessageText(){return this.selectionMessage||this.config.translation.selectionMessage||""}get emptySelectionMessageText(){return this.emptySelectionMessage||this.config.translation.emptySelectionMessage||""}get selectedMessageText(){return this.hasSelectedOption()?this.selectionMessageText.replaceAll("{0}",this.multiple?this.modelValue().length:"1"):this.emptySelectionMessageText}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}get listLabel(){return this.config.getTranslation(Wn.ARIA).listLabel}get virtualScrollerDisabled(){return!this.virtualScroll}get optionValueSelected(){return typeof this.modelValue()=="string"&&this.optionValue}ngOnInit(){this.id=this.id||un(),this.cd.detectChanges()}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlayViewChild&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1),this.suggestionsUpdated=!1})}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"removetokenicon":this.removeIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}handleSuggestionsChange(){if(this.loading){this._suggestions().length>0||this.showEmptyMessage?this.show():this.emptyTemplate?this.show():this.hide();let e=this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(e),this.suggestionsUpdated=!0,this.loading=!1,this.cd.markForCheck()}}flatOptions(e){return(e||[]).reduce((r,l,h)=>{r.push({optionGroup:l,group:!0,index:h});let g=this.getOptionGroupChildren(l);return g&&g.forEach(y=>r.push(y)),r},[])}isOptionGroup(e){return this.optionGroupLabel&&e.optionGroup&&e.group}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findLastOptionIndex(){return Ve.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}findFirstFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findLastFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let r=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(l=>this.isValidOption(l)):-1;return r>-1?r+e+1:e}findPrevOptionIndex(e){let r=e>0?Ve.findLastIndex(this.visibleOptions().slice(0,e),l=>this.isValidOption(l)):-1;return r>-1?r:e}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionDisabled(e){return this.optionDisabled?Ve.resolveFieldData(e,this.optionDisabled):!1}isSelected(e){return this.multiple?this.unique?this.modelValue()?.find(r=>Ve.equals(r,this.getOptionValue(e),this.equalityKey())):!1:Ve.equals(this.modelValue(),this.getOptionValue(e),this.equalityKey())}isOptionMatched(e,r){return this.isValidOption(e)&&this.getOptionLabel(e).toLocaleLowerCase(this.searchLocale)===r.toLocaleLowerCase(this.searchLocale)}isInputClicked(e){return e.target===this.inputEL.nativeElement}isDropdownClicked(e){return this.dropdownButton?.nativeElement?e.target===this.dropdownButton.nativeElement||this.dropdownButton.nativeElement.contains(e.target):!1}equalityKey(){return this.dataKey}onContainerClick(e){this.disabled||this.loading||this.isInputClicked(e)||this.isDropdownClicked(e)||(!this.overlayViewChild||!this.overlayViewChild.overlayViewChild?.nativeElement.contains(e.target))&&ge.focus(this.inputEL.nativeElement)}handleDropdownClick(e){let r;this.overlayVisible?this.hide(!0):(ge.focus(this.inputEL.nativeElement),r=this.inputEL.nativeElement.value,this.dropdownMode==="blank"?this.search(e,"","dropdown"):this.dropdownMode==="current"&&this.search(e,r,"dropdown")),this.onDropdownClick.emit({originalEvent:e,query:r})}onInput(e){this.searchTimeout&&clearTimeout(this.searchTimeout);let r=e.target.value;this.maxlength!==null&&(r=r.split("").slice(0,this.maxlength).join("")),!this.multiple&&!this.forceSelection&&this.updateModel(r),r.length===0&&!this.multiple&&!this.completeOnFocus?(this.onClear.emit(),this.hide()):r.length>=this.minLength?(this.focusedOptionIndex.set(-1),this.searchTimeout=setTimeout(()=>{this.search(e,r,"input")},this.delay)):this.hide()}onInputChange(e){if(this.forceSelection){let r=!1;if(this.visibleOptions()){let l=this.visibleOptions().find(h=>this.isOptionMatched(h,this.inputEL.nativeElement.value||""));l!==void 0&&(r=!0,!this.isSelected(l)&&this.onOptionSelect(e,l))}r||(this.inputEL.nativeElement.value="",!this.multiple&&this.updateModel(null))}}onInputFocus(e){if(this.disabled)return;!this.dirty&&this.completeOnFocus&&(this.search(e,e.target.value,"focus"),this.show()),this.dirty=!0,this.focused=!0;let r=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(r),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(e)}onMultipleContainerFocus(e){this.disabled||(this.focused=!0)}onMultipleContainerBlur(e){this.focusedMultipleOptionIndex.set(-1),this.focused=!1}onMultipleContainerKeyDown(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"ArrowLeft":this.onArrowLeftKeyOnMultiple(e);break;case"ArrowRight":this.onArrowRightKeyOnMultiple(e);break;case"Backspace":this.onBackspaceKeyOnMultiple(e);break;default:break}}onInputBlur(e){this.dirty=!1,this.focused=!1,this.focusedOptionIndex.set(-1),this.onModelTouched(),this.onBlur.emit(e)}onInputPaste(e){this.onKeyDown(e)}onInputKeyUp(e){this.onKeyUp.emit(e)}onKeyDown(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e);break;case"ShiftLeft":case"ShiftRight":break;default:break}}onArrowDownKey(e){if(!this.overlayVisible)return;let r=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),e.preventDefault(),e.stopPropagation()}onArrowUpKey(e){if(this.overlayVisible)if(e.altKey)this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide(),e.preventDefault();else{let r=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),e.preventDefault(),e.stopPropagation()}}onArrowLeftKey(e){let r=e.currentTarget;this.focusedOptionIndex.set(-1),this.multiple&&(Ve.isEmpty(r.value)&&this.hasSelectedOption()?(ge.focus(this.multiContainerEL.nativeElement),this.focusedMultipleOptionIndex.set(this.modelValue().length)):e.stopPropagation())}onArrowRightKey(e){this.focusedOptionIndex.set(-1),this.multiple&&e.stopPropagation()}onHomeKey(e){let{currentTarget:r}=e,l=r.value.length;r.setSelectionRange(0,e.shiftKey?l:0),this.focusedOptionIndex.set(-1),e.preventDefault()}onEndKey(e){let{currentTarget:r}=e,l=r.value.length;r.setSelectionRange(e.shiftKey?0:l,l),this.focusedOptionIndex.set(-1),e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onEnterKey(e){this.overlayVisible?(this.focusedOptionIndex()!==-1&&(this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),e.preventDefault()),this.hide()):this.onArrowDownKey(e)}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onTabKey(e){this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide()}onBackspaceKey(e){if(this.multiple){if(Ve.isNotEmpty(this.modelValue())&&!this.inputEL.nativeElement.value){let r=this.modelValue()[this.modelValue().length-1],l=this.modelValue().slice(0,-1);this.updateModel(l),this.onUnselect.emit({originalEvent:e,value:r})}e.stopPropagation()}!this.multiple&&this.showClear&&this.findSelectedOptionIndex()!=-1&&this.clear()}onArrowLeftKeyOnMultiple(e){let r=this.focusedMultipleOptionIndex()<1?0:this.focusedMultipleOptionIndex()-1;this.focusedMultipleOptionIndex.set(r)}onArrowRightKeyOnMultiple(e){let r=this.focusedMultipleOptionIndex();r++,this.focusedMultipleOptionIndex.set(r),r>this.modelValue().length-1&&(this.focusedMultipleOptionIndex.set(-1),ge.focus(this.inputEL.nativeElement))}onBackspaceKeyOnMultiple(e){this.focusedMultipleOptionIndex()!==-1&&this.removeOption(e,this.focusedMultipleOptionIndex())}onOptionSelect(e,r,l=!0){let h=this.getOptionValue(r);this.multiple?(this.inputEL.nativeElement.value="",this.isSelected(r)||this.updateModel([...this.modelValue()||[],h])):this.updateModel(h),this.onSelect.emit({originalEvent:e,value:r}),l&&this.hide(!0)}onOptionMouseEnter(e,r){this.focusOnHover&&this.changeFocusedOptionIndex(e,r)}search(e,r,l){r!=null&&(l==="input"&&r.trim().length<this.minLength||(this.loading=!0,this.completeMethod.emit({originalEvent:e,query:r})))}removeOption(e,r){e.stopPropagation();let l=this.modelValue()[r],h=this.modelValue().filter((g,y)=>y!==r).map(g=>this.getOptionValue(g));this.updateModel(h),this.onUnselect.emit({originalEvent:e,value:l}),ge.focus(this.inputEL.nativeElement)}updateModel(e){this.value=e,this.modelValue.set(e),this.onModelChange(e),this.updateInputValue(),this.cd.markForCheck()}updateInputValue(){this.inputEL&&this.inputEL.nativeElement&&(this.multiple?this.inputEL.nativeElement.value="":this.inputEL.nativeElement.value=this.inputValue())}autoUpdateModel(){if((this.selectOnFocus||this.autoHighlight)&&this.autoOptionFocus&&!this.hasSelectedOption()){let e=this.findFirstFocusedOptionIndex();this.focusedOptionIndex.set(e),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)}}scrollInView(e=-1){let r=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let l=ge.findSingle(this.itemsViewChild.nativeElement,`li[id="${r}"]`);l?l.scrollIntoView&&l.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}changeFocusedOptionIndex(e,r){this.focusedOptionIndex()!==r&&(this.focusedOptionIndex.set(r),this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions()[r],!1))}show(e=!1){this.dirty=!0,this.overlayVisible=!0;let r=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(r),e&&ge.focus(this.inputEL.nativeElement),e&&ge.focus(this.inputEL.nativeElement),this.onShow.emit(),this.cd.markForCheck()}hide(e=!1){let r=()=>{this.dirty=e,this.overlayVisible=!1,this.focusedOptionIndex.set(-1),e&&ge.focus(this.inputEL.nativeElement),this.onHide.emit(),this.cd.markForCheck()};this.virtualScroll&&this.scroller.onScrollChange(event),setTimeout(()=>{r()},0)}clear(){this.updateModel(null),this.inputEL.nativeElement.value="",this.onClear.emit()}writeValue(e){this.value=e,this.modelValue.set(e),this.updateInputValue(),this.cd.markForCheck()}hasSelectedOption(){return Ve.isNotEmpty(this.modelValue())}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(r=>this.isOptionGroup(r)).length:e)+1}getOptionLabel(e){return this.field||this.optionLabel?Ve.resolveFieldData(e,this.field||this.optionLabel):e&&e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?Ve.resolveFieldData(e,this.optionValue):e}getOptionIndex(e,r){return this.virtualScrollerDisabled?e:r&&r.getItemOptions(e).index}getOptionGroupLabel(e){return this.optionGroupLabel?Ve.resolveFieldData(e,this.optionGroupLabel):e&&e.label!=null?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?Ve.resolveFieldData(e,this.optionGroupChildren):e.items}getSelectedOption(e){return this.optionValue?(this.suggestions||[]).find(r=>Ve.resolveFieldData(r,this.optionValue)===e):e}getMultipleLabel(e){let r=this.getSelectedOption(e);return this.getOptionLabel(r)}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onOverlayAnimationStart(e){if(e.toState==="visible"&&(this.itemsWrapper=ge.findSingle(this.overlayViewChild.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-autocomplete-panel"),this.virtualScroll&&(this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.scroller.viewInit()),this.visibleOptions()&&this.visibleOptions().length))if(this.virtualScroll){let r=this.modelValue()?this.focusedOptionIndex():-1;r!==-1&&this.scroller?.scrollToIndex(r)}else{let r=ge.findSingle(this.itemsWrapper,".p-autocomplete-item.p-highlight");r&&r.scrollIntoView({block:"nearest",inline:"center"})}}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}};d(s,"\u0275fac",function(r){return new(r||s)(Ge(fs),Ge(Sr),Ge(yo),Ge(Wi),Ge(so),Ge(Ha),Ge(ps))}),d(s,"\u0275cmp",je({type:s,selectors:[["p-autoComplete"]],contentQueries:function(r,l,h){if(r&1&&Gi(h,Pi,4),r&2){let g;Je(g=et())&&(l.templates=g)}},viewQuery:function(r,l){if(r&1&&(Ct(uS,5),Ct(cS,5),Ct(pS,5),Ct(hS,5),Ct(fS,5),Ct(dS,5),Ct(mS,5),Ct(gS,5)),r&2){let h;Je(h=et())&&(l.containerEL=h.first),Je(h=et())&&(l.inputEL=h.first),Je(h=et())&&(l.multiInputEl=h.first),Je(h=et())&&(l.multiContainerEL=h.first),Je(h=et())&&(l.dropdownButton=h.first),Je(h=et())&&(l.itemsViewChild=h.first),Je(h=et())&&(l.scroller=h.first),Je(h=et())&&(l.overlayViewChild=h.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(r,l){r&2&&ko("p-inputwrapper-filled",l.filled)("p-inputwrapper-focus",l.focused&&!l.disabled||l.autofocus||l.overlayVisible)("p-autocomplete-clearable",l.showClear&&!l.disabled)},inputs:{minLength:[2,"minLength","minLength",Et],delay:[2,"delay","delay",Et],style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:[2,"readonly","readonly",we],disabled:[2,"disabled","disabled",we],scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",we],virtualScroll:[2,"virtualScroll","virtualScroll",we],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",Et],virtualScrollOptions:"virtualScrollOptions",maxlength:[2,"maxlength","maxlength",e=>Et(e,null)],name:"name",required:[2,"required","required",we],size:[2,"size","size",Et],appendTo:"appendTo",autoHighlight:[2,"autoHighlight","autoHighlight",we],forceSelection:[2,"forceSelection","forceSelection",we],type:"type",autoZIndex:[2,"autoZIndex","autoZIndex",we],baseZIndex:[2,"baseZIndex","baseZIndex",Et],ariaLabel:"ariaLabel",dropdownAriaLabel:"dropdownAriaLabel",ariaLabelledBy:"ariaLabelledBy",dropdownIcon:"dropdownIcon",unique:[2,"unique","unique",we],group:[2,"group","group",we],completeOnFocus:[2,"completeOnFocus","completeOnFocus",we],showClear:[2,"showClear","showClear",we],field:"field",dropdown:[2,"dropdown","dropdown",we],showEmptyMessage:[2,"showEmptyMessage","showEmptyMessage",we],dropdownMode:"dropdownMode",multiple:[2,"multiple","multiple",we],tabindex:[2,"tabindex","tabindex",Et],dataKey:"dataKey",emptyMessage:"emptyMessage",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:[2,"autofocus","autofocus",we],autocomplete:"autocomplete",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",overlayOptions:"overlayOptions",suggestions:"suggestions",itemSize:"itemSize",optionLabel:"optionLabel",optionValue:"optionValue",id:"id",searchMessage:"searchMessage",emptySelectionMessage:"emptySelectionMessage",selectionMessage:"selectionMessage",autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",we],selectOnFocus:[2,"selectOnFocus","selectOnFocus",we],searchLocale:[2,"searchLocale","searchLocale",we],optionDisabled:"optionDisabled",focusOnHover:[2,"focusOnHover","focusOnHover",we],variant:"variant"},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide",onLazyLoad:"onLazyLoad"},features:[jn([dT]),mn],decls:18,vars:24,consts:[["container",""],["overlay",""],["buildInItems",""],["focusInput",""],["multiContainer",""],["token",""],["ddBtn",""],["scroller",""],["items",""],["empty",""],[3,"click","ngClass","ngStyle"],["pAutoFocus","","aria-autocomplete","list","role","combobox",3,"autofocus","ngClass","ngStyle","class","type","autocomplete","required","name","tabindex","readonly","disabled","input","keydown","change","focus","blur","paste","keyup",4,"ngIf"],[4,"ngIf"],["role","listbox",3,"ngClass","tabindex","focus","blur","keydown",4,"ngIf"],["type","button","pButton","","class","p-autocomplete-dropdown p-button-icon-only","pRipple","",3,"disabled","click",4,"ngIf"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","showTransitionOptions","hideTransitionOptions"],[3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["role","status","aria-live","polite",1,"p-hidden-accessible"],["pAutoFocus","","aria-autocomplete","list","role","combobox",3,"input","keydown","change","focus","blur","paste","keyup","autofocus","ngClass","ngStyle","type","autocomplete","required","name","tabindex","readonly","disabled"],[3,"styleClass","click",4,"ngIf"],["class","p-autocomplete-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-autocomplete-clear-icon",3,"click"],["role","listbox",3,"focus","blur","keydown","ngClass","tabindex"],["role","option",3,"ngClass",4,"ngFor","ngForOf"],["role","option",1,"p-autocomplete-input-token"],["pAutoFocus","","role","combobox","aria-autocomplete","list",3,"input","keydown","change","focus","blur","paste","keyup","autofocus","ngClass","ngStyle","autocomplete","required","tabindex","readonly","disabled"],["role","option",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-autocomplete-token-label",4,"ngIf"],[1,"p-autocomplete-token-icon",3,"click"],[3,"styleClass",4,"ngIf"],["class","p-autocomplete-token-icon",4,"ngIf"],[1,"p-autocomplete-token-label"],[3,"styleClass"],[1,"p-autocomplete-token-icon"],[3,"styleClass","spin",4,"ngIf"],["class","p-autocomplete-loader pi-spin ",4,"ngIf"],[3,"styleClass","spin"],[1,"p-autocomplete-loader","pi-spin"],["type","button","pButton","","pRipple","",1,"p-autocomplete-dropdown","p-button-icon-only",3,"click","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-autocomplete-items",3,"ngClass"],["ngFor","",3,"ngForOf"],["class","p-autocomplete-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-autocomplete-item-group",3,"ngStyle"],["pRipple","","role","option",1,"p-autocomplete-item",3,"click","mouseenter","ngStyle","ngClass"],["role","option",1,"p-autocomplete-empty-message",3,"ngStyle"],[4,"ngIf","ngIfElse"]],template:function(r,l){if(r&1){let h=We();G(0,"div",10,0),Oe("click",function(y){return te(h),ie(l.onContainerClick(y))}),U(2,wS,2,23,"input",11)(3,ES,3,2,"ng-container",12)(4,FS,6,27,"ul",13)(5,zS,3,2,"ng-container",12)(6,ZS,4,5,"button",14),G(7,"p-overlay",15,1),Sa("visibleChange",function(y){return te(h),Ia(l.overlayVisible,y)||(l.overlayVisible=y),ie(y)}),Oe("onAnimationStart",function(y){return te(h),ie(l.onOverlayAnimationStart(y))})("onHide",function(){return te(h),ie(l.hide())}),G(9,"div",16),U(10,YS,1,0,"ng-container",17)(11,JS,4,10,"p-scroller",18)(12,tT,2,6,"ng-container",12)(13,hT,4,7,"ng-template",null,2,Tr)(15,fT,1,0,"ng-container",17),K(),G(16,"span",19),Qe(17),K()()()}r&2&&(Re(l.styleClass),I("ngClass",l.containerClass)("ngStyle",l.style),E(2),I("ngIf",!l.multiple),E(),I("ngIf",l.filled&&!l.disabled&&l.showClear&&!l.loading),E(),I("ngIf",l.multiple),E(),I("ngIf",l.loading),E(),I("ngIf",l.dropdown),E(),Ca("visible",l.overlayVisible),I("options",l.overlayOptions)("target","@parent")("appendTo",l.appendTo)("showTransitionOptions",l.showTransitionOptions)("hideTransitionOptions",l.hideTransitionOptions),E(2),Re(l.panelStyleClass),I("ngClass",l.panelClass)("ngStyle",l.panelStyles),E(),I("ngTemplateOutlet",l.headerTemplate),E(),I("ngIf",l.virtualScroll),E(),I("ngIf",!l.virtualScroll),E(3),I("ngTemplateOutlet",l.footerTemplate),E(2),kn(" ",l.selectedMessageText," "))},dependencies:()=>[vn,jo,ln,bn,xn,Tl,Pi,Hl,ms,uu,Xr,zl,qa,or,Qo],styles:[`@layer primeng{.p-autocomplete{display:inline-flex;position:relative}.p-autocomplete-loader{position:absolute;top:50%;margin-top:-.5rem}.p-autocomplete-dd .p-autocomplete-input{flex:1 1 auto;width:1%}.p-autocomplete-dd .p-autocomplete-input,.p-autocomplete-dd .p-autocomplete-multiple-container{border-top-right-radius:0;border-bottom-right-radius:0}.p-autocomplete-dd .p-autocomplete-dropdown{border-top-left-radius:0;border-bottom-left-radius:0}.p-autocomplete-panel{overflow:auto}.p-autocomplete-items{margin:0;padding:0;list-style-type:none}.p-autocomplete-item{cursor:pointer;white-space:nowrap;position:relative;overflow:hidden}.p-autocomplete-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-autocomplete-token{width:fit-content;cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-autocomplete-token-icon{display:flex;cursor:pointer}.p-autocomplete-input-token{flex:1 1 auto;display:inline-flex}.p-autocomplete-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-autocomplete{display:flex}.p-fluid .p-autocomplete-dd .p-autocomplete-input{width:1%}.p-autocomplete-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-autocomplete-clearable{position:relative}}
`],encapsulation:2,changeDetection:0}));let i=s;return i})(),F_=(()=>{let s=class s{};d(s,"\u0275fac",function(r){return new(r||s)}),d(s,"\u0275mod",Bt({type:s})),d(s,"\u0275inj",Vt({imports:[kt,Pa,Ua,Ks,wt,Wr,Ls,kr,zl,qa,or,Qo,Pa,wt,Ls,kr]}));let i=s;return i})();var gT=["input"],_T=(i,s,o,e)=>({"p-checkbox p-component":!0,"p-checkbox-checked":i,"p-checkbox-disabled":s,"p-checkbox-focused":o,"p-variant-filled":e}),yT=(i,s,o)=>({"p-highlight":i,"p-disabled":s,"p-focus":o}),vT=(i,s,o)=>({"p-checkbox-label":!0,"p-checkbox-label-active":i,"p-disabled":s,"p-checkbox-label-focus":o});function xT(i,s){if(i&1&&xe(0,"span",10),i&2){let o=T(3);I("ngClass",o.checkboxIcon),ne("data-pc-section","icon")}}function bT(i,s){i&1&&xe(0,"CheckIcon",11),i&2&&(I("styleClass","p-checkbox-icon"),ne("data-pc-section","icon"))}function wT(i,s){if(i&1&&(Fe(0),U(1,xT,1,2,"span",8)(2,bT,1,2,"CheckIcon",9),Ne()),i&2){let o=T(2);E(),I("ngIf",o.checkboxIcon),E(),I("ngIf",!o.checkboxIcon)}}function CT(i,s){}function IT(i,s){i&1&&U(0,CT,0,0,"ng-template")}function ST(i,s){if(i&1&&(G(0,"span",12),U(1,IT,1,0,null,13),K()),i&2){let o=T(2);ne("data-pc-section","icon"),E(),I("ngTemplateOutlet",o.checkboxIconTemplate)}}function TT(i,s){if(i&1&&(Fe(0),U(1,wT,3,2,"ng-container",5)(2,ST,2,2,"span",7),Ne()),i&2){let o=T();E(),I("ngIf",!o.checkboxIconTemplate),E(),I("ngIf",o.checkboxIconTemplate)}}function ET(i,s){if(i&1){let o=We();G(0,"label",14),Oe("click",function(r){te(o);let l=T(),h=Zi(3);return ie(l.onClick(r,h,!0))}),Qe(1),K()}if(i&2){let o=T();Re(o.labelStyleClass),I("ngClass",Vn(6,vT,o.checked(),o.disabled,o.focused)),ne("for",o.inputId)("data-pc-section","label"),E(),kn(" ",o.label,"")}}var MT={provide:Er,useExisting:Ir(()=>OT),multi:!0},OT=(()=>{let s=class s{constructor(e,r,l){d(this,"cd");d(this,"injector");d(this,"config");d(this,"value");d(this,"name");d(this,"disabled");d(this,"binary");d(this,"label");d(this,"ariaLabelledBy");d(this,"ariaLabel");d(this,"tabindex");d(this,"inputId");d(this,"style");d(this,"styleClass");d(this,"labelStyleClass");d(this,"formControl");d(this,"checkboxIcon");d(this,"readonly");d(this,"required");d(this,"autofocus");d(this,"trueValue",!0);d(this,"falseValue",!1);d(this,"variant","outlined");d(this,"onChange",new qe);d(this,"onFocus",new qe);d(this,"onBlur",new qe);d(this,"inputViewChild");d(this,"templates");d(this,"checkboxIconTemplate");d(this,"model");d(this,"onModelChange",()=>{});d(this,"onModelTouched",()=>{});d(this,"focused",!1);this.cd=e,this.injector=r,this.config=l}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"icon":this.checkboxIconTemplate=e.template;break}})}onClick(e,r,l){e.preventDefault(),!(this.disabled||this.readonly)&&(this.updateModel(e),l&&r.focus())}updateModel(e){let r,l=this.injector.get(fc,null,{optional:!0,self:!0}),h=l&&!this.formControl?l.value:this.model;this.binary?(r=this.checked()?this.falseValue:this.trueValue,this.model=r,this.onModelChange(r)):(this.checked()?r=h.filter(g=>!Ve.equals(g,this.value)):r=h?[...h,this.value]:[this.value],this.onModelChange(r),this.model=r,this.formControl&&this.formControl.setValue(r)),this.onChange.emit({checked:r,originalEvent:e})}handleChange(e){this.readonly||this.updateModel(e)}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(e){this.model=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){setTimeout(()=>{this.disabled=e,this.cd.markForCheck()})}checked(){return this.binary?this.model===this.trueValue:Ve.contains(this.value,this.model)}};d(s,"\u0275fac",function(r){return new(r||s)(Ge(Wi),Ge(ac),Ge(so))}),d(s,"\u0275cmp",je({type:s,selectors:[["p-checkbox"]],contentQueries:function(r,l,h){if(r&1&&Gi(h,Pi,4),r&2){let g;Je(g=et())&&(l.templates=g)}},viewQuery:function(r,l){if(r&1&&Ct(gT,5),r&2){let h;Je(h=et())&&(l.inputViewChild=h.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:[2,"disabled","disabled",we],binary:[2,"binary","binary",we],label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:[2,"tabindex","tabindex",Et],inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:[2,"readonly","readonly",we],required:[2,"required","required",we],autofocus:[2,"autofocus","autofocus",we],trueValue:"trueValue",falseValue:"falseValue",variant:"variant"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[jn([MT]),mn],decls:7,vars:37,consts:[["input",""],[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","pAutoFocus","",3,"change","focus","blur","value","checked","disabled","readonly","autofocus"],[1,"p-checkbox-box",3,"click","ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"click","ngClass"]],template:function(r,l){if(r&1){let h=We();G(0,"div",1)(1,"div",2)(2,"input",3,0),Oe("change",function(y){return te(h),ie(l.handleChange(y))})("focus",function(y){return te(h),ie(l.onInputFocus(y))})("blur",function(y){return te(h),ie(l.onInputBlur(y))}),K()(),G(4,"div",4),Oe("click",function(y){te(h);let w=Zi(3);return ie(l.onClick(y,w,!0))}),U(5,TT,3,2,"ng-container",5),K()(),U(6,ET,2,10,"label",6)}r&2&&(Re(l.styleClass),I("ngStyle",l.style)("ngClass",Sp(28,_T,l.checked(),l.disabled,l.focused,l.variant==="filled"||l.config.inputStyle()==="filled")),ne("data-pc-name","checkbox")("data-pc-section","root"),E(),ne("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),E(),I("value",l.value)("checked",l.checked())("disabled",l.disabled)("readonly",l.readonly)("autofocus",l.autofocus),ne("id",l.inputId)("name",l.name)("tabindex",l.tabindex)("required",l.required)("aria-labelledby",l.ariaLabelledBy)("aria-label",l.ariaLabel)("aria-checked",l.checked())("data-pc-section","hiddenInput"),E(2),I("ngClass",Vn(33,yT,l.checked(),l.disabled,l.focused)),ne("data-p-highlight",l.checked())("data-p-disabled",l.disabled)("data-p-focused",l.focused)("data-pc-section","input"),E(),I("ngIf",l.checked()),E(),I("ngIf",l.label))},dependencies:()=>[vn,ln,bn,xn,Xr,vo],styles:[`@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}
`],encapsulation:2,changeDetection:0}));let i=s;return i})(),N_=(()=>{let s=class s{};d(s,"\u0275fac",function(r){return new(r||s)}),d(s,"\u0275mod",Bt({type:s})),d(s,"\u0275inj",Vt({imports:[kt,kr,vo,wt]}));let i=s;return i})();var Sf=(()=>{let s=class s extends Dt{};d(s,"\u0275fac",(()=>{let e;return function(l){return(e||(e=Mt(s)))(l||s)}})()),d(s,"\u0275cmp",je({type:s,selectors:[["BlankIcon"]],standalone:!0,features:[Ot,Pt],decls:2,vars:0,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg","v-bind","pti()"],["width","1","height","1","fill","currentColor","fill-opacity","0"]],template:function(r,l){r&1&&(dt(),G(0,"svg",0),xe(1,"rect",1),K())},encapsulation:2}));let i=s;return i})();var $u=i=>({height:i}),LT=(i,s,o)=>({"p-dropdown-item":!0,"p-highlight":i,"p-disabled":s,"p-focus":o}),Tf=i=>({$implicit:i});function PT(i,s){i&1&&xe(0,"CheckIcon",4),i&2&&I("styleClass","p-dropdown-check-icon")}function kT(i,s){i&1&&xe(0,"BlankIcon",4),i&2&&I("styleClass","p-dropdown-blank-icon")}function DT(i,s){if(i&1&&(Fe(0),U(1,PT,1,1,"CheckIcon",3)(2,kT,1,1,"BlankIcon",3),Ne()),i&2){let o=T();E(),I("ngIf",o.selected),E(),I("ngIf",!o.selected)}}function RT(i,s){if(i&1&&(G(0,"span"),Qe(1),K()),i&2){let o,e=T();E(),Lt((o=e.label)!==null&&o!==void 0?o:"empty")}}function FT(i,s){i&1&&it(0)}var NT=["container"],AT=["filter"],VT=["focusInput"],BT=["editableInput"],zT=["items"],HT=["scroller"],qT=["overlay"],GT=["firstHiddenFocusableEl"],UT=["lastHiddenFocusableEl"],KT=i=>({"max-height":i}),A_=i=>({options:i}),ZT=i=>({"p-variant-filled":i}),V_=(i,s)=>({$implicit:i,options:s}),YT=()=>({});function jT(i,s){if(i&1&&(Fe(0),Qe(1),Ne()),i&2){let o=T(2);E(),Lt(o.label()==="p-emptylabel"?"\xA0":o.label())}}function WT(i,s){if(i&1&&it(0,25),i&2){let o=T(2);I("ngTemplateOutlet",o.selectedItemTemplate)("ngTemplateOutletContext",nt(2,Tf,o.selectedOption))}}function XT(i,s){if(i&1&&(G(0,"span"),Qe(1),K()),i&2){let o=T(3);E(),Lt(o.label()==="p-emptylabel"?"\xA0":o.label())}}function $T(i,s){if(i&1&&U(0,XT,2,1,"span",18),i&2){let o=T(2);I("ngIf",o.isSelectedOptionEmpty())}}function QT(i,s){if(i&1){let o=We();G(0,"span",23,3),Oe("focus",function(r){te(o);let l=T();return ie(l.onInputFocus(r))})("blur",function(r){te(o);let l=T();return ie(l.onInputBlur(r))})("keydown",function(r){te(o);let l=T();return ie(l.onKeyDown(r))}),U(2,jT,2,1,"ng-container",20)(3,WT,1,4,"ng-container",24)(4,$T,1,1,"ng-template",null,4,Tr),K()}if(i&2){let o,e=Zi(5),r=T();I("ngClass",r.inputClass)("pTooltip",r.tooltip)("tooltipPosition",r.tooltipPosition)("positionStyle",r.tooltipPositionStyle)("tooltipStyleClass",r.tooltipStyleClass)("autofocus",r.autofocus),ne("aria-disabled",r.disabled)("id",r.inputId)("aria-label",r.ariaLabel||(r.label()==="p-emptylabel"?void 0:r.label()))("aria-labelledby",r.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",(o=r.overlayVisible)!==null&&o!==void 0?o:!1)("aria-controls",r.overlayVisible?r.id+"_list":null)("tabindex",r.disabled?-1:r.tabindex)("aria-activedescendant",r.focused?r.focusedOptionId:void 0)("aria-required",r.required)("required",r.required),E(2),I("ngIf",!r.selectedItemTemplate)("ngIfElse",e),E(),I("ngIf",r.selectedItemTemplate&&!r.isSelectedOptionEmpty())}}function JT(i,s){if(i&1){let o=We();G(0,"input",26,5),Oe("input",function(r){te(o);let l=T();return ie(l.onEditableInput(r))})("keydown",function(r){te(o);let l=T();return ie(l.onKeyDown(r))})("focus",function(r){te(o);let l=T();return ie(l.onInputFocus(r))})("blur",function(r){te(o);let l=T();return ie(l.onInputBlur(r))}),K()}if(i&2){let o=T();I("ngClass",o.inputClass)("disabled",o.disabled)("autofocus",o.autofocus),ne("id",o.inputId)("maxlength",o.maxlength)("placeholder",o.modelValue()===void 0||o.modelValue()===null?o.placeholder():void 0)("aria-label",o.ariaLabel||(o.label()==="p-emptylabel"?void 0:o.label()))("aria-activedescendant",o.focused?o.focusedOptionId:void 0)}}function eE(i,s){if(i&1){let o=We();G(0,"TimesIcon",29),Oe("click",function(r){te(o);let l=T(2);return ie(l.clear(r))}),K()}i&2&&(I("styleClass","p-dropdown-clear-icon"),ne("data-pc-section","clearicon"))}function tE(i,s){}function iE(i,s){i&1&&U(0,tE,0,0,"ng-template")}function nE(i,s){if(i&1){let o=We();G(0,"span",30),Oe("click",function(r){te(o);let l=T(2);return ie(l.clear(r))}),U(1,iE,1,0,null,31),K()}if(i&2){let o=T(2);ne("data-pc-section","clearicon"),E(),I("ngTemplateOutlet",o.clearIconTemplate)}}function rE(i,s){if(i&1&&(Fe(0),U(1,eE,1,2,"TimesIcon",27)(2,nE,2,2,"span",28),Ne()),i&2){let o=T();E(),I("ngIf",!o.clearIconTemplate),E(),I("ngIf",o.clearIconTemplate)}}function oE(i,s){i&1&&it(0)}function sE(i,s){if(i&1&&(Fe(0),U(1,oE,1,0,"ng-container",31),Ne()),i&2){let o=T(2);E(),I("ngTemplateOutlet",o.loadingIconTemplate)}}function aE(i,s){if(i&1&&xe(0,"span",34),i&2){let o=T(3);I("ngClass","p-dropdown-trigger-icon pi-spin "+o.loadingIcon)}}function lE(i,s){i&1&&xe(0,"span",35),i&2&&Re("p-dropdown-trigger-icon pi pi-spinner pi-spin")}function uE(i,s){if(i&1&&(Fe(0),U(1,aE,1,1,"span",32)(2,lE,1,2,"span",33),Ne()),i&2){let o=T(2);E(),I("ngIf",o.loadingIcon),E(),I("ngIf",!o.loadingIcon)}}function cE(i,s){if(i&1&&(Fe(0),U(1,sE,2,1,"ng-container",18)(2,uE,3,2,"ng-container",18),Ne()),i&2){let o=T();E(),I("ngIf",o.loadingIconTemplate),E(),I("ngIf",!o.loadingIconTemplate)}}function pE(i,s){if(i&1&&xe(0,"span",39),i&2){let o=T(3);I("ngClass",o.dropdownIcon)}}function hE(i,s){i&1&&xe(0,"ChevronDownIcon",40),i&2&&I("styleClass","p-dropdown-trigger-icon")}function fE(i,s){if(i&1&&(Fe(0),U(1,pE,1,1,"span",37)(2,hE,1,1,"ChevronDownIcon",38),Ne()),i&2){let o=T(2);E(),I("ngIf",o.dropdownIcon),E(),I("ngIf",!o.dropdownIcon)}}function dE(i,s){}function mE(i,s){i&1&&U(0,dE,0,0,"ng-template")}function gE(i,s){if(i&1&&(G(0,"span",41),U(1,mE,1,0,null,31),K()),i&2){let o=T(2);E(),I("ngTemplateOutlet",o.dropdownIconTemplate)}}function _E(i,s){if(i&1&&U(0,fE,3,2,"ng-container",18)(1,gE,2,1,"span",36),i&2){let o=T();I("ngIf",!o.dropdownIconTemplate),E(),I("ngIf",o.dropdownIconTemplate)}}function yE(i,s){i&1&&it(0)}function vE(i,s){i&1&&it(0)}function xE(i,s){if(i&1&&(Fe(0),U(1,vE,1,0,"ng-container",48),Ne()),i&2){let o=T(3);E(),I("ngTemplateOutlet",o.filterTemplate)("ngTemplateOutletContext",nt(2,A_,o.filterOptions))}}function bE(i,s){i&1&&xe(0,"SearchIcon",40),i&2&&I("styleClass","p-dropdown-filter-icon")}function wE(i,s){}function CE(i,s){i&1&&U(0,wE,0,0,"ng-template")}function IE(i,s){if(i&1&&(G(0,"span",52),U(1,CE,1,0,null,31),K()),i&2){let o=T(4);E(),I("ngTemplateOutlet",o.filterIconTemplate)}}function SE(i,s){if(i&1){let o=We();G(0,"div",49)(1,"input",50,10),Oe("input",function(r){te(o);let l=T(3);return ie(l.onFilterInputChange(r))})("keydown",function(r){te(o);let l=T(3);return ie(l.onFilterKeyDown(r))})("blur",function(r){te(o);let l=T(3);return ie(l.onFilterBlur(r))}),K(),U(3,bE,1,1,"SearchIcon",38)(4,IE,2,1,"span",51),K()}if(i&2){let o=T(3);E(),I("value",o._filterValue()||"")("ngClass",nt(8,ZT,o.variant==="filled"||o.config.inputStyle()==="filled")),ne("placeholder",o.filterPlaceholder)("aria-owns",o.id+"_list")("aria-label",o.ariaFilterLabel)("aria-activedescendant",o.focusedOptionId),E(2),I("ngIf",!o.filterIconTemplate),E(),I("ngIf",o.filterIconTemplate)}}function TE(i,s){if(i&1){let o=We();G(0,"div",47),Oe("click",function(r){return te(o),ie(r.stopPropagation())}),U(1,xE,2,4,"ng-container",20)(2,SE,5,10,"ng-template",null,9,Tr),K()}if(i&2){let o=Zi(3),e=T(2);E(),I("ngIf",e.filterTemplate)("ngIfElse",o)}}function EE(i,s){i&1&&it(0)}function ME(i,s){if(i&1&&U(0,EE,1,0,"ng-container",48),i&2){let o=s.$implicit,e=s.options;T(2);let r=Zi(9);I("ngTemplateOutlet",r)("ngTemplateOutletContext",Hi(2,V_,o,e))}}function OE(i,s){i&1&&it(0)}function LE(i,s){if(i&1&&U(0,OE,1,0,"ng-container",48),i&2){let o=s.options,e=T(4);I("ngTemplateOutlet",e.loaderTemplate)("ngTemplateOutletContext",nt(2,A_,o))}}function PE(i,s){i&1&&(Fe(0),U(1,LE,1,4,"ng-template",54),Ne())}function kE(i,s){if(i&1){let o=We();G(0,"p-scroller",53,11),Oe("onLazyLoad",function(r){te(o);let l=T(2);return ie(l.onLazyLoad.emit(r))}),U(2,ME,1,5,"ng-template",22)(3,PE,2,0,"ng-container",18),K()}if(i&2){let o=T(2);Ba(nt(8,$u,o.scrollHeight)),I("items",o.visibleOptions())("itemSize",o.virtualScrollItemSize||o._itemSize)("autoSize",!0)("lazy",o.lazy)("options",o.virtualScrollOptions),E(3),I("ngIf",o.loaderTemplate)}}function DE(i,s){i&1&&it(0)}function RE(i,s){if(i&1&&(Fe(0),U(1,DE,1,0,"ng-container",48),Ne()),i&2){T();let o=Zi(9),e=T();E(),I("ngTemplateOutlet",o)("ngTemplateOutletContext",Hi(3,V_,e.visibleOptions(),Yo(2,YT)))}}function FE(i,s){if(i&1&&(G(0,"span"),Qe(1),K()),i&2){let o=T(2).$implicit,e=T(3);E(),Lt(e.getOptionGroupLabel(o.optionGroup))}}function NE(i,s){i&1&&it(0)}function AE(i,s){if(i&1&&(Fe(0),G(1,"li",58),U(2,FE,2,1,"span",18)(3,NE,1,0,"ng-container",48),K(),Ne()),i&2){let o=T(),e=o.$implicit,r=o.index,l=T().options,h=T(2);E(),I("ngStyle",nt(5,$u,l.itemSize+"px")),ne("id",h.id+"_"+h.getOptionIndex(r,l)),E(),I("ngIf",!h.groupTemplate),E(),I("ngTemplateOutlet",h.groupTemplate)("ngTemplateOutletContext",nt(7,Tf,e.optionGroup))}}function VE(i,s){if(i&1){let o=We();Fe(0),G(1,"p-dropdownItem",59),Oe("onClick",function(r){te(o);let l=T().$implicit,h=T(3);return ie(h.onOptionSelect(r,l))})("onMouseEnter",function(r){te(o);let l=T().index,h=T().options,g=T(2);return ie(g.onOptionMouseEnter(r,g.getOptionIndex(l,h)))}),K(),Ne()}if(i&2){let o=T(),e=o.$implicit,r=o.index,l=T().options,h=T(2);E(),I("id",h.id+"_"+h.getOptionIndex(r,l))("option",e)("checkmark",h.checkmark)("selected",h.isSelected(e))("label",h.getOptionLabel(e))("disabled",h.isOptionDisabled(e))("template",h.itemTemplate)("focused",h.focusedOptionIndex()===h.getOptionIndex(r,l))("ariaPosInset",h.getAriaPosInset(h.getOptionIndex(r,l)))("ariaSetSize",h.ariaSetSize)}}function BE(i,s){if(i&1&&U(0,AE,4,9,"ng-container",18)(1,VE,2,10,"ng-container",18),i&2){let o=s.$implicit,e=T(3);I("ngIf",e.isOptionGroup(o)),E(),I("ngIf",!e.isOptionGroup(o))}}function zE(i,s){if(i&1&&(Fe(0),Qe(1),Ne()),i&2){let o=T(4);E(),kn(" ",o.emptyFilterMessageLabel," ")}}function HE(i,s){i&1&&it(0,null,13)}function qE(i,s){if(i&1&&(G(0,"li",60),U(1,zE,2,1,"ng-container",20)(2,HE,2,0,"ng-container",31),K()),i&2){let o=T().options,e=T(2);I("ngStyle",nt(4,$u,o.itemSize+"px")),E(),I("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),E(),I("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function GE(i,s){if(i&1&&(Fe(0),Qe(1),Ne()),i&2){let o=T(4);E(),kn(" ",o.emptyMessageLabel," ")}}function UE(i,s){i&1&&it(0,null,14)}function KE(i,s){if(i&1&&(G(0,"li",60),U(1,GE,2,1,"ng-container",20)(2,UE,2,0,"ng-container",31),K()),i&2){let o=T().options,e=T(2);I("ngStyle",nt(4,$u,o.itemSize+"px")),E(),I("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),E(),I("ngTemplateOutlet",e.emptyTemplate)}}function ZE(i,s){if(i&1&&(G(0,"ul",55,12),U(2,BE,2,2,"ng-template",56)(3,qE,3,6,"li",57)(4,KE,3,6,"li",57),K()),i&2){let o=s.$implicit,e=s.options,r=T(2);I("ngClass",e.contentStyleClass)("ngStyle",e.contentStyle),ne("id",r.id+"_list")("aria-label",r.listLabel),E(2),I("ngForOf",o),E(),I("ngIf",r.filterValue&&r.isEmpty()),E(),I("ngIf",!r.filterValue&&r.isEmpty())}}function YE(i,s){i&1&&it(0)}function jE(i,s){if(i&1){let o=We();G(0,"div",42)(1,"span",43,6),Oe("focus",function(r){te(o);let l=T();return ie(l.onFirstHiddenFocus(r))}),K(),U(3,yE,1,0,"ng-container",31)(4,TE,4,2,"div",44),G(5,"div",45),U(6,kE,4,10,"p-scroller",46)(7,RE,2,6,"ng-container",18)(8,ZE,5,7,"ng-template",null,7,Tr),K(),U(10,YE,1,0,"ng-container",31),G(11,"span",43,8),Oe("focus",function(r){te(o);let l=T();return ie(l.onLastHiddenFocus(r))}),K()()}if(i&2){let o=T();Re(o.panelStyleClass),I("ngClass","p-dropdown-panel p-component")("ngStyle",o.panelStyle),E(),ne("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),E(2),I("ngTemplateOutlet",o.headerTemplate),E(),I("ngIf",o.filter),E(),I("ngStyle",nt(16,KT,o.virtualScroll?"auto":o.scrollHeight||"auto")),E(),I("ngIf",o.virtualScroll),E(),I("ngIf",!o.virtualScroll),E(3),I("ngTemplateOutlet",o.footerTemplate),E(),ne("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var WE={provide:Er,useExisting:Ir(()=>$E),multi:!0},XE=(()=>{let s=class s{constructor(){d(this,"id");d(this,"option");d(this,"selected");d(this,"focused");d(this,"label");d(this,"disabled");d(this,"visible");d(this,"itemSize");d(this,"ariaPosInset");d(this,"ariaSetSize");d(this,"template");d(this,"checkmark");d(this,"onClick",new qe);d(this,"onMouseEnter",new qe)}ngOnInit(){}onOptionClick(e){this.onClick.emit(e)}onOptionMouseEnter(e){this.onMouseEnter.emit(e)}};d(s,"\u0275fac",function(r){return new(r||s)}),d(s,"\u0275cmp",je({type:s,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:[2,"selected","selected",we],focused:[2,"focused","focused",we],label:"label",disabled:[2,"disabled","disabled",we],visible:[2,"visible","visible",we],itemSize:[2,"itemSize","itemSize",Et],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkmark:[2,"checkmark","checkmark",we]},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[mn],decls:4,vars:22,consts:[["role","option","pRipple","",3,"click","mouseenter","id","ngStyle","ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(r,l){r&1&&(G(0,"li",0),Oe("click",function(g){return l.onOptionClick(g)})("mouseenter",function(g){return l.onOptionMouseEnter(g)}),U(1,DT,3,2,"ng-container",1)(2,RT,2,1,"span",1)(3,FT,1,0,"ng-container",2),K()),r&2&&(I("id",l.id)("ngStyle",nt(14,$u,l.itemSize+"px"))("ngClass",Vn(16,LT,l.selected,l.disabled,l.focused)),ne("aria-label",l.label)("aria-setsize",l.ariaSetSize)("aria-posinset",l.ariaPosInset)("aria-selected",l.selected)("data-p-focused",l.focused)("data-p-highlight",l.selected)("data-p-disabled",l.disabled),E(),I("ngIf",l.checkmark),E(),I("ngIf",!l.template),E(),I("ngTemplateOutlet",l.template)("ngTemplateOutletContext",nt(20,Tf,l.option)))},dependencies:()=>[vn,ln,bn,xn,ms,Sf,vo],encapsulation:2}));let i=s;return i})(),$E=(()=>{let s=class s{constructor(e,r,l,h,g,y){d(this,"el");d(this,"renderer");d(this,"cd");d(this,"zone");d(this,"filterService");d(this,"config");d(this,"id");d(this,"scrollHeight","200px");d(this,"filter");d(this,"name");d(this,"style");d(this,"panelStyle");d(this,"styleClass");d(this,"panelStyleClass");d(this,"readonly");d(this,"required");d(this,"editable");d(this,"appendTo");d(this,"tabindex",0);d(this,"loadingIcon");d(this,"filterPlaceholder");d(this,"filterLocale");d(this,"variant","outlined");d(this,"inputId");d(this,"dataKey");d(this,"filterBy");d(this,"filterFields");d(this,"autofocus");d(this,"resetFilterOnHide",!1);d(this,"checkmark",!1);d(this,"dropdownIcon");d(this,"loading",!1);d(this,"optionLabel");d(this,"optionValue");d(this,"optionDisabled");d(this,"optionGroupLabel","label");d(this,"optionGroupChildren","items");d(this,"autoDisplayFirst",!0);d(this,"group");d(this,"showClear");d(this,"emptyFilterMessage","");d(this,"emptyMessage","");d(this,"lazy",!1);d(this,"virtualScroll");d(this,"virtualScrollItemSize");d(this,"virtualScrollOptions");d(this,"overlayOptions");d(this,"ariaFilterLabel");d(this,"ariaLabel");d(this,"ariaLabelledBy");d(this,"filterMatchMode","contains");d(this,"maxlength");d(this,"tooltip","");d(this,"tooltipPosition","right");d(this,"tooltipPositionStyle","absolute");d(this,"tooltipStyleClass");d(this,"focusOnHover",!1);d(this,"selectOnFocus",!1);d(this,"autoOptionFocus",!0);d(this,"autofocusFilter",!0);d(this,"_itemSize");d(this,"_autoZIndex");d(this,"_baseZIndex");d(this,"_showTransitionOptions");d(this,"_hideTransitionOptions");d(this,"onChange",new qe);d(this,"onFilter",new qe);d(this,"onFocus",new qe);d(this,"onBlur",new qe);d(this,"onClick",new qe);d(this,"onShow",new qe);d(this,"onHide",new qe);d(this,"onClear",new qe);d(this,"onLazyLoad",new qe);d(this,"containerViewChild");d(this,"filterViewChild");d(this,"focusInputViewChild");d(this,"editableInputViewChild");d(this,"itemsViewChild");d(this,"scroller");d(this,"overlayViewChild");d(this,"firstHiddenFocusableElementOnOverlay");d(this,"lastHiddenFocusableElementOnOverlay");d(this,"templates");d(this,"_disabled");d(this,"itemsWrapper");d(this,"itemTemplate");d(this,"groupTemplate");d(this,"loaderTemplate");d(this,"selectedItemTemplate");d(this,"headerTemplate");d(this,"filterTemplate");d(this,"footerTemplate");d(this,"emptyFilterTemplate");d(this,"emptyTemplate");d(this,"dropdownIconTemplate");d(this,"loadingIconTemplate");d(this,"clearIconTemplate");d(this,"filterIconTemplate");d(this,"filterOptions");d(this,"_options",Pr(null));d(this,"_placeholder",Pr(void 0));d(this,"modelValue",Pr(null));d(this,"value");d(this,"onModelChange",()=>{});d(this,"onModelTouched",()=>{});d(this,"hover");d(this,"focused");d(this,"overlayVisible");d(this,"optionsChanged");d(this,"panel");d(this,"dimensionsUpdated");d(this,"hoveredItem");d(this,"selectedOptionUpdated");d(this,"_filterValue",Pr(null));d(this,"searchValue");d(this,"searchIndex");d(this,"searchTimeout");d(this,"previousSearchChar");d(this,"currentSearchChar");d(this,"preventModelTouched");d(this,"focusedOptionIndex",Pr(-1));d(this,"labelId");d(this,"listId");d(this,"clicked",Pr(!1));d(this,"visibleOptions",Ms(()=>{let e=this.getAllVisibleAndNonVisibleOptions();if(this._filterValue()){let l=!(this.filterBy||this.optionLabel)&&!this.filterFields&&!this.optionValue?this.options.filter(h=>h.label?h.label.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1:h.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1):this.filterService.filter(e,this.searchFields(),this._filterValue().trim(),this.filterMatchMode,this.filterLocale);if(this.group){let h=this.options||[],g=[];return h.forEach(y=>{let k=this.getOptionGroupChildren(y).filter(R=>l.includes(R));k.length>0&&g.push(Es(Cr({},y),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...k]}))}),this.flatOptions(g)}return l}return e}));d(this,"label",Ms(()=>{let e=this.getAllVisibleAndNonVisibleOptions(),r=e.findIndex(l=>this.isOptionValueEqualsModelValue(l));return r!==-1?this.getOptionLabel(e[r]):this.placeholder()||"p-emptylabel"}));d(this,"filled",Ms(()=>typeof this.modelValue()=="string"?!!this.modelValue():this.label()!=="p-emptylabel"&&this.modelValue()!==void 0&&this.modelValue()!==null));d(this,"selectedOption");d(this,"editableInputValue",Ms(()=>this.getOptionLabel(this.selectedOption)||this.modelValue()||""));this.el=e,this.renderer=r,this.cd=l,this.zone=h,this.filterService=g,this.config=y,Vl(()=>{let w=this.modelValue(),k=this.visibleOptions();if(k&&Ve.isNotEmpty(k)){let R=this.findSelectedOptionIndex();(R!==-1||w===void 0||typeof w=="string"&&w.length===0||this.isModelValueNotSet()||this.editable)&&(this.selectedOption=k[R])}Ve.isEmpty(k)&&(w===void 0||this.isModelValueNotSet())&&Ve.isNotEmpty(this.selectedOption)&&(this.selectedOption=null),w!==void 0&&this.editable&&this.updateEditableLabel(),this.cd.markForCheck()})}set placeholder(e){this._placeholder.set(e)}get placeholder(){return this._placeholder.asReadonly()}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get filterValue(){return this._filterValue()}set filterValue(e){setTimeout(()=>{this._filterValue.set(e)})}get options(){return this._options()}set options(e){Ve.deepEquals(e,this._options())||this._options.set(e)}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Wn.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Wn.EMPTY_FILTER_MESSAGE)}get isVisibleClearIcon(){return this.modelValue()!=null&&this.hasSelectedOption()&&this.showClear&&!this.disabled}get listLabel(){return this.config.getTranslation(Wn.ARIA).listLabel}get containerClass(){return{"p-dropdown p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-dropdown-clearable":this.showClear&&!this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue()!==void 0&&this.modelValue()!==null&&!this.modelValue().length,"p-inputwrapper-focus":this.focused||this.overlayVisible,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled","p-dropdown-open":this.overlayVisible}}get inputClass(){let e=this.label();return{"p-dropdown-label p-inputtext":!0,"p-placeholder":this.placeholder()&&e===this.placeholder(),"p-dropdown-label-empty":!this.editable&&!this.selectedItemTemplate&&(e==null||e==="p-emptylabel"||e.length===0)}}get panelClass(){return{"p-dropdown-panel p-component":!0,"p-input-filled":this.config.inputStyle()==="filled","p-ripple-disabled":this.config.ripple===!1}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}isModelValueNotSet(){return this.modelValue()===null&&!this.isOptionValueEqualsModelValue(this.selectedOption)}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}ngOnInit(){this.id=this.id||un(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let e=ge.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,"li.p-highlight");e&&ge.scrollInView(this.itemsWrapper,e),this.selectedOptionUpdated=!1}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}flatOptions(e){return(e||[]).reduce((r,l,h)=>{r.push({optionGroup:l,group:!0,index:h});let g=this.getOptionGroupChildren(l);return g&&g.forEach(y=>r.push(y)),r},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&(this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex()),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)),this.autoDisplayFirst&&(this.modelValue()===null||this.modelValue()===void 0)&&!this.placeholder()){let e=this.findFirstOptionIndex();this.onOptionSelect(null,this.visibleOptions()[e],!1,!0)}}onOptionSelect(e,r,l=!0,h=!1){if(!this.isSelected(r)){let g=this.getOptionValue(r);this.updateModel(g,e),this.focusedOptionIndex.set(this.findSelectedOptionIndex()),h===!1&&this.onChange.emit({originalEvent:e,value:g})}l&&this.hide(!0)}onOptionMouseEnter(e,r){this.focusOnHover&&this.changeFocusedOptionIndex(e,r)}updateModel(e,r){this.value=e,this.onModelChange(e),this.modelValue.set(e),this.selectedOptionUpdated=!0}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.allowModelChange()&&this.onModelChange(e),this.modelValue.set(this.value),this.updateEditableLabel(),this.cd.markForCheck()}allowModelChange(){return this.autoDisplayFirst&&!this.placeholder()&&(this.modelValue()===void 0||this.modelValue()===null)&&!this.editable&&this.options&&this.options.length}isSelectedOptionEmpty(){return Ve.isEmpty(this.selectedOption)}isSelected(e){return this.isValidOption(e)&&this.isOptionValueEqualsModelValue(e)}isOptionValueEqualsModelValue(e){return Ve.equals(this.modelValue(),this.getOptionValue(e),this.equalityKey())}ngAfterViewInit(){this.editable&&this.updateEditableLabel(),this.updatePlaceHolderForFloatingLabel()}updatePlaceHolderForFloatingLabel(){if(this._placeholder()!==null&&this._placeholder()!==void 0)return;let e=this.el.nativeElement.parentElement,r=e?.classList.contains("p-float-label");if(e&&r&&!this.selectedOption){let l=e.querySelector("label");l&&this._placeholder.set(l.textContent)}}updateEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value=this.getOptionLabel(this.selectedOption)||this.modelValue()||"")}clearEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value="")}getOptionIndex(e,r){return this.virtualScrollerDisabled?e:r&&r.getItemOptions(e).index}getOptionLabel(e){return this.optionLabel!==void 0&&this.optionLabel!==null?Ve.resolveFieldData(e,this.optionLabel):e&&e.label!==void 0?e.label:e}getOptionValue(e){return this.optionValue&&this.optionValue!==null?Ve.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}isOptionDisabled(e){return this.getOptionValue(this.modelValue())===this.getOptionValue(e)||this.getOptionLabel(this.modelValue()===this.getOptionLabel(e))&&e.disabled===!1?!1:this.optionDisabled?Ve.resolveFieldData(e,this.optionDisabled):e&&e.disabled!==void 0?e.disabled:!1}getOptionGroupLabel(e){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null?Ve.resolveFieldData(e,this.optionGroupLabel):e&&e.label!==void 0?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren!==void 0&&this.optionGroupChildren!==null?Ve.resolveFieldData(e,this.optionGroupChildren):e.items}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(r=>this.isOptionGroup(r)).length:e)+1}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}resetFilter(){this._filterValue.set(null),this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onContainerClick(e){this.disabled||this.readonly||this.loading||(this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),!(e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]'))&&((!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.onClick.emit(e),this.clicked.set(!0),this.cd.detectChanges()))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}onEditableInput(e){let r=e.target.value;this.searchValue="",!this.searchOptions(e,r)&&this.focusedOptionIndex.set(-1),this.onModelChange(r),this.updateModel(r,e),setTimeout(()=>{this.onChange.emit({originalEvent:e,value:r})},1),!this.overlayVisible&&Ve.isNotEmpty(r)&&this.show()}show(e){this.overlayVisible=!0;let r=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex();this.focusedOptionIndex.set(r),e&&ge.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(e){if(e.toState==="visible"){if(this.itemsWrapper=ge.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){let r=this.modelValue()?this.focusedOptionIndex():-1;r!==-1&&this.scroller?.scrollToIndex(r)}else{let r=ge.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");r&&r.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&!this.editable&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e)}e.toState==="void"&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(e))}hide(e){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.clicked.set(!1),this.searchValue="",this.overlayOptions?.mode==="modal"&&ge.unblockBodyScroll(),this.filter&&this.resetFilterOnHide&&this.resetFilter(),e&&(this.focusInputViewChild&&setTimeout(()=>{ge.focus(this.focusInputViewChild?.nativeElement)}),this.editable&&this.editableInputViewChild&&setTimeout(()=>{ge.focus(this.editableInputViewChild?.nativeElement)})),this.cd.markForCheck()}onInputFocus(e){if(this.disabled)return;this.focused=!0;let r=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(r),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onMouseDown(e){e.preventDefault()}onKeyDown(e,r){if(!(this.disabled||this.readonly||this.loading)){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Delete":this.onDeleteKey(e);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,r);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!e.metaKey&&Ve.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked.set(!1)}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e,!0);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break;default:break}}onFilterBlur(e){this.focusedOptionIndex.set(-1)}onArrowDownKey(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{let r=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,r)}e.preventDefault(),e.stopPropagation()}changeFocusedOptionIndex(e,r){if(this.focusedOptionIndex()!==r&&(this.focusedOptionIndex.set(r),this.scrollInView(),this.selectOnFocus)){let l=this.visibleOptions()[r];this.onOptionSelect(e,l,!1)}}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(e=-1){let r=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let l=ge.findSingle(this.itemsViewChild.nativeElement,`li[id="${r}"]`);l?l.scrollIntoView&&l.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}hasSelectedOption(){return this.modelValue()!==void 0}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}equalityKey(){return this.optionValue?null:this.dataKey}findFirstFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let r=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(l=>this.isValidOption(l)):-1;return r>-1?r+e+1:e}findPrevOptionIndex(e){let r=e>0?Ve.findLastIndex(this.visibleOptions().slice(0,e),l=>this.isValidOption(l)):-1;return r>-1?r:e}findLastOptionIndex(){return Ve.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}findLastFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}isValidOption(e){return e!=null&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionGroup(e){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null&&e.optionGroup!==void 0&&e.optionGroup!==null&&e.group}onArrowUpKey(e,r=!1){if(e.altKey&&!r){if(this.focusedOptionIndex()!==-1){let l=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,l)}this.overlayVisible&&this.hide()}else{let l=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,l),!this.overlayVisible&&this.show()}e.preventDefault(),e.stopPropagation()}onArrowLeftKey(e,r=!1){r&&this.focusedOptionIndex.set(-1)}onDeleteKey(e){this.showClear&&(this.clear(e),e.preventDefault())}onHomeKey(e,r=!1){if(r){let l=e.currentTarget;e.shiftKey?l.setSelectionRange(0,l.value.length):(l.setSelectionRange(0,0),this.focusedOptionIndex.set(-1))}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onEndKey(e,r=!1){if(r){let l=e.currentTarget;if(e.shiftKey)l.setSelectionRange(0,l.value.length);else{let h=l.value.length;l.setSelectionRange(h,h),this.focusedOptionIndex.set(-1)}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onSpaceKey(e,r=!1){!this.editable&&!r&&this.onEnterKey(e)}onEnterKey(e,r=!1){if(!this.overlayVisible)this.focusedOptionIndex.set(-1),this.onArrowDownKey(e);else{if(this.focusedOptionIndex()!==-1){let l=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,l)}!r&&this.hide()}e.preventDefault()}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onTabKey(e,r=!1){if(!r)if(this.overlayVisible&&this.hasFocusableElements())ge.focus(e.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),e.preventDefault();else{if(this.focusedOptionIndex()!==-1&&this.overlayVisible){let l=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,l)}this.overlayVisible&&this.hide(this.filter)}e.stopPropagation()}onFirstHiddenFocus(e){let r=e.relatedTarget===this.focusInputViewChild?.nativeElement?ge.getFirstFocusableElement(this.overlayViewChild.el?.nativeElement,":not(.p-hidden-focusable)"):this.focusInputViewChild?.nativeElement;ge.focus(r)}onLastHiddenFocus(e){let r=e.relatedTarget===this.focusInputViewChild?.nativeElement?ge.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;ge.focus(r)}hasFocusableElements(){return ge.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"]):not([class="p-dropdown-items-wrapper"])').length>0}onBackspaceKey(e,r=!1){r&&!this.overlayVisible&&this.show()}searchFields(){return this.filterBy?.split(",")||this.filterFields||[this.optionLabel]}searchOptions(e,r){this.searchValue=(this.searchValue||"")+r;let l=-1,h=!1;return this.focusedOptionIndex()!==-1?(l=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(g=>this.isOptionMatched(g)),l=l===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(g=>this.isOptionMatched(g)):l+this.focusedOptionIndex()):l=this.visibleOptions().findIndex(g=>this.isOptionMatched(g)),l!==-1&&(h=!0),l===-1&&this.focusedOptionIndex()===-1&&(l=this.findFirstFocusedOptionIndex()),l!==-1&&this.changeFocusedOptionIndex(e,l),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),h}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}onFilterInputChange(e){let r=e.target.value;this._filterValue.set(r),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()}),this.cd.markForCheck()}applyFocus(){this.editable?ge.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():ge.focus(this.focusInputViewChild?.nativeElement)}focus(){this.applyFocus()}clear(e){this.updateModel(null,e),this.clearEditableLabel(),this.onModelTouched(),this.onChange.emit({originalEvent:e,value:this.value}),this.onClear.emit(e),this.resetFilter()}};d(s,"\u0275fac",function(r){return new(r||s)(Ge(Sr),Ge(yo),Ge(Wi),Ge(ps),Ge(pc),Ge(so))}),d(s,"\u0275cmp",je({type:s,selectors:[["p-dropdown"]],contentQueries:function(r,l,h){if(r&1&&Gi(h,Pi,4),r&2){let g;Je(g=et())&&(l.templates=g)}},viewQuery:function(r,l){if(r&1&&(Ct(NT,5),Ct(AT,5),Ct(VT,5),Ct(BT,5),Ct(zT,5),Ct(HT,5),Ct(qT,5),Ct(GT,5),Ct(UT,5)),r&2){let h;Je(h=et())&&(l.containerViewChild=h.first),Je(h=et())&&(l.filterViewChild=h.first),Je(h=et())&&(l.focusInputViewChild=h.first),Je(h=et())&&(l.editableInputViewChild=h.first),Je(h=et())&&(l.itemsViewChild=h.first),Je(h=et())&&(l.scroller=h.first),Je(h=et())&&(l.overlayViewChild=h.first),Je(h=et())&&(l.firstHiddenFocusableElementOnOverlay=h.first),Je(h=et())&&(l.lastHiddenFocusableElementOnOverlay=h.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(r,l){r&2&&ko("p-inputwrapper-filled",l.filled())("p-inputwrapper-focus",l.focused||l.overlayVisible)},inputs:{id:"id",scrollHeight:"scrollHeight",filter:[2,"filter","filter",we],name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:[2,"readonly","readonly",we],required:[2,"required","required",we],editable:[2,"editable","editable",we],appendTo:"appendTo",tabindex:[2,"tabindex","tabindex",Et],placeholder:"placeholder",loadingIcon:"loadingIcon",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",variant:"variant",inputId:"inputId",dataKey:"dataKey",filterBy:"filterBy",filterFields:"filterFields",autofocus:[2,"autofocus","autofocus",we],resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",we],checkmark:[2,"checkmark","checkmark",we],dropdownIcon:"dropdownIcon",loading:[2,"loading","loading",we],optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:[2,"autoDisplayFirst","autoDisplayFirst",we],group:[2,"group","group",we],showClear:[2,"showClear","showClear",we],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:[2,"lazy","lazy",we],virtualScroll:[2,"virtualScroll","virtualScroll",we],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",Et],virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:[2,"maxlength","maxlength",Et],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",focusOnHover:[2,"focusOnHover","focusOnHover",we],selectOnFocus:[2,"selectOnFocus","selectOnFocus",we],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",we],autofocusFilter:[2,"autofocusFilter","autofocusFilter",we],disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterValue:"filterValue",options:"options"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[jn([WE]),mn],decls:12,vars:20,consts:[["container",""],["elseBlock",""],["overlay",""],["focusInput",""],["defaultPlaceholder",""],["editableInput",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["filter",""],["scroller",""],["items",""],["emptyFilter",""],["empty",""],[3,"click","ngClass","ngStyle"],["role","combobox","pAutoFocus","",3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus","focus","blur","keydown",4,"ngIf"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"ngClass","disabled","autofocus","input","keydown","focus","blur",4,"ngIf"],[4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger",3,"mousedown"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],["role","combobox","pAutoFocus","",3,"focus","blur","keydown","ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"input","keydown","focus","blur","ngClass","disabled","autofocus"],[3,"styleClass","click",4,"ngIf"],["class","p-dropdown-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-dropdown-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-dropdown-trigger-icon",4,"ngIf"],["class","p-dropdown-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-dropdown-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-dropdown-header",3,"click",4,"ngIf"],["tabindex","0",1,"p-dropdown-items-wrapper",3,"ngStyle"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[1,"p-dropdown-header",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-dropdown-filter-container"],["type","text","role","searchbox","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"input","keydown","blur","value","ngClass"],["class","p-dropdown-filter-icon",4,"ngIf"],[1,"p-dropdown-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-dropdown-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-dropdown-item-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","checkmark","selected","label","disabled","template","focused","ariaPosInset","ariaSetSize"],["role","option",1,"p-dropdown-empty-message",3,"ngStyle"]],template:function(r,l){if(r&1){let h=We();G(0,"div",15,0),Oe("click",function(y){return te(h),ie(l.onContainerClick(y))}),U(2,QT,6,20,"span",16)(3,JT,2,8,"input",17)(4,rE,3,2,"ng-container",18),G(5,"div",19),Oe("mousedown",function(y){return te(h),ie(l.onMouseDown(y))}),U(6,cE,3,2,"ng-container",20)(7,_E,2,2,"ng-template",null,1,Tr),K(),G(9,"p-overlay",21,2),Sa("visibleChange",function(y){return te(h),Ia(l.overlayVisible,y)||(l.overlayVisible=y),ie(y)}),Oe("onAnimationStart",function(y){return te(h),ie(l.onOverlayAnimationStart(y))})("onHide",function(){return te(h),ie(l.hide())}),U(11,jE,13,18,"ng-template",22),K()()}if(r&2){let h,g=Zi(8);Re(l.styleClass),I("ngClass",l.containerClass)("ngStyle",l.style),ne("id",l.id),E(2),I("ngIf",!l.editable),E(),I("ngIf",l.editable),E(),I("ngIf",l.isVisibleClearIcon),E(),ne("aria-expanded",(h=l.overlayVisible)!==null&&h!==void 0?h:!1)("data-pc-section","trigger"),E(),I("ngIf",l.loading)("ngIfElse",g),E(3),Ca("visible",l.overlayVisible),I("options",l.overlayOptions)("target","@parent")("appendTo",l.appendTo)("autoZIndex",l.autoZIndex)("baseZIndex",l.baseZIndex)("showTransitionOptions",l.showTransitionOptions)("hideTransitionOptions",l.hideTransitionOptions)}},dependencies:()=>[vn,jo,ln,bn,xn,Tl,Pi,gc,uu,Xr,or,Qo,cu,XE],styles:[`@layer primeng{.p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;opacity:0}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-item-group{cursor:auto}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}.p-float-label .p-dropdown .p-placeholder{opacity:0}}
`],encapsulation:2,changeDetection:0}));let i=s;return i})(),Ml=(()=>{let s=class s{};d(s,"\u0275fac",function(r){return new(r||s)}),d(s,"\u0275mod",Bt({type:s})),d(s,"\u0275inj",Vt({imports:[kt,Pa,wt,Ga,Wr,Ls,kr,or,Qo,cu,Sf,vo,Pa,wt,Ls]}));let i=s;return i})();var Ef=(()=>{let s=class s extends Dt{};d(s,"\u0275fac",(()=>{let e;return function(l){return(e||(e=Mt(s)))(l||s)}})()),d(s,"\u0275cmp",je({type:s,selectors:[["AngleUpIcon"]],standalone:!0,features:[Ot,Pt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z","fill","currentColor"]],template:function(r,l){r&1&&(dt(),G(0,"svg",0),xe(1,"path",1),K()),r&2&&(Re(l.getClassNames()),ne("aria-label",l.ariaLabel)("aria-hidden",l.ariaHidden)("role",l.role))},encapsulation:2}));let i=s;return i})();var QE=["input"],JE=(i,s,o)=>({"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":i,"p-inputnumber-buttons-horizontal":s,"p-inputnumber-buttons-vertical":o}),B_=()=>({"p-inputnumber-button p-inputnumber-button-up":!0}),z_=()=>({"p-inputnumber-button p-inputnumber-button-down":!0});function e3(i,s){if(i&1){let o=We();G(0,"TimesIcon",8),Oe("click",function(){te(o);let r=T(2);return ie(r.clear())}),K()}i&2&&(I("ngClass","p-inputnumber-clear-icon"),ne("data-pc-section","clearIcon"))}function t3(i,s){}function i3(i,s){i&1&&U(0,t3,0,0,"ng-template")}function n3(i,s){if(i&1){let o=We();G(0,"span",9),Oe("click",function(){te(o);let r=T(2);return ie(r.clear())}),U(1,i3,1,0,null,10),K()}if(i&2){let o=T(2);ne("data-pc-section","clearIcon"),E(),I("ngTemplateOutlet",o.clearIconTemplate)}}function r3(i,s){if(i&1&&(Fe(0),U(1,e3,1,2,"TimesIcon",6)(2,n3,2,2,"span",7),Ne()),i&2){let o=T();E(),I("ngIf",!o.clearIconTemplate),E(),I("ngIf",o.clearIconTemplate)}}function o3(i,s){if(i&1&&xe(0,"span",14),i&2){let o=T(2);I("ngClass",o.incrementButtonIcon),ne("data-pc-section","incrementbuttonicon")}}function s3(i,s){i&1&&xe(0,"AngleUpIcon"),i&2&&ne("data-pc-section","incrementbuttonicon")}function a3(i,s){}function l3(i,s){i&1&&U(0,a3,0,0,"ng-template")}function u3(i,s){if(i&1&&(Fe(0),U(1,s3,1,1,"AngleUpIcon",3)(2,l3,1,0,null,10),Ne()),i&2){let o=T(2);E(),I("ngIf",!o.incrementButtonIconTemplate),E(),I("ngTemplateOutlet",o.incrementButtonIconTemplate)}}function c3(i,s){if(i&1&&xe(0,"span",14),i&2){let o=T(2);I("ngClass",o.decrementButtonIcon),ne("data-pc-section","decrementbuttonicon")}}function p3(i,s){i&1&&xe(0,"AngleDownIcon"),i&2&&ne("data-pc-section","decrementbuttonicon")}function h3(i,s){}function f3(i,s){i&1&&U(0,h3,0,0,"ng-template")}function d3(i,s){if(i&1&&(Fe(0),U(1,p3,1,1,"AngleDownIcon",3)(2,f3,1,0,null,10),Ne()),i&2){let o=T(2);E(),I("ngIf",!o.decrementButtonIconTemplate),E(),I("ngTemplateOutlet",o.decrementButtonIconTemplate)}}function m3(i,s){if(i&1){let o=We();G(0,"span",11)(1,"button",12),Oe("mousedown",function(r){te(o);let l=T();return ie(l.onUpButtonMouseDown(r))})("mouseup",function(){te(o);let r=T();return ie(r.onUpButtonMouseUp())})("mouseleave",function(){te(o);let r=T();return ie(r.onUpButtonMouseLeave())})("keydown",function(r){te(o);let l=T();return ie(l.onUpButtonKeyDown(r))})("keyup",function(){te(o);let r=T();return ie(r.onUpButtonKeyUp())}),U(2,o3,1,2,"span",13)(3,u3,3,2,"ng-container",3),K(),G(4,"button",12),Oe("mousedown",function(r){te(o);let l=T();return ie(l.onDownButtonMouseDown(r))})("mouseup",function(){te(o);let r=T();return ie(r.onDownButtonMouseUp())})("mouseleave",function(){te(o);let r=T();return ie(r.onDownButtonMouseLeave())})("keydown",function(r){te(o);let l=T();return ie(l.onDownButtonKeyDown(r))})("keyup",function(){te(o);let r=T();return ie(r.onDownButtonKeyUp())}),U(5,c3,1,2,"span",13)(6,d3,3,2,"ng-container",3),K()()}if(i&2){let o=T();ne("data-pc-section","buttonGroup"),E(),Re(o.incrementButtonClass),I("ngClass",Yo(17,B_))("disabled",o.disabled),ne("aria-hidden",!0)("data-pc-section","incrementbutton"),E(),I("ngIf",o.incrementButtonIcon),E(),I("ngIf",!o.incrementButtonIcon),E(),Re(o.decrementButtonClass),I("ngClass",Yo(18,z_))("disabled",o.disabled),ne("aria-hidden",!0)("data-pc-section",o.decrementbutton),E(),I("ngIf",o.decrementButtonIcon),E(),I("ngIf",!o.decrementButtonIcon)}}function g3(i,s){if(i&1&&xe(0,"span",14),i&2){let o=T(2);I("ngClass",o.incrementButtonIcon),ne("data-pc-section","incrementbuttonicon")}}function _3(i,s){i&1&&xe(0,"AngleUpIcon"),i&2&&ne("data-pc-section","incrementbuttonicon")}function y3(i,s){}function v3(i,s){i&1&&U(0,y3,0,0,"ng-template")}function x3(i,s){if(i&1&&(Fe(0),U(1,_3,1,1,"AngleUpIcon",3)(2,v3,1,0,null,10),Ne()),i&2){let o=T(2);E(),I("ngIf",!o.incrementButtonIconTemplate),E(),I("ngTemplateOutlet",o.incrementButtonIconTemplate)}}function b3(i,s){if(i&1){let o=We();G(0,"button",12),Oe("mousedown",function(r){te(o);let l=T();return ie(l.onUpButtonMouseDown(r))})("mouseup",function(){te(o);let r=T();return ie(r.onUpButtonMouseUp())})("mouseleave",function(){te(o);let r=T();return ie(r.onUpButtonMouseLeave())})("keydown",function(r){te(o);let l=T();return ie(l.onUpButtonKeyDown(r))})("keyup",function(){te(o);let r=T();return ie(r.onUpButtonKeyUp())}),U(1,g3,1,2,"span",13)(2,x3,3,2,"ng-container",3),K()}if(i&2){let o=T();Re(o.incrementButtonClass),I("ngClass",Yo(8,B_))("disabled",o.disabled),ne("aria-hidden",!0)("data-pc-section","incrementbutton"),E(),I("ngIf",o.incrementButtonIcon),E(),I("ngIf",!o.incrementButtonIcon)}}function w3(i,s){if(i&1&&xe(0,"span",14),i&2){let o=T(2);I("ngClass",o.decrementButtonIcon),ne("data-pc-section","decrementbuttonicon")}}function C3(i,s){i&1&&xe(0,"AngleDownIcon"),i&2&&ne("data-pc-section","decrementbuttonicon")}function I3(i,s){}function S3(i,s){i&1&&U(0,I3,0,0,"ng-template")}function T3(i,s){if(i&1&&(Fe(0),U(1,C3,1,1,"AngleDownIcon",3)(2,S3,1,0,null,10),Ne()),i&2){let o=T(2);E(),I("ngIf",!o.decrementButtonIconTemplate),E(),I("ngTemplateOutlet",o.decrementButtonIconTemplate)}}function E3(i,s){if(i&1){let o=We();G(0,"button",12),Oe("mousedown",function(r){te(o);let l=T();return ie(l.onDownButtonMouseDown(r))})("mouseup",function(){te(o);let r=T();return ie(r.onDownButtonMouseUp())})("mouseleave",function(){te(o);let r=T();return ie(r.onDownButtonMouseLeave())})("keydown",function(r){te(o);let l=T();return ie(l.onDownButtonKeyDown(r))})("keyup",function(){te(o);let r=T();return ie(r.onDownButtonKeyUp())}),U(1,w3,1,2,"span",13)(2,T3,3,2,"ng-container",3),K()}if(i&2){let o=T();Re(o.decrementButtonClass),I("ngClass",Yo(8,z_))("disabled",o.disabled),ne("aria-hidden",!0)("data-pc-section","decrementbutton"),E(),I("ngIf",o.decrementButtonIcon),E(),I("ngIf",!o.decrementButtonIcon)}}var M3={provide:Er,useExisting:Ir(()=>O3),multi:!0},O3=(()=>{let s=class s{constructor(e,r,l,h,g){d(this,"document");d(this,"el");d(this,"cd");d(this,"injector");d(this,"config");d(this,"showButtons",!1);d(this,"format",!0);d(this,"buttonLayout","stacked");d(this,"inputId");d(this,"styleClass");d(this,"style");d(this,"placeholder");d(this,"size");d(this,"maxlength");d(this,"tabindex");d(this,"title");d(this,"ariaLabelledBy");d(this,"ariaLabel");d(this,"ariaRequired");d(this,"name");d(this,"required");d(this,"autocomplete");d(this,"min");d(this,"max");d(this,"incrementButtonClass");d(this,"decrementButtonClass");d(this,"incrementButtonIcon");d(this,"decrementButtonIcon");d(this,"readonly",!1);d(this,"step",1);d(this,"allowEmpty",!0);d(this,"locale");d(this,"localeMatcher");d(this,"mode","decimal");d(this,"currency");d(this,"currencyDisplay");d(this,"useGrouping",!0);d(this,"variant","outlined");d(this,"minFractionDigits");d(this,"maxFractionDigits");d(this,"prefix");d(this,"suffix");d(this,"inputStyle");d(this,"inputStyleClass");d(this,"showClear",!1);d(this,"autofocus");d(this,"onInput",new qe);d(this,"onFocus",new qe);d(this,"onBlur",new qe);d(this,"onKeyDown",new qe);d(this,"onClear",new qe);d(this,"input");d(this,"templates");d(this,"clearIconTemplate");d(this,"incrementButtonIconTemplate");d(this,"decrementButtonIconTemplate");d(this,"value");d(this,"onModelChange",()=>{});d(this,"onModelTouched",()=>{});d(this,"focused");d(this,"initialized");d(this,"groupChar","");d(this,"prefixChar","");d(this,"suffixChar","");d(this,"isSpecialChar");d(this,"timer");d(this,"lastValue");d(this,"_numeral");d(this,"numberFormat");d(this,"_decimal");d(this,"_decimalChar");d(this,"_group");d(this,"_minusSign");d(this,"_currency");d(this,"_prefix");d(this,"_suffix");d(this,"_index");d(this,"_disabled");d(this,"ngControl",null);this.document=e,this.el=r,this.cd=l,this.injector=h,this.config=g}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}ngOnChanges(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(l=>!!e[l])&&this.updateConstructParser()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"clearicon":this.clearIconTemplate=e.template;break;case"incrementbuttonicon":this.incrementButtonIconTemplate=e.template;break;case"decrementbuttonicon":this.decrementButtonIconTemplate=e.template;break}})}ngOnInit(){this.ngControl=this.injector.get(fc,null,{optional:!0}),this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits??void 0,maximumFractionDigits:this.maxFractionDigits??void 0}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());let e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),r=new Map(e.map((l,h)=>[l,h]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._decimalChar=this.getDecimalChar(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=l=>r.get(l)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){let e=this.getDecimalChar();return new RegExp(`[${e}]`,"g")}getDecimalChar(){return new Intl.NumberFormat(this.locale,Es(Cr({},this.getOptions()),{useGrouping:!1})).format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}getGroupingExpression(){let e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){let e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){let e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{let e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{let e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}get isBlurUpdateOnMode(){return this.ngControl?.control?.updateOn==="blur"}formatValue(e){if(e!=null){if(e==="-")return e;if(this.format){let l=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&e!=this.prefix&&(l=this.prefix+l),this.suffix&&e!=this.suffix&&(l=l+this.suffix),l}return e.toString()}return""}parseValue(e){let r=new RegExp(this._suffix,""),l=new RegExp(this._prefix,""),h=new RegExp(this._currency,""),g=e.replace(r,"").replace(l,"").trim().replace(/\s/g,"").replace(h,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(g){if(g==="-")return g;let y=+g;return isNaN(y)?null:y}return null}repeat(e,r,l){if(this.readonly)return;let h=r||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,l)},h),this.spin(e,l)}spin(e,r){let l=this.step*r,h=this.parseValue(this.input?.nativeElement.value)||0,g=this.validateValue(h+l);this.maxlength&&this.maxlength<this.formatValue(g).length||(this.updateInput(g,null,"spin",null),this.updateModel(e,g),this.handleOnInput(e,h,g))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(e){if(e.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault())}onUpButtonMouseUp(){this.disabled||this.clearTimer()}onUpButtonMouseLeave(){this.disabled||this.clearTimer()}onUpButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonMouseDown(e){if(e.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault())}onDownButtonMouseUp(){this.disabled||this.clearTimer()}onDownButtonMouseLeave(){this.disabled||this.clearTimer()}onDownButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,-1)}onUserInput(e){this.readonly||(this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey){this.isSpecialChar=!0;return}let r=e.target.selectionStart,l=e.target.selectionEnd,h=e.target.value,g=null;switch(e.altKey&&e.preventDefault(),e.key){case"ArrowUp":this.spin(e,1),e.preventDefault();break;case"ArrowDown":this.spin(e,-1),e.preventDefault();break;case"ArrowLeft":for(let y=r;y<=h.length;y++){let w=y===0?0:y-1;if(this.isNumeralChar(h.charAt(w))){this.input.nativeElement.setSelectionRange(y,y);break}}break;case"ArrowRight":for(let y=l;y>=0;y--)if(this.isNumeralChar(h.charAt(y))){this.input.nativeElement.setSelectionRange(y,y);break}break;case"Tab":case"Enter":g=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(g),this.input.nativeElement.setAttribute("aria-valuenow",g),this.updateModel(e,g);break;case"Backspace":{if(e.preventDefault(),r===l){if(r==1&&this.prefix||r==h.length&&this.suffix)break;let y=h.charAt(r-1),{decimalCharIndex:w,decimalCharIndexWithoutPrefix:k}=this.getDecimalCharIndexes(h);if(this.isNumeralChar(y)){let R=this.getDecimalLength(h);if(this._group.test(y))this._group.lastIndex=0,g=h.slice(0,r-2)+h.slice(r-1);else if(this._decimal.test(y))this._decimal.lastIndex=0,R?this.input?.nativeElement.setSelectionRange(r-1,r-1):g=h.slice(0,r-1)+h.slice(r);else if(w>0&&r>w){let A=this.isDecimalMode()&&(this.minFractionDigits||0)<R?"":"0";g=h.slice(0,r-1)+A+h.slice(r)}else k===1?(g=h.slice(0,r-1)+"0"+h.slice(r),g=this.parseValue(g)>0?g:""):g=h.slice(0,r-1)+h.slice(r)}else this.mode==="currency"&&y.search(this._currency)!=-1&&(g=h.slice(1));this.updateValue(e,g,null,"delete-single")}else g=this.deleteRange(h,r,l),this.updateValue(e,g,null,"delete-range");break}case"Delete":if(e.preventDefault(),r===l){if(r==0&&this.prefix||r==h.length-1&&this.suffix)break;let y=h.charAt(r),{decimalCharIndex:w,decimalCharIndexWithoutPrefix:k}=this.getDecimalCharIndexes(h);if(this.isNumeralChar(y)){let R=this.getDecimalLength(h);if(this._group.test(y))this._group.lastIndex=0,g=h.slice(0,r)+h.slice(r+2);else if(this._decimal.test(y))this._decimal.lastIndex=0,R?this.input?.nativeElement.setSelectionRange(r+1,r+1):g=h.slice(0,r)+h.slice(r+1);else if(w>0&&r>w){let A=this.isDecimalMode()&&(this.minFractionDigits||0)<R?"":"0";g=h.slice(0,r)+A+h.slice(r+1)}else k===1?(g=h.slice(0,r)+"0"+h.slice(r+1),g=this.parseValue(g)>0?g:""):g=h.slice(0,r)+h.slice(r+1)}this.updateValue(e,g,null,"delete-back-single")}else g=this.deleteRange(h,r,l),this.updateValue(e,g,null,"delete-range");break;case"Home":this.min&&(this.updateModel(e,this.min),e.preventDefault());break;case"End":this.max&&(this.updateModel(e,this.max),e.preventDefault());break;default:break}this.onKeyDown.emit(e)}onInputKeyPress(e){if(this.readonly)return;let r=e.which||e.keyCode,l=String.fromCharCode(r),h=this.isDecimalSign(l),g=this.isMinusSign(l);r!=13&&e.preventDefault(),!h&&e.code==="NumpadDecimal"&&(h=!0,l=this._decimalChar,r=l.charCodeAt(0));let y=this.parseValue(this.input.nativeElement.value+l),w=y!=null?y.toString():"";if(this.maxlength&&this.getSelectedText()?.length==this.maxlength){this.insert(e,l,{isDecimalSign:h,isMinusSign:g});return}this.maxlength&&w.length>this.maxlength||(48<=r&&r<=57||g||h)&&this.insert(e,l,{isDecimalSign:h,isMinusSign:g})}getSelectedText(){return window?.getSelection()?.toString().replaceAll(/[^0-9']/g,"")||""}onPaste(e){if(!this.disabled&&!this.readonly){e.preventDefault();let r=(e.clipboardData||this.document.defaultView.clipboardData).getData("Text");if(r){this.maxlength&&(r=r.toString().substring(0,this.maxlength));let l=this.parseValue(r);l!=null&&this.insert(e,l.toString())}}}allowMinusSign(){return this.min==null||this.min<0}isMinusSign(e){return this._minusSign.test(e)||e==="-"?(this._minusSign.lastIndex=0,!0):!1}isDecimalSign(e){return this._decimal.test(e)?(this._decimal.lastIndex=0,!0):!1}isDecimalMode(){return this.mode==="decimal"}getDecimalCharIndexes(e){let r=e.search(this._decimal);this._decimal.lastIndex=0;let h=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:r,decimalCharIndexWithoutPrefix:h}}getCharIndexes(e){let r=e.search(this._decimal);this._decimal.lastIndex=0;let l=e.search(this._minusSign);this._minusSign.lastIndex=0;let h=e.search(this._suffix);this._suffix.lastIndex=0;let g=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:r,minusCharIndex:l,suffixCharIndex:h,currencyCharIndex:g}}insert(e,r,l={isDecimalSign:!1,isMinusSign:!1}){let h=r.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&h!==-1)return;let g=this.input?.nativeElement.selectionStart,y=this.input?.nativeElement.selectionEnd,w=this.input?.nativeElement.value.trim(),{decimalCharIndex:k,minusCharIndex:R,suffixCharIndex:A,currencyCharIndex:Y}=this.getCharIndexes(w),X;if(l.isMinusSign)g===0&&(X=w,(R===-1||y!==0)&&(X=this.insertText(w,r,0,y)),this.updateValue(e,X,r,"insert"));else if(l.isDecimalSign)k>0&&g===k?this.updateValue(e,w,r,"insert"):k>g&&k<y?(X=this.insertText(w,r,g,y),this.updateValue(e,X,r,"insert")):k===-1&&this.maxFractionDigits&&(X=this.insertText(w,r,g,y),this.updateValue(e,X,r,"insert"));else{let j=this.numberFormat.resolvedOptions().maximumFractionDigits,S=g!==y?"range-insert":"insert";if(k>0&&g>k){if(g+r.length-(k+1)<=j){let O=Y>=g?Y-1:A>=g?A:w.length;X=w.slice(0,g)+r+w.slice(g+r.length,O)+w.slice(O),this.updateValue(e,X,r,S)}}else X=this.insertText(w,r,g,y),this.updateValue(e,X,r,S)}}insertText(e,r,l,h){if((r==="."?r:r.split(".")).length===2){let y=e.slice(l,h).search(this._decimal);return this._decimal.lastIndex=0,y>0?e.slice(0,l)+this.formatValue(r)+e.slice(h):e||this.formatValue(r)}else return h-l===e.length?this.formatValue(r):l===0?r+e.slice(h):h===e.length?e.slice(0,l)+r:e.slice(0,l)+r+e.slice(h)}deleteRange(e,r,l){let h;return l-r===e.length?h="":r===0?h=e.slice(l):l===e.length?h=e.slice(0,r):h=e.slice(0,r)+e.slice(l),h}initCursor(){let e=this.input?.nativeElement.selectionStart,r=this.input?.nativeElement.selectionEnd,l=this.input?.nativeElement.value,h=l.length,g=null,y=(this.prefixChar||"").length;l=l.replace(this._prefix,""),(e===r||e!==0||r<y)&&(e-=y);let w=l.charAt(e);if(this.isNumeralChar(w))return e+y;let k=e-1;for(;k>=0;)if(w=l.charAt(k),this.isNumeralChar(w)){g=k+y;break}else k--;if(g!==null)this.input?.nativeElement.setSelectionRange(g+1,g+1);else{for(k=e;k<h;)if(w=l.charAt(k),this.isNumeralChar(w)){g=k+y;break}else k++;g!==null&&this.input?.nativeElement.setSelectionRange(g,g)}return g||0}onInputClick(){let e=this.input?.nativeElement.value;!this.readonly&&e!==ge.getSelection()&&this.initCursor()}isNumeralChar(e){return e.length===1&&(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))?(this.resetRegex(),!0):!1}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,r,l,h){let g=this.input?.nativeElement.value,y=null;r!=null&&(y=this.parseValue(r),y=!y&&!this.allowEmpty?0:y,this.updateInput(y,l,h,r),this.handleOnInput(e,g,y))}handleOnInput(e,r,l){this.isValueChanged(r,l)&&(this.input.nativeElement.value=this.formatValue(l),this.input?.nativeElement.setAttribute("aria-valuenow",l),!this.isBlurUpdateOnMode&&this.updateModel(e,l),this.onInput.emit({originalEvent:e,value:l,formattedValue:r}))}isValueChanged(e,r){if(r===null&&e!==null)return!0;if(r!=null){let l=typeof e=="string"?this.parseValue(e):e;return r!==l}return!1}validateValue(e){return e==="-"||e==null?null:this.min!=null&&e<this.min?this.min:this.max!=null&&e>this.max?this.max:e}updateInput(e,r,l,h){r=r||"";let g=this.input?.nativeElement.value,y=this.formatValue(e),w=g.length;if(y!==h&&(y=this.concatValues(y,h)),w===0){this.input.nativeElement.value=y,this.input.nativeElement.setSelectionRange(0,0);let R=this.initCursor()+r.length;this.input.nativeElement.setSelectionRange(R,R)}else{let k=this.input.nativeElement.selectionStart,R=this.input.nativeElement.selectionEnd;if(this.maxlength&&y.length>this.maxlength&&(y=y.slice(0,this.maxlength),k=Math.min(k,this.maxlength),R=Math.min(R,this.maxlength)),this.maxlength&&this.maxlength<y.length)return;this.input.nativeElement.value=y;let A=y.length;if(l==="range-insert"){let Y=this.parseValue((g||"").slice(0,k)),j=(Y!==null?Y.toString():"").split("").join(`(${this.groupChar})?`),S=new RegExp(j,"g");S.test(y);let O=r.split("").join(`(${this.groupChar})?`),N=new RegExp(O,"g");N.test(y.slice(S.lastIndex)),R=S.lastIndex+N.lastIndex,this.input.nativeElement.setSelectionRange(R,R)}else if(A===w)l==="insert"||l==="delete-back-single"?this.input.nativeElement.setSelectionRange(R+1,R+1):l==="delete-single"?this.input.nativeElement.setSelectionRange(R-1,R-1):(l==="delete-range"||l==="spin")&&this.input.nativeElement.setSelectionRange(R,R);else if(l==="delete-back-single"){let Y=g.charAt(R-1),X=g.charAt(R),j=w-A,S=this._group.test(X);S&&j===1?R+=1:!S&&this.isNumeralChar(Y)&&(R+=-1*j+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(R,R)}else if(g==="-"&&l==="insert"){this.input.nativeElement.setSelectionRange(0,0);let X=this.initCursor()+r.length+1;this.input.nativeElement.setSelectionRange(X,X)}else R=R+(A-w),this.input.nativeElement.setSelectionRange(R,R)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,r){if(e&&r){let l=r.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?l!==-1?e:e.replace(this.suffixChar,"").split(this._decimal)[0]+r.replace(this.suffixChar,"").slice(l)+this.suffixChar:l!==-1?e.split(this._decimal)[0]+r.slice(l):e}return e}getDecimalLength(e){if(e){let r=e.split(this._decimal);if(r.length===2)return r[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let r=this.validateValue(this.parseValue(this.input.nativeElement.value)),l=r?.toString();this.input.nativeElement.value=this.formatValue(l),this.input.nativeElement.setAttribute("aria-valuenow",l),this.updateModel(e,r),this.onBlur.emit(e)}formattedValue(){let e=!this.value&&!this.allowEmpty?0:this.value;return this.formatValue(e)}updateModel(e,r){this.value!==r&&(this.value=r,this.isBlurUpdateOnMode&&this.focused?this.isBlurUpdateOnMode&&this.onModelChange(r):this.onModelChange(r)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return this.value!=null&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}};d(s,"\u0275fac",function(r){return new(r||s)(Ge(fs),Ge(Sr),Ge(Wi),Ge(ac),Ge(so))}),d(s,"\u0275cmp",je({type:s,selectors:[["p-inputNumber"]],contentQueries:function(r,l,h){if(r&1&&Gi(h,Pi,4),r&2){let g;Je(g=et())&&(l.templates=g)}},viewQuery:function(r,l){if(r&1&&Ct(QE,5),r&2){let h;Je(h=et())&&(l.input=h.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(r,l){r&2&&ko("p-inputwrapper-filled",l.filled)("p-inputwrapper-focus",l.focused)("p-inputnumber-clearable",l.showClear&&l.buttonLayout!="vertical")},inputs:{showButtons:[2,"showButtons","showButtons",we],format:[2,"format","format",we],buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:[2,"size","size",Et],maxlength:[2,"maxlength","maxlength",Et],tabindex:[2,"tabindex","tabindex",Et],title:"title",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",ariaRequired:[2,"ariaRequired","ariaRequired",we],name:"name",required:[2,"required","required",we],autocomplete:"autocomplete",min:[2,"min","min",Et],max:[2,"max","max",Et],incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:[2,"readonly","readonly",we],step:[2,"step","step",Et],allowEmpty:[2,"allowEmpty","allowEmpty",we],locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:[2,"useGrouping","useGrouping",we],variant:"variant",minFractionDigits:[2,"minFractionDigits","minFractionDigits",e=>Et(e,null)],maxFractionDigits:[2,"maxFractionDigits","maxFractionDigits",e=>Et(e,null)],prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:[2,"showClear","showClear",we],autofocus:[2,"autofocus","autofocus",we],disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[jn([M3]),mn,Al],decls:7,vars:43,consts:[["input",""],[3,"ngClass","ngStyle"],["pInputText","","role","spinbutton","inputmode","decimal","pAutoFocus","",3,"input","keydown","keypress","paste","click","focus","blur","ngClass","ngStyle","value","disabled","readonly","autofocus"],[4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","","class","p-button-icon-only","tabindex","-1",3,"ngClass","class","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["class","p-inputnumber-clear-icon",3,"click",4,"ngIf"],[3,"click","ngClass"],[1,"p-inputnumber-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[1,"p-inputnumber-button-group"],["type","button","pButton","","tabindex","-1",1,"p-button-icon-only",3,"mousedown","mouseup","mouseleave","keydown","keyup","ngClass","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(r,l){if(r&1){let h=We();G(0,"span",1)(1,"input",2,0),Oe("input",function(y){return te(h),ie(l.onUserInput(y))})("keydown",function(y){return te(h),ie(l.onInputKeyDown(y))})("keypress",function(y){return te(h),ie(l.onInputKeyPress(y))})("paste",function(y){return te(h),ie(l.onPaste(y))})("click",function(){return te(h),ie(l.onInputClick())})("focus",function(y){return te(h),ie(l.onInputFocus(y))})("blur",function(y){return te(h),ie(l.onInputBlur(y))}),K(),U(3,r3,3,2,"ng-container",3)(4,m3,7,19,"span",4)(5,b3,3,9,"button",5)(6,E3,3,9,"button",5),K()}r&2&&(Re(l.styleClass),I("ngClass",Vn(39,JE,l.showButtons&&l.buttonLayout==="stacked",l.showButtons&&l.buttonLayout==="horizontal",l.showButtons&&l.buttonLayout==="vertical"))("ngStyle",l.style),ne("data-pc-name","inputnumber")("data-pc-section","root"),E(),Re(l.inputStyleClass),ko("p-variant-filled",l.variant==="filled"||l.config.inputStyle()==="filled"),I("ngClass","p-inputnumber-input")("ngStyle",l.inputStyle)("value",l.formattedValue())("disabled",l.disabled)("readonly",l.readonly)("autofocus",l.autofocus),ne("id",l.inputId)("variant",l.variant)("aria-valuemin",l.min)("aria-valuemax",l.max)("aria-valuenow",l.value)("placeholder",l.placeholder)("aria-label",l.ariaLabel)("aria-labelledby",l.ariaLabelledBy)("title",l.title)("size",l.size)("name",l.name)("autocomplete",l.autocomplete)("maxlength",l.maxlength)("tabindex",l.tabindex)("aria-required",l.ariaRequired)("required",l.required)("min",l.min)("max",l.max)("data-pc-section","input"),E(2),I("ngIf",l.buttonLayout!="vertical"&&l.showClear&&l.value),E(),I("ngIf",l.showButtons&&l.buttonLayout==="stacked"),E(),I("ngIf",l.showButtons&&l.buttonLayout!=="stacked"),E(),I("ngIf",l.showButtons&&l.buttonLayout!=="stacked"))},dependencies:()=>[vn,ln,bn,xn,Kf,Hl,Xr,or,Ef,Pp],styles:[`@layer primeng{p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}}
`],encapsulation:2,changeDetection:0}));let i=s;return i})(),Ol=(()=>{let s=class s{};d(s,"\u0275fac",function(r){return new(r||s)}),d(s,"\u0275mod",Bt({type:s})),d(s,"\u0275inj",Vt({imports:[kt,Ua,Ks,kr,or,Ef,Pp,wt]}));let i=s;return i})();var H_=(()=>{let s=class s{};d(s,"\u0275fac",function(r){return new(r||s)}),d(s,"\u0275mod",Bt({type:s})),d(s,"\u0275inj",Vt({imports:[kt]}));let i=s;return i})();var P3=["container"],k3=(i,s,o)=>({"p-highlight":i,"p-disabled":s,"p-button-icon-only":o}),D3=(i,s)=>({$implicit:i,index:s});function R3(i,s){if(i&1&&xe(0,"span",8),i&2){let o=T(2).$implicit;Re(o.icon),I("ngClass","p-button-icon p-button-icon-left"),ne("data-pc-section","icon")}}function F3(i,s){if(i&1&&(Fe(0),U(1,R3,1,4,"span",6),G(2,"span",7),Qe(3),K(),Ne()),i&2){let o=T().$implicit,e=T();E(),I("ngIf",o.icon),E(),ne("data-pc-section","label"),E(),Lt(e.getOptionLabel(o))}}function N3(i,s){i&1&&it(0)}function A3(i,s){if(i&1&&U(0,N3,1,0,"ng-container",9),i&2){let o=T(),e=o.$implicit,r=o.index,l=T();I("ngTemplateOutlet",l.selectButtonTemplate)("ngTemplateOutletContext",Hi(2,D3,e,r))}}function V3(i,s){if(i&1){let o=We();G(0,"div",4),Oe("click",function(r){let l=te(o),h=l.$implicit,g=l.index,y=T();return ie(y.onOptionSelect(r,h,g))})("keydown",function(r){let l=te(o),h=l.$implicit,g=l.index,y=T();return ie(y.onKeyDown(r,h,g))})("focus",function(r){let l=te(o).index,h=T();return ie(h.onFocus(r,l))})("blur",function(){te(o);let r=T();return ie(r.onBlur())}),U(1,F3,4,3,"ng-container",5)(2,A3,1,5,"ng-template",null,1,Tr),K()}if(i&2){let o=s.$implicit,e=s.index,r=Zi(3),l=T();Re(o.styleClass),I("role",l.multiple?"checkbox":"radio")("ngClass",Vn(14,k3,l.isSelected(o),l.disabled||l.isOptionDisabled(o),o.icon&&!l.getOptionLabel(o)))("autofocus",l.autofocus),ne("tabindex",e===l.focusedIndex&&!l.disabled?"0":"-1")("aria-label",o.label)("aria-checked",l.isSelected(o))("aria-disabled",l.optionDisabled)("title",o.title)("aria-labelledby",l.getOptionLabel(o))("data-pc-section","button"),E(),I("ngIf",!l.itemTemplate)("ngIfElse",r)}}var B3={provide:Er,useExisting:Ir(()=>z3),multi:!0},z3=(()=>{let s=class s{constructor(e){d(this,"cd");d(this,"options");d(this,"optionLabel");d(this,"optionValue");d(this,"optionDisabled");d(this,"unselectable",!1);d(this,"tabindex",0);d(this,"multiple");d(this,"allowEmpty",!0);d(this,"style");d(this,"styleClass");d(this,"ariaLabelledBy");d(this,"disabled");d(this,"dataKey");d(this,"autofocus");d(this,"onOptionClick",new qe);d(this,"onChange",new qe);d(this,"container");d(this,"itemTemplate");d(this,"value");d(this,"onModelChange",()=>{});d(this,"onModelTouched",()=>{});d(this,"focusedIndex",0);this.cd=e}get selectButtonTemplate(){return this.itemTemplate?.template}get equalityKey(){return this.optionValue?null:this.dataKey}getOptionLabel(e){return this.optionLabel?Ve.resolveFieldData(e,this.optionLabel):e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?Ve.resolveFieldData(e,this.optionValue):this.optionLabel||e.value===void 0?e:e.value}isOptionDisabled(e){return this.optionDisabled?Ve.resolveFieldData(e,this.optionDisabled):e.disabled!==void 0?e.disabled:!1}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onOptionSelect(e,r,l){if(this.disabled||this.isOptionDisabled(r))return;let h=this.isSelected(r);if(h&&this.unselectable)return;let g=this.getOptionValue(r),y;if(this.multiple)h?y=this.value.filter(w=>!Ve.equals(w,g,this.equalityKey)):y=this.value?[...this.value,g]:[g];else{if(h&&!this.allowEmpty)return;y=h?null:g}this.focusedIndex=l,this.value=y,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.onOptionClick.emit({originalEvent:e,option:r,index:l})}onKeyDown(e,r,l){switch(e.code){case"Space":{this.onOptionSelect(e,r,l),e.preventDefault();break}case"ArrowDown":case"ArrowRight":{this.changeTabIndexes(e,"next"),e.preventDefault();break}case"ArrowUp":case"ArrowLeft":{this.changeTabIndexes(e,"prev"),e.preventDefault();break}default:break}}changeTabIndexes(e,r){let l,h;for(let g=0;g<=this.container.nativeElement.children.length-1;g++)this.container.nativeElement.children[g].getAttribute("tabindex")==="0"&&(l={elem:this.container.nativeElement.children[g],index:g});r==="prev"?l.index===0?h=this.container.nativeElement.children.length-1:h=l.index-1:l.index===this.container.nativeElement.children.length-1?h=0:h=l.index+1,this.focusedIndex=h,this.container.nativeElement.children[h].focus()}onFocus(e,r){this.focusedIndex=r}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(r=>!Ve.equals(r,this.getOptionValue(e),this.dataKey))}isSelected(e){let r=!1,l=this.getOptionValue(e);if(this.multiple){if(this.value&&Array.isArray(this.value)){for(let h of this.value)if(Ve.equals(h,l,this.dataKey)){r=!0;break}}}else r=Ve.equals(this.getOptionValue(e),this.value,this.equalityKey);return r}};d(s,"\u0275fac",function(r){return new(r||s)(Ge(Wi))}),d(s,"\u0275cmp",je({type:s,selectors:[["p-selectButton"]],contentQueries:function(r,l,h){if(r&1&&Gi(h,Pi,5),r&2){let g;Je(g=et())&&(l.itemTemplate=g.first)}},viewQuery:function(r,l){if(r&1&&Ct(P3,5),r&2){let h;Je(h=et())&&(l.container=h.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",unselectable:[2,"unselectable","unselectable",we],tabindex:[2,"tabindex","tabindex",Et],multiple:[2,"multiple","multiple",we],allowEmpty:[2,"allowEmpty","allowEmpty",we],style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",we],dataKey:"dataKey",autofocus:[2,"autofocus","autofocus",we]},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[jn([B3]),mn],decls:3,vars:8,consts:[["container",""],["customcontent",""],["role","group",3,"ngClass","ngStyle"],["pRipple","","class","p-button p-component","pAutoFocus","",3,"role","class","ngClass","autofocus","click","keydown","focus","blur",4,"ngFor","ngForOf"],["pRipple","","pAutoFocus","",1,"p-button","p-component",3,"click","keydown","focus","blur","role","ngClass","autofocus"],[4,"ngIf","ngIfElse"],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,l){r&1&&(G(0,"div",2,0),U(2,V3,4,18,"div",3),K()),r&2&&(Re(l.styleClass),I("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",l.style),ne("aria-labelledby",l.ariaLabelledBy)("data-pc-name","selectbutton")("data-pc-section","root"),E(2),I("ngForOf",l.options))},dependencies:[vn,jo,ln,bn,xn,ms,Xr],styles:[`@layer primeng{.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default;pointer-events:none}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-button-group .p-button{margin:0}.p-button-group .p-button:focus,.p-button-group p-button:focus .p-button,.p-buttonset .p-button:focus,.p-buttonset p-button:focus .p-button{position:relative;z-index:1}.p-button-group .p-button:not(:last-child),.p-button-group .p-button:not(:last-child):hover,.p-button-group p-button:not(:last-child) .p-button,.p-button-group p-button:not(:last-child) .p-button:hover,.p-buttonset .p-button:not(:last-child),.p-buttonset .p-button:not(:last-child):hover,.p-buttonset p-button:not(:last-child) .p-button,.p-buttonset p-button:not(:last-child) .p-button:hover{border-right:0 none}.p-button-group .p-button:not(:first-of-type):not(:last-of-type),.p-button-group p-button:not(:first-of-type):not(:last-of-type) .p-button,.p-buttonset .p-button:not(:first-of-type):not(:last-of-type),.p-buttonset p-button:not(:first-of-type):not(:last-of-type) .p-button{border-radius:0}.p-button-group .p-button:first-of-type:not(:only-of-type),.p-button-group p-button:first-of-type:not(:only-of-type) .p-button,.p-buttonset .p-button:first-of-type:not(:only-of-type),.p-buttonset p-button:first-of-type:not(:only-of-type) .p-button{border-top-right-radius:0;border-bottom-right-radius:0}.p-button-group .p-button:last-of-type:not(:only-of-type),.p-button-group p-button:last-of-type:not(:only-of-type) .p-button,.p-buttonset .p-button:last-of-type:not(:only-of-type),.p-buttonset p-button:last-of-type:not(:only-of-type) .p-button{border-top-left-radius:0;border-bottom-left-radius:0}p-button[iconpos=right] spinnericon{order:1}}
`],encapsulation:2,changeDetection:0}));let i=s;return i})(),xp=(()=>{let s=class s{};d(s,"\u0275fac",function(r){return new(r||s)}),d(s,"\u0275mod",Bt({type:s})),d(s,"\u0275inj",Vt({imports:[kt,Wr,wt,kr,wt]}));let i=s;return i})();var q_=(()=>{let s=class s{};d(s,"\u0275fac",function(r){return new(r||s)}),d(s,"\u0275mod",Bt({type:s})),d(s,"\u0275inj",Vt({imports:[kt,wt]}));let i=s;return i})();var Qu=(()=>{let s=class s extends Dt{};d(s,"\u0275fac",(()=>{let e;return function(l){return(e||(e=Mt(s)))(l||s)}})()),d(s,"\u0275cmp",je({type:s,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[Ot,Pt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(r,l){r&1&&(dt(),G(0,"svg",0),xe(1,"path",1),K()),r&2&&(Re(l.getClassNames()),ne("aria-label",l.ariaLabel)("aria-hidden",l.ariaHidden)("role",l.role))},encapsulation:2}));let i=s;return i})();var G_=(()=>{let s=class s{};d(s,"\u0275fac",function(r){return new(r||s)}),d(s,"\u0275mod",Bt({type:s})),d(s,"\u0275inj",Vt({imports:[kt,wt,Ga,Wr,or,Qu,El,wt]}));let i=s;return i})();var Mf=(()=>{let s=class s extends Dt{};d(s,"\u0275fac",(()=>{let e;return function(l){return(e||(e=Mt(s)))(l||s)}})()),d(s,"\u0275cmp",je({type:s,selectors:[["ChevronUpIcon"]],standalone:!0,features:[Ot,Pt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z","fill","currentColor"]],template:function(r,l){r&1&&(dt(),G(0,"svg",0),xe(1,"path",1),K()),r&2&&(Re(l.getClassNames()),ne("aria-label",l.ariaLabel)("aria-hidden",l.ariaHidden)("role",l.role))},encapsulation:2}));let i=s;return i})();var Of=(()=>{let s=class s extends Dt{};d(s,"\u0275fac",(()=>{let e;return function(l){return(e||(e=Mt(s)))(l||s)}})()),d(s,"\u0275cmp",je({type:s,selectors:[["CalendarIcon"]],standalone:!0,features:[Ot,Pt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.7838 1.51351H9.83783V0.567568C9.83783 0.417039 9.77804 0.272676 9.6716 0.166237C9.56516 0.0597971 9.42079 0 9.27027 0C9.11974 0 8.97538 0.0597971 8.86894 0.166237C8.7625 0.272676 8.7027 0.417039 8.7027 0.567568V1.51351H5.29729V0.567568C5.29729 0.417039 5.2375 0.272676 5.13106 0.166237C5.02462 0.0597971 4.88025 0 4.72973 0C4.5792 0 4.43484 0.0597971 4.3284 0.166237C4.22196 0.272676 4.16216 0.417039 4.16216 0.567568V1.51351H3.21621C2.66428 1.51351 2.13494 1.73277 1.74467 2.12305C1.35439 2.51333 1.13513 3.04266 1.13513 3.59459V11.9189C1.13513 12.4709 1.35439 13.0002 1.74467 13.3905C2.13494 13.7807 2.66428 14 3.21621 14H10.7838C11.3357 14 11.865 13.7807 12.2553 13.3905C12.6456 13.0002 12.8649 12.4709 12.8649 11.9189V3.59459C12.8649 3.04266 12.6456 2.51333 12.2553 2.12305C11.865 1.73277 11.3357 1.51351 10.7838 1.51351ZM3.21621 2.64865H4.16216V3.59459C4.16216 3.74512 4.22196 3.88949 4.3284 3.99593C4.43484 4.10237 4.5792 4.16216 4.72973 4.16216C4.88025 4.16216 5.02462 4.10237 5.13106 3.99593C5.2375 3.88949 5.29729 3.74512 5.29729 3.59459V2.64865H8.7027V3.59459C8.7027 3.74512 8.7625 3.88949 8.86894 3.99593C8.97538 4.10237 9.11974 4.16216 9.27027 4.16216C9.42079 4.16216 9.56516 4.10237 9.6716 3.99593C9.77804 3.88949 9.83783 3.74512 9.83783 3.59459V2.64865H10.7838C11.0347 2.64865 11.2753 2.74831 11.4527 2.92571C11.6301 3.10311 11.7297 3.34371 11.7297 3.59459V5.67568H2.27027V3.59459C2.27027 3.34371 2.36993 3.10311 2.54733 2.92571C2.72473 2.74831 2.96533 2.64865 3.21621 2.64865ZM10.7838 12.8649H3.21621C2.96533 12.8649 2.72473 12.7652 2.54733 12.5878C2.36993 12.4104 2.27027 12.1698 2.27027 11.9189V6.81081H11.7297V11.9189C11.7297 12.1698 11.6301 12.4104 11.4527 12.5878C11.2753 12.7652 11.0347 12.8649 10.7838 12.8649Z","fill","currentColor"]],template:function(r,l){r&1&&(dt(),G(0,"svg",0),xe(1,"path",1),K()),r&2&&(Re(l.getClassNames()),ne("aria-label",l.ariaLabel)("aria-hidden",l.ariaHidden)("role",l.role))},encapsulation:2}));let i=s;return i})();var H3=["container"],q3=["inputfield"],G3=["contentWrapper"],U3=[[["p-header"]],[["p-footer"]]],K3=["p-header","p-footer"],Z3=(i,s,o,e,r)=>({"p-calendar":!0,"p-input-icon-right":i,"p-calendar-w-btn":s,"p-calendar-timeonly":o,"p-calendar-disabled":e,"p-focus":r}),Y3=i=>({clickCallBack:i}),j3=i=>({"p-datepicker-icon":i}),W3=(i,s,o,e,r,l)=>({"p-datepicker p-component":!0,"p-datepicker-inline":i,"p-disabled":s,"p-datepicker-timeonly":o,"p-datepicker-multiple-month":e,"p-datepicker-monthpicker":r,"p-datepicker-touch-ui":l}),U_=(i,s)=>({showTransitionParams:i,hideTransitionParams:s}),X3=i=>({value:"visibleTouchUI",params:i}),$3=i=>({value:"visible",params:i}),Lf=i=>({$implicit:i}),Q3=(i,s)=>({"p-datepicker-other-month":i,"p-datepicker-today":s}),J3=(i,s)=>({"p-highlight p-datepicker-current-day":i,"p-disabled":s}),Z_=(i,s)=>({"p-highlight":i,"p-disabled":s}),K_=i=>[i];function eM(i,s){if(i&1){let o=We();G(0,"TimesIcon",11),Oe("click",function(){te(o);let r=T(3);return ie(r.clear())}),K()}i&2&&I("styleClass","p-calendar-clear-icon")}function tM(i,s){}function iM(i,s){i&1&&U(0,tM,0,0,"ng-template")}function nM(i,s){if(i&1){let o=We();G(0,"span",12),Oe("click",function(){te(o);let r=T(3);return ie(r.clear())}),U(1,iM,1,0,null,13),K()}if(i&2){let o=T(3);E(),I("ngTemplateOutlet",o.clearIconTemplate)}}function rM(i,s){if(i&1&&(Fe(0),U(1,eM,1,1,"TimesIcon",9)(2,nM,2,1,"span",10),Ne()),i&2){let o=T(2);E(),I("ngIf",!o.clearIconTemplate),E(),I("ngIf",o.clearIconTemplate)}}function oM(i,s){if(i&1&&xe(0,"span",16),i&2){let o=T(3);I("ngClass",o.icon)}}function sM(i,s){i&1&&xe(0,"CalendarIcon")}function aM(i,s){}function lM(i,s){i&1&&U(0,aM,0,0,"ng-template")}function uM(i,s){if(i&1&&(Fe(0),U(1,sM,1,0,"CalendarIcon",7)(2,lM,1,0,null,13),Ne()),i&2){let o=T(3);E(),I("ngIf",!o.triggerIconTemplate),E(),I("ngTemplateOutlet",o.triggerIconTemplate)}}function cM(i,s){if(i&1){let o=We();G(0,"button",14),Oe("click",function(r){te(o),T();let l=Zi(1),h=T();return ie(h.onButtonClick(r,l))}),U(1,oM,1,1,"span",15)(2,uM,3,2,"ng-container",7),K()}if(i&2){let o,e=T(2);I("disabled",e.disabled),ne("aria-label",e.iconButtonAriaLabel)("aria-expanded",(o=e.overlayVisible)!==null&&o!==void 0?o:!1)("aria-controls",e.overlayVisible?e.panelId:null),E(),I("ngIf",e.icon),E(),I("ngIf",!e.icon)}}function pM(i,s){if(i&1){let o=We();G(0,"CalendarIcon",19),Oe("click",function(r){te(o);let l=T(3);return ie(l.onButtonClick(r))}),K()}if(i&2){let o=T(3);I("ngClass",nt(1,j3,o.showOnFocus))}}function hM(i,s){i&1&&it(0)}function fM(i,s){if(i&1&&(Fe(0),U(1,pM,1,3,"CalendarIcon",17)(2,hM,1,0,"ng-container",18),Ne()),i&2){let o=T(2);E(),I("ngIf",!o.inputIconTemplate),E(),I("ngTemplateOutlet",o.inputIconTemplate)("ngTemplateOutletContext",nt(3,Y3,o.onButtonClick.bind(o)))}}function dM(i,s){if(i&1){let o=We();G(0,"input",6,1),Oe("focus",function(r){te(o);let l=T();return ie(l.onInputFocus(r))})("keydown",function(r){te(o);let l=T();return ie(l.onInputKeydown(r))})("click",function(){te(o);let r=T();return ie(r.onInputClick())})("blur",function(r){te(o);let l=T();return ie(l.onInputBlur(r))})("input",function(r){te(o);let l=T();return ie(l.onUserInput(r))}),K(),U(2,rM,3,2,"ng-container",7)(3,cM,3,6,"button",8)(4,fM,3,5,"ng-container",7)}if(i&2){let o,e=T();Re(e.inputStyleClass),I("value",e.inputFieldValue)("readonly",e.readonlyInput)("ngStyle",e.inputStyle)("placeholder",e.placeholder||"")("disabled",e.disabled)("ngClass",e.inputClass)("autofocus",e.autofocus),ne("id",e.inputId)("name",e.name)("required",e.required)("aria-required",e.required)("aria-expanded",(o=e.overlayVisible)!==null&&o!==void 0?o:!1)("aria-controls",e.overlayVisible?e.panelId:null)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("tabindex",e.tabindex)("inputmode",e.touchUI?"off":null),E(2),I("ngIf",e.showClear&&!e.disabled&&e.value!=null),E(),I("ngIf",e.showIcon&&e.iconDisplay==="button"),E(),I("ngIf",e.iconDisplay==="input"&&e.showIcon)}}function mM(i,s){i&1&&it(0)}function gM(i,s){i&1&&xe(0,"ChevronLeftIcon",40),i&2&&I("styleClass","p-datepicker-prev-icon")}function _M(i,s){}function yM(i,s){i&1&&U(0,_M,0,0,"ng-template")}function vM(i,s){if(i&1&&(G(0,"span",41),U(1,yM,1,0,null,13),K()),i&2){let o=T(5);E(),I("ngTemplateOutlet",o.previousIconTemplate)}}function xM(i,s){if(i&1){let o=We();G(0,"button",38),Oe("keydown",function(r){te(o);let l=T(4);return ie(l.onContainerButtonKeydown(r))})("click",function(r){te(o);let l=T(4);return ie(l.onPrevButtonClick(r))}),U(1,gM,1,1,"ChevronLeftIcon",35)(2,vM,2,1,"span",39),K()}if(i&2){let o=T(4);ne("aria-label",o.prevIconAriaLabel),E(),I("ngIf",!o.previousIconTemplate),E(),I("ngIf",o.previousIconTemplate)}}function bM(i,s){if(i&1){let o=We();G(0,"button",42),Oe("click",function(r){te(o);let l=T(4);return ie(l.switchToMonthView(r))})("keydown",function(r){te(o);let l=T(4);return ie(l.onContainerButtonKeydown(r))}),Qe(1),K()}if(i&2){let o=T().$implicit,e=T(3);I("disabled",e.switchViewButtonDisabled()),ne("aria-label",e.getTranslation("chooseMonth")),E(),kn(" ",e.getMonthName(o.month)," ")}}function wM(i,s){if(i&1){let o=We();G(0,"button",43),Oe("click",function(r){te(o);let l=T(4);return ie(l.switchToYearView(r))})("keydown",function(r){te(o);let l=T(4);return ie(l.onContainerButtonKeydown(r))}),Qe(1),K()}if(i&2){let o=T().$implicit,e=T(3);I("disabled",e.switchViewButtonDisabled()),ne("aria-label",e.getTranslation("chooseYear")),E(),kn(" ",e.getYear(o)," ")}}function CM(i,s){if(i&1&&(Fe(0),Qe(1),Ne()),i&2){let o=T(5);E(),cl("",o.yearPickerValues()[0]," - ",o.yearPickerValues()[o.yearPickerValues().length-1],"")}}function IM(i,s){i&1&&it(0)}function SM(i,s){if(i&1&&(G(0,"span",44),U(1,CM,2,2,"ng-container",7)(2,IM,1,0,"ng-container",18),K()),i&2){let o=T(4);E(),I("ngIf",!o.decadeTemplate),E(),I("ngTemplateOutlet",o.decadeTemplate)("ngTemplateOutletContext",nt(3,Lf,o.yearPickerValues))}}function TM(i,s){i&1&&xe(0,"ChevronRightIcon",40),i&2&&I("styleClass","p-datepicker-next-icon")}function EM(i,s){}function MM(i,s){i&1&&U(0,EM,0,0,"ng-template")}function OM(i,s){if(i&1&&(G(0,"span",45),U(1,MM,1,0,null,13),K()),i&2){let o=T(4);E(),I("ngTemplateOutlet",o.nextIconTemplate)}}function LM(i,s){if(i&1&&(G(0,"th",51)(1,"span"),Qe(2),K()()),i&2){let o=T(5);E(2),Lt(o.getTranslation("weekHeader"))}}function PM(i,s){if(i&1&&(G(0,"th",52)(1,"span"),Qe(2),K()()),i&2){let o=s.$implicit;E(2),Lt(o)}}function kM(i,s){if(i&1&&(G(0,"td",55)(1,"span",56),Qe(2),K()()),i&2){let o=T().index,e=T(2).$implicit;E(2),kn(" ",e.weekNumbers[o]," ")}}function DM(i,s){if(i&1&&(Fe(0),Qe(1),Ne()),i&2){let o=T(2).$implicit;E(),Lt(o.day)}}function RM(i,s){i&1&&it(0)}function FM(i,s){if(i&1&&(Fe(0),U(1,RM,1,0,"ng-container",18),Ne()),i&2){let o=T(2).$implicit,e=T(6);E(),I("ngTemplateOutlet",e.dateTemplate)("ngTemplateOutletContext",nt(2,Lf,o))}}function NM(i,s){i&1&&it(0)}function AM(i,s){if(i&1&&(Fe(0),U(1,NM,1,0,"ng-container",18),Ne()),i&2){let o=T(2).$implicit,e=T(6);E(),I("ngTemplateOutlet",e.disabledDateTemplate)("ngTemplateOutletContext",nt(2,Lf,o))}}function VM(i,s){if(i&1&&(G(0,"div",59),Qe(1),K()),i&2){let o=T(2).$implicit;E(),kn(" ",o.day," ")}}function BM(i,s){if(i&1){let o=We();Fe(0),G(1,"span",57),Oe("click",function(r){te(o);let l=T().$implicit,h=T(6);return ie(h.onDateSelect(r,l))})("keydown",function(r){te(o);let l=T().$implicit,h=T(3).index,g=T(3);return ie(g.onDateCellKeydown(r,l,h))}),U(2,DM,2,1,"ng-container",7)(3,FM,2,4,"ng-container",7)(4,AM,2,4,"ng-container",7),K(),U(5,VM,2,1,"div",58),Ne()}if(i&2){let o=T().$implicit,e=T(6);E(),I("ngClass",Hi(6,J3,e.isSelected(o)&&o.selectable,!o.selectable)),ne("data-date",e.formatDateKey(e.formatDateMetaToDate(o))),E(),I("ngIf",!e.dateTemplate&&(o.selectable||!e.disabledDateTemplate)),E(),I("ngIf",o.selectable||!e.disabledDateTemplate),E(),I("ngIf",!o.selectable),E(),I("ngIf",e.isSelected(o))}}function zM(i,s){if(i&1&&(G(0,"td",16),U(1,BM,6,9,"ng-container",7),K()),i&2){let o=s.$implicit,e=T(6);I("ngClass",Hi(3,Q3,o.otherMonth,o.today)),ne("aria-label",o.day),E(),I("ngIf",o.otherMonth?e.showOtherMonths:!0)}}function HM(i,s){if(i&1&&(G(0,"tr"),U(1,kM,3,1,"td",53)(2,zM,2,6,"td",54),K()),i&2){let o=s.$implicit,e=T(5);E(),I("ngIf",e.showWeek),E(),I("ngForOf",o)}}function qM(i,s){if(i&1&&(G(0,"div",46)(1,"table",47)(2,"thead")(3,"tr"),U(4,LM,3,1,"th",48)(5,PM,3,1,"th",49),K()(),G(6,"tbody"),U(7,HM,3,2,"tr",50),K()()()),i&2){let o=T().$implicit,e=T(3);E(4),I("ngIf",e.showWeek),E(),I("ngForOf",e.weekDays),E(2),I("ngForOf",o.dates)}}function GM(i,s){if(i&1){let o=We();G(0,"div",27)(1,"div",28),U(2,xM,3,3,"button",29),G(3,"div",30),U(4,bM,2,3,"button",31)(5,wM,2,3,"button",32)(6,SM,3,5,"span",33),K(),G(7,"button",34),Oe("keydown",function(r){te(o);let l=T(3);return ie(l.onContainerButtonKeydown(r))})("click",function(r){te(o);let l=T(3);return ie(l.onNextButtonClick(r))}),U(8,TM,1,1,"ChevronRightIcon",35)(9,OM,2,1,"span",36),K()(),U(10,qM,8,3,"div",37),K()}if(i&2){let o=s.index,e=T(3);E(2),I("ngIf",o===0),E(2),I("ngIf",e.currentView==="date"),E(),I("ngIf",e.currentView!=="year"),E(),I("ngIf",e.currentView==="year"),E(),Ip("display",e.numberOfMonths===1||o===e.numberOfMonths-1?"inline-flex":"none"),ne("aria-label",e.nextIconAriaLabel),E(),I("ngIf",!e.nextIconTemplate),E(),I("ngIf",e.nextIconTemplate),E(),I("ngIf",e.currentView==="date")}}function UM(i,s){if(i&1&&(G(0,"div",59),Qe(1),K()),i&2){let o=T().$implicit;E(),kn(" ",o," ")}}function KM(i,s){if(i&1){let o=We();G(0,"span",62),Oe("click",function(r){let l=te(o).index,h=T(4);return ie(h.onMonthSelect(r,l))})("keydown",function(r){let l=te(o).index,h=T(4);return ie(h.onMonthCellKeydown(r,l))}),Qe(1),U(2,UM,2,1,"div",58),K()}if(i&2){let o=s.$implicit,e=s.index,r=T(4);I("ngClass",Hi(3,Z_,r.isMonthSelected(e),r.isMonthDisabled(e))),E(),kn(" ",o," "),E(),I("ngIf",r.isMonthSelected(e))}}function ZM(i,s){if(i&1&&(G(0,"div",60),U(1,KM,3,6,"span",61),K()),i&2){let o=T(3);E(),I("ngForOf",o.monthPickerValues())}}function YM(i,s){if(i&1&&(G(0,"div",59),Qe(1),K()),i&2){let o=T().$implicit;E(),kn(" ",o," ")}}function jM(i,s){if(i&1){let o=We();G(0,"span",65),Oe("click",function(r){let l=te(o).$implicit,h=T(4);return ie(h.onYearSelect(r,l))})("keydown",function(r){let l=te(o).$implicit,h=T(4);return ie(h.onYearCellKeydown(r,l))}),Qe(1),U(2,YM,2,1,"div",58),K()}if(i&2){let o=s.$implicit,e=T(4);I("ngClass",Hi(3,Z_,e.isYearSelected(o),e.isYearDisabled(o))),E(),kn(" ",o," "),E(),I("ngIf",e.isYearSelected(o))}}function WM(i,s){if(i&1&&(G(0,"div",63),U(1,jM,3,6,"span",64),K()),i&2){let o=T(3);E(),I("ngForOf",o.yearPickerValues())}}function XM(i,s){if(i&1&&(Fe(0),G(1,"div",23),U(2,GM,11,10,"div",24),K(),U(3,ZM,2,1,"div",25)(4,WM,2,1,"div",26),Ne()),i&2){let o=T(2);E(2),I("ngForOf",o.months),E(),I("ngIf",o.currentView==="month"),E(),I("ngIf",o.currentView==="year")}}function $M(i,s){i&1&&xe(0,"ChevronUpIcon")}function QM(i,s){}function JM(i,s){i&1&&U(0,QM,0,0,"ng-template")}function eO(i,s){i&1&&(Fe(0),Qe(1,"0"),Ne())}function tO(i,s){i&1&&xe(0,"ChevronDownIcon")}function iO(i,s){}function nO(i,s){i&1&&U(0,iO,0,0,"ng-template")}function rO(i,s){i&1&&xe(0,"ChevronUpIcon")}function oO(i,s){}function sO(i,s){i&1&&U(0,oO,0,0,"ng-template")}function aO(i,s){i&1&&(Fe(0),Qe(1,"0"),Ne())}function lO(i,s){i&1&&xe(0,"ChevronDownIcon")}function uO(i,s){}function cO(i,s){i&1&&U(0,uO,0,0,"ng-template")}function pO(i,s){if(i&1&&(G(0,"div",69)(1,"span"),Qe(2),K()()),i&2){let o=T(3);E(2),Lt(o.timeSeparator)}}function hO(i,s){i&1&&xe(0,"ChevronUpIcon")}function fO(i,s){}function dO(i,s){i&1&&U(0,fO,0,0,"ng-template")}function mO(i,s){i&1&&(Fe(0),Qe(1,"0"),Ne())}function gO(i,s){i&1&&xe(0,"ChevronDownIcon")}function _O(i,s){}function yO(i,s){i&1&&U(0,_O,0,0,"ng-template")}function vO(i,s){if(i&1){let o=We();G(0,"div",74)(1,"button",68),Oe("keydown",function(r){te(o);let l=T(3);return ie(l.onContainerButtonKeydown(r))})("keydown.enter",function(r){te(o);let l=T(3);return ie(l.incrementSecond(r))})("keydown.space",function(r){te(o);let l=T(3);return ie(l.incrementSecond(r))})("mousedown",function(r){te(o);let l=T(3);return ie(l.onTimePickerElementMouseDown(r,2,1))})("mouseup",function(r){te(o);let l=T(3);return ie(l.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){te(o);let l=T(3);return ie(l.onTimePickerElementMouseUp(r))})("keyup.space",function(r){te(o);let l=T(3);return ie(l.onTimePickerElementMouseUp(r))})("mouseleave",function(){te(o);let r=T(3);return ie(r.onTimePickerElementMouseLeave())}),U(2,hO,1,0,"ChevronUpIcon",7)(3,dO,1,0,null,13),K(),G(4,"span"),U(5,mO,2,0,"ng-container",7),Qe(6),K(),G(7,"button",68),Oe("keydown",function(r){te(o);let l=T(3);return ie(l.onContainerButtonKeydown(r))})("keydown.enter",function(r){te(o);let l=T(3);return ie(l.decrementSecond(r))})("keydown.space",function(r){te(o);let l=T(3);return ie(l.decrementSecond(r))})("mousedown",function(r){te(o);let l=T(3);return ie(l.onTimePickerElementMouseDown(r,2,-1))})("mouseup",function(r){te(o);let l=T(3);return ie(l.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){te(o);let l=T(3);return ie(l.onTimePickerElementMouseUp(r))})("keyup.space",function(r){te(o);let l=T(3);return ie(l.onTimePickerElementMouseUp(r))})("mouseleave",function(){te(o);let r=T(3);return ie(r.onTimePickerElementMouseLeave())}),U(8,gO,1,0,"ChevronDownIcon",7)(9,yO,1,0,null,13),K()()}if(i&2){let o=T(3);E(),ne("aria-label",o.getTranslation("nextSecond")),E(),I("ngIf",!o.incrementIconTemplate),E(),I("ngTemplateOutlet",o.incrementIconTemplate),E(2),I("ngIf",o.currentSecond<10),E(),Lt(o.currentSecond),E(),ne("aria-label",o.getTranslation("prevSecond")),E(),I("ngIf",!o.decrementIconTemplate),E(),I("ngTemplateOutlet",o.decrementIconTemplate)}}function xO(i,s){i&1&&xe(0,"ChevronUpIcon")}function bO(i,s){}function wO(i,s){i&1&&U(0,bO,0,0,"ng-template")}function CO(i,s){i&1&&xe(0,"ChevronDownIcon")}function IO(i,s){}function SO(i,s){i&1&&U(0,IO,0,0,"ng-template")}function TO(i,s){if(i&1){let o=We();G(0,"div",75)(1,"button",76),Oe("keydown",function(r){te(o);let l=T(3);return ie(l.onContainerButtonKeydown(r))})("click",function(r){te(o);let l=T(3);return ie(l.toggleAMPM(r))})("keydown.enter",function(r){te(o);let l=T(3);return ie(l.toggleAMPM(r))}),U(2,xO,1,0,"ChevronUpIcon",7)(3,wO,1,0,null,13),K(),G(4,"span"),Qe(5),K(),G(6,"button",76),Oe("keydown",function(r){te(o);let l=T(3);return ie(l.onContainerButtonKeydown(r))})("click",function(r){te(o);let l=T(3);return ie(l.toggleAMPM(r))})("keydown.enter",function(r){te(o);let l=T(3);return ie(l.toggleAMPM(r))}),U(7,CO,1,0,"ChevronDownIcon",7)(8,SO,1,0,null,13),K()()}if(i&2){let o=T(3);E(),ne("aria-label",o.getTranslation("am")),E(),I("ngIf",!o.incrementIconTemplate),E(),I("ngTemplateOutlet",o.incrementIconTemplate),E(2),Lt(o.pm?"PM":"AM"),E(),ne("aria-label",o.getTranslation("pm")),E(),I("ngIf",!o.decrementIconTemplate),E(),I("ngTemplateOutlet",o.decrementIconTemplate)}}function EO(i,s){if(i&1){let o=We();G(0,"div",66)(1,"div",67)(2,"button",68),Oe("keydown",function(r){te(o);let l=T(2);return ie(l.onContainerButtonKeydown(r))})("keydown.enter",function(r){te(o);let l=T(2);return ie(l.incrementHour(r))})("keydown.space",function(r){te(o);let l=T(2);return ie(l.incrementHour(r))})("mousedown",function(r){te(o);let l=T(2);return ie(l.onTimePickerElementMouseDown(r,0,1))})("mouseup",function(r){te(o);let l=T(2);return ie(l.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){te(o);let l=T(2);return ie(l.onTimePickerElementMouseUp(r))})("keyup.space",function(r){te(o);let l=T(2);return ie(l.onTimePickerElementMouseUp(r))})("mouseleave",function(){te(o);let r=T(2);return ie(r.onTimePickerElementMouseLeave())}),U(3,$M,1,0,"ChevronUpIcon",7)(4,JM,1,0,null,13),K(),G(5,"span"),U(6,eO,2,0,"ng-container",7),Qe(7),K(),G(8,"button",68),Oe("keydown",function(r){te(o);let l=T(2);return ie(l.onContainerButtonKeydown(r))})("keydown.enter",function(r){te(o);let l=T(2);return ie(l.decrementHour(r))})("keydown.space",function(r){te(o);let l=T(2);return ie(l.decrementHour(r))})("mousedown",function(r){te(o);let l=T(2);return ie(l.onTimePickerElementMouseDown(r,0,-1))})("mouseup",function(r){te(o);let l=T(2);return ie(l.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){te(o);let l=T(2);return ie(l.onTimePickerElementMouseUp(r))})("keyup.space",function(r){te(o);let l=T(2);return ie(l.onTimePickerElementMouseUp(r))})("mouseleave",function(){te(o);let r=T(2);return ie(r.onTimePickerElementMouseLeave())}),U(9,tO,1,0,"ChevronDownIcon",7)(10,nO,1,0,null,13),K()(),G(11,"div",69)(12,"span"),Qe(13),K()(),G(14,"div",70)(15,"button",68),Oe("keydown",function(r){te(o);let l=T(2);return ie(l.onContainerButtonKeydown(r))})("keydown.enter",function(r){te(o);let l=T(2);return ie(l.incrementMinute(r))})("keydown.space",function(r){te(o);let l=T(2);return ie(l.incrementMinute(r))})("mousedown",function(r){te(o);let l=T(2);return ie(l.onTimePickerElementMouseDown(r,1,1))})("mouseup",function(r){te(o);let l=T(2);return ie(l.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){te(o);let l=T(2);return ie(l.onTimePickerElementMouseUp(r))})("keyup.space",function(r){te(o);let l=T(2);return ie(l.onTimePickerElementMouseUp(r))})("mouseleave",function(){te(o);let r=T(2);return ie(r.onTimePickerElementMouseLeave())}),U(16,rO,1,0,"ChevronUpIcon",7)(17,sO,1,0,null,13),K(),G(18,"span"),U(19,aO,2,0,"ng-container",7),Qe(20),K(),G(21,"button",68),Oe("keydown",function(r){te(o);let l=T(2);return ie(l.onContainerButtonKeydown(r))})("keydown.enter",function(r){te(o);let l=T(2);return ie(l.decrementMinute(r))})("keydown.space",function(r){te(o);let l=T(2);return ie(l.decrementMinute(r))})("mousedown",function(r){te(o);let l=T(2);return ie(l.onTimePickerElementMouseDown(r,1,-1))})("mouseup",function(r){te(o);let l=T(2);return ie(l.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){te(o);let l=T(2);return ie(l.onTimePickerElementMouseUp(r))})("keyup.space",function(r){te(o);let l=T(2);return ie(l.onTimePickerElementMouseUp(r))})("mouseleave",function(){te(o);let r=T(2);return ie(r.onTimePickerElementMouseLeave())}),U(22,lO,1,0,"ChevronDownIcon",7)(23,cO,1,0,null,13),K()(),U(24,pO,3,1,"div",71)(25,vO,10,8,"div",72)(26,TO,9,7,"div",73),K()}if(i&2){let o=T(2);E(2),ne("aria-label",o.getTranslation("nextHour")),E(),I("ngIf",!o.incrementIconTemplate),E(),I("ngTemplateOutlet",o.incrementIconTemplate),E(2),I("ngIf",o.currentHour<10),E(),Lt(o.currentHour),E(),ne("aria-label",o.getTranslation("prevHour")),E(),I("ngIf",!o.decrementIconTemplate),E(),I("ngTemplateOutlet",o.decrementIconTemplate),E(3),Lt(o.timeSeparator),E(2),ne("aria-label",o.getTranslation("nextMinute")),E(),I("ngIf",!o.incrementIconTemplate),E(),I("ngTemplateOutlet",o.incrementIconTemplate),E(2),I("ngIf",o.currentMinute<10),E(),Lt(o.currentMinute),E(),ne("aria-label",o.getTranslation("prevMinute")),E(),I("ngIf",!o.decrementIconTemplate),E(),I("ngTemplateOutlet",o.decrementIconTemplate),E(),I("ngIf",o.showSeconds),E(),I("ngIf",o.showSeconds),E(),I("ngIf",o.hourFormat=="12")}}function MO(i,s){if(i&1){let o=We();G(0,"div",77)(1,"button",78),Oe("keydown",function(r){te(o);let l=T(2);return ie(l.onContainerButtonKeydown(r))})("click",function(r){te(o);let l=T(2);return ie(l.onTodayButtonClick(r))}),K(),G(2,"button",78),Oe("keydown",function(r){te(o);let l=T(2);return ie(l.onContainerButtonKeydown(r))})("click",function(r){te(o);let l=T(2);return ie(l.onClearButtonClick(r))}),K()()}if(i&2){let o=T(2);E(),I("label",o.getTranslation("today"))("ngClass",nt(4,K_,o.todayButtonStyleClass)),E(),I("label",o.getTranslation("clear"))("ngClass",nt(6,K_,o.clearButtonStyleClass))}}function OO(i,s){i&1&&it(0)}function LO(i,s){if(i&1){let o=We();G(0,"div",20,2),Oe("@overlayAnimation.start",function(r){te(o);let l=T();return ie(l.onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){te(o);let l=T();return ie(l.onOverlayAnimationDone(r))})("click",function(r){te(o);let l=T();return ie(l.onOverlayClick(r))}),Do(2),U(3,mM,1,0,"ng-container",13)(4,XM,5,3,"ng-container",7)(5,EO,27,20,"div",21)(6,MO,3,8,"div",22),Do(7,1),U(8,OO,1,0,"ng-container",13),K()}if(i&2){let o=T();Re(o.panelStyleClass),I("ngStyle",o.panelStyle)("ngClass",uc(15,W3,o.inline,o.disabled,o.timeOnly,o.numberOfMonths>1,o.view==="month",o.touchUI))("@overlayAnimation",o.touchUI?nt(25,X3,Hi(22,U_,o.showTransitionOptions,o.hideTransitionOptions)):nt(30,$3,Hi(27,U_,o.showTransitionOptions,o.hideTransitionOptions)))("@.disabled",o.inline===!0),ne("id",o.panelId)("aria-label",o.getTranslation("chooseDate"))("role",o.inline?null:"dialog")("aria-modal",o.inline?null:"true"),E(3),I("ngTemplateOutlet",o.headerTemplate),E(),I("ngIf",!o.timeOnly),E(),I("ngIf",(o.showTime||o.timeOnly)&&o.currentView==="date"),E(),I("ngIf",o.showButtonBar),E(2),I("ngTemplateOutlet",o.footerTemplate)}}var PO={provide:Er,useExisting:Ir(()=>kO),multi:!0},kO=(()=>{let s=class s{constructor(e,r,l,h,g,y,w){d(this,"document");d(this,"el");d(this,"renderer");d(this,"cd");d(this,"zone");d(this,"config");d(this,"overlayService");d(this,"iconDisplay","button");d(this,"style");d(this,"styleClass");d(this,"inputStyle");d(this,"inputId");d(this,"name");d(this,"inputStyleClass");d(this,"placeholder");d(this,"ariaLabelledBy");d(this,"ariaLabel");d(this,"iconAriaLabel");d(this,"disabled");d(this,"dateFormat");d(this,"multipleSeparator",",");d(this,"rangeSeparator","-");d(this,"inline",!1);d(this,"showOtherMonths",!0);d(this,"selectOtherMonths");d(this,"showIcon");d(this,"icon");d(this,"appendTo");d(this,"readonlyInput");d(this,"shortYearCutoff","+10");d(this,"monthNavigator");d(this,"yearNavigator");d(this,"hourFormat","24");d(this,"timeOnly");d(this,"stepYearPicker",10);d(this,"stepHour",1);d(this,"stepMinute",1);d(this,"stepSecond",1);d(this,"showSeconds",!1);d(this,"required");d(this,"showOnFocus",!0);d(this,"showWeek",!1);d(this,"startWeekFromFirstDayOfYear",!1);d(this,"showClear",!1);d(this,"dataType","date");d(this,"selectionMode","single");d(this,"maxDateCount");d(this,"showButtonBar");d(this,"todayButtonStyleClass","p-button-text");d(this,"clearButtonStyleClass","p-button-text");d(this,"autofocus");d(this,"autoZIndex",!0);d(this,"baseZIndex",0);d(this,"panelStyleClass");d(this,"panelStyle");d(this,"keepInvalid",!1);d(this,"hideOnDateTimeSelect",!0);d(this,"touchUI");d(this,"timeSeparator",":");d(this,"focusTrap",!0);d(this,"showTransitionOptions",".12s cubic-bezier(0, 0, 0.2, 1)");d(this,"hideTransitionOptions",".1s linear");d(this,"tabindex");d(this,"variant","outlined");d(this,"onFocus",new qe);d(this,"onBlur",new qe);d(this,"onClose",new qe);d(this,"onSelect",new qe);d(this,"onClear",new qe);d(this,"onInput",new qe);d(this,"onTodayClick",new qe);d(this,"onClearClick",new qe);d(this,"onMonthChange",new qe);d(this,"onYearChange",new qe);d(this,"onClickOutside",new qe);d(this,"onShow",new qe);d(this,"templates");d(this,"containerViewChild");d(this,"inputfieldViewChild");d(this,"contentViewChild");d(this,"value");d(this,"dates");d(this,"months");d(this,"weekDays");d(this,"currentMonth");d(this,"currentYear");d(this,"currentHour");d(this,"currentMinute");d(this,"currentSecond");d(this,"pm");d(this,"mask");d(this,"maskClickListener");d(this,"overlay");d(this,"responsiveStyleElement");d(this,"overlayVisible");d(this,"onModelChange",()=>{});d(this,"onModelTouched",()=>{});d(this,"calendarElement");d(this,"timePickerTimer");d(this,"documentClickListener");d(this,"animationEndListener");d(this,"ticksTo1970");d(this,"yearOptions");d(this,"focus");d(this,"isKeydown");d(this,"filled");d(this,"inputFieldValue",null);d(this,"_minDate");d(this,"_maxDate");d(this,"_showTime");d(this,"_yearRange");d(this,"preventDocumentListener");d(this,"dateTemplate");d(this,"headerTemplate");d(this,"footerTemplate");d(this,"disabledDateTemplate");d(this,"decadeTemplate");d(this,"previousIconTemplate");d(this,"nextIconTemplate");d(this,"triggerIconTemplate");d(this,"clearIconTemplate");d(this,"decrementIconTemplate");d(this,"incrementIconTemplate");d(this,"inputIconTemplate");d(this,"_disabledDates");d(this,"_disabledDays");d(this,"selectElement");d(this,"todayElement");d(this,"focusElement");d(this,"scrollHandler");d(this,"documentResizeListener");d(this,"navigationState",null);d(this,"isMonthNavigate");d(this,"initialized");d(this,"translationSubscription");d(this,"_locale");d(this,"_responsiveOptions");d(this,"currentView");d(this,"attributeSelector");d(this,"panelId");d(this,"_numberOfMonths",1);d(this,"_firstDayOfWeek");d(this,"_view","date");d(this,"preventFocus");d(this,"_defaultDate");d(this,"_focusKey",null);d(this,"window");this.document=e,this.el=r,this.renderer=l,this.cd=h,this.zone=g,this.config=y,this.overlayService=w,this.window=this.document.defaultView}get minDate(){return this._minDate}set minDate(e){this._minDate=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){let r=e.split(":"),l=parseInt(r[0]),h=parseInt(r[1]);this.populateYearOptions(l,h)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,this.currentHour===void 0&&this.initTime(this.value||new Date),this.updateInputfield()}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(e){this._responsiveOptions=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(e){this._numberOfMonths=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){this._firstDayOfWeek=e,this.createWeekDays()}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}get view(){return this._view}set view(e){this._view=e,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){let r=e||new Date;this.currentMonth=r.getMonth(),this.currentYear=r.getFullYear(),this.initTime(r),this.createMonths(this.currentMonth,this.currentYear)}}get inputClass(){return{"p-inputtext p-component":!0,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"}}set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):!this.focus&&!this.inline&&this.initFocusableCell())}get locale(){return this._locale}get iconButtonAriaLabel(){return this.iconAriaLabel?this.iconAriaLabel:this.getTranslation("chooseDate")}get prevIconAriaLabel(){return this.currentView==="year"?this.getTranslation("prevDecade"):this.currentView==="month"?this.getTranslation("prevYear"):this.getTranslation("prevMonth")}get nextIconAriaLabel(){return this.currentView==="year"?this.getTranslation("nextDecade"):this.currentView==="month"?this.getTranslation("nextYear"):this.getTranslation("nextMonth")}ngOnInit(){this.attributeSelector=un(),this.panelId=this.attributeSelector+"_panel";let e=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.yearOptions=[],this.currentView=this.view,this.view==="date"&&(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=(1969*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays(),this.cd.markForCheck()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":this.dateTemplate=e.template;break;case"decade":this.decadeTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"inputicon":this.inputIconTemplate=e.template;break;case"previousicon":this.previousIconTemplate=e.template;break;case"nexticon":this.nextIconTemplate=e.template;break;case"triggericon":this.triggerIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"decrementicon":this.decrementIconTemplate=e.template;break;case"incrementicon":this.incrementIconTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.dateTemplate=e.template;break}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),!this.disabled&&!this.inline&&(this.initFocusableCell(),this.numberOfMonths===1&&this.contentViewChild&&this.contentViewChild.nativeElement&&(this.contentViewChild.nativeElement.style.width=ge.getOuterWidth(this.containerViewChild?.nativeElement)+"px")))}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,r){this.yearOptions=[];for(let l=e;l<=r;l++)this.yearOptions.push(l)}createWeekDays(){this.weekDays=[];let e=this.getFirstDateOfWeek(),r=this.getTranslation(Wn.DAY_NAMES_MIN);for(let l=0;l<7;l++)this.weekDays.push(r[e]),e=e==6?0:++e}monthPickerValues(){let e=[];for(let r=0;r<=11;r++)e.push(this.config.getTranslation("monthNamesShort")[r]);return e}yearPickerValues(){let e=[],r=this.currentYear-this.currentYear%this.stepYearPicker;for(let l=0;l<this.stepYearPicker;l++)e.push(r+l);return e}createMonths(e,r){this.months=this.months=[];for(let l=0;l<this.numberOfMonths;l++){let h=e+l,g=r;h>11&&(h=h%11-1,g=r+1),this.months.push(this.createMonth(h,g))}}getWeekNumber(e){let r=new Date(e.getTime());if(this.startWeekFromFirstDayOfYear){let h=+this.getFirstDateOfWeek();r.setDate(r.getDate()+6+h-r.getDay())}else r.setDate(r.getDate()+4-(r.getDay()||7));let l=r.getTime();return r.setMonth(0),r.setDate(1),Math.floor(Math.round((l-r.getTime())/864e5)/7)+1}createMonth(e,r){let l=[],h=this.getFirstDayOfMonthIndex(e,r),g=this.getDaysCountInMonth(e,r),y=this.getDaysCountInPrevMonth(e,r),w=1,k=new Date,R=[],A=Math.ceil((g+h)/7);for(let Y=0;Y<A;Y++){let X=[];if(Y==0){for(let S=y-h+1;S<=y;S++){let O=this.getPreviousMonthAndYear(e,r);X.push({day:S,month:O.month,year:O.year,otherMonth:!0,today:this.isToday(k,S,O.month,O.year),selectable:this.isSelectable(S,O.month,O.year,!0)})}let j=7-X.length;for(let S=0;S<j;S++)X.push({day:w,month:e,year:r,today:this.isToday(k,w,e,r),selectable:this.isSelectable(w,e,r,!1)}),w++}else for(let j=0;j<7;j++){if(w>g){let S=this.getNextMonthAndYear(e,r);X.push({day:w-g,month:S.month,year:S.year,otherMonth:!0,today:this.isToday(k,w-g,S.month,S.year),selectable:this.isSelectable(w-g,S.month,S.year,!0)})}else X.push({day:w,month:e,year:r,today:this.isToday(k,w,e,r),selectable:this.isSelectable(w,e,r,!1)});w++}this.showWeek&&R.push(this.getWeekNumber(new Date(X[0].year,X[0].month,X[0].day))),l.push(X)}return{month:e,year:r,dates:l,weekNumbers:R}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){if(this.disabled){e.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.decrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===0?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}navForward(e){if(this.disabled){e.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.incrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===11?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}decrementYear(){this.currentYear--;let e=this.yearOptions;if(this.yearNavigator&&this.currentYear<e[0]){let r=e[e.length-1]-e[0];this.populateYearOptions(e[0]-r,e[e.length-1]-r)}}decrementYearPickerStep(){this.currentYear=this.currentYear-this.stepYearPicker}incrementYearPickerStep(){this.currentYear=this.currentYear+this.stepYearPicker}incrementYear(){this.currentYear++;let e=this.yearOptions;if(this.yearNavigator&&this.currentYear>e[e.length-1]){let r=e[e.length-1]-e[0];this.populateYearOptions(e[0]+r,e[e.length-1]+r)}}switchToMonthView(e){this.setCurrentView("month"),e.preventDefault()}switchToYearView(e){this.setCurrentView("year"),e.preventDefault()}onDateSelect(e,r){if(this.disabled||!r.selectable){e.preventDefault();return}this.isMultipleSelection()&&this.isSelected(r)?(this.value=this.value.filter((l,h)=>!this.isDateEquals(l,r)),this.value.length===0&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(r)&&this.selectDate(r),this.hideOnDateTimeSelect&&(this.isSingleSelection()||this.isRangeSelection()&&this.value[1])&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()}shouldSelectDate(e){return this.isMultipleSelection()&&this.maxDateCount!=null?this.maxDateCount>(this.value?this.value.length:0):!0}onMonthSelect(e,r){this.view==="month"?this.onDateSelect(e,{year:this.currentYear,month:r,day:1,selectable:!0}):(this.currentMonth=r,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(e,r){this.view==="year"?this.onDateSelect(e,{year:r,month:0,day:1,selectable:!0}):(this.currentYear=r,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let e="";if(this.value){if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let r=0;r<this.value.length;r++){let l=this.formatDateTime(this.value[r]);e+=l,r!==this.value.length-1&&(e+=this.multipleSeparator+" ")}else if(this.isRangeSelection()&&this.value&&this.value.length){let r=this.value[0],l=this.value[1];e=this.formatDateTime(r),l&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(l))}}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let r=this.keepInvalid?e:null,l=this.isValidDateForTimeConstraints(e);return this.isValidDate(e)?this.timeOnly?r=this.formatTime(e):(r=this.formatDate(e,this.getDateFormat()),this.showTime&&(r+=" "+this.formatTime(e))):this.dataType==="string"&&(r=e),r=l?r:"",r}formatDateMetaToDate(e){return new Date(e.year,e.month,e.day)}formatDateKey(e){return`${e.getFullYear()}-${e.getMonth()}-${e.getDate()}`}setCurrentHourPM(e){this.hourFormat=="12"?(this.pm=e>11,e>=12?this.currentHour=e==12?12:e-12:this.currentHour=e==0?12:e):this.currentHour=e}setCurrentView(e){this.currentView=e,this.cd.detectChanges(),this.alignOverlay()}selectDate(e){let r=this.formatDateMetaToDate(e);if(this.showTime&&(this.hourFormat=="12"?this.currentHour===12?r.setHours(this.pm?12:0):r.setHours(this.pm?this.currentHour+12:this.currentHour):r.setHours(this.currentHour),r.setMinutes(this.currentMinute),r.setSeconds(this.currentSecond)),this.minDate&&this.minDate>r&&(r=this.minDate,this.setCurrentHourPM(r.getHours()),this.currentMinute=r.getMinutes(),this.currentSecond=r.getSeconds()),this.maxDate&&this.maxDate<r&&(r=this.maxDate,this.setCurrentHourPM(r.getHours()),this.currentMinute=r.getMinutes(),this.currentSecond=r.getSeconds()),this.isSingleSelection())this.updateModel(r);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,r]:[r]);else if(this.isRangeSelection())if(this.value&&this.value.length){let l=this.value[0],h=this.value[1];!h&&r.getTime()>=l.getTime()?h=r:(l=r,h=null),this.updateModel([l,h])}else this.updateModel([r,null]);this.onSelect.emit(r)}updateModel(e){if(this.value=e,this.dataType=="date")this.onModelChange(this.value);else if(this.dataType=="string")if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let r=null;Array.isArray(this.value)&&(r=this.value.map(l=>this.formatDateTime(l))),this.onModelChange(r)}}getFirstDayOfMonthIndex(e,r){let l=new Date;l.setDate(1),l.setMonth(e),l.setFullYear(r);let h=l.getDay()+this.getSundayIndex();return h>=7?h-7:h}getDaysCountInMonth(e,r){return 32-this.daylightSavingAdjust(new Date(r,e,32)).getDate()}getDaysCountInPrevMonth(e,r){let l=this.getPreviousMonthAndYear(e,r);return this.getDaysCountInMonth(l.month,l.year)}getPreviousMonthAndYear(e,r){let l,h;return e===0?(l=11,h=r-1):(l=e-1,h=r),{month:l,year:h}}getNextMonthAndYear(e,r){let l,h;return e===11?(l=0,h=r+1):(l=e+1,h=r),{month:l,year:h}}getSundayIndex(){let e=this.getFirstDateOfWeek();return e>0?7-e:0}isSelected(e){if(this.value){if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let r=!1;for(let l of this.value)if(r=this.isDateEquals(l,e),r)break;return r}else if(this.isRangeSelection())return this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e)}else return!1}isComparable(){return this.value!=null&&typeof this.value!="string"}isMonthSelected(e){if(this.isComparable()&&!this.isMultipleSelection()){let[r,l]=this.isRangeSelection()?this.value:[this.value,this.value],h=new Date(this.currentYear,e,1);return h>=r&&h<=(l??r)}return!1}isMonthDisabled(e,r){let l=r??this.currentYear;for(let h=1;h<this.getDaysCountInMonth(e,l)+1;h++)if(this.isSelectable(h,e,l,!1))return!1;return!0}isYearDisabled(e){return Array(12).fill(0).every((r,l)=>this.isMonthDisabled(l,e))}isYearSelected(e){if(this.isComparable()){let r=this.isRangeSelection()?this.value[0]:this.value;return this.isMultipleSelection()?!1:r.getFullYear()===e}return!1}isDateEquals(e,r){return e&&Ve.isDate(e)?e.getDate()===r.day&&e.getMonth()===r.month&&e.getFullYear()===r.year:!1}isDateBetween(e,r,l){let h=!1;if(Ve.isDate(e)&&Ve.isDate(r)){let g=this.formatDateMetaToDate(l);return e.getTime()<=g.getTime()&&r.getTime()>=g.getTime()}return h}isSingleSelection(){return this.selectionMode==="single"}isRangeSelection(){return this.selectionMode==="range"}isMultipleSelection(){return this.selectionMode==="multiple"}isToday(e,r,l,h){return e.getDate()===r&&e.getMonth()===l&&e.getFullYear()===h}isSelectable(e,r,l,h){let g=!0,y=!0,w=!0,k=!0;return h&&!this.selectOtherMonths?!1:(this.minDate&&(this.minDate.getFullYear()>l||this.minDate.getFullYear()===l&&this.currentView!="year"&&(this.minDate.getMonth()>r||this.minDate.getMonth()===r&&this.minDate.getDate()>e))&&(g=!1),this.maxDate&&(this.maxDate.getFullYear()<l||this.maxDate.getFullYear()===l&&(this.maxDate.getMonth()<r||this.maxDate.getMonth()===r&&this.maxDate.getDate()<e))&&(y=!1),this.disabledDates&&(w=!this.isDateDisabled(e,r,l)),this.disabledDays&&(k=!this.isDayDisabled(e,r,l)),g&&y&&w&&k)}isDateDisabled(e,r,l){if(this.disabledDates){for(let h of this.disabledDates)if(h.getFullYear()===l&&h.getMonth()===r&&h.getDate()===e)return!0}return!1}isDayDisabled(e,r,l){if(this.disabledDays){let g=new Date(l,r,e).getDay();return this.disabledDays.indexOf(g)!==-1}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,r=this.inputfieldViewChild?.nativeElement){this.overlayVisible?this.hideOverlay():(r.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}getMonthName(e){return this.config.getTranslation("monthNames")[e]}getYear(e){return this.currentView==="month"?this.currentYear:e.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:if(this.inline||this.trapFocus(e),this.inline){let r=ge.findSingle(this.containerViewChild?.nativeElement,".p-datepicker-header"),l=e.target;if(this.timeOnly)return;l==r.children[r?.children?.length-1]&&this.initFocusableCell()}break;case 27:this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break;default:break}}onInputKeydown(e){this.isKeydown=!0,e.keyCode===40&&this.contentViewChild?this.trapFocus(e):e.keyCode===27?this.overlayVisible&&(this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault()):e.keyCode===13?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):e.keyCode===9&&this.contentViewChild&&(ge.getFocusableElements(this.contentViewChild.nativeElement).forEach(r=>r.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,r,l){let h=e.currentTarget,g=h.parentElement,y=this.formatDateMetaToDate(r);switch(e.which){case 40:{h.tabIndex="-1";let j=ge.index(g),S=g.parentElement.nextElementSibling;if(S){let O=S.children[j].children[0];ge.hasClass(O,"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(S.children[j].children[0].tabIndex="0",S.children[j].children[0].focus())}else this.navigationState={backward:!1},this.navForward(e);e.preventDefault();break}case 38:{h.tabIndex="-1";let j=ge.index(g),S=g.parentElement.previousElementSibling;if(S){let O=S.children[j].children[0];ge.hasClass(O,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(O.tabIndex="0",O.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{h.tabIndex="-1";let j=g.previousElementSibling;if(j){let S=j.children[0];ge.hasClass(S,"p-disabled")||ge.hasClass(S.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,l):(S.tabIndex="0",S.focus())}else this.navigateToMonth(!0,l);e.preventDefault();break}case 39:{h.tabIndex="-1";let j=g.nextElementSibling;if(j){let S=j.children[0];ge.hasClass(S,"p-disabled")?this.navigateToMonth(!1,l):(S.tabIndex="0",S.focus())}else this.navigateToMonth(!1,l);e.preventDefault();break}case 13:case 32:{this.onDateSelect(e,r),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.inline||this.trapFocus(e);break}case 33:{h.tabIndex="-1";let j=new Date(y.getFullYear(),y.getMonth()-1,y.getDate()),S=this.formatDateKey(j);this.navigateToMonth(!0,l,`span[data-date='${S}']:not(.p-disabled):not(.p-ink)`),e.preventDefault();break}case 34:{h.tabIndex="-1";let j=new Date(y.getFullYear(),y.getMonth()+1,y.getDate()),S=this.formatDateKey(j);this.navigateToMonth(!1,l,`span[data-date='${S}']:not(.p-disabled):not(.p-ink)`),e.preventDefault();break}case 36:h.tabIndex="-1";let w=new Date(y.getFullYear(),y.getMonth(),1),k=this.formatDateKey(w),R=ge.findSingle(h.offsetParent,`span[data-date='${k}']:not(.p-disabled):not(.p-ink)`);R&&(R.tabIndex="0",R.focus()),e.preventDefault();break;case 35:h.tabIndex="-1";let A=new Date(y.getFullYear(),y.getMonth()+1,0),Y=this.formatDateKey(A),X=ge.findSingle(h.offsetParent,`span[data-date='${Y}']:not(.p-disabled):not(.p-ink)`);A&&(X.tabIndex="0",X.focus()),e.preventDefault();break;default:break}}onMonthCellKeydown(e,r){let l=e.currentTarget;switch(e.which){case 38:case 40:{l.tabIndex="-1";var h=l.parentElement.children,g=ge.index(l);let y=h[e.which===40?g+3:g-3];y&&(y.tabIndex="0",y.focus()),e.preventDefault();break}case 37:{l.tabIndex="-1";let y=l.previousElementSibling;y?(y.tabIndex="0",y.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{l.tabIndex="-1";let y=l.nextElementSibling;y?(y.tabIndex="0",y.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:{this.onMonthSelect(e,r),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.inline||this.trapFocus(e);break}default:break}}onYearCellKeydown(e,r){let l=e.currentTarget;switch(e.which){case 38:case 40:{l.tabIndex="-1";var h=l.parentElement.children,g=ge.index(l);let y=h[e.which===40?g+2:g-2];y&&(y.tabIndex="0",y.focus()),e.preventDefault();break}case 37:{l.tabIndex="-1";let y=l.previousElementSibling;y?(y.tabIndex="0",y.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{l.tabIndex="-1";let y=l.nextElementSibling;y?(y.tabIndex="0",y.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:{this.onYearSelect(e,r),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.trapFocus(e);break}default:break}}navigateToMonth(e,r,l){if(e)if(this.numberOfMonths===1||r===0)this.navigationState={backward:!0},this._focusKey=l,this.navBackward(event);else{let h=this.contentViewChild.nativeElement.children[r-1];if(l){let g=ge.findSingle(h,l);g.tabIndex="0",g.focus()}else{let g=ge.find(h,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),y=g[g.length-1];y.tabIndex="0",y.focus()}}else if(this.numberOfMonths===1||r===this.numberOfMonths-1)this.navigationState={backward:!1},this._focusKey=l,this.navForward(event);else{let h=this.contentViewChild.nativeElement.children[r+1];if(l){let g=ge.findSingle(h,l);g.tabIndex="0",g.focus()}else{let g=ge.findSingle(h,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");g.tabIndex="0",g.focus()}}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?ge.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():ge.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let r;this.currentView==="month"?r=ge.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?r=ge.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):r=ge.find(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),r&&r.length>0&&(e=r[r.length-1])}else this.currentView==="month"?e=ge.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?e=ge.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):e=ge.findSingle(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null,this._focusKey=null}else this.initFocusableCell();this.alignOverlay()}initFocusableCell(){let e=this.contentViewChild?.nativeElement,r;if(this.currentView==="month"){let l=ge.find(e,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),h=ge.findSingle(e,".p-monthpicker .p-monthpicker-month.p-highlight");l.forEach(g=>g.tabIndex=-1),r=h||l[0],l.length===0&&ge.find(e,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(y=>y.tabIndex=-1)}else if(this.currentView==="year"){let l=ge.find(e,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),h=ge.findSingle(e,".p-yearpicker .p-yearpicker-year.p-highlight");l.forEach(g=>g.tabIndex=-1),r=h||l[0],l.length===0&&ge.find(e,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(y=>y.tabIndex=-1)}else if(r=ge.findSingle(e,"span.p-highlight"),!r){let l=ge.findSingle(e,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");l?r=l:r=ge.findSingle(e,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}r&&(r.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{this.disabled||r.focus()},1),this.preventFocus=!1)}trapFocus(e){let r=ge.getFocusableElements(this.contentViewChild.nativeElement);if(r&&r.length>0)if(!r[0].ownerDocument.activeElement)r[0].focus();else{let l=r.indexOf(r[0].ownerDocument.activeElement);if(e.shiftKey)if(l==-1||l===0)if(this.focusTrap)r[r.length-1].focus();else{if(l===-1)return this.hideOverlay();if(l===0)return}else r[l-1].focus();else if(l==-1)if(this.timeOnly)r[0].focus();else{let h=0;for(let g=0;g<r.length;g++)r[g].tagName==="SPAN"&&(h=g);r[h].focus()}else if(l===r.length-1){if(!this.focusTrap&&l!=-1)return this.hideOverlay();r[0].focus()}else r[l+1].focus()}e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}convertTo24Hour(e,r){return this.hourFormat=="12"?e===12?r?12:0:r?e+12:e:e}constrainTime(e,r,l,h){let g=[e,r,l],y,w=this.value,k=this.convertTo24Hour(e,h),R=this.isRangeSelection(),A=this.isMultipleSelection();(R||A)&&(this.value||(this.value=[new Date,new Date]),R&&(w=this.value[1]||this.value[0]),A&&(w=this.value[this.value.length-1]));let X=w?w.toDateString():null,j=this.minDate&&X&&this.minDate.toDateString()===X,S=this.maxDate&&X&&this.maxDate.toDateString()===X;switch(j&&(y=this.minDate.getHours()>=12),!0){case(j&&y&&this.minDate.getHours()===12&&this.minDate.getHours()>k):g[0]=11;case(j&&this.minDate.getHours()===k&&this.minDate.getMinutes()>r):g[1]=this.minDate.getMinutes();case(j&&this.minDate.getHours()===k&&this.minDate.getMinutes()===r&&this.minDate.getSeconds()>l):g[2]=this.minDate.getSeconds();break;case(j&&!y&&this.minDate.getHours()-1===k&&this.minDate.getHours()>k):g[0]=11,this.pm=!0;case(j&&this.minDate.getHours()===k&&this.minDate.getMinutes()>r):g[1]=this.minDate.getMinutes();case(j&&this.minDate.getHours()===k&&this.minDate.getMinutes()===r&&this.minDate.getSeconds()>l):g[2]=this.minDate.getSeconds();break;case(j&&y&&this.minDate.getHours()>k&&k!==12):this.setCurrentHourPM(this.minDate.getHours()),g[0]=this.currentHour;case(j&&this.minDate.getHours()===k&&this.minDate.getMinutes()>r):g[1]=this.minDate.getMinutes();case(j&&this.minDate.getHours()===k&&this.minDate.getMinutes()===r&&this.minDate.getSeconds()>l):g[2]=this.minDate.getSeconds();break;case(j&&this.minDate.getHours()>k):g[0]=this.minDate.getHours();case(j&&this.minDate.getHours()===k&&this.minDate.getMinutes()>r):g[1]=this.minDate.getMinutes();case(j&&this.minDate.getHours()===k&&this.minDate.getMinutes()===r&&this.minDate.getSeconds()>l):g[2]=this.minDate.getSeconds();break;case(S&&this.maxDate.getHours()<k):g[0]=this.maxDate.getHours();case(S&&this.maxDate.getHours()===k&&this.maxDate.getMinutes()<r):g[1]=this.maxDate.getMinutes();case(S&&this.maxDate.getHours()===k&&this.maxDate.getMinutes()===r&&this.maxDate.getSeconds()<l):g[2]=this.maxDate.getSeconds();break}return g}incrementHour(e){let r=this.currentHour??0,l=(this.currentHour??0)+this.stepHour,h=this.pm;this.hourFormat=="24"?l=l>=24?l-24:l:this.hourFormat=="12"&&(r<12&&l>11&&(h=!this.pm),l=l>=13?l-12:l),this.toggleAMPMIfNotMinDate(h),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(l,this.currentMinute,this.currentSecond,h),e.preventDefault()}toggleAMPMIfNotMinDate(e){let r=this.value;(this.selectionMode=="range"||this.selectionMode=="multiple")&&Array.isArray(r)&&r.length>0&&(r=r[r.length-1]);let l=r?r.toDateString():null;this.minDate&&l&&this.minDate.toDateString()===l&&this.minDate.getHours()>=12?this.pm=!0:this.pm=e}onTimePickerElementMouseDown(e,r,l){this.disabled||(this.repeat(e,null,r,l),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,r,l,h){let g=r||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,l,h),this.cd.markForCheck()},g),l){case 0:h===1?this.incrementHour(e):this.decrementHour(e);break;case 1:h===1?this.incrementMinute(e):this.decrementMinute(e);break;case 2:h===1?this.incrementSecond(e):this.decrementSecond(e);break}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let r=(this.currentHour??0)-this.stepHour,l=this.pm;this.hourFormat=="24"?r=r<0?24+r:r:this.hourFormat=="12"&&(this.currentHour===12&&(l=!this.pm),r=r<=0?12+r:r),this.toggleAMPMIfNotMinDate(l),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(r,this.currentMinute,this.currentSecond,l),e.preventDefault()}incrementMinute(e){let r=(this.currentMinute??0)+this.stepMinute;r=r>59?r-60:r,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,r,this.currentSecond,this.pm),e.preventDefault()}decrementMinute(e){let r=(this.currentMinute??0)-this.stepMinute;r=r<0?60+r:r,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,r,this.currentSecond,this.pm),e.preventDefault()}incrementSecond(e){let r=this.currentSecond+this.stepSecond;r=r>59?r-60:r,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,r,this.pm),e.preventDefault()}decrementSecond(e){let r=this.currentSecond-this.stepSecond;r=r<0?60+r:r,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,r,this.pm),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,this.hourFormat=="12"?this.currentHour===12?e.setHours(this.pm?12:0):e.setHours(this.pm?this.currentHour+12:this.currentHour):e.setHours(this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(this.value[1]?e=[this.value[0],e]:e=[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){let r=!this.pm;this.pm=r,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,this.currentSecond,r),this.updateTime(),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let r=e.target.value;try{let l=this.parseValueFromString(r);this.isValidSelection(l)?(this.updateModel(l),this.updateUI()):this.keepInvalid&&this.updateModel(l)}catch{let h=this.keepInvalid?r:null;this.updateModel(h)}this.filled=r!=null&&r.length,this.onInput.emit(e)}isValidSelection(e){if(this.isSingleSelection())return this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1);let r=e.every(l=>this.isSelectable(l.getDate(),l.getMonth(),l.getFullYear(),!1));return r&&this.isRangeSelection()&&(r=e.length===1||e.length>1&&e[1]>=e[0]),r}parseValueFromString(e){if(!e||e.trim().length===0)return null;let r;if(this.isSingleSelection())r=this.parseDateTime(e);else if(this.isMultipleSelection()){let l=e.split(this.multipleSeparator);r=[];for(let h of l)r.push(this.parseDateTime(h.trim()))}else if(this.isRangeSelection()){let l=e.split(" "+this.rangeSeparator+" ");r=[];for(let h=0;h<l.length;h++)r[h]=this.parseDateTime(l[h].trim())}return r}parseDateTime(e){let r,l=e.split(" ");if(this.timeOnly)r=new Date,this.populateTime(r,l[0],l[1]);else{let h=this.getDateFormat();if(this.showTime){let g=this.hourFormat=="12"?l.pop():null,y=l.pop();r=this.parseDate(l.join(" "),h),this.populateTime(r,y,g)}else r=this.parseDate(e,h)}return r}populateTime(e,r,l){if(this.hourFormat=="12"&&!l)throw"Invalid Time";this.pm=l==="PM"||l==="pm";let h=this.parseTime(r);e.setHours(h.hour),e.setMinutes(h.minute),e.setSeconds(h.second)}isValidDate(e){return Ve.isDate(e)&&Ve.isNotEmpty(e)}updateUI(){let e=this.value;Array.isArray(e)&&(e=e[1]||e[0]);let r=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:e&&this.isValidDate(e)?e:new Date;this.currentMonth=r.getMonth(),this.currentYear=r.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(r.getHours()),this.currentMinute=r.getMinutes(),this.currentSecond=r.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild?.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.overlay?.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?Ta.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):Ta.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e);break}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&Ta.clear(e.element);break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.overlay):ge.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?(this.view==="date"?(this.overlay.style.width||(this.overlay.style.width=ge.getOuterWidth(this.overlay)+"px"),this.overlay.style.minWidth||(this.overlay.style.minWidth=ge.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px")):this.overlay.style.width||(this.overlay.style.width=ge.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px"),ge.absolutePosition(this.overlay,this.inputfieldViewChild?.nativeElement)):ge.relativePosition(this.overlay,this.inputfieldViewChild?.nativeElement))}enableModality(e){!this.mask&&this.touchUI&&(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(e.style.zIndex)-1)),ge.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",l=>{this.disableModality(),this.overlayVisible=!1}),this.renderer.appendChild(this.document.body,this.mask),ge.blockBodyScroll())}disableModality(){this.mask&&(ge.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener||(this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyMask.bind(this))))}destroyMask(){if(!this.mask)return;this.renderer.removeChild(this.document.body,this.mask);let e=this.document.body.children,r;for(let l=0;l<e.length;l++){let h=e[l];if(ge.hasClass(h,"p-datepicker-mask-scrollblocker")){r=!0;break}}r||ge.unblockBodyScroll(),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}writeValue(e){if(this.value=e,this.value&&typeof this.value=="string")try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=e)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(Wn.FIRST_DAY_OF_WEEK)}formatDate(e,r){if(!e)return"";let l,h=R=>{let A=l+1<r.length&&r.charAt(l+1)===R;return A&&l++,A},g=(R,A,Y)=>{let X=""+A;if(h(R))for(;X.length<Y;)X="0"+X;return X},y=(R,A,Y,X)=>h(R)?X[A]:Y[A],w="",k=!1;if(e)for(l=0;l<r.length;l++)if(k)r.charAt(l)==="'"&&!h("'")?k=!1:w+=r.charAt(l);else switch(r.charAt(l)){case"d":w+=g("d",e.getDate(),2);break;case"D":w+=y("D",e.getDay(),this.getTranslation(Wn.DAY_NAMES_SHORT),this.getTranslation(Wn.DAY_NAMES));break;case"o":w+=g("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":w+=g("m",e.getMonth()+1,2);break;case"M":w+=y("M",e.getMonth(),this.getTranslation(Wn.MONTH_NAMES_SHORT),this.getTranslation(Wn.MONTH_NAMES));break;case"y":w+=h("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":w+=e.getTime();break;case"!":w+=e.getTime()*1e4+this.ticksTo1970;break;case"'":h("'")?w+="'":k=!0;break;default:w+=r.charAt(l)}return w}formatTime(e){if(!e)return"";let r="",l=e.getHours(),h=e.getMinutes(),g=e.getSeconds();return this.hourFormat=="12"&&l>11&&l!=12&&(l-=12),this.hourFormat=="12"?r+=l===0?12:l<10?"0"+l:l:r+=l<10?"0"+l:l,r+=":",r+=h<10?"0"+h:h,this.showSeconds&&(r+=":",r+=g<10?"0"+g:g),this.hourFormat=="12"&&(r+=e.getHours()>11?" PM":" AM"),r}parseTime(e){let r=e.split(":"),l=this.showSeconds?3:2;if(r.length!==l)throw"Invalid time";let h=parseInt(r[0]),g=parseInt(r[1]),y=this.showSeconds?parseInt(r[2]):null;if(isNaN(h)||isNaN(g)||h>23||g>59||this.hourFormat=="12"&&h>12||this.showSeconds&&(isNaN(y)||y>59))throw"Invalid time";return this.hourFormat=="12"&&(h!==12&&this.pm?h+=12:!this.pm&&h===12&&(h-=12)),{hour:h,minute:g,second:y}}parseDate(e,r){if(r==null||e==null)throw"Invalid arguments";if(e=typeof e=="object"?e.toString():e+"",e==="")return null;let l,h,g,y=0,w=typeof this.shortYearCutoff!="string"?this.shortYearCutoff:new Date().getFullYear()%100+parseInt(this.shortYearCutoff,10),k=-1,R=-1,A=-1,Y=-1,X=!1,j,S=Z=>{let ee=l+1<r.length&&r.charAt(l+1)===Z;return ee&&l++,ee},O=Z=>{let ee=S(Z),re=Z==="@"?14:Z==="!"?20:Z==="y"&&ee?4:Z==="o"?3:2,se=Z==="y"?re:1,B=new RegExp("^\\d{"+se+","+re+"}"),_e=e.substring(y).match(B);if(!_e)throw"Missing number at position "+y;return y+=_e[0].length,parseInt(_e[0],10)},N=(Z,ee,re)=>{let se=-1,B=S(Z)?re:ee,_e=[];for(let Te=0;Te<B.length;Te++)_e.push([Te,B[Te]]);_e.sort((Te,Pe)=>-(Te[1].length-Pe[1].length));for(let Te=0;Te<_e.length;Te++){let Pe=_e[Te][1];if(e.substr(y,Pe.length).toLowerCase()===Pe.toLowerCase()){se=_e[Te][0],y+=Pe.length;break}}if(se!==-1)return se+1;throw"Unknown name at position "+y},F=()=>{if(e.charAt(y)!==r.charAt(l))throw"Unexpected literal at position "+y;y++};for(this.view==="month"&&(A=1),l=0;l<r.length;l++)if(X)r.charAt(l)==="'"&&!S("'")?X=!1:F();else switch(r.charAt(l)){case"d":A=O("d");break;case"D":N("D",this.getTranslation(Wn.DAY_NAMES_SHORT),this.getTranslation(Wn.DAY_NAMES));break;case"o":Y=O("o");break;case"m":R=O("m");break;case"M":R=N("M",this.getTranslation(Wn.MONTH_NAMES_SHORT),this.getTranslation(Wn.MONTH_NAMES));break;case"y":k=O("y");break;case"@":j=new Date(O("@")),k=j.getFullYear(),R=j.getMonth()+1,A=j.getDate();break;case"!":j=new Date((O("!")-this.ticksTo1970)/1e4),k=j.getFullYear(),R=j.getMonth()+1,A=j.getDate();break;case"'":S("'")?F():X=!0;break;default:F()}if(y<e.length&&(g=e.substr(y),!/^\s+/.test(g)))throw"Extra/unparsed characters found in date: "+g;if(k===-1?k=new Date().getFullYear():k<100&&(k+=new Date().getFullYear()-new Date().getFullYear()%100+(k<=w?0:-100)),Y>-1){R=1,A=Y;do{if(h=this.getDaysCountInMonth(k,R-1),A<=h)break;R++,A-=h}while(!0)}if(this.view==="year"&&(R=R===-1?1:R,A=A===-1?1:A),j=this.daylightSavingAdjust(new Date(k,R-1,A)),j.getFullYear()!==k||j.getMonth()+1!==R||j.getDate()!==A)throw"Invalid date";return j}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&this.inputFieldValue!=""}isValidDateForTimeConstraints(e){return this.keepInvalid?!0:(!this.minDate||e>=this.minDate)&&(!this.maxDate||e<=this.maxDate)}onTodayButtonClick(e){let r=new Date,l={day:r.getDate(),month:r.getMonth(),year:r.getFullYear(),otherMonth:r.getMonth()!==this.currentMonth||r.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.createMonths(r.getMonth(),r.getFullYear()),this.onDateSelect(e,l),this.onTodayClick.emit(r)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",ge.setAttribute(this.responsiveStyleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.body,this.responsiveStyleElement));let e="";if(this.responsiveOptions){let r=[...this.responsiveOptions].filter(l=>!!(l.breakpoint&&l.numMonths)).sort((l,h)=>-1*l.breakpoint.localeCompare(h.breakpoint,void 0,{numeric:!0}));for(let l=0;l<r.length;l++){let{breakpoint:h,numMonths:g}=r[l],y=`
                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${g}) .p-datepicker-next {
                            display: inline-flex !important;
                        }
                    `;for(let w=g;w<this.numberOfMonths;w++)y+=`
                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${w+1}) {
                                display: none !important;
                            }
                        `;e+=`
                        @media screen and (max-width: ${h}) {
                            ${y}
                        }
                    `}}this.responsiveStyleElement.innerHTML=e}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{let e=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(e,"mousedown",r=>{this.isOutsideClicked(r)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(r),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new dc(this.containerViewChild?.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return ge.hasClass(e.target,"p-datepicker-prev")||ge.hasClass(e.target,"p-datepicker-prev-icon")||ge.hasClass(e.target,"p-datepicker-next")||ge.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!ge.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&Ta.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}};d(s,"\u0275fac",function(r){return new(r||s)(Ge(fs),Ge(Sr),Ge(yo),Ge(Wi),Ge(ps),Ge(so),Ge(Ha))}),d(s,"\u0275cmp",je({type:s,selectors:[["p-calendar"]],contentQueries:function(r,l,h){if(r&1&&Gi(h,Pi,4),r&2){let g;Je(g=et())&&(l.templates=g)}},viewQuery:function(r,l){if(r&1&&(Ct(H3,5),Ct(q3,5),Ct(G3,5)),r&2){let h;Je(h=et())&&(l.containerViewChild=h.first),Je(h=et())&&(l.inputfieldViewChild=h.first),Je(h=et())&&(l.content=h.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(r,l){r&2&&ko("p-inputwrapper-filled",l.filled)("p-inputwrapper-focus",l.focus)("p-calendar-clearable",l.showClear&&!l.disabled)},inputs:{iconDisplay:"iconDisplay",style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",iconAriaLabel:"iconAriaLabel",disabled:[2,"disabled","disabled",we],dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:[2,"inline","inline",we],showOtherMonths:[2,"showOtherMonths","showOtherMonths",we],selectOtherMonths:[2,"selectOtherMonths","selectOtherMonths",we],showIcon:[2,"showIcon","showIcon",we],icon:"icon",appendTo:"appendTo",readonlyInput:[2,"readonlyInput","readonlyInput",we],shortYearCutoff:"shortYearCutoff",monthNavigator:[2,"monthNavigator","monthNavigator",we],yearNavigator:[2,"yearNavigator","yearNavigator",we],hourFormat:"hourFormat",timeOnly:[2,"timeOnly","timeOnly",we],stepYearPicker:[2,"stepYearPicker","stepYearPicker",Et],stepHour:[2,"stepHour","stepHour",Et],stepMinute:[2,"stepMinute","stepMinute",Et],stepSecond:[2,"stepSecond","stepSecond",Et],showSeconds:[2,"showSeconds","showSeconds",we],required:[2,"required","required",we],showOnFocus:[2,"showOnFocus","showOnFocus",we],showWeek:[2,"showWeek","showWeek",we],startWeekFromFirstDayOfYear:"startWeekFromFirstDayOfYear",showClear:[2,"showClear","showClear",we],dataType:"dataType",selectionMode:"selectionMode",maxDateCount:[2,"maxDateCount","maxDateCount",Et],showButtonBar:[2,"showButtonBar","showButtonBar",we],todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autofocus:[2,"autofocus","autofocus",we],autoZIndex:[2,"autoZIndex","autoZIndex",we],baseZIndex:[2,"baseZIndex","baseZIndex",Et],panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:[2,"keepInvalid","keepInvalid",we],hideOnDateTimeSelect:[2,"hideOnDateTimeSelect","hideOnDateTimeSelect",we],touchUI:[2,"touchUI","touchUI",we],timeSeparator:"timeSeparator",focusTrap:[2,"focusTrap","focusTrap",we],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:[2,"tabindex","tabindex",Et],variant:"variant",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale",view:"view",defaultDate:"defaultDate"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[jn([PO]),mn],ngContentSelectors:K3,decls:4,vars:12,consts:[["container",""],["inputfield",""],["contentWrapper",""],[3,"ngClass","ngStyle"],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","role","combobox","aria-autocomplete","none","aria-haspopup","dialog","autocomplete","off","pAutoFocus","",3,"focus","keydown","click","blur","input","value","readonly","ngStyle","placeholder","disabled","ngClass","autofocus"],[4,"ngIf"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","class","p-datepicker-trigger p-button-icon-only","tabindex","0",3,"disabled","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-calendar-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-calendar-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger","p-button-icon-only",3,"click","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","click",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","ngClass"],[3,"click","ngStyle","ngClass"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[3,"styleClass",4,"ngIf"],["class","p-datepicker-next-icon",4,"ngIf"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],["class","p-datepicker-prev-icon",4,"ngIf"],[3,"styleClass"],[1,"p-datepicker-prev-icon"],["type","button",1,"p-datepicker-month","p-link",3,"click","keydown","disabled"],["type","button",1,"p-datepicker-year","p-link",3,"click","keydown","disabled"],[1,"p-datepicker-decade"],[1,"p-datepicker-next-icon"],[1,"p-datepicker-calendar-container"],["role","grid",1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],["draggable","false","pRipple","",3,"click","keydown","ngClass"],["class","p-hidden-accessible","aria-live","polite",4,"ngIf"],["aria-live","polite",1,"p-hidden-accessible"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"click","keydown","ngClass"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"click","keydown","ngClass"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"keydown","click","label","ngClass"]],template:function(r,l){r&1&&(hs(U3),G(0,"span",3,0),U(2,dM,5,22,"ng-template",4)(3,LO,9,32,"div",5),K()),r&2&&(Re(l.styleClass),I("ngClass",Tp(6,Z3,l.showIcon&&l.iconDisplay==="input",l.showIcon&&l.iconDisplay==="button",l.timeOnly,l.disabled,l.focus||l.overlayVisible))("ngStyle",l.style),E(2),I("ngIf",!l.inline),E(),I("ngIf",l.inline||l.overlayVisible))},dependencies:()=>[vn,jo,ln,bn,xn,Hl,ms,Qu,El,Mf,Qo,or,Of,Xr],styles:[`@layer primeng{.p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%;text-overflow:ellipsis}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-datepicker-icon{pointer-events:none}.p-calendar-clearable{position:relative}}
`],encapsulation:2,data:{animation:[xu("overlayAnimation",[Uf("visibleTouchUI",ds({transform:"translate(-50%,-50%)",opacity:1})),Ea("void => visible",[ds({opacity:0,transform:"scaleY(0.8)"}),Us("{{showTransitionParams}}",ds({opacity:1,transform:"*"}))]),Ea("visible => void",[Us("{{hideTransitionParams}}",ds({opacity:0}))]),Ea("void => visibleTouchUI",[ds({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),Us("{{showTransitionParams}}")]),Ea("visibleTouchUI => void",[Us("{{hideTransitionParams}}",ds({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}));let i=s;return i})(),Y_=(()=>{let s=class s{};d(s,"\u0275fac",function(r){return new(r||s)}),d(s,"\u0275mod",Bt({type:s})),d(s,"\u0275inj",Vt({imports:[kt,Ks,wt,Wr,Qu,El,Mf,Qo,or,Of,kr,Ks,wt]}));let i=s;return i})();var j_=(()=>{let s=class s extends Dt{constructor(){super(...arguments);d(this,"pathId")}ngOnInit(){this.pathId="url(#"+un()+")"}};d(s,"\u0275fac",(()=>{let r;return function(h){return(r||(r=Mt(s)))(h||s)}})()),d(s,"\u0275cmp",je({type:s,selectors:[["ArrowDownIcon"]],standalone:!0,features:[Ot,Pt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.99994 14C6.91097 14.0004 6.82281 13.983 6.74064 13.9489C6.65843 13.9148 6.58387 13.8646 6.52133 13.8013L1.10198 8.38193C0.982318 8.25351 0.917175 8.08367 0.920272 7.90817C0.923368 7.73267 0.994462 7.56523 1.11858 7.44111C1.24269 7.317 1.41014 7.2459 1.58563 7.2428C1.76113 7.23971 1.93098 7.30485 2.0594 7.42451L6.32263 11.6877V0.677419C6.32263 0.497756 6.394 0.325452 6.52104 0.198411C6.64808 0.0713706 6.82039 0 7.00005 0C7.17971 0 7.35202 0.0713706 7.47906 0.198411C7.6061 0.325452 7.67747 0.497756 7.67747 0.677419V11.6877L11.9407 7.42451C12.0691 7.30485 12.2389 7.23971 12.4144 7.2428C12.5899 7.2459 12.7574 7.317 12.8815 7.44111C13.0056 7.56523 13.0767 7.73267 13.0798 7.90817C13.0829 8.08367 13.0178 8.25351 12.8981 8.38193L7.47875 13.8013C7.41621 13.8646 7.34164 13.9148 7.25944 13.9489C7.17727 13.983 7.08912 14.0004 7.00015 14C7.00012 14 7.00009 14 7.00005 14C7.00001 14 6.99998 14 6.99994 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(l,h){l&1&&(dt(),G(0,"svg",0)(1,"g"),xe(2,"path",1),K(),G(3,"defs")(4,"clipPath",2),xe(5,"rect",3),K()()()),l&2&&(Re(h.getClassNames()),ne("aria-label",h.ariaLabel)("aria-hidden",h.ariaHidden)("role",h.role),E(),ne("clip-path",h.pathId),E(3),I("id",h.pathId))},encapsulation:2}));let i=s;return i})();var W_=(()=>{let s=class s extends Dt{constructor(){super(...arguments);d(this,"pathId")}ngOnInit(){this.pathId="url(#"+un()+")"}};d(s,"\u0275fac",(()=>{let r;return function(h){return(r||(r=Mt(s)))(h||s)}})()),d(s,"\u0275cmp",je({type:s,selectors:[["ArrowUpIcon"]],standalone:!0,features:[Ot,Pt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.51551 13.799C6.64205 13.9255 6.813 13.9977 6.99193 14C7.17087 13.9977 7.34182 13.9255 7.46835 13.799C7.59489 13.6725 7.66701 13.5015 7.66935 13.3226V2.31233L11.9326 6.57554C11.9951 6.63887 12.0697 6.68907 12.1519 6.72319C12.2341 6.75731 12.3223 6.77467 12.4113 6.77425C12.5003 6.77467 12.5885 6.75731 12.6707 6.72319C12.7529 6.68907 12.8274 6.63887 12.89 6.57554C13.0168 6.44853 13.0881 6.27635 13.0881 6.09683C13.0881 5.91732 13.0168 5.74514 12.89 5.61812L7.48846 0.216594C7.48274 0.210436 7.4769 0.204374 7.47094 0.198411C7.3439 0.0713707 7.1716 0 6.99193 0C6.81227 0 6.63997 0.0713707 6.51293 0.198411C6.50704 0.204296 6.50128 0.210278 6.49563 0.216354L1.09386 5.61812C0.974201 5.74654 0.909057 5.91639 0.912154 6.09189C0.91525 6.26738 0.986345 6.43483 1.11046 6.55894C1.23457 6.68306 1.40202 6.75415 1.57752 6.75725C1.75302 6.76035 1.92286 6.6952 2.05128 6.57554L6.31451 2.31231V13.3226C6.31685 13.5015 6.38898 13.6725 6.51551 13.799Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(l,h){l&1&&(dt(),G(0,"svg",0)(1,"g"),xe(2,"path",1),K(),G(3,"defs")(4,"clipPath",2),xe(5,"rect",3),K()()()),l&2&&(Re(h.getClassNames()),ne("aria-label",h.ariaLabel)("aria-hidden",h.ariaHidden)("role",h.role),E(),ne("clip-path",h.pathId),E(3),I("id",h.pathId))},encapsulation:2}));let i=s;return i})();var X_=(()=>{let s=class s extends Dt{constructor(){super(...arguments);d(this,"pathId")}ngOnInit(){this.pathId="url(#"+un()+")"}};d(s,"\u0275fac",(()=>{let r;return function(h){return(r||(r=Mt(s)))(h||s)}})()),d(s,"\u0275cmp",je({type:s,selectors:[["FilterIcon"]],standalone:!0,features:[Ot,Pt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.64708 14H5.35296C5.18981 13.9979 5.03395 13.9321 4.91858 13.8167C4.8032 13.7014 4.73745 13.5455 4.73531 13.3824V7L0.329431 0.98C0.259794 0.889466 0.217389 0.780968 0.20718 0.667208C0.19697 0.553448 0.219379 0.439133 0.271783 0.337647C0.324282 0.236453 0.403423 0.151519 0.500663 0.0920138C0.597903 0.0325088 0.709548 0.000692754 0.823548 0H13.1765C13.2905 0.000692754 13.4021 0.0325088 13.4994 0.0920138C13.5966 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7826 0.780968 13.7402 0.889466 13.6706 0.98L9.26472 7V13.3824C9.26259 13.5455 9.19683 13.7014 9.08146 13.8167C8.96609 13.9321 8.81022 13.9979 8.64708 14ZM5.97061 12.7647H8.02943V6.79412C8.02878 6.66289 8.07229 6.53527 8.15296 6.43177L11.9412 1.23529H2.05884L5.86355 6.43177C5.94422 6.53527 5.98773 6.66289 5.98708 6.79412L5.97061 12.7647Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(l,h){l&1&&(dt(),G(0,"svg",0)(1,"g"),xe(2,"path",1),K(),G(3,"defs")(4,"clipPath",2),xe(5,"rect",3),K()()()),l&2&&(Re(h.getClassNames()),ne("aria-label",h.ariaLabel)("aria-hidden",h.ariaHidden)("role",h.role),E(),ne("clip-path",h.pathId),E(3),I("id",h.pathId))},encapsulation:2}));let i=s;return i})();var $_=(()=>{let s=class s extends Dt{constructor(){super(...arguments);d(this,"pathId")}ngOnInit(){this.pathId="url(#"+un()+")"}};d(s,"\u0275fac",(()=>{let r;return function(h){return(r||(r=Mt(s)))(h||s)}})()),d(s,"\u0275cmp",je({type:s,selectors:[["FilterSlashIcon"]],standalone:!0,features:[Ot,Pt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.4994 0.0920138C13.5967 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7827 0.780968 13.7403 0.889466 13.6707 0.98L11.406 4.06823C11.3099 4.19928 11.1656 4.28679 11.005 4.3115C10.8444 4.33621 10.6805 4.2961 10.5495 4.2C10.4184 4.1039 10.3309 3.95967 10.3062 3.79905C10.2815 3.63843 10.3216 3.47458 10.4177 3.34353L11.9412 1.23529H7.41184C7.24803 1.23529 7.09093 1.17022 6.97509 1.05439C6.85926 0.938558 6.79419 0.781457 6.79419 0.617647C6.79419 0.453837 6.85926 0.296736 6.97509 0.180905C7.09093 0.0650733 7.24803 0 7.41184 0H13.1765C13.2905 0.000692754 13.4022 0.0325088 13.4994 0.0920138ZM4.20008 0.181168H4.24126L13.2013 9.03411C13.3169 9.14992 13.3819 9.3069 13.3819 9.47058C13.3819 9.63426 13.3169 9.79124 13.2013 9.90705C13.1445 9.96517 13.0766 10.0112 13.0016 10.0423C12.9266 10.0735 12.846 10.0891 12.7648 10.0882C12.6836 10.0886 12.6032 10.0728 12.5283 10.0417C12.4533 10.0106 12.3853 9.96479 12.3283 9.90705L9.3142 6.92587L9.26479 6.99999V13.3823C9.26265 13.5455 9.19689 13.7014 9.08152 13.8167C8.96615 13.9321 8.81029 13.9979 8.64714 14H5.35302C5.18987 13.9979 5.03401 13.9321 4.91864 13.8167C4.80327 13.7014 4.73751 13.5455 4.73537 13.3823V6.99999L0.329492 1.02117C0.259855 0.930634 0.21745 0.822137 0.207241 0.708376C0.197031 0.594616 0.21944 0.480301 0.271844 0.378815C0.324343 0.277621 0.403484 0.192687 0.500724 0.133182C0.597964 0.073677 0.709609 0.041861 0.823609 0.0411682H3.86243C3.92448 0.0461551 3.9855 0.060022 4.04361 0.0823446C4.10037 0.10735 4.15311 0.140655 4.20008 0.181168ZM8.02949 6.79411C8.02884 6.66289 8.07235 6.53526 8.15302 6.43176L8.42478 6.05293L3.55773 1.23529H2.0589L5.84714 6.43176C5.92781 6.53526 5.97132 6.66289 5.97067 6.79411V12.7647H8.02949V6.79411Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(l,h){l&1&&(dt(),G(0,"svg",0)(1,"g"),xe(2,"path",1),K(),G(3,"defs")(4,"clipPath",2),xe(5,"rect",3),K()()()),l&2&&(Re(h.getClassNames()),ne("aria-label",h.ariaLabel)("aria-hidden",h.ariaHidden)("role",h.role),E(),ne("clip-path",h.pathId),E(3),I("id",h.pathId))},encapsulation:2}));let i=s;return i})();var Q_=(()=>{let s=class s extends Dt{constructor(){super(...arguments);d(this,"pathId")}ngOnInit(){this.pathId="url(#"+un()+")"}};d(s,"\u0275fac",(()=>{let r;return function(h){return(r||(r=Mt(s)))(h||s)}})()),d(s,"\u0275cmp",je({type:s,selectors:[["PlusIcon"]],standalone:!0,features:[Ot,Pt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(l,h){l&1&&(dt(),G(0,"svg",0)(1,"g"),xe(2,"path",1),K(),G(3,"defs")(4,"clipPath",2),xe(5,"rect",3),K()()()),l&2&&(Re(h.getClassNames()),ne("aria-label",h.ariaLabel)("aria-hidden",h.ariaHidden)("role",h.role),E(),ne("clip-path",h.pathId),E(3),I("id",h.pathId))},encapsulation:2}));let i=s;return i})();var J_=(()=>{let s=class s extends Dt{constructor(){super(...arguments);d(this,"pathId")}ngOnInit(){this.pathId="url(#"+un()+")"}};d(s,"\u0275fac",(()=>{let r;return function(h){return(r||(r=Mt(s)))(h||s)}})()),d(s,"\u0275cmp",je({type:s,selectors:[["SortAltIcon"]],standalone:!0,features:[Ot,Pt],decls:9,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.64515 3.61291C5.47353 3.61291 5.30192 3.54968 5.16644 3.4142L3.38708 1.63484L1.60773 3.4142C1.34579 3.67613 0.912244 3.67613 0.650309 3.4142C0.388374 3.15226 0.388374 2.71871 0.650309 2.45678L2.90837 0.198712C3.17031 -0.0632236 3.60386 -0.0632236 3.86579 0.198712L6.12386 2.45678C6.38579 2.71871 6.38579 3.15226 6.12386 3.4142C5.98837 3.54968 5.81676 3.61291 5.64515 3.61291Z","fill","currentColor"],["d","M3.38714 14C3.01681 14 2.70972 13.6929 2.70972 13.3226V0.677419C2.70972 0.307097 3.01681 0 3.38714 0C3.75746 0 4.06456 0.307097 4.06456 0.677419V13.3226C4.06456 13.6929 3.75746 14 3.38714 14Z","fill","currentColor"],["d","M10.6129 14C10.4413 14 10.2697 13.9368 10.1342 13.8013L7.87611 11.5432C7.61418 11.2813 7.61418 10.8477 7.87611 10.5858C8.13805 10.3239 8.5716 10.3239 8.83353 10.5858L10.6129 12.3652L12.3922 10.5858C12.6542 10.3239 13.0877 10.3239 13.3497 10.5858C13.6116 10.8477 13.6116 11.2813 13.3497 11.5432L11.0916 13.8013C10.9561 13.9368 10.7845 14 10.6129 14Z","fill","currentColor"],["d","M10.6129 14C10.2426 14 9.93552 13.6929 9.93552 13.3226V0.677419C9.93552 0.307097 10.2426 0 10.6129 0C10.9833 0 11.2904 0.307097 11.2904 0.677419V13.3226C11.2904 13.6929 10.9832 14 10.6129 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(l,h){l&1&&(dt(),G(0,"svg",0)(1,"g"),xe(2,"path",1)(3,"path",2)(4,"path",3)(5,"path",4),K(),G(6,"defs")(7,"clipPath",5),xe(8,"rect",6),K()()()),l&2&&(Re(h.getClassNames()),ne("aria-label",h.ariaLabel)("aria-hidden",h.ariaHidden)("role",h.role),E(),ne("clip-path",h.pathId),E(6),I("id",h.pathId))},encapsulation:2}));let i=s;return i})();var ey=(()=>{let s=class s extends Dt{constructor(){super(...arguments);d(this,"pathId")}ngOnInit(){this.pathId="url(#"+un()+")"}};d(s,"\u0275fac",(()=>{let r;return function(h){return(r||(r=Mt(s)))(h||s)}})()),d(s,"\u0275cmp",je({type:s,selectors:[["SortAmountDownIcon"]],standalone:!0,features:[Ot,Pt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.93953 10.5858L3.83759 11.6877V0.677419C3.83759 0.307097 3.53049 0 3.16017 0C2.78985 0 2.48275 0.307097 2.48275 0.677419V11.6877L1.38082 10.5858C1.11888 10.3239 0.685331 10.3239 0.423396 10.5858C0.16146 10.8477 0.16146 11.2813 0.423396 11.5432L2.68146 13.8013C2.74469 13.8645 2.81694 13.9097 2.89823 13.9458C2.97952 13.9819 3.06985 14 3.16017 14C3.25049 14 3.33178 13.9819 3.42211 13.9458C3.5034 13.9097 3.57565 13.8645 3.63888 13.8013L5.89694 11.5432C6.15888 11.2813 6.15888 10.8477 5.89694 10.5858C5.63501 10.3239 5.20146 10.3239 4.93953 10.5858ZM13.0957 0H7.22468C6.85436 0 6.54726 0.307097 6.54726 0.677419C6.54726 1.04774 6.85436 1.35484 7.22468 1.35484H13.0957C13.466 1.35484 13.7731 1.04774 13.7731 0.677419C13.7731 0.307097 13.466 0 13.0957 0ZM7.22468 5.41935H9.48275C9.85307 5.41935 10.1602 5.72645 10.1602 6.09677C10.1602 6.4671 9.85307 6.77419 9.48275 6.77419H7.22468C6.85436 6.77419 6.54726 6.4671 6.54726 6.09677C6.54726 5.72645 6.85436 5.41935 7.22468 5.41935ZM7.6763 8.12903H7.22468C6.85436 8.12903 6.54726 8.43613 6.54726 8.80645C6.54726 9.17677 6.85436 9.48387 7.22468 9.48387H7.6763C8.04662 9.48387 8.35372 9.17677 8.35372 8.80645C8.35372 8.43613 8.04662 8.12903 7.6763 8.12903ZM7.22468 2.70968H11.2892C11.6595 2.70968 11.9666 3.01677 11.9666 3.3871C11.9666 3.75742 11.6595 4.06452 11.2892 4.06452H7.22468C6.85436 4.06452 6.54726 3.75742 6.54726 3.3871C6.54726 3.01677 6.85436 2.70968 7.22468 2.70968Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(l,h){l&1&&(dt(),G(0,"svg",0)(1,"g"),xe(2,"path",1),K(),G(3,"defs")(4,"clipPath",2),xe(5,"rect",3),K()()()),l&2&&(Re(h.getClassNames()),ne("aria-label",h.ariaLabel)("aria-hidden",h.ariaHidden)("role",h.role),E(),ne("clip-path",h.pathId),E(3),I("id",h.pathId))},encapsulation:2}));let i=s;return i})();var ty=(()=>{let s=class s extends Dt{constructor(){super(...arguments);d(this,"pathId")}ngOnInit(){this.pathId="url(#"+un()+")"}};d(s,"\u0275fac",(()=>{let r;return function(h){return(r||(r=Mt(s)))(h||s)}})()),d(s,"\u0275cmp",je({type:s,selectors:[["SortAmountUpAltIcon"]],standalone:!0,features:[Ot,Pt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.63435 0.19871C3.57113 0.135484 3.49887 0.0903226 3.41758 0.0541935C3.255 -0.0180645 3.06532 -0.0180645 2.90274 0.0541935C2.82145 0.0903226 2.74919 0.135484 2.68597 0.19871L0.427901 2.45677C0.165965 2.71871 0.165965 3.15226 0.427901 3.41419C0.689836 3.67613 1.12338 3.67613 1.38532 3.41419L2.48726 2.31226V13.3226C2.48726 13.6929 2.79435 14 3.16467 14C3.535 14 3.84209 13.6929 3.84209 13.3226V2.31226L4.94403 3.41419C5.07951 3.54968 5.25113 3.6129 5.42274 3.6129C5.59435 3.6129 5.76597 3.54968 5.90145 3.41419C6.16338 3.15226 6.16338 2.71871 5.90145 2.45677L3.64338 0.19871H3.63435ZM13.7685 13.3226C13.7685 12.9523 13.4615 12.6452 13.0911 12.6452H7.22016C6.84984 12.6452 6.54274 12.9523 6.54274 13.3226C6.54274 13.6929 6.84984 14 7.22016 14H13.0911C13.4615 14 13.7685 13.6929 13.7685 13.3226ZM7.22016 8.58064C6.84984 8.58064 6.54274 8.27355 6.54274 7.90323C6.54274 7.5329 6.84984 7.22581 7.22016 7.22581H9.47823C9.84855 7.22581 10.1556 7.5329 10.1556 7.90323C10.1556 8.27355 9.84855 8.58064 9.47823 8.58064H7.22016ZM7.22016 5.87097H7.67177C8.0421 5.87097 8.34919 5.56387 8.34919 5.19355C8.34919 4.82323 8.0421 4.51613 7.67177 4.51613H7.22016C6.84984 4.51613 6.54274 4.82323 6.54274 5.19355C6.54274 5.56387 6.84984 5.87097 7.22016 5.87097ZM11.2847 11.2903H7.22016C6.84984 11.2903 6.54274 10.9832 6.54274 10.6129C6.54274 10.2426 6.84984 9.93548 7.22016 9.93548H11.2847C11.655 9.93548 11.9621 10.2426 11.9621 10.6129C11.9621 10.9832 11.655 11.2903 11.2847 11.2903Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(l,h){l&1&&(dt(),G(0,"svg",0)(1,"g"),xe(2,"path",1),K(),G(3,"defs")(4,"clipPath",2),xe(5,"rect",3),K()()()),l&2&&(Re(h.getClassNames()),ne("aria-label",h.ariaLabel)("aria-hidden",h.ariaHidden)("role",h.role),E(),ne("clip-path",h.pathId),E(3),I("id",h.pathId))},encapsulation:2}));let i=s;return i})();var iy=(()=>{let s=class s extends Dt{constructor(){super(...arguments);d(this,"pathId")}ngOnInit(){this.pathId="url(#"+un()+")"}};d(s,"\u0275fac",(()=>{let r;return function(h){return(r||(r=Mt(s)))(h||s)}})()),d(s,"\u0275cmp",je({type:s,selectors:[["TrashIcon"]],standalone:!0,features:[Ot,Pt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.44802 13.9955H10.552C10.8056 14.0129 11.06 13.9797 11.3006 13.898C11.5412 13.8163 11.7632 13.6877 11.9537 13.5196C12.1442 13.3515 12.2995 13.1473 12.4104 12.9188C12.5213 12.6903 12.5858 12.442 12.6 12.1884V4.36041H13.4C13.5591 4.36041 13.7117 4.29722 13.8243 4.18476C13.9368 4.07229 14 3.91976 14 3.76071C14 3.60166 13.9368 3.44912 13.8243 3.33666C13.7117 3.22419 13.5591 3.16101 13.4 3.16101H12.0537C12.0203 3.1557 11.9863 3.15299 11.952 3.15299C11.9178 3.15299 11.8838 3.1557 11.8503 3.16101H11.2285C11.2421 3.10893 11.2487 3.05513 11.248 3.00106V1.80966C11.2171 1.30262 10.9871 0.828306 10.608 0.48989C10.229 0.151475 9.73159 -0.0236625 9.22402 0.00257442H4.77602C4.27251 -0.0171866 3.78126 0.160868 3.40746 0.498617C3.03365 0.836366 2.807 1.30697 2.77602 1.80966V3.00106C2.77602 3.0556 2.78346 3.10936 2.79776 3.16101H0.6C0.521207 3.16101 0.443185 3.17652 0.37039 3.20666C0.297595 3.2368 0.231451 3.28097 0.175736 3.33666C0.120021 3.39235 0.0758251 3.45846 0.0456722 3.53121C0.0155194 3.60397 0 3.68196 0 3.76071C0 3.83946 0.0155194 3.91744 0.0456722 3.9902C0.0758251 4.06296 0.120021 4.12907 0.175736 4.18476C0.231451 4.24045 0.297595 4.28462 0.37039 4.31476C0.443185 4.3449 0.521207 4.36041 0.6 4.36041H1.40002V12.1884C1.41426 12.442 1.47871 12.6903 1.58965 12.9188C1.7006 13.1473 1.85582 13.3515 2.04633 13.5196C2.23683 13.6877 2.45882 13.8163 2.69944 13.898C2.94005 13.9797 3.1945 14.0129 3.44802 13.9955ZM2.60002 4.36041H11.304V12.1884C11.304 12.5163 10.952 12.7961 10.504 12.7961H3.40002C2.97602 12.7961 2.60002 12.5163 2.60002 12.1884V4.36041ZM3.95429 3.16101C3.96859 3.10936 3.97602 3.0556 3.97602 3.00106V1.80966C3.97602 1.48183 4.33602 1.20197 4.77602 1.20197H9.24802C9.66403 1.20197 10.048 1.48183 10.048 1.80966V3.00106C10.0473 3.05515 10.054 3.10896 10.0678 3.16101H3.95429ZM5.57571 10.997C5.41731 10.995 5.26597 10.9311 5.15395 10.8191C5.04193 10.7071 4.97808 10.5558 4.97601 10.3973V6.77517C4.97601 6.61612 5.0392 6.46359 5.15166 6.35112C5.26413 6.23866 5.41666 6.17548 5.57571 6.17548C5.73476 6.17548 5.8873 6.23866 5.99976 6.35112C6.11223 6.46359 6.17541 6.61612 6.17541 6.77517V10.3894C6.17647 10.4688 6.16174 10.5476 6.13208 10.6213C6.10241 10.695 6.05841 10.762 6.00261 10.8186C5.94682 10.8751 5.88035 10.92 5.80707 10.9506C5.73378 10.9813 5.65514 10.9971 5.57571 10.997ZM7.99968 10.8214C8.11215 10.9339 8.26468 10.997 8.42373 10.997C8.58351 10.9949 8.73604 10.93 8.84828 10.8163C8.96052 10.7025 9.02345 10.5491 9.02343 10.3894V6.77517C9.02343 6.61612 8.96025 6.46359 8.84778 6.35112C8.73532 6.23866 8.58278 6.17548 8.42373 6.17548C8.26468 6.17548 8.11215 6.23866 7.99968 6.35112C7.88722 6.46359 7.82404 6.61612 7.82404 6.77517V10.3973C7.82404 10.5564 7.88722 10.7089 7.99968 10.8214Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(l,h){l&1&&(dt(),G(0,"svg",0)(1,"g"),xe(2,"path",1),K(),G(3,"defs")(4,"clipPath",2),xe(5,"rect",3),K()()()),l&2&&(Re(h.getClassNames()),ne("aria-label",h.ariaLabel)("aria-hidden",h.ariaHidden)("role",h.role),E(),ne("clip-path",h.pathId),E(3),I("id",h.pathId))},encapsulation:2}));let i=s;return i})();var ny=(()=>{let s=class s extends Dt{};d(s,"\u0275fac",(()=>{let e;return function(l){return(e||(e=Mt(s)))(l||s)}})()),d(s,"\u0275cmp",je({type:s,selectors:[["AngleDoubleLeftIcon"]],standalone:!0,features:[Ot,Pt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M5.71602 11.164C5.80782 11.2021 5.9063 11.2215 6.00569 11.221C6.20216 11.2301 6.39427 11.1612 6.54025 11.0294C6.68191 10.8875 6.76148 10.6953 6.76148 10.4948C6.76148 10.2943 6.68191 10.1021 6.54025 9.96024L3.51441 6.9344L6.54025 3.90855C6.624 3.76126 6.65587 3.59011 6.63076 3.42254C6.60564 3.25498 6.525 3.10069 6.40175 2.98442C6.2785 2.86815 6.11978 2.79662 5.95104 2.7813C5.78229 2.76598 5.61329 2.80776 5.47112 2.89994L1.97123 6.39983C1.82957 6.54167 1.75 6.73393 1.75 6.9344C1.75 7.13486 1.82957 7.32712 1.97123 7.46896L5.47112 10.9991C5.54096 11.0698 5.62422 11.1259 5.71602 11.164ZM11.0488 10.9689C11.1775 11.1156 11.3585 11.2061 11.5531 11.221C11.7477 11.2061 11.9288 11.1156 12.0574 10.9689C12.1815 10.8302 12.25 10.6506 12.25 10.4645C12.25 10.2785 12.1815 10.0989 12.0574 9.96024L9.03158 6.93439L12.0574 3.90855C12.1248 3.76739 12.1468 3.60881 12.1204 3.45463C12.0939 3.30045 12.0203 3.15826 11.9097 3.04765C11.7991 2.93703 11.6569 2.86343 11.5027 2.83698C11.3486 2.81053 11.19 2.83252 11.0488 2.89994L7.51865 6.36957C7.37699 6.51141 7.29742 6.70367 7.29742 6.90414C7.29742 7.1046 7.37699 7.29686 7.51865 7.4387L11.0488 10.9689Z","fill","currentColor"]],template:function(r,l){r&1&&(dt(),G(0,"svg",0),xe(1,"path",1),K()),r&2&&(Re(l.getClassNames()),ne("aria-label",l.ariaLabel)("aria-hidden",l.ariaHidden)("role",l.role))},encapsulation:2}));let i=s;return i})();var ry=(()=>{let s=class s extends Dt{};d(s,"\u0275fac",(()=>{let e;return function(l){return(e||(e=Mt(s)))(l||s)}})()),d(s,"\u0275cmp",je({type:s,selectors:[["AngleDoubleRightIcon"]],standalone:!0,features:[Ot,Pt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7.68757 11.1451C7.7791 11.1831 7.8773 11.2024 7.9764 11.2019C8.07769 11.1985 8.17721 11.1745 8.26886 11.1312C8.36052 11.088 8.44238 11.0265 8.50943 10.9505L12.0294 7.49085C12.1707 7.34942 12.25 7.15771 12.25 6.95782C12.25 6.75794 12.1707 6.56622 12.0294 6.42479L8.50943 2.90479C8.37014 2.82159 8.20774 2.78551 8.04633 2.80192C7.88491 2.81833 7.73309 2.88635 7.6134 2.99588C7.4937 3.10541 7.41252 3.25061 7.38189 3.40994C7.35126 3.56927 7.37282 3.73423 7.44337 3.88033L10.4605 6.89748L7.44337 9.91463C7.30212 10.0561 7.22278 10.2478 7.22278 10.4477C7.22278 10.6475 7.30212 10.8393 7.44337 10.9807C7.51301 11.0512 7.59603 11.1071 7.68757 11.1451ZM1.94207 10.9505C2.07037 11.0968 2.25089 11.1871 2.44493 11.2019C2.63898 11.1871 2.81949 11.0968 2.94779 10.9505L6.46779 7.49085C6.60905 7.34942 6.68839 7.15771 6.68839 6.95782C6.68839 6.75793 6.60905 6.56622 6.46779 6.42479L2.94779 2.90479C2.80704 2.83757 2.6489 2.81563 2.49517 2.84201C2.34143 2.86839 2.19965 2.94178 2.08936 3.05207C1.97906 3.16237 1.90567 3.30415 1.8793 3.45788C1.85292 3.61162 1.87485 3.76975 1.94207 3.9105L4.95922 6.92765L1.94207 9.9448C1.81838 10.0831 1.75 10.2621 1.75 10.4477C1.75 10.6332 1.81838 10.8122 1.94207 10.9505Z","fill","currentColor"]],template:function(r,l){r&1&&(dt(),G(0,"svg",0),xe(1,"path",1),K()),r&2&&(Re(l.getClassNames()),ne("aria-label",l.ariaLabel)("aria-hidden",l.ariaHidden)("role",l.role))},encapsulation:2}));let i=s;return i})();var oy=(()=>{let s=class s extends Dt{};d(s,"\u0275fac",(()=>{let e;return function(l){return(e||(e=Mt(s)))(l||s)}})()),d(s,"\u0275cmp",je({type:s,selectors:[["AngleLeftIcon"]],standalone:!0,features:[Ot,Pt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.75 11.185C8.65146 11.1854 8.55381 11.1662 8.4628 11.1284C8.37179 11.0906 8.28924 11.0351 8.22 10.965L4.72 7.46496C4.57955 7.32433 4.50066 7.13371 4.50066 6.93496C4.50066 6.73621 4.57955 6.54558 4.72 6.40496L8.22 2.93496C8.36095 2.84357 8.52851 2.80215 8.69582 2.81733C8.86312 2.83252 9.02048 2.90344 9.14268 3.01872C9.26487 3.134 9.34483 3.28696 9.36973 3.4531C9.39463 3.61924 9.36303 3.78892 9.28 3.93496L6.28 6.93496L9.28 9.93496C9.42045 10.0756 9.49934 10.2662 9.49934 10.465C9.49934 10.6637 9.42045 10.8543 9.28 10.995C9.13526 11.1257 8.9448 11.1939 8.75 11.185Z","fill","currentColor"]],template:function(r,l){r&1&&(dt(),G(0,"svg",0),xe(1,"path",1),K()),r&2&&(Re(l.getClassNames()),ne("aria-label",l.ariaLabel)("aria-hidden",l.ariaHidden)("role",l.role))},encapsulation:2}));let i=s;return i})();var sy=(()=>{let s=class s{};d(s,"\u0275fac",function(r){return new(r||s)}),d(s,"\u0275mod",Bt({type:s})),d(s,"\u0275inj",Vt({imports:[kt,Ml,Ol,pl,wt,Wr,ny,ry,oy,Yf,Ml,Ol,pl,wt]}));let i=s;return i})();var DO=(i,s,o)=>({"p-checkbox p-component":!0,"p-checkbox-disabled":i,"p-checkbox-focused":s,"p-variant-filled":o}),RO=(i,s,o)=>({"p-highlight":i,"p-disabled":s,"p-focus":o}),FO=(i,s,o)=>({"p-checkbox-label-active":i,"p-disabled":s,"p-checkbox-label-focus":o});function NO(i,s){if(i&1&&xe(0,"span",8),i&2){let o=T(2);I("ngClass",o.checkboxTrueIcon),ne("data-pc-section","checkIcon")}}function AO(i,s){i&1&&xe(0,"CheckIcon",11),i&2&&(I("styleClass","p-checkbox-icon"),ne("data-pc-section","checkIcon"))}function VO(i,s){}function BO(i,s){i&1&&U(0,VO,0,0,"ng-template")}function zO(i,s){if(i&1&&(G(0,"span",12),U(1,BO,1,0,null,13),K()),i&2){let o=T(3);ne("data-pc-section","checkIcon"),E(),I("ngTemplateOutlet",o.checkIconTemplate)}}function HO(i,s){if(i&1&&(Fe(0),U(1,AO,1,2,"CheckIcon",9)(2,zO,2,2,"span",10),Ne()),i&2){let o=T(2);E(),I("ngIf",!o.checkIconTemplate),E(),I("ngIf",o.checkIconTemplate)}}function qO(i,s){if(i&1&&(Fe(0),U(1,NO,1,2,"span",7)(2,HO,3,2,"ng-container",5),Ne()),i&2){let o=T();E(),I("ngIf",o.checkboxTrueIcon),E(),I("ngIf",!o.checkboxTrueIcon)}}function GO(i,s){if(i&1&&xe(0,"span",8),i&2){let o=T(2);I("ngClass",o.checkboxFalseIcon),ne("data-pc-section","uncheckIcon")}}function UO(i,s){i&1&&xe(0,"TimesIcon",11),i&2&&(I("styleClass","p-checkbox-icon"),ne("data-pc-section","uncheckIcon"))}function KO(i,s){}function ZO(i,s){i&1&&U(0,KO,0,0,"ng-template")}function YO(i,s){if(i&1&&(G(0,"span",12),U(1,ZO,1,0,null,13),K()),i&2){let o=T(3);ne("data-pc-section","uncheckIcon"),E(),I("ngTemplateOutlet",o.uncheckIconTemplate)}}function jO(i,s){if(i&1&&(Fe(0),U(1,UO,1,2,"TimesIcon",9)(2,YO,2,2,"span",10),Ne()),i&2){let o=T(2);E(),I("ngIf",!o.uncheckIconTemplate),E(),I("ngIf",o.uncheckIconTemplate)}}function WO(i,s){if(i&1&&(Fe(0),U(1,GO,1,2,"span",7)(2,jO,3,2,"ng-container",5),Ne()),i&2){let o=T();E(),I("ngIf",o.checkboxFalseIcon),E(),I("ngIf",!o.checkboxFalseIcon)}}function XO(i,s){if(i&1){let o=We();G(0,"label",14),Oe("click",function(r){te(o);let l=T(),h=Zi(3);return ie(l.onClick(r,h))}),Qe(1),K()}if(i&2){let o=T();I("ngClass",Vn(3,FO,o.value!=null,o.disabled,o.focused)),ne("for",o.inputId),E(),Lt(o.label)}}var $O={provide:Er,useExisting:Ir(()=>QO),multi:!0},QO=(()=>{let s=class s{constructor(e,r){d(this,"cd");d(this,"config");d(this,"disabled");d(this,"name");d(this,"ariaLabel");d(this,"ariaLabelledBy");d(this,"variant","outlined");d(this,"tabindex");d(this,"inputId");d(this,"style");d(this,"styleClass");d(this,"label");d(this,"readonly");d(this,"checkboxTrueIcon");d(this,"checkboxFalseIcon");d(this,"autofocus");d(this,"onChange",new qe);d(this,"templates");d(this,"checkIconTemplate");d(this,"uncheckIconTemplate");d(this,"focused");d(this,"value");d(this,"onModelChange",()=>{});d(this,"onModelTouched",()=>{});this.cd=e,this.config=r}onClick(e,r){!this.disabled&&!this.readonly&&(this.toggle(e),this.focused=!0,r.focus())}onKeyDown(e){e.key==="Enter"&&(this.toggle(e),e.preventDefault())}toggle(e){this.value==null||this.value==null?this.value=!0:this.value==!0?this.value=!1:this.value==!1&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"checkicon":this.checkIconTemplate=e.template;break;case"uncheckicon":this.uncheckIconTemplate=e.template;break}})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}writeValue(e){this.value=e,this.cd.markForCheck()}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}};d(s,"\u0275fac",function(r){return new(r||s)(Ge(Wi),Ge(so))}),d(s,"\u0275cmp",je({type:s,selectors:[["p-triStateCheckbox"]],contentQueries:function(r,l,h){if(r&1&&Gi(h,Pi,4),r&2){let g;Je(g=et())&&(l.templates=g)}},hostAttrs:[1,"p-element"],inputs:{disabled:[2,"disabled","disabled",we],name:"name",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",variant:"variant",tabindex:[2,"tabindex","tabindex",Et],inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:[2,"readonly","readonly",we],checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon",autofocus:[2,"autofocus","autofocus",we]},outputs:{onChange:"onChange"},features:[jn([$O]),mn],decls:8,vars:28,consts:[["input",""],[3,"click","ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","inputmode","none","pAutoFocus","",3,"keydown","focus","blur","name","readonly","disabled","autofocus"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[1,"p-checkbox-label",3,"click","ngClass"]],template:function(r,l){if(r&1){let h=We();G(0,"div",1),Oe("click",function(y){te(h);let w=Zi(3);return ie(l.onClick(y,w))}),G(1,"div",2)(2,"input",3,0),Oe("keydown",function(y){return te(h),ie(l.onKeyDown(y))})("focus",function(){return te(h),ie(l.onFocus())})("blur",function(){return te(h),ie(l.onBlur())}),K()(),G(4,"div",4),U(5,qO,3,2,"ng-container",5)(6,WO,3,2,"ng-container",5),K()(),U(7,XO,2,7,"label",6)}r&2&&(Re(l.styleClass),I("ngStyle",l.style)("ngClass",Vn(20,DO,l.disabled,l.focused,l.variant==="filled"||l.config.inputStyle()==="filled")),ne("data-pc-name","tristatecheckbox")("data-pc-section","root"),E(2),I("name",l.name)("readonly",l.readonly)("disabled",l.disabled)("autofocus",l.autofocus),ne("id",l.inputId)("tabindex",l.tabindex)("aria-labelledby",l.ariaLabelledBy)("aria-label",l.ariaLabel)("data-pc-section","hiddenInput"),E(2),I("ngClass",Vn(24,RO,l.value!=null,l.disabled,l.focused)),ne("aria-checked",l.value===!0),E(),I("ngIf",l.value===!0),E(),I("ngIf",l.value===!1),E(),I("ngIf",l.label))},dependencies:()=>[vn,ln,bn,xn,Xr,vo,or],encapsulation:2,changeDetection:0}));let i=s;return i})(),ay=(()=>{let s=class s{};d(s,"\u0275fac",function(r){return new(r||s)}),d(s,"\u0275mod",Bt({type:s})),d(s,"\u0275inj",Vt({imports:[kt,wt,kr,vo,or,wt]}));let i=s;return i})();var ly=(()=>{let s=class s{};d(s,"\u0275fac",function(r){return new(r||s)}),d(s,"\u0275mod",Bt({type:s})),d(s,"\u0275inj",Vt({imports:[kt,sy,Ua,Ml,pl,Ks,xp,Y_,Ol,ay,Ls,j_,W_,qa,J_,ty,ey,vo,X_,$_,Q_,iy,wt,Ls]}));let i=s;return i})();var JO=(i,s,o)=>({"p-togglebutton p-button p-component":!0,"p-button-icon-only":i,"p-highlight":s,"p-disabled":o}),eL=(i,s)=>({"p-button-icon":!0,"p-button-icon-left":i,"p-button-icon-right":s}),tL=i=>({$implicit:i});function iL(i,s){if(i&1&&xe(0,"span",4),i&2){let o=T(2);Re(o.checked?o.onIcon:o.offIcon),I("ngClass",Hi(4,eL,o.iconPos==="left",o.iconPos==="right")),ne("data-pc-section","icon")}}function nL(i,s){if(i&1&&U(0,iL,1,7,"span",3),i&2){let o=T();I("ngIf",o.onIcon||o.offIcon)}}function rL(i,s){i&1&&it(0)}function oL(i,s){if(i&1&&U(0,rL,1,0,"ng-container",5),i&2){let o=T();I("ngTemplateOutlet",o.iconTemplate)("ngTemplateOutletContext",nt(2,tL,o.checked))}}function sL(i,s){if(i&1&&(G(0,"span",6),Qe(1),K()),i&2){let o=T();ne("data-pc-section","label"),E(),Lt(o.checked?o.hasOnLabel?o.onLabel:"":o.hasOffLabel?o.offLabel:"")}}var aL={provide:Er,useExisting:Ir(()=>lL),multi:!0},lL=(()=>{let s=class s{constructor(e){d(this,"cd");d(this,"onLabel");d(this,"offLabel");d(this,"onIcon");d(this,"offIcon");d(this,"ariaLabel");d(this,"ariaLabelledBy");d(this,"disabled");d(this,"style");d(this,"styleClass");d(this,"inputId");d(this,"tabindex",0);d(this,"iconPos","left");d(this,"autofocus");d(this,"onChange",new qe);d(this,"templates");d(this,"iconTemplate");d(this,"checked",!1);d(this,"onModelChange",()=>{});d(this,"onModelTouched",()=>{});this.cd=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"icon":this.iconTemplate=e.template;break;default:this.iconTemplate=e.template;break}})}toggle(e){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:e,checked:this.checked}),this.cd.markForCheck())}onKeyDown(e){switch(e.code){case"Enter":this.toggle(e),e.preventDefault();break;case"Space":this.toggle(e),e.preventDefault();break}}onBlur(){this.onModelTouched()}writeValue(e){this.checked=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}};d(s,"\u0275fac",function(r){return new(r||s)(Ge(Wi))}),d(s,"\u0275cmp",je({type:s,selectors:[["p-toggleButton"]],contentQueries:function(r,l,h){if(r&1&&Gi(h,Pi,4),r&2){let g;Je(g=et())&&(l.templates=g)}},hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",we],style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:[2,"tabindex","tabindex",Et],iconPos:"iconPos",autofocus:[2,"autofocus","autofocus",we]},outputs:{onChange:"onChange"},features:[jn([aL]),mn],decls:4,vars:17,consts:[["role","switch","pRipple","","pAutoFocus","",3,"click","keydown","ngClass","ngStyle","autofocus"],[3,"class","ngClass"],["class","p-button-label",4,"ngIf"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-button-label"]],template:function(r,l){r&1&&(G(0,"div",0),Oe("click",function(g){return l.toggle(g)})("keydown",function(g){return l.onKeyDown(g)}),U(1,nL,1,1,"span",1)(2,oL,1,4,"ng-container")(3,sL,2,2,"span",2),K()),r&2&&(Re(l.styleClass),I("ngClass",Vn(13,JO,l.onIcon&&l.offIcon&&!l.hasOnLabel&&!l.hasOffLabel,l.checked,l.disabled))("ngStyle",l.style)("autofocus",l.autofocus),ne("tabindex",l.disabled?null:l.tabindex)("aria-checked",l.checked)("aria-labelledby",l.ariaLabelledBy)("aria-label",l.ariaLabel)("data-pc-name","togglebutton")("data-pc-section","root"),E(),Pf(l.iconTemplate?2:1),E(2),I("ngIf",l.onLabel||l.offLabel))},dependencies:[vn,ln,bn,xn,ms,Xr],styles:['@layer primeng{.p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default;pointer-events:none}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus, .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:focus   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus, .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:focus   .p-button[_ngcontent-%COMP%]{position:relative;z-index:1}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child), .p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child):hover, .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%], .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%]:hover, .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child), .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child):hover, .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%]:hover{border-right:0 none}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type)   .p-button[_ngcontent-%COMP%]{border-radius:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}p-button[iconpos=right][_ngcontent-%COMP%]   spinnericon[_ngcontent-%COMP%]{order:1}}'],changeDetection:0}));let i=s;return i})(),uy=(()=>{let s=class s{};d(s,"\u0275fac",function(r){return new(r||s)}),d(s,"\u0275mod",Bt({type:s})),d(s,"\u0275inj",Vt({imports:[kt,Wr,wt,kr,wt]}));let i=s;return i})();var EJ=Bl([ds({transform:"{{transform}}",opacity:0}),Us("{{transition}}")]),MJ=Bl([Us("{{transition}}",ds({transform:"{{transform}}",opacity:0}))]);var cy=(()=>{let s=class s{};d(s,"\u0275fac",function(r){return new(r||s)}),d(s,"\u0275mod",Bt({type:s})),d(s,"\u0275inj",Vt({imports:[kt,Wr,wt,or,wt]}));let i=s;return i})();var uL=[{path:"",component:L_}],aee=(()=>{let s=class s{};d(s,"\u0275fac",function(r){return new(r||s)}),d(s,"\u0275mod",Bt({type:s})),d(s,"\u0275inj",Vt({providers:[Rf(Ff())],imports:[Vf.forChild(uL),kt,pl,Gf,ed.forRoot(),F_,P_,Ks,N_,Zf,jf,Wf,Xf,Ml,$f,Ol,H_,Ua,E_,Qf,xp,q_,ly,G_,Jf,uy,O_,Ga,cy]}));let i=s;return i})();export{aee as DispModule};
