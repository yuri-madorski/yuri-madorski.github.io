import{$ as Do,$a as Ve,$b as Wd,A as sc,Ab as fs,Ba as Xi,Bb as Gd,C as S,Ca as we,Cb as Ea,D as Ge,Da as Mt,Db as Nl,Ea as Es,Eb as dc,F as yo,Fa as Fl,G as Pr,Ga as ds,H as Lt,I as gn,Ia as xn,Ib as ms,J as K,Ja as jo,Jb as Wr,K as ne,Ka as un,Kb as Dt,L as I,La as bn,Lb as Ha,M as Cp,Ma as wn,Mb as fc,N as ko,Na as Pd,Nb as qa,O as Va,Oa as kt,Ob as vo,P as Re,Pa as Ba,Pb as Al,Q as Od,Qa as kd,Qb as or,R as H,Ra as Dd,Rb as Xr,S as U,Sa as Rd,Sb as kr,T as ye,Tb as Vl,U as Fe,Ub as Us,V as Ne,Vb as Ud,W as it,Wa as Fd,Wb as Ga,X as We,Xa as Nd,Xb as Kd,Y as Oe,Yb as Zd,Z as T,Zb as Yd,_ as hs,_a as Ad,_b as jd,a as Cr,aa as Gi,ab as cn,ac as Xd,b as Ts,ba as Ct,bb as Ta,bc as Lp,ca as Je,cb as lc,cc as $d,d as py,da as et,db as uc,dc as Qd,e as tt,ea as Zi,eb as cc,ec as Jd,f as hy,fa as Xe,fb as za,g as rr,ga as It,gb as so,h as dy,ha as Wi,hb as Op,i as f,ia as Ld,ib as Vd,ja as Ca,jb as Pi,k as Ir,ka as Ia,kb as wt,la as Sa,lb as Wn,m as At,ma as jn,mb as Bd,na as Pt,nb as Er,o as je,oa as Yo,ob as pc,p as Vt,pa as nt,pb as zd,qa as Hi,qb as Hd,r as Rl,ra as Vn,rb as ll,s as te,sa as Ip,sb as qd,t as ie,ta as Sp,tb as ge,u as ut,ua as ac,ub as hc,v as Ot,va as Tp,w as oc,wa as Ep,x as qe,xb as vu,y as ps,ya as Mp,yb as Gs,z as Sr,za as Tr}from"./chunk-WKTSCIPX.js";var tf=tt((mc,ef)=>{(function(i,s){typeof mc=="object"&&typeof ef<"u"?s(mc):typeof define=="function"&&define.amd?define(["exports"],s):(i=typeof globalThis<"u"?globalThis:i||self,s(i.leaflet={}))})(mc,function(i){"use strict";var s="1.9.4";function o(a){var p,m,v,b;for(m=1,v=arguments.length;m<v;m++){b=arguments[m];for(p in b)a[p]=b[p]}return a}var e=Object.create||function(){function a(){}return function(p){return a.prototype=p,new a}}();function r(a,p){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var v=m.call(arguments,2);return function(){return a.apply(p,v.length?v.concat(m.call(arguments)):arguments)}}var u=0;function h(a){return"_leaflet_id"in a||(a._leaflet_id=++u),a._leaflet_id}function g(a,p,m){var v,b,k,J;return J=function(){v=!1,b&&(k.apply(m,b),b=!1)},k=function(){v?b=arguments:(a.apply(m,arguments),setTimeout(J,p),v=!0)},k}function y(a,p,m){var v=p[1],b=p[0],k=v-b;return a===v&&m?a:((a-b)%k+k)%k+b}function w(){return!1}function D(a,p){if(p===!1)return a;var m=Math.pow(10,p===void 0?6:p);return Math.round(a*m)/m}function N(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function A(a){return N(a).split(/\s+/)}function Y(a,p){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?e(a.options):{});for(var m in p)a.options[m]=p[m];return a.options}function X(a,p,m){var v=[];for(var b in a)v.push(encodeURIComponent(m?b.toUpperCase():b)+"="+encodeURIComponent(a[b]));return(!p||p.indexOf("?")===-1?"?":"&")+v.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function E(a,p){return a.replace(j,function(m,v){var b=p[v];if(b===void 0)throw new Error("No value provided for variable "+m);return typeof b=="function"&&(b=b(p)),b})}var O=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function F(a,p){for(var m=0;m<a.length;m++)if(a[m]===p)return m;return-1}var R="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Z(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var ee=0;function re(a){var p=+new Date,m=Math.max(0,16-(p-ee));return ee=p+m,window.setTimeout(a,m)}var se=window.requestAnimationFrame||Z("RequestAnimationFrame")||re,B=window.cancelAnimationFrame||Z("CancelAnimationFrame")||Z("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function _e(a,p,m){if(m&&se===re)a.call(p);else return se.call(window,r(a,p))}function Te(a){a&&B.call(window,a)}var Pe={__proto__:null,extend:o,create:e,bind:r,get lastId(){return u},stamp:h,throttle:g,wrapNum:y,falseFn:w,formatNum:D,trim:N,splitWords:A,setOptions:Y,getParamString:X,template:E,isArray:O,indexOf:F,emptyImageUrl:R,requestFn:se,cancelFn:B,requestAnimFrame:_e,cancelAnimFrame:Te};function W(){}W.extend=function(a){var p=function(){Y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=p.__super__=this.prototype,v=e(m);v.constructor=p,p.prototype=v;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(p[b]=this[b]);return a.statics&&o(p,a.statics),a.includes&&(Bt(a.includes),o.apply(null,[v].concat(a.includes))),o(v,a),delete v.statics,delete v.includes,v.options&&(v.options=m.options?e(m.options):{},o(v.options,a.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var k=0,J=v._initHooks.length;k<J;k++)v._initHooks[k].call(this)}},p},W.include=function(a){var p=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=p,this.mergeOptions(a.options)),this},W.mergeOptions=function(a){return o(this.prototype.options,a),this},W.addInitHook=function(a){var p=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,p)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function Bt(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=O(a)?a:[a];for(var p=0;p<a.length;p++)a[p]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ie={on:function(a,p,m){if(typeof a=="object")for(var v in a)this._on(v,a[v],p);else{a=A(a);for(var b=0,k=a.length;b<k;b++)this._on(a[b],p,m)}return this},off:function(a,p,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var v in a)this._off(v,a[v],p);else{a=A(a);for(var b=arguments.length===1,k=0,J=a.length;k<J;k++)b?this._off(a[k]):this._off(a[k],p,m)}return this},_on:function(a,p,m,v){if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}if(this._listens(a,p,m)===!1){m===this&&(m=void 0);var b={fn:p,ctx:m};v&&(b.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b)}},_off:function(a,p,m){var v,b,k;if(this._events&&(v=this._events[a],!!v)){if(arguments.length===1){if(this._firingCount)for(b=0,k=v.length;b<k;b++)v[b].fn=w;delete this._events[a];return}if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}var J=this._listens(a,p,m);if(J!==!1){var le=v[J];this._firingCount&&(le.fn=w,this._events[a]=v=v.slice()),v.splice(J,1)}}},fire:function(a,p,m){if(!this.listens(a,m))return this;var v=o({},p,{type:a,target:this,sourceTarget:p&&p.sourceTarget||this});if(this._events){var b=this._events[a];if(b){this._firingCount=this._firingCount+1||1;for(var k=0,J=b.length;k<J;k++){var le=b[k],fe=le.fn;le.once&&this.off(a,fe,le.ctx),fe.call(le.ctx||this,v)}this._firingCount--}}return m&&this._propagateEvent(v),this},listens:function(a,p,m,v){typeof a!="string"&&console.warn('"string" type argument expected');var b=p;typeof p!="function"&&(v=!!p,b=void 0,m=void 0);var k=this._events&&this._events[a];if(k&&k.length&&this._listens(a,b,m)!==!1)return!0;if(v){for(var J in this._eventParents)if(this._eventParents[J].listens(a,p,m,v))return!0}return!1},_listens:function(a,p,m){if(!this._events)return!1;var v=this._events[a]||[];if(!p)return!!v.length;m===this&&(m=void 0);for(var b=0,k=v.length;b<k;b++)if(v[b].fn===p&&v[b].ctx===m)return b;return!1},once:function(a,p,m){if(typeof a=="object")for(var v in a)this._on(v,a[v],p,!0);else{a=A(a);for(var b=0,k=a.length;b<k;b++)this._on(a[b],p,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[h(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[h(a)],this},_propagateEvent:function(a){for(var p in this._eventParents)this._eventParents[p].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};Ie.addEventListener=Ie.on,Ie.removeEventListener=Ie.clearAllEventListeners=Ie.off,Ie.addOneTimeEventListener=Ie.once,Ie.fireEvent=Ie.fire,Ie.hasEventListeners=Ie.listens;var ct=W.extend(Ie);function Be(a,p,m){this.x=m?Math.round(a):a,this.y=m?Math.round(p):p}var zt=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};Be.prototype={clone:function(){return new Be(this.x,this.y)},add:function(a){return this.clone()._add(ve(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(ve(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new Be(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new Be(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=zt(this.x),this.y=zt(this.y),this},distanceTo:function(a){a=ve(a);var p=a.x-this.x,m=a.y-this.y;return Math.sqrt(p*p+m*m)},equals:function(a){return a=ve(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=ve(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+D(this.x)+", "+D(this.y)+")"}};function ve(a,p,m){return a instanceof Be?a:O(a)?new Be(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new Be(a.x,a.y):new Be(a,p,m)}function Ae(a,p){if(a)for(var m=p?[a,p]:a,v=0,b=m.length;v<b;v++)this.extend(m[v])}Ae.prototype={extend:function(a){var p,m;if(!a)return this;if(a instanceof Be||typeof a[0]=="number"||"x"in a)p=m=ve(a);else if(a=$(a),p=a.min,m=a.max,!p||!m)return this;return!this.min&&!this.max?(this.min=p.clone(),this.max=m.clone()):(this.min.x=Math.min(p.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(p.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return ve((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return ve(this.min.x,this.max.y)},getTopRight:function(){return ve(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var p,m;return typeof a[0]=="number"||a instanceof Be?a=ve(a):a=$(a),a instanceof Ae?(p=a.min,m=a.max):p=m=a,p.x>=this.min.x&&m.x<=this.max.x&&p.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=$(a);var p=this.min,m=this.max,v=a.min,b=a.max,k=b.x>=p.x&&v.x<=m.x,J=b.y>=p.y&&v.y<=m.y;return k&&J},overlaps:function(a){a=$(a);var p=this.min,m=this.max,v=a.min,b=a.max,k=b.x>p.x&&v.x<m.x,J=b.y>p.y&&v.y<m.y;return k&&J},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var p=this.min,m=this.max,v=Math.abs(p.x-m.x)*a,b=Math.abs(p.y-m.y)*a;return $(ve(p.x-v,p.y-b),ve(m.x+v,m.y+b))},equals:function(a){return a?(a=$(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function $(a,p){return!a||a instanceof Ae?a:new Ae(a,p)}function xt(a,p){if(a)for(var m=p?[a,p]:a,v=0,b=m.length;v<b;v++)this.extend(m[v])}xt.prototype={extend:function(a){var p=this._southWest,m=this._northEast,v,b;if(a instanceof st)v=a,b=a;else if(a instanceof xt){if(v=a._southWest,b=a._northEast,!v||!b)return this}else return a?this.extend(Se(a)||Qe(a)):this;return!p&&!m?(this._southWest=new st(v.lat,v.lng),this._northEast=new st(b.lat,b.lng)):(p.lat=Math.min(v.lat,p.lat),p.lng=Math.min(v.lng,p.lng),m.lat=Math.max(b.lat,m.lat),m.lng=Math.max(b.lng,m.lng)),this},pad:function(a){var p=this._southWest,m=this._northEast,v=Math.abs(p.lat-m.lat)*a,b=Math.abs(p.lng-m.lng)*a;return new xt(new st(p.lat-v,p.lng-b),new st(m.lat+v,m.lng+b))},getCenter:function(){return new st((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new st(this.getNorth(),this.getWest())},getSouthEast:function(){return new st(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof st||"lat"in a?a=Se(a):a=Qe(a);var p=this._southWest,m=this._northEast,v,b;return a instanceof xt?(v=a.getSouthWest(),b=a.getNorthEast()):v=b=a,v.lat>=p.lat&&b.lat<=m.lat&&v.lng>=p.lng&&b.lng<=m.lng},intersects:function(a){a=Qe(a);var p=this._southWest,m=this._northEast,v=a.getSouthWest(),b=a.getNorthEast(),k=b.lat>=p.lat&&v.lat<=m.lat,J=b.lng>=p.lng&&v.lng<=m.lng;return k&&J},overlaps:function(a){a=Qe(a);var p=this._southWest,m=this._northEast,v=a.getSouthWest(),b=a.getNorthEast(),k=b.lat>p.lat&&v.lat<m.lat,J=b.lng>p.lng&&v.lng<m.lng;return k&&J},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,p){return a?(a=Qe(a),this._southWest.equals(a.getSouthWest(),p)&&this._northEast.equals(a.getNorthEast(),p)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Qe(a,p){return a instanceof xt?a:new xt(a,p)}function st(a,p,m){if(isNaN(a)||isNaN(p))throw new Error("Invalid LatLng object: ("+a+", "+p+")");this.lat=+a,this.lng=+p,m!==void 0&&(this.alt=+m)}st.prototype={equals:function(a,p){if(!a)return!1;a=Se(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(p===void 0?1e-9:p)},toString:function(a){return"LatLng("+D(this.lat,a)+", "+D(this.lng,a)+")"},distanceTo:function(a){return Yi.distance(this,Se(a))},wrap:function(){return Yi.wrapLatLng(this)},toBounds:function(a){var p=180*a/40075017,m=p/Math.cos(Math.PI/180*this.lat);return Qe([this.lat-p,this.lng-m],[this.lat+p,this.lng+m])},clone:function(){return new st(this.lat,this.lng,this.alt)}};function Se(a,p,m){return a instanceof st?a:O(a)&&typeof a[0]!="object"?a.length===3?new st(a[0],a[1],a[2]):a.length===2?new st(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new st(a.lat,"lng"in a?a.lng:a.lon,a.alt):p===void 0?null:new st(a,p,m)}var Ht={latLngToPoint:function(a,p){var m=this.projection.project(a),v=this.scale(p);return this.transformation._transform(m,v)},pointToLatLng:function(a,p){var m=this.scale(p),v=this.transformation.untransform(a,m);return this.projection.unproject(v)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var p=this.projection.bounds,m=this.scale(a),v=this.transformation.transform(p.min,m),b=this.transformation.transform(p.max,m);return new Ae(v,b)},infinite:!1,wrapLatLng:function(a){var p=this.wrapLng?y(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?y(a.lat,this.wrapLat,!0):a.lat,v=a.alt;return new st(m,p,v)},wrapLatLngBounds:function(a){var p=a.getCenter(),m=this.wrapLatLng(p),v=p.lat-m.lat,b=p.lng-m.lng;if(v===0&&b===0)return a;var k=a.getSouthWest(),J=a.getNorthEast(),le=new st(k.lat-v,k.lng-b),fe=new st(J.lat-v,J.lng-b);return new xt(le,fe)}},Yi=o({},Ht,{wrapLng:[-180,180],R:6371e3,distance:function(a,p){var m=Math.PI/180,v=a.lat*m,b=p.lat*m,k=Math.sin((p.lat-a.lat)*m/2),J=Math.sin((p.lng-a.lng)*m/2),le=k*k+Math.cos(v)*Math.cos(b)*J*J,fe=2*Math.atan2(Math.sqrt(le),Math.sqrt(1-le));return this.R*fe}}),Qi=6378137,qt={R:Qi,MAX_LATITUDE:85.0511287798,project:function(a){var p=Math.PI/180,m=this.MAX_LATITUDE,v=Math.max(Math.min(m,a.lat),-m),b=Math.sin(v*p);return new Be(this.R*a.lng*p,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(a){var p=180/Math.PI;return new st((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*p,a.x*p/this.R)},bounds:function(){var a=Qi*Math.PI;return new Ae([-a,-a],[a,a])}()};function Bi(a,p,m,v){if(O(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=p,this._c=m,this._d=v}Bi.prototype={transform:function(a,p){return this._transform(a.clone(),p)},_transform:function(a,p){return p=p||1,a.x=p*(this._a*a.x+this._b),a.y=p*(this._c*a.y+this._d),a},untransform:function(a,p){return p=p||1,new Be((a.x/p-this._b)/this._a,(a.y/p-this._d)/this._c)}};function ze(a,p,m,v){return new Bi(a,p,m,v)}var ar=o({},Yi,{code:"EPSG:3857",projection:qt,transformation:function(){var a=.5/(Math.PI*qt.R);return ze(a,.5,-a,.5)}()}),Gt=o({},ar,{code:"EPSG:900913"});function lr(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Ai(a,p){var m="",v,b,k,J,le,fe;for(v=0,k=a.length;v<k;v++){for(le=a[v],b=0,J=le.length;b<J;b++)fe=le[b],m+=(b?"L":"M")+fe.x+" "+fe.y;m+=p?Ke.svg?"z":"x":""}return m||"M0 0"}var Sn=document.documentElement.style,ji="ActiveXObject"in window,ur=ji&&!document.addEventListener,Ao="msLaunchUri"in navigator&&!("documentMode"in document),at=Yt("webkit"),Vi=Yt("android"),Vo=Yt("android 2")||Yt("android 3"),uo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Bo=Vi&&Yt("Google")&&uo<537&&!("AudioNode"in window),Qn=!!window.opera,Le=!Ao&&Yt("chrome"),Ls=Yt("gecko")&&!at&&!Qn&&!ji,Jo=!Le&&Yt("safari"),rt=Yt("phantom"),Co="OTransition"in Sn,Ja=navigator.platform.indexOf("Win")===0,oe=ji&&"transition"in Sn,C="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Vo,P="MozPerspective"in Sn,z=!window.L_DISABLE_3D&&(oe||C||P)&&!Co&&!rt,G=typeof orientation<"u"||Yt("mobile"),q=G&&at,de=G&&C,ae=!window.PointerEvent&&window.MSPointerEvent,be=!!(window.PointerEvent||ae),me="ontouchstart"in window||!!window.TouchEvent,ue=!window.L_NO_TOUCH&&(me||be),pe=G&&Qn,Ce=G&&Ls,xe=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,gt=function(){var a=!1;try{var p=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",w,p),window.removeEventListener("testPassiveEventSupport",w,p)}catch{}return a}(),pt=function(){return!!document.createElement("canvas").getContext}(),Tt=!!(document.createElementNS&&lr("svg").createSVGRect),vt=!!Tt&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ji=!Tt&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var p=a.firstChild;return p.style.behavior="url(#default#VML)",p&&typeof p.adj=="object"}catch{return!1}}(),Jn=navigator.platform.indexOf("Mac")===0,Rn=navigator.platform.indexOf("Linux")===0;function Yt(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Ke={ie:ji,ielt9:ur,edge:Ao,webkit:at,android:Vi,android23:Vo,androidStock:Bo,opera:Qn,chrome:Le,gecko:Ls,safari:Jo,phantom:rt,opera12:Co,win:Ja,ie3d:oe,webkit3d:C,gecko3d:P,any3d:z,mobile:G,mobileWebkit:q,mobileWebkit3d:de,msPointer:ae,pointer:be,touch:ue,touchNative:me,mobileOpera:pe,mobileGecko:Ce,retina:xe,passiveEvents:gt,canvas:pt,svg:Tt,vml:Ji,inlineSvg:vt,mac:Jn,linux:Rn},_r=Ke.msPointer?"MSPointerDown":"pointerdown",en=Ke.msPointer?"MSPointerMove":"pointermove",_t=Ke.msPointer?"MSPointerUp":"pointerup",tn=Ke.msPointer?"MSPointerCancel":"pointercancel",nn={touchstart:_r,touchmove:en,touchend:_t,touchcancel:tn},rn={touchstart:Br,touchmove:Ys,touchend:Ys,touchcancel:Ys},Ri={},to=!1;function Ar(a,p,m){return p==="touchstart"&&sn(),rn[p]?(m=rn[p].bind(this,m),a.addEventListener(nn[p],m,!1),m):(console.warn("wrong event specified:",p),w)}function Pa(a,p,m){if(!nn[p]){console.warn("wrong event specified:",p);return}a.removeEventListener(nn[p],m,!1)}function Vr(a){Ri[a.pointerId]=a}function cu(a){Ri[a.pointerId]&&(Ri[a.pointerId]=a)}function on(a){delete Ri[a.pointerId]}function sn(){to||(document.addEventListener(_r,Vr,!0),document.addEventListener(en,cu,!0),document.addEventListener(_t,on,!0),document.addEventListener(tn,on,!0),to=!0)}function Ys(a,p){if(p.pointerType!==(p.MSPOINTER_TYPE_MOUSE||"mouse")){p.touches=[];for(var m in Ri)p.touches.push(Ri[m]);p.changedTouches=[p],a(p)}}function Br(a,p){p.MSPOINTER_TYPE_TOUCH&&p.pointerType===p.MSPOINTER_TYPE_TOUCH&&Fn(p),Ys(a,p)}function Ps(a){var p={},m,v;for(v in a)m=a[v],p[v]=m&&m.bind?m.bind(a):m;return a=p,p.type="dblclick",p.detail=2,p.isTrusted=!1,p._simulated=!0,p}var Tn=200;function ka(a,p){a.addEventListener("dblclick",p);var m=0,v;function b(k){if(k.detail!==1){v=k.detail;return}if(!(k.pointerType==="mouse"||k.sourceCapabilities&&!k.sourceCapabilities.firesTouchEvents)){var J=ts(k);if(!(J.some(function(fe){return fe instanceof HTMLLabelElement&&fe.attributes.for})&&!J.some(function(fe){return fe instanceof HTMLInputElement||fe instanceof HTMLSelectElement}))){var le=Date.now();le-m<=Tn?(v++,v===2&&p(Ps(k))):v=1,m=le}}}return a.addEventListener("click",b),{dblclick:p,simDblclick:b}}function es(a,p){a.removeEventListener("dblclick",p.dblclick),a.removeEventListener("click",p.simDblclick)}var Io=Ml(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),yr=Ml(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),el=yr==="webkitTransition"||yr==="OTransition"?yr+"End":"transitionend";function Da(a){return typeof a=="string"?document.getElementById(a):a}function ks(a,p){var m=a.style[p]||a.currentStyle&&a.currentStyle[p];if((!m||m==="auto")&&document.defaultView){var v=document.defaultView.getComputedStyle(a,null);m=v?v[p]:null}return m==="auto"?null:m}function jt(a,p,m){var v=document.createElement(a);return v.className=p||"",m&&m.appendChild(v),v}function bt(a){var p=a.parentNode;p&&p.removeChild(a)}function tl(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function zr(a){var p=a.parentNode;p&&p.lastChild!==a&&p.appendChild(a)}function js(a){var p=a.parentNode;p&&p.firstChild!==a&&p.insertBefore(a,p.firstChild)}function El(a,p){if(a.classList!==void 0)return a.classList.contains(p);var m=Ra(a);return m.length>0&&new RegExp("(^|\\s)"+p+"(\\s|$)").test(m)}function Ze(a,p){if(a.classList!==void 0)for(var m=A(p),v=0,b=m.length;v<b;v++)a.classList.add(m[v]);else if(!El(a,p)){var k=Ra(a);co(a,(k?k+" ":"")+p)}}function En(a,p){a.classList!==void 0?a.classList.remove(p):co(a,N((" "+Ra(a)+" ").replace(" "+p+" "," ")))}function co(a,p){a.className.baseVal===void 0?a.className=p:a.className.baseVal=p}function Ra(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function ht(a,p){"opacity"in a.style?a.style.opacity=p:"filter"in a.style&&$u(a,p)}function $u(a,p){var m=!1,v="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(v)}catch{if(p===1)return}p=Math.round(p*100),m?(m.Enabled=p!==100,m.Opacity=p):a.style.filter+=" progid:"+v+"(opacity="+p+")"}function Ml(a){for(var p=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in p)return a[m];return!1}function _s(a,p,m){var v=p||new Be(0,0);a.style[Io]=(Ke.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(m?" scale("+m+")":"")}function zi(a,p){a._leaflet_pos=p,Ke.any3d?_s(a,p):(a.style.left=p.x+"px",a.style.top=p.y+"px")}function Hr(a){return a._leaflet_pos||new Be(0,0)}var ha,Fa,Me;if("onselectstart"in document)ha=function(){lt(window,"selectstart",Fn)},Fa=function(){Ut(window,"selectstart",Fn)};else{var Ws=Ml(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ha=function(){if(Ws){var a=document.documentElement.style;Me=a[Ws],a[Ws]="none"}},Fa=function(){Ws&&(document.documentElement.style[Ws]=Me,Me=void 0)}}function po(){lt(window,"dragstart",Fn)}function zo(){Ut(window,"dragstart",Fn)}var da,er;function Fi(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Ft(),da=a,er=a.style.outlineStyle,a.style.outlineStyle="none",lt(window,"keydown",Ft))}function Ft(){da&&(da.style.outlineStyle=er,da=void 0,er=void 0,Ut(window,"keydown",Ft))}function hn(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function pu(a){var p=a.getBoundingClientRect();return{x:p.width/a.offsetWidth||1,y:p.height/a.offsetHeight||1,boundingClientRect:p}}var xp={__proto__:null,TRANSFORM:Io,TRANSITION:yr,TRANSITION_END:el,get:Da,getStyle:ks,create:jt,remove:bt,empty:tl,toFront:zr,toBack:js,hasClass:El,addClass:Ze,removeClass:En,setClass:co,getClass:Ra,setOpacity:ht,testProp:Ml,setTransform:_s,setPosition:zi,getPosition:Hr,get disableTextSelection(){return ha},get enableTextSelection(){return Fa},disableImageDrag:po,enableImageDrag:zo,preventOutline:Fi,restoreOutline:Ft,getSizedParentNode:hn,getScale:pu};function lt(a,p,m,v){if(p&&typeof p=="object")for(var b in p)Hn(a,b,p[b],m);else{p=A(p);for(var k=0,J=p.length;k<J;k++)Hn(a,p[k],m,v)}return this}var So="_leaflet_events";function Ut(a,p,m,v){if(arguments.length===1)Li(a),delete a[So];else if(p&&typeof p=="object")for(var b in p)il(a,b,p[b],m);else if(p=A(p),arguments.length===2)Li(a,function(le){return F(p,le)!==-1});else for(var k=0,J=p.length;k<J;k++)il(a,p[k],m,v);return this}function Li(a,p){for(var m in a[So]){var v=m.split(/\d/)[0];(!p||p(v))&&il(a,v,null,null,m)}}var fa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Hn(a,p,m,v){var b=p+h(m)+(v?"_"+h(v):"");if(a[So]&&a[So][b])return this;var k=function(le){return m.call(v||a,le||window.event)},J=k;!Ke.touchNative&&Ke.pointer&&p.indexOf("touch")===0?k=Ar(a,p,k):Ke.touch&&p==="dblclick"?k=ka(a,k):"addEventListener"in a?p==="touchstart"||p==="touchmove"||p==="wheel"||p==="mousewheel"?a.addEventListener(fa[p]||p,k,Ke.passiveEvents?{passive:!1}:!1):p==="mouseenter"||p==="mouseleave"?(k=function(le){le=le||window.event,Ol(a,le)&&J(le)},a.addEventListener(fa[p],k,!1)):a.addEventListener(p,J,!1):a.attachEvent("on"+p,k),a[So]=a[So]||{},a[So][b]=k}function il(a,p,m,v,b){b=b||p+h(m)+(v?"_"+h(v):"");var k=a[So]&&a[So][b];if(!k)return this;!Ke.touchNative&&Ke.pointer&&p.indexOf("touch")===0?Pa(a,p,k):Ke.touch&&p==="dblclick"?es(a,k):"removeEventListener"in a?a.removeEventListener(fa[p]||p,k,!1):a.detachEvent("on"+p,k),a[So][b]=null}function Ho(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Ui(a){return Hn(a,"wheel",Ho),this}function tr(a){return lt(a,"mousedown touchstart dblclick contextmenu",Ho),a._leaflet_disable_click=!0,this}function Fn(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function cr(a){return Fn(a),Ho(a),this}function ts(a){if(a.composedPath)return a.composedPath();for(var p=[],m=a.target;m;)p.push(m),m=m.parentNode;return p}function ys(a,p){if(!p)return new Be(a.clientX,a.clientY);var m=pu(p),v=m.boundingClientRect;return new Be((a.clientX-v.left)/m.x-p.clientLeft,(a.clientY-v.top)/m.y-p.clientTop)}var ma=Ke.linux&&Ke.chrome?window.devicePixelRatio:Ke.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function yn(a){return Ke.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/ma:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Ol(a,p){var m=p.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var To={__proto__:null,on:lt,off:Ut,stopPropagation:Ho,disableScrollPropagation:Ui,disableClickPropagation:tr,preventDefault:Fn,stop:cr,getPropagationPath:ts,getMousePosition:ys,getWheelDelta:yn,isExternalTarget:Ol,addListener:lt,removeListener:Ut},dn=ct.extend({run:function(a,p,m,v){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=Hr(a),this._offset=p.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=_e(this._animate,this),this._step()},_step:function(a){var p=+new Date-this._startTime,m=this._duration*1e3;p<m?this._runFrame(this._easeOut(p/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,p){var m=this._startPos.add(this._offset.multiplyBy(a));p&&m._round(),zi(this._el,m),this.fire("step")},_complete:function(){Te(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),dt=ct.extend({options:{crs:ar,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,p){p=Y(this,p),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),p.maxBounds&&this.setMaxBounds(p.maxBounds),p.zoom!==void 0&&(this._zoom=this._limitZoom(p.zoom)),p.center&&p.zoom!==void 0&&this.setView(Se(p.center),p.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=yr&&Ke.any3d&&!Ke.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),lt(this._proxy,el,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,p,m){if(p=p===void 0?this._zoom:this._limitZoom(p),a=this._limitCenter(Se(a),p,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=o({animate:m.animate},m.zoom),m.pan=o({animate:m.animate,duration:m.duration},m.pan));var v=this._zoom!==p?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,p,m.zoom):this._tryAnimatedPan(a,m.pan);if(v)return clearTimeout(this._sizeTimer),this}return this._resetView(a,p,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,p){return this._loaded?this.setView(this.getCenter(),a,{zoom:p}):(this._zoom=a,this)},zoomIn:function(a,p){return a=a||(Ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,p)},zoomOut:function(a,p){return a=a||(Ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,p)},setZoomAround:function(a,p,m){var v=this.getZoomScale(p),b=this.getSize().divideBy(2),k=a instanceof Be?a:this.latLngToContainerPoint(a),J=k.subtract(b).multiplyBy(1-1/v),le=this.containerPointToLatLng(b.add(J));return this.setView(le,p,{zoom:m})},_getBoundsCenterZoom:function(a,p){p=p||{},a=a.getBounds?a.getBounds():Qe(a);var m=ve(p.paddingTopLeft||p.padding||[0,0]),v=ve(p.paddingBottomRight||p.padding||[0,0]),b=this.getBoundsZoom(a,!1,m.add(v));if(b=typeof p.maxZoom=="number"?Math.min(p.maxZoom,b):b,b===1/0)return{center:a.getCenter(),zoom:b};var k=v.subtract(m).divideBy(2),J=this.project(a.getSouthWest(),b),le=this.project(a.getNorthEast(),b),fe=this.unproject(J.add(le).divideBy(2).add(k),b);return{center:fe,zoom:b}},fitBounds:function(a,p){if(a=Qe(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,p);return this.setView(m.center,m.zoom,p)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,p){return this.setView(a,this._zoom,{pan:p})},panBy:function(a,p){if(a=ve(a).round(),p=p||{},!a.x&&!a.y)return this.fire("moveend");if(p.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new dn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),p.noMoveStart||this.fire("movestart"),p.animate!==!1){Ze(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,p.duration||.25,p.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,p,m){if(m=m||{},m.animate===!1||!Ke.any3d)return this.setView(a,p,m);this._stop();var v=this.project(this.getCenter()),b=this.project(a),k=this.getSize(),J=this._zoom;a=Se(a),p=p===void 0?J:p;var le=Math.max(k.x,k.y),fe=le*this.getZoomScale(J,p),Ee=b.distanceTo(v)||1,He=1.42,ft=He*He;function St(Yn){var wr=Yn?-1:1,vn=Yn?fe:le,rc=fe*fe-le*le+wr*ft*ft*Ee*Ee,al=2*vn*ft*Ee,t=rc/al,n=Math.sqrt(t*t+1)-t,l=n<1e-9?-18:Math.log(n);return l}function Lr(Yn){return(Math.exp(Yn)-Math.exp(-Yn))/2}function kn(Yn){return(Math.exp(Yn)+Math.exp(-Yn))/2}function gr(Yn){return Lr(Yn)/kn(Yn)}var br=St(0);function cs(Yn){return le*(kn(br)/kn(br+He*Yn))}function ia(Yn){return le*(kn(br)*gr(br+He*Yn)-Lr(br))/ft}function mt(Yn){return 1-Math.pow(1-Yn,1.5)}var Hs=Date.now(),ba=(St(1)-br)/He,na=m.duration?1e3*m.duration:1e3*ba*.8;function Yr(){var Yn=(Date.now()-Hs)/na,wr=mt(Yn)*ba;Yn<=1?(this._flyToFrame=_e(Yr,this),this._move(this.unproject(v.add(b.subtract(v).multiplyBy(ia(wr)/Ee)),J),this.getScaleZoom(le/cs(wr),J),{flyTo:!0})):this._move(a,p)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),Yr.call(this),this},flyToBounds:function(a,p){var m=this._getBoundsCenterZoom(a,p);return this.flyTo(m.center,m.zoom,p)},setMaxBounds:function(a){return a=Qe(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var p=this.options.minZoom;return this.options.minZoom=a,this._loaded&&p!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var p=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&p!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,p){this._enforcingBounds=!0;var m=this.getCenter(),v=this._limitCenter(m,this._zoom,Qe(a));return m.equals(v)||this.panTo(v,p),this._enforcingBounds=!1,this},panInside:function(a,p){p=p||{};var m=ve(p.paddingTopLeft||p.padding||[0,0]),v=ve(p.paddingBottomRight||p.padding||[0,0]),b=this.project(this.getCenter()),k=this.project(a),J=this.getPixelBounds(),le=$([J.min.add(m),J.max.subtract(v)]),fe=le.getSize();if(!le.contains(k)){this._enforcingBounds=!0;var Ee=k.subtract(le.getCenter()),He=le.extend(k).getSize().subtract(fe);b.x+=Ee.x<0?-He.x:He.x,b.y+=Ee.y<0?-He.y:He.y,this.panTo(this.unproject(b),p),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var p=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),v=p.divideBy(2).round(),b=m.divideBy(2).round(),k=v.subtract(b);return!k.x&&!k.y?this:(a.animate&&a.pan?this.panBy(k):(a.pan&&this._rawPanBy(k),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:p,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var p=r(this._handleGeolocationResponse,this),m=r(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(p,m,a):navigator.geolocation.getCurrentPosition(p,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var p=a.code,m=a.message||(p===1?"permission denied":p===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:p,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var p=a.coords.latitude,m=a.coords.longitude,v=new st(p,m),b=v.toBounds(a.coords.accuracy*2),k=this._locateOptions;if(k.setView){var J=this.getBoundsZoom(b);this.setView(v,k.maxZoom?Math.min(J,k.maxZoom):J)}var le={latlng:v,bounds:b,timestamp:a.timestamp};for(var fe in a.coords)typeof a.coords[fe]=="number"&&(le[fe]=a.coords[fe]);this.fire("locationfound",le)}},addHandler:function(a,p){if(!p)return this;var m=this[a]=new p(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),bt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Te(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)bt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,p){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),v=jt("div",m,p||this._mapPane);return a&&(this._panes[a]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),p=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new xt(p,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,p,m){a=Qe(a),m=ve(m||[0,0]);var v=this.getZoom()||0,b=this.getMinZoom(),k=this.getMaxZoom(),J=a.getNorthWest(),le=a.getSouthEast(),fe=this.getSize().subtract(m),Ee=$(this.project(le,v),this.project(J,v)).getSize(),He=Ke.any3d?this.options.zoomSnap:1,ft=fe.x/Ee.x,St=fe.y/Ee.y,Lr=p?Math.max(ft,St):Math.min(ft,St);return v=this.getScaleZoom(Lr,v),He&&(v=Math.round(v/(He/100))*(He/100),v=p?Math.ceil(v/He)*He:Math.floor(v/He)*He),Math.max(b,Math.min(k,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Be(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,p){var m=this._getTopLeftPoint(a,p);return new Ae(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,p){var m=this.options.crs;return p=p===void 0?this._zoom:p,m.scale(a)/m.scale(p)},getScaleZoom:function(a,p){var m=this.options.crs;p=p===void 0?this._zoom:p;var v=m.zoom(a*m.scale(p));return isNaN(v)?1/0:v},project:function(a,p){return p=p===void 0?this._zoom:p,this.options.crs.latLngToPoint(Se(a),p)},unproject:function(a,p){return p=p===void 0?this._zoom:p,this.options.crs.pointToLatLng(ve(a),p)},layerPointToLatLng:function(a){var p=ve(a).add(this.getPixelOrigin());return this.unproject(p)},latLngToLayerPoint:function(a){var p=this.project(Se(a))._round();return p._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Se(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(Qe(a))},distance:function(a,p){return this.options.crs.distance(Se(a),Se(p))},containerPointToLayerPoint:function(a){return ve(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return ve(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var p=this.containerPointToLayerPoint(ve(a));return this.layerPointToLatLng(p)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Se(a)))},mouseEventToContainerPoint:function(a){return ys(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var p=this._container=Da(a);if(p){if(p._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");lt(p,"scroll",this._onScroll,this),this._containerId=h(p)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ke.any3d,Ze(a,"leaflet-container"+(Ke.touch?" leaflet-touch":"")+(Ke.retina?" leaflet-retina":"")+(Ke.ielt9?" leaflet-oldie":"")+(Ke.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var p=ks(a,"position");p!=="absolute"&&p!=="relative"&&p!=="fixed"&&p!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),zi(this._mapPane,new Be(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ze(a.markerPane,"leaflet-zoom-hide"),Ze(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,p,m){zi(this._mapPane,new Be(0,0));var v=!this._loaded;this._loaded=!0,p=this._limitZoom(p),this.fire("viewprereset");var b=this._zoom!==p;this._moveStart(b,m)._move(a,p)._moveEnd(b),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(a,p){return a&&this.fire("zoomstart"),p||this.fire("movestart"),this},_move:function(a,p,m,v){p===void 0&&(p=this._zoom);var b=this._zoom!==p;return this._zoom=p,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),v?m&&m.pinch&&this.fire("zoom",m):((b||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Te(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){zi(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[h(this._container)]=this;var p=a?Ut:lt;p(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&p(window,"resize",this._onResize,this),Ke.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Te(this._resizeRequest),this._resizeRequest=_e(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,p){for(var m=[],v,b=p==="mouseout"||p==="mouseover",k=a.target||a.srcElement,J=!1;k;){if(v=this._targets[h(k)],v&&(p==="click"||p==="preclick")&&this._draggableMoved(v)){J=!0;break}if(v&&v.listens(p,!0)&&(b&&!Ol(k,a)||(m.push(v),b))||k===this._container)break;k=k.parentNode}return!m.length&&!J&&!b&&this.listens(p,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var p=a.target||a.srcElement;if(!(!this._loaded||p._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(p))){var m=a.type;m==="mousedown"&&Fi(p),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,p,m){if(a.type==="click"){var v=o({},a);v.type="preclick",this._fireDOMEvent(v,v.type,m)}var b=this._findEventTargets(a,p);if(m){for(var k=[],J=0;J<m.length;J++)m[J].listens(p,!0)&&k.push(m[J]);b=k.concat(b)}if(b.length){p==="contextmenu"&&Fn(a);var le=b[0],fe={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var Ee=le.getLatLng&&(!le._radius||le._radius<=10);fe.containerPoint=Ee?this.latLngToContainerPoint(le.getLatLng()):this.mouseEventToContainerPoint(a),fe.layerPoint=this.containerPointToLayerPoint(fe.containerPoint),fe.latlng=Ee?le.getLatLng():this.layerPointToLatLng(fe.layerPoint)}for(J=0;J<b.length;J++)if(b[J].fire(p,fe,!0),fe.originalEvent._stopped||b[J].options.bubblingMouseEvents===!1&&F(this._mouseEvents,p)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,p=this._handlers.length;a<p;a++)this._handlers[a].disable()},whenReady:function(a,p){return this._loaded?a.call(p||this,{target:this}):this.on("load",a,p),this},_getMapPanePos:function(){return Hr(this._mapPane)||new Be(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,p){var m=a&&p!==void 0?this._getNewPixelOrigin(a,p):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,p){var m=this.getSize()._divideBy(2);return this.project(a,p)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,p,m){var v=this._getNewPixelOrigin(m,p);return this.project(a,p)._subtract(v)},_latLngBoundsToNewLayerBounds:function(a,p,m){var v=this._getNewPixelOrigin(m,p);return $([this.project(a.getSouthWest(),p)._subtract(v),this.project(a.getNorthWest(),p)._subtract(v),this.project(a.getSouthEast(),p)._subtract(v),this.project(a.getNorthEast(),p)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,p,m){if(!m)return a;var v=this.project(a,p),b=this.getSize().divideBy(2),k=new Ae(v.subtract(b),v.add(b)),J=this._getBoundsOffset(k,m,p);return Math.abs(J.x)<=1&&Math.abs(J.y)<=1?a:this.unproject(v.add(J),p)},_limitOffset:function(a,p){if(!p)return a;var m=this.getPixelBounds(),v=new Ae(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(v,p))},_getBoundsOffset:function(a,p,m){var v=$(this.project(p.getNorthEast(),m),this.project(p.getSouthWest(),m)),b=v.min.subtract(a.min),k=v.max.subtract(a.max),J=this._rebound(b.x,-k.x),le=this._rebound(b.y,-k.y);return new Be(J,le)},_rebound:function(a,p){return a+p>0?Math.round(a-p)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(p))},_limitZoom:function(a){var p=this.getMinZoom(),m=this.getMaxZoom(),v=Ke.any3d?this.options.zoomSnap:1;return v&&(a=Math.round(a/v)*v),Math.max(p,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){En(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,p){var m=this._getCenterOffset(a)._trunc();return(p&&p.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,p),!0)},_createAnimProxy:function(){var a=this._proxy=jt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(p){var m=Io,v=this._proxy.style[m];_s(this._proxy,this.project(p.center,p.zoom),this.getZoomScale(p.zoom,1)),v===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){bt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),p=this.getZoom();_s(this._proxy,this.project(a,p),this.getZoomScale(p,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,p,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(p-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(p),b=this._getCenterOffset(a)._divideBy(1-1/v);return m.animate!==!0&&!this.getSize().contains(b)?!1:(_e(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,p,!0)},this),!0)},_animateZoom:function(a,p,m,v){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=p,Ze(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:p,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&En(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ll(a,p){return new dt(a,p)}var is=W.extend({options:{position:"topright"},initialize:function(a){Y(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var p=this._map;return p&&p.removeControl(this),this.options.position=a,p&&p.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var p=this._container=this.onAdd(a),m=this.getPosition(),v=a._controlCorners[m];return Ze(p,"leaflet-control"),m.indexOf("bottom")!==-1?v.insertBefore(p,v.firstChild):v.appendChild(p),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(bt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),vs=function(a){return new is(a)};dt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},p="leaflet-",m=this._controlContainer=jt("div",p+"control-container",this._container);function v(b,k){var J=p+b+" "+p+k;a[b+k]=jt("div",J,m)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)bt(this._controlCorners[a]);bt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var hu=is.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,p,m,v){return m<v?-1:v<m?1:0}},initialize:function(a,p,m){Y(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var v in a)this._addLayer(a[v],v);for(v in p)this._addLayer(p[v],v,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return is.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,p){return this._addLayer(a,p),this._map?this._update():this},addOverlay:function(a,p){return this._addLayer(a,p,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var p=this._getLayer(h(a));return p&&this._layers.splice(this._layers.indexOf(p),1),this._map?this._update():this},expand:function(){Ze(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Ze(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):En(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return En(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",p=this._container=jt("div",a),m=this.options.collapsed;p.setAttribute("aria-haspopup",!0),tr(p),Ui(p);var v=this._section=jt("section",a+"-list");m&&(this._map.on("click",this.collapse,this),lt(p,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=jt("a",a+"-toggle",p);b.href="#",b.title="Layers",b.setAttribute("role","button"),lt(b,{keydown:function(k){k.keyCode===13&&this._expandSafely()},click:function(k){Fn(k),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=jt("div",a+"-base",v),this._separator=jt("div",a+"-separator",v),this._overlaysList=jt("div",a+"-overlays",v),p.appendChild(v)},_getLayer:function(a){for(var p=0;p<this._layers.length;p++)if(this._layers[p]&&h(this._layers[p].layer)===a)return this._layers[p]},_addLayer:function(a,p,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:p,overlay:m}),this.options.sortLayers&&this._layers.sort(r(function(v,b){return this.options.sortFunction(v.layer,b.layer,v.name,b.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;tl(this._baseLayersList),tl(this._overlaysList),this._layerControlInputs=[];var a,p,m,v,b=0;for(m=0;m<this._layers.length;m++)v=this._layers[m],this._addItem(v),p=p||v.overlay,a=a||!v.overlay,b+=v.overlay?0:1;return this.options.hideSingleBase&&(a=a&&b>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=p&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var p=this._getLayer(h(a.target)),m=p.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,p)},_createRadioElement:function(a,p){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(p?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=m,v.firstChild},_addItem:function(a){var p=document.createElement("label"),m=this._map.hasLayer(a.layer),v;a.overlay?(v=document.createElement("input"),v.type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=m):v=this._createRadioElement("leaflet-base-layers_"+h(this),m),this._layerControlInputs.push(v),v.layerId=h(a.layer),lt(v,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+a.name;var k=document.createElement("span");p.appendChild(k),k.appendChild(v),k.appendChild(b);var J=a.overlay?this._overlaysList:this._baseLayersList;return J.appendChild(p),this._checkDisabledLayers(),p},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,p,m,v=[],b=[];this._handlingClick=!0;for(var k=a.length-1;k>=0;k--)p=a[k],m=this._getLayer(p.layerId).layer,p.checked?v.push(m):p.checked||b.push(m);for(k=0;k<b.length;k++)this._map.hasLayer(b[k])&&this._map.removeLayer(b[k]);for(k=0;k<v.length;k++)this._map.hasLayer(v[k])||this._map.addLayer(v[k]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,p,m,v=this._map.getZoom(),b=a.length-1;b>=0;b--)p=a[b],m=this._getLayer(p.layerId).layer,p.disabled=m.options.minZoom!==void 0&&v<m.options.minZoom||m.options.maxZoom!==void 0&&v>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,lt(a,"click",Fn),this.expand();var p=this;setTimeout(function(){Ut(a,"click",Fn),p._preventClick=!1})}}),Qu=function(a,p,m){return new hu(a,p,m)},pr=is.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var p="leaflet-control-zoom",m=jt("div",p+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,p+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,p+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,p,m,v,b){var k=jt("a",m,v);return k.innerHTML=a,k.href="#",k.title=p,k.setAttribute("role","button"),k.setAttribute("aria-label",p),tr(k),lt(k,"click",cr),lt(k,"click",b,this),lt(k,"click",this._refocusOnMap,this),k},_updateDisabled:function(){var a=this._map,p="leaflet-disabled";En(this._zoomInButton,p),En(this._zoomOutButton,p),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Ze(this._zoomOutButton,p),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Ze(this._zoomInButton,p),this._zoomInButton.setAttribute("aria-disabled","true"))}});dt.mergeOptions({zoomControl:!0}),dt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new pr,this.addControl(this.zoomControl))});var Ds=function(a){return new pr(a)},hr=is.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var p="leaflet-control-scale",m=jt("div",p),v=this.options;return this._addScales(v,p+"-line",m),a.on(v.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,p,m){a.metric&&(this._mScale=jt("div",p,m)),a.imperial&&(this._iScale=jt("div",p,m))},_update:function(){var a=this._map,p=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,p]),a.containerPointToLatLng([this.options.maxWidth,p]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var p=this._getRoundNum(a),m=p<1e3?p+" m":p/1e3+" km";this._updateScale(this._mScale,m,p/a)},_updateImperial:function(a){var p=a*3.2808399,m,v,b;p>5280?(m=p/5280,v=this._getRoundNum(m),this._updateScale(this._iScale,v+" mi",v/m)):(b=this._getRoundNum(p),this._updateScale(this._iScale,b+" ft",b/p))},_updateScale:function(a,p,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=p},_getRoundNum:function(a){var p=Math.pow(10,(Math.floor(a)+"").length-1),m=a/p;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,p*m}}),ga=function(a){return new hr(a)},ns='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',_a=is.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ke.inlineSvg?ns+" ":"")+"Leaflet</a>"},initialize:function(a){Y(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=jt("div","leaflet-control-attribution"),tr(this._container);for(var p in a._layers)a._layers[p].getAttribution&&this.addAttribution(a._layers[p].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var p in this._attributions)this._attributions[p]&&a.push(p);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});dt.mergeOptions({attributionControl:!0}),dt.addInitHook(function(){this.options.attributionControl&&new _a().addTo(this)});var fn=function(a){return new _a(a)};is.Layers=hu,is.Zoom=pr,is.Scale=hr,is.Attribution=_a,vs.layers=Qu,vs.zoom=Ds,vs.scale=ga,vs.attribution=fn;var Ye=W.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ye.addTo=function(a,p){return a.addHandler(p,this),this};var Ju={Events:Ie},Na=Ke.touch?"touchstart mousedown":"mousedown",Mn=ct.extend({options:{clickTolerance:3},initialize:function(a,p,m,v){Y(this,v),this._element=a,this._dragStartTarget=p||a,this._preventOutline=m},enable:function(){this._enabled||(lt(this._dragStartTarget,Na,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Mn._dragging===this&&this.finishDrag(!0),Ut(this._dragStartTarget,Na,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!El(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Mn._dragging===this&&this.finishDrag();return}if(!(Mn._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Mn._dragging=this,this._preventOutline&&Fi(this._element),po(),ha(),!this._moving)){this.fire("down");var p=a.touches?a.touches[0]:a,m=hn(this._element);this._startPoint=new Be(p.clientX,p.clientY),this._startPos=Hr(this._element),this._parentScale=pu(m);var v=a.type==="mousedown";lt(document,v?"mousemove":"touchmove",this._onMove,this),lt(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var p=a.touches&&a.touches.length===1?a.touches[0]:a,m=new Be(p.clientX,p.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Fn(a),this._moved||(this.fire("dragstart"),this._moved=!0,Ze(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ze(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),zi(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){En(document.body,"leaflet-dragging"),this._lastTarget&&(En(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ut(document,"mousemove touchmove",this._onMove,this),Ut(document,"mouseup touchend touchcancel",this._onUp,this),zo(),Fa();var p=this._moved&&this._moving;this._moving=!1,Mn._dragging=!1,p&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Eo(a,p,m){var v,b=[1,4,2,8],k,J,le,fe,Ee,He,ft,St;for(k=0,He=a.length;k<He;k++)a[k]._code=vi(a[k],p);for(le=0;le<4;le++){for(ft=b[le],v=[],k=0,He=a.length,J=He-1;k<He;J=k++)fe=a[k],Ee=a[J],fe._code&ft?Ee._code&ft||(St=bs(Ee,fe,ft,p,m),St._code=vi(St,p),v.push(St)):(Ee._code&ft&&(St=bs(Ee,fe,ft,p,m),St._code=vi(St,p),v.push(St)),v.push(fe));a=v}return a}function Rs(a,p){var m,v,b,k,J,le,fe,Ee,He;if(!a||a.length===0)throw new Error("latlngs not passed");vr(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var ft=Se([0,0]),St=Qe(a),Lr=St.getNorthWest().distanceTo(St.getSouthWest())*St.getNorthEast().distanceTo(St.getNorthWest());Lr<1700&&(ft=ya(a));var kn=a.length,gr=[];for(m=0;m<kn;m++){var br=Se(a[m]);gr.push(p.project(Se([br.lat-ft.lat,br.lng-ft.lng])))}for(le=fe=Ee=0,m=0,v=kn-1;m<kn;v=m++)b=gr[m],k=gr[v],J=b.y*k.x-k.y*b.x,fe+=(b.x+k.x)*J,Ee+=(b.y+k.y)*J,le+=J*3;le===0?He=gr[0]:He=[fe/le,Ee/le];var cs=p.unproject(ve(He));return Se([cs.lat+ft.lat,cs.lng+ft.lng])}function ya(a){for(var p=0,m=0,v=0,b=0;b<a.length;b++){var k=Se(a[b]);p+=k.lat,m+=k.lng,v++}return Se([p/v,m/v])}var du={__proto__:null,clipPolygon:Eo,polygonCenter:Rs,centroid:ya};function fu(a,p){if(!p||!a.length)return a.slice();var m=p*p;return a=io(a,m),a=an(a,m),a}function Nt(a,p,m){return Math.sqrt(qn(a,p,m,!0))}function xs(a,p,m){return qn(a,p,m)}function an(a,p){var m=a.length,v=typeof Uint8Array<"u"?Uint8Array:Array,b=new v(m);b[0]=b[m-1]=1,va(a,b,p,0,m-1);var k,J=[];for(k=0;k<m;k++)b[k]&&J.push(a[k]);return J}function va(a,p,m,v,b){var k=0,J,le,fe;for(le=v+1;le<=b-1;le++)fe=qn(a[le],a[v],a[b],!0),fe>k&&(J=le,k=fe);k>m&&(p[J]=1,va(a,p,m,v,J),va(a,p,m,J,b))}function io(a,p){for(var m=[a[0]],v=1,b=0,k=a.length;v<k;v++)nl(a[v],a[b])>p&&(m.push(a[v]),b=v);return b<k-1&&m.push(a[k-1]),m}var mu;function Et(a,p,m,v,b){var k=v?mu:vi(a,m),J=vi(p,m),le,fe,Ee;for(mu=J;;){if(!(k|J))return[a,p];if(k&J)return!1;le=k||J,fe=bs(a,p,le,m,b),Ee=vi(fe,m),le===k?(a=fe,k=Ee):(p=fe,J=Ee)}}function bs(a,p,m,v,b){var k=p.x-a.x,J=p.y-a.y,le=v.min,fe=v.max,Ee,He;return m&8?(Ee=a.x+k*(fe.y-a.y)/J,He=fe.y):m&4?(Ee=a.x+k*(le.y-a.y)/J,He=le.y):m&2?(Ee=fe.x,He=a.y+J*(fe.x-a.x)/k):m&1&&(Ee=le.x,He=a.y+J*(le.x-a.x)/k),new Be(Ee,He,b)}function vi(a,p){var m=0;return a.x<p.min.x?m|=1:a.x>p.max.x&&(m|=2),a.y<p.min.y?m|=4:a.y>p.max.y&&(m|=8),m}function nl(a,p){var m=p.x-a.x,v=p.y-a.y;return m*m+v*v}function qn(a,p,m,v){var b=p.x,k=p.y,J=m.x-b,le=m.y-k,fe=J*J+le*le,Ee;return fe>0&&(Ee=((a.x-b)*J+(a.y-k)*le)/fe,Ee>1?(b=m.x,k=m.y):Ee>0&&(b+=J*Ee,k+=le*Ee)),J=a.x-b,le=a.y-k,v?J*J+le*le:new Be(b,k)}function vr(a){return!O(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function gu(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),vr(a)}function Fs(a,p){var m,v,b,k,J,le,fe,Ee;if(!a||a.length===0)throw new Error("latlngs not passed");vr(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var He=Se([0,0]),ft=Qe(a),St=ft.getNorthWest().distanceTo(ft.getSouthWest())*ft.getNorthEast().distanceTo(ft.getNorthWest());St<1700&&(He=ya(a));var Lr=a.length,kn=[];for(m=0;m<Lr;m++){var gr=Se(a[m]);kn.push(p.project(Se([gr.lat-He.lat,gr.lng-He.lng])))}for(m=0,v=0;m<Lr-1;m++)v+=kn[m].distanceTo(kn[m+1])/2;if(v===0)Ee=kn[0];else for(m=0,k=0;m<Lr-1;m++)if(J=kn[m],le=kn[m+1],b=J.distanceTo(le),k+=b,k>v){fe=(k-v)/b,Ee=[le.x-fe*(le.x-J.x),le.y-fe*(le.y-J.y)];break}var br=p.unproject(ve(Ee));return Se([br.lat+He.lat,br.lng+He.lng])}var Kt={__proto__:null,simplify:fu,pointToSegmentDistance:Nt,closestPointOnSegment:xs,clipSegment:Et,_getEdgeIntersection:bs,_getBitCode:vi,_sqClosestPointOnSegment:qn,isFlat:vr,_flat:gu,polylineCenter:Fs},qr={project:function(a){return new Be(a.lng,a.lat)},unproject:function(a){return new st(a.y,a.x)},bounds:new Ae([-180,-90],[180,90])},Xs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Ae([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var p=Math.PI/180,m=this.R,v=a.lat*p,b=this.R_MINOR/m,k=Math.sqrt(1-b*b),J=k*Math.sin(v),le=Math.tan(Math.PI/4-v/2)/Math.pow((1-J)/(1+J),k/2);return v=-m*Math.log(Math.max(le,1e-10)),new Be(a.lng*p*m,v)},unproject:function(a){for(var p=180/Math.PI,m=this.R,v=this.R_MINOR/m,b=Math.sqrt(1-v*v),k=Math.exp(-a.y/m),J=Math.PI/2-2*Math.atan(k),le=0,fe=.1,Ee;le<15&&Math.abs(fe)>1e-7;le++)Ee=b*Math.sin(J),Ee=Math.pow((1-Ee)/(1+Ee),b/2),fe=Math.PI/2-2*Math.atan(k*Ee)-J,J+=fe;return new st(J*p,a.x*p/m)}},rs={__proto__:null,LonLat:qr,Mercator:Xs,SphericalMercator:qt},no=o({},Yi,{code:"EPSG:3395",projection:Xs,transformation:function(){var a=.5/(Math.PI*Xs.R);return ze(a,.5,-a,.5)}()}),ir=o({},Yi,{code:"EPSG:4326",projection:qr,transformation:ze(1/180,1,-1/180,.5)}),bp=o({},Ht,{projection:qr,transformation:ze(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,p){var m=p.lng-a.lng,v=p.lat-a.lat;return Math.sqrt(m*m+v*v)},infinite:!0});Ht.Earth=Yi,Ht.EPSG3395=no,Ht.EPSG3857=ar,Ht.EPSG900913=Gt,Ht.EPSG4326=ir,Ht.Simple=bp;var qo=ct.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[h(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[h(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var p=a.target;if(p.hasLayer(this)){if(this._map=p,this._zoomAnimated=p._zoomAnimated,this.getEvents){var m=this.getEvents();p.on(m,this),this.once("remove",function(){p.off(m,this)},this)}this.onAdd(p),this.fire("add"),p.fire("layeradd",{layer:this})}}});dt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var p=h(a);return this._layers[p]?this:(this._layers[p]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var p=h(a);return this._layers[p]?(this._loaded&&a.onRemove(this),delete this._layers[p],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return h(a)in this._layers},eachLayer:function(a,p){for(var m in this._layers)a.call(p,this._layers[m]);return this},_addLayers:function(a){a=a?O(a)?a:[a]:[];for(var p=0,m=a.length;p<m;p++)this.addLayer(a[p])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[h(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var p=h(a);this._zoomBoundLayers[p]&&(delete this._zoomBoundLayers[p],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,p=-1/0,m=this._getZoomSpan();for(var v in this._zoomBoundLayers){var b=this._zoomBoundLayers[v].options;a=b.minZoom===void 0?a:Math.min(a,b.minZoom),p=b.maxZoom===void 0?p:Math.max(p,b.maxZoom)}this._layersMaxZoom=p===-1/0?void 0:p,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ho=qo.extend({initialize:function(a,p){Y(this,p),this._layers={};var m,v;if(a)for(m=0,v=a.length;m<v;m++)this.addLayer(a[m])},addLayer:function(a){var p=this.getLayerId(a);return this._layers[p]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var p=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[p]&&this._map.removeLayer(this._layers[p]),delete this._layers[p],this},hasLayer:function(a){var p=typeof a=="number"?a:this.getLayerId(a);return p in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var p=Array.prototype.slice.call(arguments,1),m,v;for(m in this._layers)v=this._layers[m],v[a]&&v[a].apply(v,p);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,p){for(var m in this._layers)a.call(p,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return h(a)}}),Mo=function(a,p){return new ho(a,p)},Gr=ho.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),ho.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),ho.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new xt;for(var p in this._layers){var m=this._layers[p];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),ro=function(a,p){return new Gr(a,p)},Or=W.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){Y(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,p){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(m,p&&p.tagName==="IMG"?p:null);return this._setIconStyles(v,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),v},_setIconStyles:function(a,p){var m=this.options,v=m[p+"Size"];typeof v=="number"&&(v=[v,v]);var b=ve(v),k=ve(p==="shadow"&&m.shadowAnchor||m.iconAnchor||b&&b.divideBy(2,!0));a.className="leaflet-marker-"+p+" "+(m.className||""),k&&(a.style.marginLeft=-k.x+"px",a.style.marginTop=-k.y+"px"),b&&(a.style.width=b.x+"px",a.style.height=b.y+"px")},_createImg:function(a,p){return p=p||document.createElement("img"),p.src=a,p},_getIconUrl:function(a){return Ke.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function os(a){return new Or(a)}var Go=Or.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Go.imagePath!="string"&&(Go.imagePath=this._detectIconPath()),(this.options.imagePath||Go.imagePath)+Or.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var p=function(m,v,b){var k=v.exec(m);return k&&k[b]};return a=p(a,/^url\((['"])?(.+)\1\)$/,2),a&&p(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=jt("div","leaflet-default-icon-path",document.body),p=ks(a,"background-image")||ks(a,"backgroundImage");if(document.body.removeChild(a),p=this._stripUrl(p),p)return p;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),ss=Ye.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Mn(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ze(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&En(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var p=this._marker,m=p._map,v=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,k=Hr(p._icon),J=m.getPixelBounds(),le=m.getPixelOrigin(),fe=$(J.min._subtract(le).add(b),J.max._subtract(le).subtract(b));if(!fe.contains(k)){var Ee=ve((Math.max(fe.max.x,k.x)-fe.max.x)/(J.max.x-fe.max.x)-(Math.min(fe.min.x,k.x)-fe.min.x)/(J.min.x-fe.min.x),(Math.max(fe.max.y,k.y)-fe.max.y)/(J.max.y-fe.max.y)-(Math.min(fe.min.y,k.y)-fe.min.y)/(J.min.y-fe.min.y)).multiplyBy(v);m.panBy(Ee,{animate:!1}),this._draggable._newPos._add(Ee),this._draggable._startPos._add(Ee),zi(p._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=_e(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(Te(this._panRequest),this._panRequest=_e(this._adjustPan.bind(this,a)))},_onDrag:function(a){var p=this._marker,m=p._shadow,v=Hr(p._icon),b=p._map.layerPointToLatLng(v);m&&zi(m,v),p._latlng=b,a.latlng=b,a.oldLatLng=this._oldLatLng,p.fire("move",a).fire("drag",a)},_onDragEnd:function(a){Te(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),On=qo.extend({options:{icon:new Go,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,p){Y(this,p),this._latlng=Se(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var p=this._latlng;return this._latlng=Se(a),this.update(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,p="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),v=!1;m!==this._icon&&(this._icon&&this._removeIcon(),v=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),Ze(m,p),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&lt(m,"focus",this._panOnFocus,this);var b=a.icon.createShadow(this._shadow),k=!1;b!==this._shadow&&(this._removeShadow(),k=!0),b&&(Ze(b,p),b.alt=""),this._shadow=b,a.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&k&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(this._icon,"focus",this._panOnFocus,this),bt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&bt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&zi(this._icon,a),this._shadow&&zi(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var p=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(p)},_initInteraction:function(){if(this.options.interactive&&(Ze(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ss)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ss(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&ht(this._icon,a),this._shadow&&ht(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var p=this.options.icon.options,m=p.iconSize?ve(p.iconSize):ve(0,0),v=p.iconAnchor?ve(p.iconAnchor):ve(0,0);a.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:m.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ec(a,p){return new On(a,p)}var as=qo.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return Y(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Gn=as.extend({options:{fill:!0,radius:10},initialize:function(a,p){Y(this,p),this._latlng=Se(a),this._radius=this.options.radius},setLatLng:function(a){var p=this._latlng;return this._latlng=Se(a),this.redraw(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var p=a&&a.radius||this._radius;return as.prototype.setStyle.call(this,a),this.setRadius(p),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,p=this._radiusY||a,m=this._clickTolerance(),v=[a+m,p+m];this._pxBounds=new Ae(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ns(a,p){return new Gn(a,p)}var fo=Gn.extend({initialize:function(a,p,m){if(typeof p=="number"&&(p=o({},m,{radius:p})),Y(this,p),this._latlng=Se(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new xt(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:as.prototype.setStyle,_project:function(){var a=this._latlng.lng,p=this._latlng.lat,m=this._map,v=m.options.crs;if(v.distance===Yi.distance){var b=Math.PI/180,k=this._mRadius/Yi.R/b,J=m.project([p+k,a]),le=m.project([p-k,a]),fe=J.add(le).divideBy(2),Ee=m.unproject(fe).lat,He=Math.acos((Math.cos(k*b)-Math.sin(p*b)*Math.sin(Ee*b))/(Math.cos(p*b)*Math.cos(Ee*b)))/b;(isNaN(He)||He===0)&&(He=k/Math.cos(Math.PI/180*p)),this._point=fe.subtract(m.getPixelOrigin()),this._radius=isNaN(He)?0:fe.x-m.project([Ee,a-He]).x,this._radiusY=fe.y-J.y}else{var ft=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(ft).x}this._updateBounds()}});function tc(a,p,m){return new fo(a,p,m)}var mn=as.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,p){Y(this,p),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var p=1/0,m=null,v=qn,b,k,J=0,le=this._parts.length;J<le;J++)for(var fe=this._parts[J],Ee=1,He=fe.length;Ee<He;Ee++){b=fe[Ee-1],k=fe[Ee];var ft=v(a,b,k,!0);ft<p&&(p=ft,m=v(a,b,k))}return m&&(m.distance=Math.sqrt(p)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,p){return p=p||this._defaultShape(),a=Se(a),p.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new xt,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return vr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var p=[],m=vr(a),v=0,b=a.length;v<b;v++)m?(p[v]=Se(a[v]),this._bounds.extend(p[v])):p[v]=this._convertLatLngs(a[v]);return p},_project:function(){var a=new Ae;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),p=new Be(a,a);this._rawPxBounds&&(this._pxBounds=new Ae([this._rawPxBounds.min.subtract(p),this._rawPxBounds.max.add(p)]))},_projectLatlngs:function(a,p,m){var v=a[0]instanceof st,b=a.length,k,J;if(v){for(J=[],k=0;k<b;k++)J[k]=this._map.latLngToLayerPoint(a[k]),m.extend(J[k]);p.push(J)}else for(k=0;k<b;k++)this._projectLatlngs(a[k],p,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var p=this._parts,m,v,b,k,J,le,fe;for(m=0,b=0,k=this._rings.length;m<k;m++)for(fe=this._rings[m],v=0,J=fe.length;v<J-1;v++)le=Et(fe[v],fe[v+1],a,v,!0),le&&(p[b]=p[b]||[],p[b].push(le[0]),(le[1]!==fe[v+1]||v===J-2)&&(p[b].push(le[1]),b++))}},_simplifyPoints:function(){for(var a=this._parts,p=this.options.smoothFactor,m=0,v=a.length;m<v;m++)a[m]=fu(a[m],p)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,p){var m,v,b,k,J,le,fe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,k=this._parts.length;m<k;m++)for(le=this._parts[m],v=0,J=le.length,b=J-1;v<J;b=v++)if(!(!p&&v===0)&&Nt(a,le[b],le[v])<=fe)return!0;return!1}});function ic(a,p){return new mn(a,p)}mn._flat=gu;var ws=mn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Rs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var p=mn.prototype._convertLatLngs.call(this,a),m=p.length;return m>=2&&p[0]instanceof st&&p[0].equals(p[m-1])&&p.pop(),p},_setLatLngs:function(a){mn.prototype._setLatLngs.call(this,a),vr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return vr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,p=this.options.weight,m=new Be(p,p);if(a=new Ae(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var v=0,b=this._rings.length,k;v<b;v++)k=Eo(this._rings[v],a,!0),k.length&&this._parts.push(k)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var p=!1,m,v,b,k,J,le,fe,Ee;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(k=0,fe=this._parts.length;k<fe;k++)for(m=this._parts[k],J=0,Ee=m.length,le=Ee-1;J<Ee;le=J++)v=m[J],b=m[le],v.y>a.y!=b.y>a.y&&a.x<(b.x-v.x)*(a.y-v.y)/(b.y-v.y)+v.x&&(p=!p);return p||mn.prototype._containsPoint.call(this,a,!0)}});function Aa(a,p){return new ws(a,p)}var Cs=Gr.extend({initialize:function(a,p){Y(this,p),this._layers={},a&&this.addData(a)},addData:function(a){var p=O(a)?a:a.features,m,v,b;if(p){for(m=0,v=p.length;m<v;m++)b=p[m],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var k=this.options;if(k.filter&&!k.filter(a))return this;var J=rl(a,k);return J?(J.feature=ls(a),J.defaultOptions=J.options,this.resetStyle(J),k.onEachFeature&&k.onEachFeature(a,J),this.addLayer(J)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(p){this._setLayerStyle(p,a)},this)},_setLayerStyle:function(a,p){a.setStyle&&(typeof p=="function"&&(p=p(a.feature)),a.setStyle(p))}});function rl(a,p){var m=a.type==="Feature"?a.geometry:a,v=m?m.coordinates:null,b=[],k=p&&p.pointToLayer,J=p&&p.coordsToLatLng||Oo,le,fe,Ee,He;if(!v&&!m)return null;switch(m.type){case"Point":return le=J(v),$s(k,a,le,p);case"MultiPoint":for(Ee=0,He=v.length;Ee<He;Ee++)le=J(v[Ee]),b.push($s(k,a,le,p));return new Gr(b);case"LineString":case"MultiLineString":return fe=Ln(v,m.type==="LineString"?0:1,J),new mn(fe,p);case"Polygon":case"MultiPolygon":return fe=Ln(v,m.type==="Polygon"?1:2,J),new ws(fe,p);case"GeometryCollection":for(Ee=0,He=m.geometries.length;Ee<He;Ee++){var ft=rl({geometry:m.geometries[Ee],type:"Feature",properties:a.properties},p);ft&&b.push(ft)}return new Gr(b);case"FeatureCollection":for(Ee=0,He=m.features.length;Ee<He;Ee++){var St=rl(m.features[Ee],p);St&&b.push(St)}return new Gr(b);default:throw new Error("Invalid GeoJSON object.")}}function $s(a,p,m,v){return a?a(p,m):new On(m,v&&v.markersInheritOptions&&v)}function Oo(a){return new st(a[1],a[0],a[2])}function Ln(a,p,m){for(var v=[],b=0,k=a.length,J;b<k;b++)J=p?Ln(a[b],p-1,m):(m||Oo)(a[b]),v.push(J);return v}function Qs(a,p){return a=Se(a),a.alt!==void 0?[D(a.lng,p),D(a.lat,p),D(a.alt,p)]:[D(a.lng,p),D(a.lat,p)]}function Un(a,p,m,v){for(var b=[],k=0,J=a.length;k<J;k++)b.push(p?Un(a[k],vr(a[k])?0:p-1,m,v):Qs(a[k],v));return!p&&m&&b.length>0&&b.push(b[0].slice()),b}function Ur(a,p){return a.feature?o({},a.feature,{geometry:p}):ls(p)}function ls(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var ol={toGeoJSON:function(a){return Ur(this,{type:"Point",coordinates:Qs(this.getLatLng(),a)})}};On.include(ol),fo.include(ol),Gn.include(ol),mn.include({toGeoJSON:function(a){var p=!vr(this._latlngs),m=Un(this._latlngs,p?1:0,!1,a);return Ur(this,{type:(p?"Multi":"")+"LineString",coordinates:m})}}),ws.include({toGeoJSON:function(a){var p=!vr(this._latlngs),m=p&&!vr(this._latlngs[0]),v=Un(this._latlngs,m?2:p?1:0,!0,a);return p||(v=[v]),Ur(this,{type:(m?"Multi":"")+"Polygon",coordinates:v})}}),ho.include({toMultiPoint:function(a){var p=[];return this.eachLayer(function(m){p.push(m.toGeoJSON(a).geometry.coordinates)}),Ur(this,{type:"MultiPoint",coordinates:p})},toGeoJSON:function(a){var p=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(p==="MultiPoint")return this.toMultiPoint(a);var m=p==="GeometryCollection",v=[];return this.eachLayer(function(b){if(b.toGeoJSON){var k=b.toGeoJSON(a);if(m)v.push(k.geometry);else{var J=ls(k);J.type==="FeatureCollection"?v.push.apply(v,J.features):v.push(J)}}}),m?Ur(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});function Js(a,p){return new Cs(a,p)}var As=Js,Lo=qo.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,p,m){this._url=a,this._bounds=Qe(p),Y(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ze(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){bt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&zr(this._image),this},bringToBack:function(){return this._map&&js(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=Qe(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",p=this._image=a?this._url:jt("img");if(Ze(p,"leaflet-image-layer"),this._zoomAnimated&&Ze(p,"leaflet-zoom-animated"),this.options.className&&Ze(p,this.options.className),p.onselectstart=w,p.onmousemove=w,p.onload=r(this.fire,this,"load"),p.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=p.src;return}p.src=this._url,p.alt=this.options.alt},_animateZoom:function(a){var p=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;_s(this._image,m,p)},_reset:function(){var a=this._image,p=new Ae(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=p.getSize();zi(a,p.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){ht(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),nr=function(a,p,m){return new Lo(a,p,m)},mo=Lo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",p=this._image=a?this._url:jt("video");if(Ze(p,"leaflet-image-layer"),this._zoomAnimated&&Ze(p,"leaflet-zoom-animated"),this.options.className&&Ze(p,this.options.className),p.onselectstart=w,p.onmousemove=w,p.onloadeddata=r(this.fire,this,"load"),a){for(var m=p.getElementsByTagName("source"),v=[],b=0;b<m.length;b++)v.push(m[b].src);this._url=m.length>0?v:[p.src];return}O(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(p.style,"objectFit")&&(p.style.objectFit="fill"),p.autoplay=!!this.options.autoplay,p.loop=!!this.options.loop,p.muted=!!this.options.muted,p.playsInline=!!this.options.playsInline;for(var k=0;k<this._url.length;k++){var J=jt("source");J.src=this._url[k],p.appendChild(J)}}});function xr(a,p,m){return new mo(a,p,m)}var _u=Lo.extend({_initImage:function(){var a=this._image=this._url;Ze(a,"leaflet-image-layer"),this._zoomAnimated&&Ze(a,"leaflet-zoom-animated"),this.options.className&&Ze(a,this.options.className),a.onselectstart=w,a.onmousemove=w}});function Vs(a,p,m){return new _u(a,p,m)}var Kr=qo.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,p){a&&(a instanceof st||O(a))?(this._latlng=Se(a),Y(this,p)):(Y(this,a),this._source=p),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&ht(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&ht(this._container,1),this.bringToFront(),this.options.interactive&&(Ze(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(ht(this._container,0),this._removeTimeout=setTimeout(r(bt,void 0,this._container),200)):bt(this._container),this.options.interactive&&(En(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Se(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&zr(this._container),this},bringToBack:function(){return this._map&&js(this._container),this},_prepareOpen:function(a){var p=this._source;if(!p._map)return!1;if(p instanceof Gr){p=null;var m=this._source._layers;for(var v in m)if(m[v]._map){p=m[v];break}if(!p)return!1;this._source=p}if(!a)if(p.getCenter)a=p.getCenter();else if(p.getLatLng)a=p.getLatLng();else if(p.getBounds)a=p.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,p=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof p=="string")a.innerHTML=p;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(p)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),p=ve(this.options.offset),m=this._getAnchor();this._zoomAnimated?zi(this._container,a.add(m)):p=p.add(a).add(m);var v=this._containerBottom=-p.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+p.x;this._container.style.bottom=v+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});dt.include({_initOverlay:function(a,p,m,v){var b=p;return b instanceof a||(b=new a(v).setContent(p)),m&&b.setLatLng(m),b}}),qo.include({_initOverlay:function(a,p,m,v){var b=m;return b instanceof a?(Y(b,v),b._source=this):(b=p&&!v?p:new a(v,this),b.setContent(m)),b}});var Pn=Kr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Kr.prototype.openOn.call(this,a)},onAdd:function(a){Kr.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof as||this._source.on("preclick",Ho))},onRemove:function(a){Kr.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof as||this._source.off("preclick",Ho))},getEvents:function(){var a=Kr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",p=this._container=jt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=jt("div",a+"-content-wrapper",p);if(this._contentNode=jt("div",a+"-content",m),tr(p),Ui(this._contentNode),lt(p,"contextmenu",Ho),this._tipContainer=jt("div",a+"-tip-container",p),this._tip=jt("div",a+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=jt("a",a+"-close-button",p);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',lt(v,"click",function(b){Fn(b),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,p=a.style;p.width="",p.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),p.width=m+1+"px",p.whiteSpace="",p.height="";var v=a.offsetHeight,b=this.options.maxHeight,k="leaflet-popup-scrolled";b&&v>b?(p.height=b+"px",Ze(a,k)):En(a,k),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var p=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();zi(this._container,p.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,p=parseInt(ks(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+p,v=this._containerWidth,b=new Be(this._containerLeft,-m-this._containerBottom);b._add(Hr(this._container));var k=a.layerPointToContainerPoint(b),J=ve(this.options.autoPanPadding),le=ve(this.options.autoPanPaddingTopLeft||J),fe=ve(this.options.autoPanPaddingBottomRight||J),Ee=a.getSize(),He=0,ft=0;k.x+v+fe.x>Ee.x&&(He=k.x+v-Ee.x+fe.x),k.x-He-le.x<0&&(He=k.x-le.x),k.y+m+fe.y>Ee.y&&(ft=k.y+m-Ee.y+fe.y),k.y-ft-le.y<0&&(ft=k.y-le.y),(He||ft)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([He,ft]))}},_getAnchor:function(){return ve(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),dr=function(a,p){return new Pn(a,p)};dt.mergeOptions({closePopupOnClick:!0}),dt.include({openPopup:function(a,p,m){return this._initOverlay(Pn,a,p,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),qo.include({bindPopup:function(a,p){return this._popup=this._initOverlay(Pn,this._popup,a,p),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Gr||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){cr(a);var p=a.layer||a.target;if(this._popup._source===p&&!(p instanceof as)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=p,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var oo=Kr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Kr.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Kr.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Kr.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",p=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=jt("div",p),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var p,m,v=this._map,b=this._container,k=v.latLngToContainerPoint(v.getCenter()),J=v.layerPointToContainerPoint(a),le=this.options.direction,fe=b.offsetWidth,Ee=b.offsetHeight,He=ve(this.options.offset),ft=this._getAnchor();le==="top"?(p=fe/2,m=Ee):le==="bottom"?(p=fe/2,m=0):le==="center"?(p=fe/2,m=Ee/2):le==="right"?(p=0,m=Ee/2):le==="left"?(p=fe,m=Ee/2):J.x<k.x?(le="right",p=0,m=Ee/2):(le="left",p=fe+(He.x+ft.x)*2,m=Ee/2),a=a.subtract(ve(p,m,!0)).add(He).add(ft),En(b,"leaflet-tooltip-right"),En(b,"leaflet-tooltip-left"),En(b,"leaflet-tooltip-top"),En(b,"leaflet-tooltip-bottom"),Ze(b,"leaflet-tooltip-"+le),zi(b,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&ht(this._container,a)},_animateZoom:function(a){var p=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(p)},_getAnchor:function(){return ve(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),go=function(a,p){return new oo(a,p)};dt.include({openTooltip:function(a,p,m){return this._initOverlay(oo,a,p,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),qo.include({bindTooltip:function(a,p){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(oo,this._tooltip,a,p),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var p=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[p](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Gr||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var p=typeof a.getElement=="function"&&a.getElement();p&&(lt(p,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),lt(p,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var p=typeof a.getElement=="function"&&a.getElement();p&&p.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var p=this;this._map.once("moveend",function(){p._openOnceFlag=!1,p._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var p=a.latlng,m,v;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),v=this._map.containerPointToLayerPoint(m),p=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(p)}});var Pl=Or.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var p=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(tl(p),p.appendChild(m.html)):p.innerHTML=m.html!==!1?m.html:"",m.bgPos){var v=ve(m.bgPos);p.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(p,"icon"),p},createShadow:function(){return null}});function xa(a){return new Pl(a)}Or.Default=Go;var Po=qo.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ke.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){Y(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),bt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(zr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(js(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof Be?a:new Be(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var p=this.getPane().children,m=-a(-1/0,1/0),v=0,b=p.length,k;v<b;v++)k=p[v].style.zIndex,p[v]!==this._container&&k&&(m=a(m,+k));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ke.ielt9){ht(this._container,this.options.opacity);var a=+new Date,p=!1,m=!1;for(var v in this._tiles){var b=this._tiles[v];if(!(!b.current||!b.loaded)){var k=Math.min(1,(a-b.loaded)/200);ht(b.el,k),k<1?p=!0:(b.active?m=!0:this._onOpaqueTile(b),b.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),p&&(Te(this._fadeFrame),this._fadeFrame=_e(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=jt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,p=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=p-Math.abs(a-m),this._onUpdateLevel(m)):(bt(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var v=this._levels[a],b=this._map;return v||(v=this._levels[a]={},v.el=jt("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=p,v.origin=b.project(b.unproject(b.getPixelOrigin()),a).round(),v.zoom=a,this._setZoomTransform(v,b.getCenter(),b.getZoom()),w(v.el.offsetWidth),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var a,p,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)p=this._tiles[a],p.retain=p.current;for(a in this._tiles)if(p=this._tiles[a],p.current&&!p.active){var v=p.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var p in this._tiles)this._tiles[p].coords.z===a&&this._removeTile(p)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)bt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,p,m,v){var b=Math.floor(a/2),k=Math.floor(p/2),J=m-1,le=new Be(+b,+k);le.z=+J;var fe=this._tileCoordsToKey(le),Ee=this._tiles[fe];return Ee&&Ee.active?(Ee.retain=!0,!0):(Ee&&Ee.loaded&&(Ee.retain=!0),J>v?this._retainParent(b,k,J,v):!1)},_retainChildren:function(a,p,m,v){for(var b=2*a;b<2*a+2;b++)for(var k=2*p;k<2*p+2;k++){var J=new Be(b,k);J.z=m+1;var le=this._tileCoordsToKey(J),fe=this._tiles[le];if(fe&&fe.active){fe.retain=!0;continue}else fe&&fe.loaded&&(fe.retain=!0);m+1<v&&this._retainChildren(b,k,m+1,v)}},_resetView:function(a){var p=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),p,p)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var p=this.options;return p.minNativeZoom!==void 0&&a<p.minNativeZoom?p.minNativeZoom:p.maxNativeZoom!==void 0&&p.maxNativeZoom<a?p.maxNativeZoom:a},_setView:function(a,p,m,v){var b=Math.round(p);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var k=this.options.updateWhenZooming&&b!==this._tileZoom;(!v||k)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,p)},_setZoomTransforms:function(a,p){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,p)},_setZoomTransform:function(a,p,m){var v=this._map.getZoomScale(m,a.zoom),b=a.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(p,m)).round();Ke.any3d?_s(a.el,b,v):zi(a.el,b)},_resetGrid:function(){var a=this._map,p=a.options.crs,m=this._tileSize=this.getTileSize(),v=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=p.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,p.wrapLng[0]],v).x/m.x),Math.ceil(a.project([0,p.wrapLng[1]],v).x/m.y)],this._wrapY=p.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([p.wrapLat[0],0],v).y/m.x),Math.ceil(a.project([p.wrapLat[1],0],v).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var p=this._map,m=p._animatingZoom?Math.max(p._animateToZoom,p.getZoom()):p.getZoom(),v=p.getZoomScale(m,this._tileZoom),b=p.project(a,this._tileZoom).floor(),k=p.getSize().divideBy(v*2);return new Ae(b.subtract(k),b.add(k))},_update:function(a){var p=this._map;if(p){var m=this._clampZoom(p.getZoom());if(a===void 0&&(a=p.getCenter()),this._tileZoom!==void 0){var v=this._getTiledPixelBounds(a),b=this._pxBoundsToTileRange(v),k=b.getCenter(),J=[],le=this.options.keepBuffer,fe=new Ae(b.getBottomLeft().subtract([le,-le]),b.getTopRight().add([le,-le]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ee in this._tiles){var He=this._tiles[Ee].coords;(He.z!==this._tileZoom||!fe.contains(new Be(He.x,He.y)))&&(this._tiles[Ee].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var ft=b.min.y;ft<=b.max.y;ft++)for(var St=b.min.x;St<=b.max.x;St++){var Lr=new Be(St,ft);if(Lr.z=this._tileZoom,!!this._isValidTile(Lr)){var kn=this._tiles[this._tileCoordsToKey(Lr)];kn?kn.current=!0:J.push(Lr)}}if(J.sort(function(br,cs){return br.distanceTo(k)-cs.distanceTo(k)}),J.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var gr=document.createDocumentFragment();for(St=0;St<J.length;St++)this._addTile(J[St],gr);this._level.el.appendChild(gr)}}}},_isValidTile:function(a){var p=this._map.options.crs;if(!p.infinite){var m=this._globalTileRange;if(!p.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!p.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(a);return Qe(this.options.bounds).overlaps(v)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var p=this._map,m=this.getTileSize(),v=a.scaleBy(m),b=v.add(m),k=p.unproject(v,a.z),J=p.unproject(b,a.z);return[k,J]},_tileCoordsToBounds:function(a){var p=this._tileCoordsToNwSe(a),m=new xt(p[0],p[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var p=a.split(":"),m=new Be(+p[0],+p[1]);return m.z=+p[2],m},_removeTile:function(a){var p=this._tiles[a];p&&(bt(p.el),delete this._tiles[a],this.fire("tileunload",{tile:p.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Ze(a,"leaflet-tile");var p=this.getTileSize();a.style.width=p.x+"px",a.style.height=p.y+"px",a.onselectstart=w,a.onmousemove=w,Ke.ielt9&&this.options.opacity<1&&ht(a,this.options.opacity)},_addTile:function(a,p){var m=this._getTilePos(a),v=this._tileCoordsToKey(a),b=this.createTile(this._wrapCoords(a),r(this._tileReady,this,a));this._initTile(b),this.createTile.length<2&&_e(r(this._tileReady,this,a,null,b)),zi(b,m),this._tiles[v]={el:b,coords:a,current:!0},p.appendChild(b),this.fire("tileloadstart",{tile:b,coords:a})},_tileReady:function(a,p,m){p&&this.fire("tileerror",{error:p,tile:m,coords:a});var v=this._tileCoordsToKey(a);m=this._tiles[v],m&&(m.loaded=+new Date,this._map._fadeAnimated?(ht(m.el,0),Te(this._fadeFrame),this._fadeFrame=_e(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),p||(Ze(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ke.ielt9||!this._map._fadeAnimated?_e(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var p=new Be(this._wrapX?y(a.x,this._wrapX):a.x,this._wrapY?y(a.y,this._wrapY):a.y);return p.z=a.z,p},_pxBoundsToTileRange:function(a){var p=this.getTileSize();return new Ae(a.min.unscaleBy(p).floor(),a.max.unscaleBy(p).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Zr(a){return new Po(a)}var ea=Po.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,p){this._url=a,p=Y(this,p),p.detectRetina&&Ke.retina&&p.maxZoom>0?(p.tileSize=Math.floor(p.tileSize/2),p.zoomReverse?(p.zoomOffset--,p.minZoom=Math.min(p.maxZoom,p.minZoom+1)):(p.zoomOffset++,p.maxZoom=Math.max(p.minZoom,p.maxZoom-1)),p.minZoom=Math.max(0,p.minZoom)):p.zoomReverse?p.minZoom=Math.min(p.maxZoom,p.minZoom):p.maxZoom=Math.max(p.minZoom,p.maxZoom),typeof p.subdomains=="string"&&(p.subdomains=p.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,p){return this._url===a&&p===void 0&&(p=!0),this._url=a,p||this.redraw(),this},createTile:function(a,p){var m=document.createElement("img");return lt(m,"load",r(this._tileOnLoad,this,p,m)),lt(m,"error",r(this._tileOnError,this,p,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var p={r:Ke.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(p.y=m),p["-y"]=m}return E(this._url,o(p,this.options))},_tileOnLoad:function(a,p){Ke.ielt9?setTimeout(r(a,this,null,p),0):a(null,p)},_tileOnError:function(a,p,m){var v=this.options.errorTileUrl;v&&p.getAttribute("src")!==v&&(p.src=v),a(m,p)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,p=this.options.maxZoom,m=this.options.zoomReverse,v=this.options.zoomOffset;return m&&(a=p-a),a+v},_getSubdomain:function(a){var p=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[p]},_abortLoading:function(){var a,p;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(p=this._tiles[a].el,p.onload=w,p.onerror=w,!p.complete)){p.src=R;var m=this._tiles[a].coords;bt(p),delete this._tiles[a],this.fire("tileabort",{tile:p,coords:m})}},_removeTile:function(a){var p=this._tiles[a];if(p)return p.el.setAttribute("src",R),Po.prototype._removeTile.call(this,a)},_tileReady:function(a,p,m){if(!(!this._map||m&&m.getAttribute("src")===R))return Po.prototype._tileReady.call(this,a,p,m)}});function Kn(a,p){return new ea(a,p)}var kl=ea.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,p){this._url=a;var m=o({},this.defaultWmsParams);for(var v in p)v in this.options||(m[v]=p[v]);p=Y(this,p);var b=p.detectRetina&&Ke.retina?2:1,k=this.getTileSize();m.width=k.x*b,m.height=k.y*b,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var p=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[p]=this._crs.code,ea.prototype.onAdd.call(this,a)},getTileUrl:function(a){var p=this._tileCoordsToNwSe(a),m=this._crs,v=$(m.project(p[0]),m.project(p[1])),b=v.min,k=v.max,J=(this._wmsVersion>=1.3&&this._crs===ir?[b.y,b.x,k.y,k.x]:[b.x,b.y,k.x,k.y]).join(","),le=ea.prototype.getTileUrl.call(this,a);return le+X(this.wmsParams,le,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+J},setParams:function(a,p){return o(this.wmsParams,a),p||this.redraw(),this}});function Uo(a,p){return new kl(a,p)}ea.WMS=kl,Kn.wms=Uo;var Ki=qo.extend({options:{padding:.1},initialize:function(a){Y(this,a),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ze(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,p){var m=this._map.getZoomScale(p,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,p),k=v.multiplyBy(-m).add(b).subtract(this._map._getNewPixelOrigin(a,p));Ke.any3d?_s(this._container,k,m):zi(this._container,k)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,p=this._map.getSize(),m=this._map.containerPointToLayerPoint(p.multiplyBy(-a)).round();this._bounds=new Ae(m,m.add(p.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),_o=Ki.extend({options:{tolerance:0},getEvents:function(){var a=Ki.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ki.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");lt(a,"mousemove",this._onMouseMove,this),lt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),lt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){Te(this._redrawRequest),delete this._ctx,bt(this._container),Ut(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var p in this._layers)a=this._layers[p],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ki.prototype._update.call(this);var a=this._bounds,p=this._container,m=a.getSize(),v=Ke.retina?2:1;zi(p,a.min),p.width=v*m.x,p.height=v*m.y,p.style.width=m.x+"px",p.style.height=m.y+"px",Ke.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Ki.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[h(a)]=a;var p=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=p),this._drawLast=p,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var p=a._order,m=p.next,v=p.prev;m?m.prev=v:this._drawLast=v,v?v.next=m:this._drawFirst=m,delete a._order,delete this._layers[h(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var p=a.options.dashArray.split(/[, ]+/),m=[],v,b;for(b=0;b<p.length;b++){if(v=Number(p[b]),isNaN(v))return;m.push(v)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||_e(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var p=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ae,this._redrawBounds.extend(a._pxBounds.min.subtract([p,p])),this._redrawBounds.extend(a._pxBounds.max.add([p,p]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var p=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,p.x,p.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,p=this._redrawBounds;if(this._ctx.save(),p){var m=p.getSize();this._ctx.beginPath(),this._ctx.rect(p.min.x,p.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)a=v.layer,(!p||a._pxBounds&&a._pxBounds.intersects(p))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,p){if(this._drawing){var m,v,b,k,J=a._parts,le=J.length,fe=this._ctx;if(le){for(fe.beginPath(),m=0;m<le;m++){for(v=0,b=J[m].length;v<b;v++)k=J[m][v],fe[v?"lineTo":"moveTo"](k.x,k.y);p&&fe.closePath()}this._fillStroke(fe,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var p=a._point,m=this._ctx,v=Math.max(Math.round(a._radius),1),b=(Math.max(Math.round(a._radiusY),1)||v)/v;b!==1&&(m.save(),m.scale(1,b)),m.beginPath(),m.arc(p.x,p.y/b,v,0,Math.PI*2,!1),b!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,p){var m=p.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(p.options&&p.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var p=this._map.mouseEventToLayerPoint(a),m,v,b=this._drawFirst;b;b=b.next)m=b.layer,m.options.interactive&&m._containsPoint(p)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(v=m);this._fireEvent(v?[v]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var p=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,p)}},_handleMouseOut:function(a){var p=this._hoveredLayer;p&&(En(this._container,"leaflet-interactive"),this._fireEvent([p],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,p){if(!this._mouseHoverThrottled){for(var m,v,b=this._drawFirst;b;b=b.next)m=b.layer,m.options.interactive&&m._containsPoint(p)&&(v=m);v!==this._hoveredLayer&&(this._handleMouseOut(a),v&&(Ze(this._container,"leaflet-interactive"),this._fireEvent([v],a,"mouseover"),this._hoveredLayer=v)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(r(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,p,m){this._map._fireDOMEvent(p,m||p.type,a)},_bringToFront:function(a){var p=a._order;if(p){var m=p.next,v=p.prev;if(m)m.prev=v;else return;v?v.next=m:m&&(this._drawFirst=m),p.prev=this._drawLast,this._drawLast.next=p,p.next=null,this._drawLast=p,this._requestRedraw(a)}},_bringToBack:function(a){var p=a._order;if(p){var m=p.next,v=p.prev;if(v)v.next=m;else return;m?m.prev=v:v&&(this._drawLast=v),p.prev=null,p.next=this._drawFirst,this._drawFirst.prev=p,this._drawFirst=p,this._requestRedraw(a)}}});function Bs(a){return Ke.canvas?new _o(a):null}var us=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ko={_initContainer:function(){this._container=jt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ki.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var p=a._container=us("shape");Ze(p,"leaflet-vml-shape "+(this.options.className||"")),p.coordsize="1 1",a._path=us("path"),p.appendChild(a._path),this._updateStyle(a),this._layers[h(a)]=a},_addPath:function(a){var p=a._container;this._container.appendChild(p),a.options.interactive&&a.addInteractiveTarget(p)},_removePath:function(a){var p=a._container;bt(p),a.removeInteractiveTarget(p),delete this._layers[h(a)]},_updateStyle:function(a){var p=a._stroke,m=a._fill,v=a.options,b=a._container;b.stroked=!!v.stroke,b.filled=!!v.fill,v.stroke?(p||(p=a._stroke=us("stroke")),b.appendChild(p),p.weight=v.weight+"px",p.color=v.color,p.opacity=v.opacity,v.dashArray?p.dashStyle=O(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):p.dashStyle="",p.endcap=v.lineCap.replace("butt","flat"),p.joinstyle=v.lineJoin):p&&(b.removeChild(p),a._stroke=null),v.fill?(m||(m=a._fill=us("fill")),b.appendChild(m),m.color=v.fillColor||v.color,m.opacity=v.fillOpacity):m&&(b.removeChild(m),a._fill=null)},_updateCircle:function(a){var p=a._point.round(),m=Math.round(a._radius),v=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+p.x+","+p.y+" "+m+","+v+" 0,"+65535*360)},_setPath:function(a,p){a._path.v=p},_bringToFront:function(a){zr(a._container)},_bringToBack:function(a){js(a._container)}},Is=Ke.vml?us:lr,Zn=Ki.extend({_initContainer:function(){this._container=Is("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Is("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){bt(this._container),Ut(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ki.prototype._update.call(this);var a=this._bounds,p=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(p))&&(this._svgSize=p,m.setAttribute("width",p.x),m.setAttribute("height",p.y)),zi(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,p.x,p.y].join(" ")),this.fire("update")}},_initPath:function(a){var p=a._path=Is("path");a.options.className&&Ze(p,a.options.className),a.options.interactive&&Ze(p,"leaflet-interactive"),this._updateStyle(a),this._layers[h(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){bt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[h(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var p=a._path,m=a.options;p&&(m.stroke?(p.setAttribute("stroke",m.color),p.setAttribute("stroke-opacity",m.opacity),p.setAttribute("stroke-width",m.weight),p.setAttribute("stroke-linecap",m.lineCap),p.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?p.setAttribute("stroke-dasharray",m.dashArray):p.removeAttribute("stroke-dasharray"),m.dashOffset?p.setAttribute("stroke-dashoffset",m.dashOffset):p.removeAttribute("stroke-dashoffset")):p.setAttribute("stroke","none"),m.fill?(p.setAttribute("fill",m.fillColor||m.color),p.setAttribute("fill-opacity",m.fillOpacity),p.setAttribute("fill-rule",m.fillRule||"evenodd")):p.setAttribute("fill","none"))},_updatePoly:function(a,p){this._setPath(a,Ai(a._parts,p))},_updateCircle:function(a){var p=a._point,m=Math.max(Math.round(a._radius),1),v=Math.max(Math.round(a._radiusY),1)||m,b="a"+m+","+v+" 0 1,0 ",k=a._empty()?"M0 0":"M"+(p.x-m)+","+p.y+b+m*2+",0 "+b+-m*2+",0 ";this._setPath(a,k)},_setPath:function(a,p){a._path.setAttribute("d",p)},_bringToFront:function(a){zr(a._path)},_bringToBack:function(a){js(a._path)}});Ke.vml&&Zn.include(Ko);function Zo(a){return Ke.svg||Ke.vml?new Zn(a):null}dt.include({getRenderer:function(a){var p=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return p||(p=this._renderer=this._createRenderer()),this.hasLayer(p)||this.addLayer(p),p},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var p=this._paneRenderers[a];return p===void 0&&(p=this._createRenderer({pane:a}),this._paneRenderers[a]=p),p},_createRenderer:function(a){return this.options.preferCanvas&&Bs(a)||Zo(a)}});var ln=ws.extend({initialize:function(a,p){ws.prototype.initialize.call(this,this._boundsToLatLngs(a),p)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=Qe(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function nc(a,p){return new ln(a,p)}Zn.create=Is,Zn.pointsToPath=Ai,Cs.geometryToLayer=rl,Cs.coordsToLatLng=Oo,Cs.coordsToLatLngs=Ln,Cs.latLngToCoords=Qs,Cs.latLngsToCoords=Un,Cs.getFeature=Ur,Cs.asFeature=ls,dt.mergeOptions({boxZoom:!0});var yu=Ye.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){lt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){bt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ha(),po(),this._startPoint=this._map.mouseEventToContainerPoint(a),lt(document,{contextmenu:cr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=jt("div","leaflet-zoom-box",this._container),Ze(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var p=new Ae(this._point,this._startPoint),m=p.getSize();zi(this._box,p.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(bt(this._box),En(this._container,"leaflet-crosshair")),Fa(),zo(),Ut(document,{contextmenu:cr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var p=new xt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(p).fire("boxzoomend",{boxZoomBounds:p})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});dt.addInitHook("addHandler","boxZoom",yu),dt.mergeOptions({doubleClickZoom:!0});var fr=Ye.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var p=this._map,m=p.getZoom(),v=p.options.zoomDelta,b=a.originalEvent.shiftKey?m-v:m+v;p.options.doubleClickZoom==="center"?p.setZoom(b):p.setZoomAround(a.containerPoint,b)}});dt.addInitHook("addHandler","doubleClickZoom",fr),dt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ss=Ye.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Mn(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Ze(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){En(this._map._container,"leaflet-grab"),En(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var p=Qe(this._map.options.maxBounds);this._offsetLimit=$(this._map.latLngToContainerPoint(p.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(p.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var p=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(p),this._prunePositions(p)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),p=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=p.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,p){return a-(a-p)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),p=this._offsetLimit;a.x<p.min.x&&(a.x=this._viscousLimit(a.x,p.min.x)),a.y<p.min.y&&(a.y=this._viscousLimit(a.y,p.min.y)),a.x>p.max.x&&(a.x=this._viscousLimit(a.x,p.max.x)),a.y>p.max.y&&(a.y=this._viscousLimit(a.y,p.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,p=Math.round(a/2),m=this._initialWorldOffset,v=this._draggable._newPos.x,b=(v-p+m)%a+p-m,k=(v+p+m)%a-p-m,J=Math.abs(b+m)<Math.abs(k+m)?b:k;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=J},_onDragEnd:function(a){var p=this._map,m=p.options,v=!m.inertia||a.noInertia||this._times.length<2;if(p.fire("dragend",a),v)p.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),k=(this._lastTime-this._times[0])/1e3,J=m.easeLinearity,le=b.multiplyBy(J/k),fe=le.distanceTo([0,0]),Ee=Math.min(m.inertiaMaxSpeed,fe),He=le.multiplyBy(Ee/fe),ft=Ee/(m.inertiaDeceleration*J),St=He.multiplyBy(-ft/2).round();!St.x&&!St.y?p.fire("moveend"):(St=p._limitOffset(St,p.options.maxBounds),_e(function(){p.panBy(St,{duration:ft,easeLinearity:J,noMoveStart:!0,animate:!0})}))}}});dt.addInitHook("addHandler","dragging",Ss),dt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Dl=Ye.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),lt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ut(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,p=document.documentElement,m=a.scrollTop||p.scrollTop,v=a.scrollLeft||p.scrollLeft;this._map._container.focus(),window.scrollTo(v,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var p=this._panKeys={},m=this.keyCodes,v,b;for(v=0,b=m.left.length;v<b;v++)p[m.left[v]]=[-1*a,0];for(v=0,b=m.right.length;v<b;v++)p[m.right[v]]=[a,0];for(v=0,b=m.down.length;v<b;v++)p[m.down[v]]=[0,a];for(v=0,b=m.up.length;v<b;v++)p[m.up[v]]=[0,-1*a]},_setZoomDelta:function(a){var p=this._zoomKeys={},m=this.keyCodes,v,b;for(v=0,b=m.zoomIn.length;v<b;v++)p[m.zoomIn[v]]=a;for(v=0,b=m.zoomOut.length;v<b;v++)p[m.zoomOut[v]]=-a},_addHooks:function(){lt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var p=a.keyCode,m=this._map,v;if(p in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(v=this._panKeys[p],a.shiftKey&&(v=ve(v).multiplyBy(3)),m.options.maxBounds&&(v=m._limitOffset(ve(v),m.options.maxBounds)),m.options.worldCopyJump){var b=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(v)));m.panTo(b)}else m.panBy(v)}else if(p in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[p]);else if(p===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;cr(a)}}});dt.addInitHook("addHandler","keyboard",Dl),dt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ta=Ye.extend({addHooks:function(){lt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var p=yn(a),m=this._map.options.wheelDebounceTime;this._delta+=p,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var v=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),v),cr(a)},_performZoom:function(){var a=this._map,p=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var v=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(v))))/Math.LN2,k=m?Math.ceil(b/m)*m:b,J=a._limitZoom(p+(this._delta>0?k:-k))-p;this._delta=0,this._startTime=null,J&&(a.options.scrollWheelZoom==="center"?a.setZoom(p+J):a.setZoomAround(this._lastMousePos,p+J))}});dt.addInitHook("addHandler","scrollWheelZoom",ta);var zs=600;dt.mergeOptions({tapHold:Ke.touchNative&&Ke.safari&&Ke.mobile,tapTolerance:15});var Nn=Ye.extend({addHooks:function(){lt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var p=a.touches[0];this._startPos=this._newPos=new Be(p.clientX,p.clientY),this._holdTimeout=setTimeout(r(function(){this._cancel(),this._isTapValid()&&(lt(document,"touchend",Fn),lt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",p))},this),zs),lt(document,"touchend touchcancel contextmenu",this._cancel,this),lt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){Ut(document,"touchend",Fn),Ut(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),Ut(document,"touchend touchcancel contextmenu",this._cancel,this),Ut(document,"touchmove",this._onMove,this)},_onMove:function(a){var p=a.touches[0];this._newPos=new Be(p.clientX,p.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,p){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:p.screenX,screenY:p.screenY,clientX:p.clientX,clientY:p.clientY});m._simulated=!0,p.target.dispatchEvent(m)}});dt.addInitHook("addHandler","tapHold",Nn),dt.mergeOptions({touchZoom:Ke.touch,bounceAtZoomLimits:!0});var mr=Ye.extend({addHooks:function(){Ze(this._map._container,"leaflet-touch-zoom"),lt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){En(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var p=this._map;if(!(!a.touches||a.touches.length!==2||p._animatingZoom||this._zooming)){var m=p.mouseEventToContainerPoint(a.touches[0]),v=p.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=p.getSize()._divideBy(2),this._startLatLng=p.containerPointToLatLng(this._centerPoint),p.options.touchZoom!=="center"&&(this._pinchStartLatLng=p.containerPointToLatLng(m.add(v)._divideBy(2))),this._startDist=m.distanceTo(v),this._startZoom=p.getZoom(),this._moved=!1,this._zooming=!0,p._stop(),lt(document,"touchmove",this._onTouchMove,this),lt(document,"touchend touchcancel",this._onTouchEnd,this),Fn(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var p=this._map,m=p.mouseEventToContainerPoint(a.touches[0]),v=p.mouseEventToContainerPoint(a.touches[1]),b=m.distanceTo(v)/this._startDist;if(this._zoom=p.getScaleZoom(b,this._startZoom),!p.options.bounceAtZoomLimits&&(this._zoom<p.getMinZoom()&&b<1||this._zoom>p.getMaxZoom()&&b>1)&&(this._zoom=p._limitZoom(this._zoom)),p.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var k=m._add(v)._divideBy(2)._subtract(this._centerPoint);if(b===1&&k.x===0&&k.y===0)return;this._center=p.unproject(p.project(this._pinchStartLatLng,this._zoom).subtract(k),this._zoom)}this._moved||(p._moveStart(!0,!1),this._moved=!0),Te(this._animRequest);var J=r(p._move,p,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=_e(J,this,!0),Fn(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Te(this._animRequest),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});dt.addInitHook("addHandler","touchZoom",mr),dt.BoxZoom=yu,dt.DoubleClickZoom=fr,dt.Drag=Ss,dt.Keyboard=Dl,dt.ScrollWheelZoom=ta,dt.TapHold=Nn,dt.TouchZoom=mr,i.Bounds=Ae,i.Browser=Ke,i.CRS=Ht,i.Canvas=_o,i.Circle=fo,i.CircleMarker=Gn,i.Class=W,i.Control=is,i.DivIcon=Pl,i.DivOverlay=Kr,i.DomEvent=To,i.DomUtil=xp,i.Draggable=Mn,i.Evented=ct,i.FeatureGroup=Gr,i.GeoJSON=Cs,i.GridLayer=Po,i.Handler=Ye,i.Icon=Or,i.ImageOverlay=Lo,i.LatLng=st,i.LatLngBounds=xt,i.Layer=qo,i.LayerGroup=ho,i.LineUtil=Kt,i.Map=dt,i.Marker=On,i.Mixin=Ju,i.Path=as,i.Point=Be,i.PolyUtil=du,i.Polygon=ws,i.Polyline=mn,i.Popup=Pn,i.PosAnimation=dn,i.Projection=rs,i.Rectangle=ln,i.Renderer=Ki,i.SVG=Zn,i.SVGOverlay=_u,i.TileLayer=ea,i.Tooltip=oo,i.Transformation=Bi,i.Util=Pe,i.VideoOverlay=mo,i.bind=r,i.bounds=$,i.canvas=Bs,i.circle=tc,i.circleMarker=Ns,i.control=vs,i.divIcon=xa,i.extend=o,i.featureGroup=ro,i.geoJSON=Js,i.geoJson=As,i.gridLayer=Zr,i.icon=os,i.imageOverlay=nr,i.latLng=Se,i.latLngBounds=Qe,i.layerGroup=Mo,i.map=Ll,i.marker=ec,i.point=ve,i.polygon=Aa,i.polyline=ic,i.popup=dr,i.rectangle=nc,i.setOptions=Y,i.stamp=h,i.svg=Zo,i.svgOverlay=Vs,i.tileLayer=Kn,i.tooltip=go,i.transformation=ze,i.version=s,i.videoOverlay=xr;var sl=window.L;i.noConflict=function(){return window.L=sl,this},window.L=i})});var gc=tt((_L,af)=>{"use strict";var sf=Object.getOwnPropertySymbols,_y=Object.prototype.hasOwnProperty,yy=Object.prototype.propertyIsEnumerable;function vy(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function xy(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var s={},o=0;o<10;o++)s["_"+String.fromCharCode(o)]=o;var e=Object.getOwnPropertyNames(s).map(function(u){return s[u]});if(e.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(u){r[u]=u}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}af.exports=xy()?Object.assign:function(i,s){for(var o,e=vy(i),r,u=1;u<arguments.length;u++){o=Object(arguments[u]);for(var h in o)_y.call(o,h)&&(e[h]=o[h]);if(sf){r=sf(o);for(var g=0;g<r.length;g++)yy.call(o,r[g])&&(e[r[g]]=o[r[g]])}}return e}});var lf=tt((Dp,Rp)=>{(function(i,s){typeof Dp=="object"&&typeof Rp<"u"?Rp.exports=s():typeof define=="function"&&define.amd?define(s):(i=i||self).RBush=s()})(Dp,function(){"use strict";function i(E,O,F,R,Z){(function ee(re,se,B,_e,Te){for(;_e>B;){if(_e-B>600){var Pe=_e-B+1,W=se-B+1,Bt=Math.log(Pe),Ie=.5*Math.exp(2*Bt/3),ct=.5*Math.sqrt(Bt*Ie*(Pe-Ie)/Pe)*(W-Pe/2<0?-1:1),Be=Math.max(B,Math.floor(se-W*Ie/Pe+ct)),zt=Math.min(_e,Math.floor(se+(Pe-W)*Ie/Pe+ct));ee(re,se,Be,zt,Te)}var ve=re[se],Ae=B,$=_e;for(s(re,B,se),Te(re[_e],ve)>0&&s(re,B,_e);Ae<$;){for(s(re,Ae,$),Ae++,$--;Te(re[Ae],ve)<0;)Ae++;for(;Te(re[$],ve)>0;)$--}Te(re[B],ve)===0?s(re,B,$):s(re,++$,_e),$<=se&&(B=$+1),se<=$&&(_e=$-1)}})(E,O,F||0,R||E.length-1,Z||o)}function s(E,O,F){var R=E[O];E[O]=E[F],E[F]=R}function o(E,O){return E<O?-1:E>O?1:0}var e=function(E){E===void 0&&(E=9),this._maxEntries=Math.max(4,E),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(E,O,F){if(!F)return O.indexOf(E);for(var R=0;R<O.length;R++)if(F(E,O[R]))return R;return-1}function u(E,O){h(E,0,E.children.length,O,E)}function h(E,O,F,R,Z){Z||(Z=X(null)),Z.minX=1/0,Z.minY=1/0,Z.maxX=-1/0,Z.maxY=-1/0;for(var ee=O;ee<F;ee++){var re=E.children[ee];g(Z,E.leaf?R(re):re)}return Z}function g(E,O){return E.minX=Math.min(E.minX,O.minX),E.minY=Math.min(E.minY,O.minY),E.maxX=Math.max(E.maxX,O.maxX),E.maxY=Math.max(E.maxY,O.maxY),E}function y(E,O){return E.minX-O.minX}function w(E,O){return E.minY-O.minY}function D(E){return(E.maxX-E.minX)*(E.maxY-E.minY)}function N(E){return E.maxX-E.minX+(E.maxY-E.minY)}function A(E,O){return E.minX<=O.minX&&E.minY<=O.minY&&O.maxX<=E.maxX&&O.maxY<=E.maxY}function Y(E,O){return O.minX<=E.maxX&&O.minY<=E.maxY&&O.maxX>=E.minX&&O.maxY>=E.minY}function X(E){return{children:E,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function j(E,O,F,R,Z){for(var ee=[O,F];ee.length;)if(!((F=ee.pop())-(O=ee.pop())<=R)){var re=O+Math.ceil((F-O)/R/2)*R;i(E,re,O,F,Z),ee.push(O,re,re,F)}}return e.prototype.all=function(){return this._all(this.data,[])},e.prototype.search=function(E){var O=this.data,F=[];if(!Y(E,O))return F;for(var R=this.toBBox,Z=[];O;){for(var ee=0;ee<O.children.length;ee++){var re=O.children[ee],se=O.leaf?R(re):re;Y(E,se)&&(O.leaf?F.push(re):A(E,se)?this._all(re,F):Z.push(re))}O=Z.pop()}return F},e.prototype.collides=function(E){var O=this.data;if(!Y(E,O))return!1;for(var F=[];O;){for(var R=0;R<O.children.length;R++){var Z=O.children[R],ee=O.leaf?this.toBBox(Z):Z;if(Y(E,ee)){if(O.leaf||A(E,ee))return!0;F.push(Z)}}O=F.pop()}return!1},e.prototype.load=function(E){if(!E||!E.length)return this;if(E.length<this._minEntries){for(var O=0;O<E.length;O++)this.insert(E[O]);return this}var F=this._build(E.slice(),0,E.length-1,0);if(this.data.children.length)if(this.data.height===F.height)this._splitRoot(this.data,F);else{if(this.data.height<F.height){var R=this.data;this.data=F,F=R}this._insert(F,this.data.height-F.height-1,!0)}else this.data=F;return this},e.prototype.insert=function(E){return E&&this._insert(E,this.data.height-1),this},e.prototype.clear=function(){return this.data=X([]),this},e.prototype.remove=function(E,O){if(!E)return this;for(var F,R,Z,ee=this.data,re=this.toBBox(E),se=[],B=[];ee||se.length;){if(ee||(ee=se.pop(),R=se[se.length-1],F=B.pop(),Z=!0),ee.leaf){var _e=r(E,ee.children,O);if(_e!==-1)return ee.children.splice(_e,1),se.push(ee),this._condense(se),this}Z||ee.leaf||!A(ee,re)?R?(F++,ee=R.children[F],Z=!1):ee=null:(se.push(ee),B.push(F),F=0,R=ee,ee=ee.children[0])}return this},e.prototype.toBBox=function(E){return E},e.prototype.compareMinX=function(E,O){return E.minX-O.minX},e.prototype.compareMinY=function(E,O){return E.minY-O.minY},e.prototype.toJSON=function(){return this.data},e.prototype.fromJSON=function(E){return this.data=E,this},e.prototype._all=function(E,O){for(var F=[];E;)E.leaf?O.push.apply(O,E.children):F.push.apply(F,E.children),E=F.pop();return O},e.prototype._build=function(E,O,F,R){var Z,ee=F-O+1,re=this._maxEntries;if(ee<=re)return u(Z=X(E.slice(O,F+1)),this.toBBox),Z;R||(R=Math.ceil(Math.log(ee)/Math.log(re)),re=Math.ceil(ee/Math.pow(re,R-1))),(Z=X([])).leaf=!1,Z.height=R;var se=Math.ceil(ee/re),B=se*Math.ceil(Math.sqrt(re));j(E,O,F,B,this.compareMinX);for(var _e=O;_e<=F;_e+=B){var Te=Math.min(_e+B-1,F);j(E,_e,Te,se,this.compareMinY);for(var Pe=_e;Pe<=Te;Pe+=se){var W=Math.min(Pe+se-1,Te);Z.children.push(this._build(E,Pe,W,R-1))}}return u(Z,this.toBBox),Z},e.prototype._chooseSubtree=function(E,O,F,R){for(;R.push(O),!O.leaf&&R.length-1!==F;){for(var Z=1/0,ee=1/0,re=void 0,se=0;se<O.children.length;se++){var B=O.children[se],_e=D(B),Te=(Pe=E,W=B,(Math.max(W.maxX,Pe.maxX)-Math.min(W.minX,Pe.minX))*(Math.max(W.maxY,Pe.maxY)-Math.min(W.minY,Pe.minY))-_e);Te<ee?(ee=Te,Z=_e<Z?_e:Z,re=B):Te===ee&&_e<Z&&(Z=_e,re=B)}O=re||O.children[0]}var Pe,W;return O},e.prototype._insert=function(E,O,F){var R=F?E:this.toBBox(E),Z=[],ee=this._chooseSubtree(R,this.data,O,Z);for(ee.children.push(E),g(ee,R);O>=0&&Z[O].children.length>this._maxEntries;)this._split(Z,O),O--;this._adjustParentBBoxes(R,Z,O)},e.prototype._split=function(E,O){var F=E[O],R=F.children.length,Z=this._minEntries;this._chooseSplitAxis(F,Z,R);var ee=this._chooseSplitIndex(F,Z,R),re=X(F.children.splice(ee,F.children.length-ee));re.height=F.height,re.leaf=F.leaf,u(F,this.toBBox),u(re,this.toBBox),O?E[O-1].children.push(re):this._splitRoot(F,re)},e.prototype._splitRoot=function(E,O){this.data=X([E,O]),this.data.height=E.height+1,this.data.leaf=!1,u(this.data,this.toBBox)},e.prototype._chooseSplitIndex=function(E,O,F){for(var R,Z,ee,re,se,B,_e,Te=1/0,Pe=1/0,W=O;W<=F-O;W++){var Bt=h(E,0,W,this.toBBox),Ie=h(E,W,F,this.toBBox),ct=(Z=Bt,ee=Ie,re=void 0,se=void 0,B=void 0,_e=void 0,re=Math.max(Z.minX,ee.minX),se=Math.max(Z.minY,ee.minY),B=Math.min(Z.maxX,ee.maxX),_e=Math.min(Z.maxY,ee.maxY),Math.max(0,B-re)*Math.max(0,_e-se)),Be=D(Bt)+D(Ie);ct<Te?(Te=ct,R=W,Pe=Be<Pe?Be:Pe):ct===Te&&Be<Pe&&(Pe=Be,R=W)}return R||F-O},e.prototype._chooseSplitAxis=function(E,O,F){var R=E.leaf?this.compareMinX:y,Z=E.leaf?this.compareMinY:w;this._allDistMargin(E,O,F,R)<this._allDistMargin(E,O,F,Z)&&E.children.sort(R)},e.prototype._allDistMargin=function(E,O,F,R){E.children.sort(R);for(var Z=this.toBBox,ee=h(E,0,O,Z),re=h(E,F-O,F,Z),se=N(ee)+N(re),B=O;B<F-O;B++){var _e=E.children[B];g(ee,E.leaf?Z(_e):_e),se+=N(ee)}for(var Te=F-O-1;Te>=O;Te--){var Pe=E.children[Te];g(re,E.leaf?Z(Pe):Pe),se+=N(re)}return se},e.prototype._adjustParentBBoxes=function(E,O,F){for(var R=F;R>=0;R--)g(O[R],E)},e.prototype._condense=function(E){for(var O=E.length-1,F=void 0;O>=0;O--)E[O].children.length===0?O>0?(F=E[O-1].children).splice(F.indexOf(E[O]),1):this.clear():u(E[O],this.toBBox)},e})});var uf={};hy(uf,{default:()=>Fp});function wy(i,s){return i<s?-1:i>s?1:0}var Fp,cf=py(()=>{Fp=class{constructor(s=[],o=wy){if(this.data=s,this.length=this.data.length,this.compare=o,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(s){this.data.push(s),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;let s=this.data[0],o=this.data.pop();return this.length--,this.length>0&&(this.data[0]=o,this._down(0)),s}peek(){return this.data[0]}_up(s){let{data:o,compare:e}=this,r=o[s];for(;s>0;){let u=s-1>>1,h=o[u];if(e(r,h)>=0)break;o[s]=h,s=u}o[s]=r}_down(s){let{data:o,compare:e}=this,r=this.length>>1,u=o[s];for(;s<r;){let h=(s<<1)+1,g=o[h],y=h+1;if(y<this.length&&e(o[y],g)<0&&(h=y,g=o[y]),e(g,u)>=0)break;o[s]=g,s=h}o[s]=u}}});var hf=tt((CL,pf)=>{pf.exports=function(s,o,e,r){var u=s[0],h=s[1],g=!1;e===void 0&&(e=0),r===void 0&&(r=o.length);for(var y=(r-e)/2,w=0,D=y-1;w<y;D=w++){var N=o[e+w*2+0],A=o[e+w*2+1],Y=o[e+D*2+0],X=o[e+D*2+1],j=A>h!=X>h&&u<(Y-N)*(h-A)/(X-A)+N;j&&(g=!g)}return g}});var ff=tt((IL,df)=>{df.exports=function(s,o,e,r){var u=s[0],h=s[1],g=!1;e===void 0&&(e=0),r===void 0&&(r=o.length);for(var y=r-e,w=0,D=y-1;w<y;D=w++){var N=o[w+e][0],A=o[w+e][1],Y=o[D+e][0],X=o[D+e][1],j=A>h!=X>h&&u<(Y-N)*(h-A)/(X-A)+N;j&&(g=!g)}return g}});var _f=tt((SL,vc)=>{var mf=hf(),gf=ff();vc.exports=function(s,o,e,r){return o.length>0&&Array.isArray(o[0])?gf(s,o,e,r):mf(s,o,e,r)};vc.exports.nested=gf;vc.exports.flat=mf});var vf=tt((xc,yf)=>{(function(i,s){typeof xc=="object"&&typeof yf<"u"?s(xc):typeof define=="function"&&define.amd?define(["exports"],s):s((i=i||self).predicates={})})(xc,function(i){"use strict";let o=33306690738754706e-32;function e(Y,X,j,E,O){let F,R,Z,ee,re=X[0],se=E[0],B=0,_e=0;se>re==se>-re?(F=re,re=X[++B]):(F=se,se=E[++_e]);let Te=0;if(B<Y&&_e<j)for(se>re==se>-re?(Z=F-((R=re+F)-re),re=X[++B]):(Z=F-((R=se+F)-se),se=E[++_e]),F=R,Z!==0&&(O[Te++]=Z);B<Y&&_e<j;)se>re==se>-re?(Z=F-((R=F+re)-(ee=R-F))+(re-ee),re=X[++B]):(Z=F-((R=F+se)-(ee=R-F))+(se-ee),se=E[++_e]),F=R,Z!==0&&(O[Te++]=Z);for(;B<Y;)Z=F-((R=F+re)-(ee=R-F))+(re-ee),re=X[++B],F=R,Z!==0&&(O[Te++]=Z);for(;_e<j;)Z=F-((R=F+se)-(ee=R-F))+(se-ee),se=E[++_e],F=R,Z!==0&&(O[Te++]=Z);return F===0&&Te!==0||(O[Te++]=F),Te}function r(Y){return new Float64Array(Y)}let u=33306690738754716e-32,h=22204460492503146e-32,g=11093356479670487e-47,y=r(4),w=r(8),D=r(12),N=r(16),A=r(4);i.orient2d=function(Y,X,j,E,O,F){let R=(X-F)*(j-O),Z=(Y-O)*(E-F),ee=R-Z;if(R===0||Z===0||R>0!=Z>0)return ee;let re=Math.abs(R+Z);return Math.abs(ee)>=u*re?ee:-function(se,B,_e,Te,Pe,W,Bt){let Ie,ct,Be,zt,ve,Ae,$,xt,Qe,st,Se,Ht,Yi,Qi,qt,Bi,ze,ar,Gt=se-Pe,lr=_e-Pe,Ai=B-W,Sn=Te-W;ve=(qt=(xt=Gt-($=(Ae=134217729*Gt)-(Ae-Gt)))*(st=Sn-(Qe=(Ae=134217729*Sn)-(Ae-Sn)))-((Qi=Gt*Sn)-$*Qe-xt*Qe-$*st))-(Se=qt-(ze=(xt=Ai-($=(Ae=134217729*Ai)-(Ae-Ai)))*(st=lr-(Qe=(Ae=134217729*lr)-(Ae-lr)))-((Bi=Ai*lr)-$*Qe-xt*Qe-$*st))),y[0]=qt-(Se+ve)+(ve-ze),ve=(Yi=Qi-((Ht=Qi+Se)-(ve=Ht-Qi))+(Se-ve))-(Se=Yi-Bi),y[1]=Yi-(Se+ve)+(ve-Bi),ve=(ar=Ht+Se)-Ht,y[2]=Ht-(ar-ve)+(Se-ve),y[3]=ar;let ji=function(Vo,uo){let Bo=uo[0];for(let Qn=1;Qn<Vo;Qn++)Bo+=uo[Qn];return Bo}(4,y),ur=h*Bt;if(ji>=ur||-ji>=ur||(Ie=se-(Gt+(ve=se-Gt))+(ve-Pe),Be=_e-(lr+(ve=_e-lr))+(ve-Pe),ct=B-(Ai+(ve=B-Ai))+(ve-W),zt=Te-(Sn+(ve=Te-Sn))+(ve-W),Ie===0&&ct===0&&Be===0&&zt===0)||(ur=g*Bt+o*Math.abs(ji),(ji+=Gt*zt+Sn*Ie-(Ai*Be+lr*ct))>=ur||-ji>=ur))return ji;ve=(qt=(xt=Ie-($=(Ae=134217729*Ie)-(Ae-Ie)))*(st=Sn-(Qe=(Ae=134217729*Sn)-(Ae-Sn)))-((Qi=Ie*Sn)-$*Qe-xt*Qe-$*st))-(Se=qt-(ze=(xt=ct-($=(Ae=134217729*ct)-(Ae-ct)))*(st=lr-(Qe=(Ae=134217729*lr)-(Ae-lr)))-((Bi=ct*lr)-$*Qe-xt*Qe-$*st))),A[0]=qt-(Se+ve)+(ve-ze),ve=(Yi=Qi-((Ht=Qi+Se)-(ve=Ht-Qi))+(Se-ve))-(Se=Yi-Bi),A[1]=Yi-(Se+ve)+(ve-Bi),ve=(ar=Ht+Se)-Ht,A[2]=Ht-(ar-ve)+(Se-ve),A[3]=ar;let Ao=e(4,y,4,A,w);ve=(qt=(xt=Gt-($=(Ae=134217729*Gt)-(Ae-Gt)))*(st=zt-(Qe=(Ae=134217729*zt)-(Ae-zt)))-((Qi=Gt*zt)-$*Qe-xt*Qe-$*st))-(Se=qt-(ze=(xt=Ai-($=(Ae=134217729*Ai)-(Ae-Ai)))*(st=Be-(Qe=(Ae=134217729*Be)-(Ae-Be)))-((Bi=Ai*Be)-$*Qe-xt*Qe-$*st))),A[0]=qt-(Se+ve)+(ve-ze),ve=(Yi=Qi-((Ht=Qi+Se)-(ve=Ht-Qi))+(Se-ve))-(Se=Yi-Bi),A[1]=Yi-(Se+ve)+(ve-Bi),ve=(ar=Ht+Se)-Ht,A[2]=Ht-(ar-ve)+(Se-ve),A[3]=ar;let at=e(Ao,w,4,A,D);ve=(qt=(xt=Ie-($=(Ae=134217729*Ie)-(Ae-Ie)))*(st=zt-(Qe=(Ae=134217729*zt)-(Ae-zt)))-((Qi=Ie*zt)-$*Qe-xt*Qe-$*st))-(Se=qt-(ze=(xt=ct-($=(Ae=134217729*ct)-(Ae-ct)))*(st=Be-(Qe=(Ae=134217729*Be)-(Ae-Be)))-((Bi=ct*Be)-$*Qe-xt*Qe-$*st))),A[0]=qt-(Se+ve)+(ve-ze),ve=(Yi=Qi-((Ht=Qi+Se)-(ve=Ht-Qi))+(Se-ve))-(Se=Yi-Bi),A[1]=Yi-(Se+ve)+(ve-Bi),ve=(ar=Ht+Se)-Ht,A[2]=Ht-(ar-ve)+(Se-ve),A[3]=ar;let Vi=e(at,D,4,A,N);return N[Vi-1]}(Y,X,j,E,O,F,re)},i.orient2dfast=function(Y,X,j,E,O,F){return(X-F)*(j-O)-(Y-O)*(E-F)},Object.defineProperty(i,"__esModule",{value:!0})})});var Sf=tt((TL,Bp)=>{"use strict";var xf=lf(),wc=(cf(),dy(uf)),Cy=_f(),Iy=vf().orient2d;wc.default&&(wc=wc.default);Bp.exports=If;Bp.exports.default=If;function If(i,s,o){s=Math.max(0,s===void 0?2:s),o=o||0;var e=Oy(i),r=new xf(16);r.toBBox=function(F){return{minX:F[0],minY:F[1],maxX:F[0],maxY:F[1]}},r.compareMinX=function(F,R){return F[0]-R[0]},r.compareMinY=function(F,R){return F[1]-R[1]},r.load(i);for(var u=[],h=0,g;h<e.length;h++){var y=e[h];r.remove(y),g=Cf(y,g),u.push(g)}var w=new xf(16);for(h=0;h<u.length;h++)w.insert(Np(u[h]));for(var D=s*s,N=o*o;u.length;){var A=u.shift(),Y=A.p,X=A.next.p,j=Ap(Y,X);if(!(j<N)){var E=j/D;y=Sy(r,A.prev.p,Y,X,A.next.next.p,E,w),y&&Math.min(Ap(y,Y),Ap(y,X))<=E&&(u.push(A),u.push(Cf(y,A)),r.remove(y),w.remove(A),w.insert(Np(A)),w.insert(Np(A.next)))}}A=g;var O=[];do O.push(A.p),A=A.next;while(A!==g);return O.push(A.p),O}function Sy(i,s,o,e,r,u,h){for(var g=new wc([],Ty),y=i.data;y;){for(var w=0;w<y.children.length;w++){var D=y.children[w],N=y.leaf?Vp(D,o,e):Ey(o,e,D);N>u||g.push({node:D,dist:N})}for(;g.length&&!g.peek().node.children;){var A=g.pop(),Y=A.node,X=Vp(Y,s,o),j=Vp(Y,e,r);if(A.dist<X&&A.dist<j&&wf(o,Y,h)&&wf(e,Y,h))return Y}y=g.pop(),y&&(y=y.node)}return null}function Ty(i,s){return i.dist-s.dist}function Ey(i,s,o){if(bf(i,o)||bf(s,o))return 0;var e=bc(i[0],i[1],s[0],s[1],o.minX,o.minY,o.maxX,o.minY);if(e===0)return 0;var r=bc(i[0],i[1],s[0],s[1],o.minX,o.minY,o.minX,o.maxY);if(r===0)return 0;var u=bc(i[0],i[1],s[0],s[1],o.maxX,o.minY,o.maxX,o.maxY);if(u===0)return 0;var h=bc(i[0],i[1],s[0],s[1],o.minX,o.maxY,o.maxX,o.maxY);return h===0?0:Math.min(e,r,u,h)}function bf(i,s){return i[0]>=s.minX&&i[0]<=s.maxX&&i[1]>=s.minY&&i[1]<=s.maxY}function wf(i,s,o){for(var e=Math.min(i[0],s[0]),r=Math.min(i[1],s[1]),u=Math.max(i[0],s[0]),h=Math.max(i[1],s[1]),g=o.search({minX:e,minY:r,maxX:u,maxY:h}),y=0;y<g.length;y++)if(My(g[y].p,g[y].next.p,i,s))return!1;return!0}function Bl(i,s,o){return Iy(i[0],i[1],s[0],s[1],o[0],o[1])}function My(i,s,o,e){return i!==e&&s!==o&&Bl(i,s,o)>0!=Bl(i,s,e)>0&&Bl(o,e,i)>0!=Bl(o,e,s)>0}function Np(i){var s=i.p,o=i.next.p;return i.minX=Math.min(s[0],o[0]),i.minY=Math.min(s[1],o[1]),i.maxX=Math.max(s[0],o[0]),i.maxY=Math.max(s[1],o[1]),i}function Oy(i){for(var s=i[0],o=i[0],e=i[0],r=i[0],u=0;u<i.length;u++){var h=i[u];h[0]<s[0]&&(s=h),h[0]>e[0]&&(e=h),h[1]<o[1]&&(o=h),h[1]>r[1]&&(r=h)}var g=[s,o,e,r],y=g.slice();for(u=0;u<i.length;u++)Cy(i[u],g)||y.push(i[u]);return Py(y)}function Cf(i,s){var o={p:i,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return s?(o.next=s.next,o.prev=s,s.next.prev=o,s.next=o):(o.prev=o,o.next=o),o}function Ap(i,s){var o=i[0]-s[0],e=i[1]-s[1];return o*o+e*e}function Vp(i,s,o){var e=s[0],r=s[1],u=o[0]-e,h=o[1]-r;if(u!==0||h!==0){var g=((i[0]-e)*u+(i[1]-r)*h)/(u*u+h*h);g>1?(e=o[0],r=o[1]):g>0&&(e+=u*g,r+=h*g)}return u=i[0]-e,h=i[1]-r,u*u+h*h}function bc(i,s,o,e,r,u,h,g){var y=o-i,w=e-s,D=h-r,N=g-u,A=i-r,Y=s-u,X=y*y+w*w,j=y*D+w*N,E=D*D+N*N,O=y*A+w*Y,F=D*A+N*Y,R=X*E-j*j,Z,ee,re,se,B=R,_e=R;R===0?(ee=0,B=1,se=F,_e=E):(ee=j*F-E*O,se=X*F-j*O,ee<0?(ee=0,se=F,_e=E):ee>B&&(ee=B,se=F+j,_e=E)),se<0?(se=0,-O<0?ee=0:-O>X?ee=B:(ee=-O,B=X)):se>_e&&(se=_e,-O+j<0?ee=0:-O+j>X?ee=B:(ee=-O+j,B=X)),Z=ee===0?0:ee/B,re=se===0?0:se/_e;var Te=(1-Z)*i+Z*o,Pe=(1-Z)*s+Z*e,W=(1-re)*r+re*h,Bt=(1-re)*u+re*g,Ie=W-Te,ct=Bt-Pe;return Ie*Ie+ct*ct}function Ly(i,s){return i[0]===s[0]?i[1]-s[1]:i[0]-s[0]}function Py(i){i.sort(Ly);for(var s=[],o=0;o<i.length;o++){for(;s.length>=2&&Bl(s[s.length-2],s[s.length-1],i[o])<=0;)s.pop();s.push(i[o])}for(var e=[],r=i.length-1;r>=0;r--){for(;e.length>=2&&Bl(e[e.length-2],e[e.length-1],i[r])<=0;)e.pop();e.push(i[r])}return e.pop(),s.pop(),s.concat(e)}});var Lf=tt((Hp,qp)=>{(function(i,s){typeof Hp=="object"&&typeof qp<"u"?qp.exports=s():typeof define=="function"&&define.amd?define(s):i.quickselect=s()})(Hp,function(){"use strict";function i(r,u,h,g,y){s(r,u,h||0,g||r.length-1,y||e)}function s(r,u,h,g,y){for(;g>h;){if(g-h>600){var w=g-h+1,D=u-h+1,N=Math.log(w),A=.5*Math.exp(2*N/3),Y=.5*Math.sqrt(N*A*(w-A)/w)*(D-w/2<0?-1:1),X=Math.max(h,Math.floor(u-D*A/w+Y)),j=Math.min(g,Math.floor(u+(w-D)*A/w+Y));s(r,u,X,j,y)}var E=r[u],O=h,F=g;for(o(r,h,u),y(r[g],E)>0&&o(r,h,g);O<F;){for(o(r,O,F),O++,F--;y(r[O],E)<0;)O++;for(;y(r[F],E)>0;)F--}y(r[h],E)===0?o(r,h,F):(F++,o(r,F,g)),F<=u&&(h=F+1),u<=F&&(g=F-1)}}function o(r,u,h){var g=r[u];r[u]=r[h],r[h]=g}function e(r,u){return r<u?-1:r>u?1:0}return i})});var Zp=tt((Q4,Kp)=>{"use strict";Kp.exports=Tu;Kp.exports.default=Tu;var Ky=Lf();function Tu(i,s){if(!(this instanceof Tu))return new Tu(i,s);this._maxEntries=Math.max(4,i||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),s&&this._initFormat(s),this.clear()}Tu.prototype={all:function(){return this._all(this.data,[])},search:function(i){var s=this.data,o=[],e=this.toBBox;if(!Ic(i,s))return o;for(var r=[],u,h,g,y;s;){for(u=0,h=s.children.length;u<h;u++)g=s.children[u],y=s.leaf?e(g):g,Ic(i,y)&&(s.leaf?o.push(g):Up(i,y)?this._all(g,o):r.push(g));s=r.pop()}return o},collides:function(i){var s=this.data,o=this.toBBox;if(!Ic(i,s))return!1;for(var e=[],r,u,h,g;s;){for(r=0,u=s.children.length;r<u;r++)if(h=s.children[r],g=s.leaf?o(h):h,Ic(i,g)){if(s.leaf||Up(i,g))return!0;e.push(h)}s=e.pop()}return!1},load:function(i){if(!(i&&i.length))return this;if(i.length<this._minEntries){for(var s=0,o=i.length;s<o;s++)this.insert(i[s]);return this}var e=this._build(i.slice(),0,i.length-1,0);if(!this.data.children.length)this.data=e;else if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){var r=this.data;this.data=e,e=r}this._insert(e,this.data.height-e.height-1,!0)}return this},insert:function(i){return i&&this._insert(i,this.data.height-1),this},clear:function(){return this.data=Hl([]),this},remove:function(i,s){if(!i)return this;for(var o=this.data,e=this.toBBox(i),r=[],u=[],h,g,y,w;o||r.length;){if(o||(o=r.pop(),g=r[r.length-1],h=u.pop(),w=!0),o.leaf&&(y=Zy(i,o.children,s),y!==-1))return o.children.splice(y,1),r.push(o),this._condense(r),this;!w&&!o.leaf&&Up(o,e)?(r.push(o),u.push(h),h=0,g=o,o=o.children[0]):g?(h++,o=g.children[h],w=!1):o=null}return this},toBBox:function(i){return i},compareMinX:Pf,compareMinY:kf,toJSON:function(){return this.data},fromJSON:function(i){return this.data=i,this},_all:function(i,s){for(var o=[];i;)i.leaf?s.push.apply(s,i.children):o.push.apply(o,i.children),i=o.pop();return s},_build:function(i,s,o,e){var r=o-s+1,u=this._maxEntries,h;if(r<=u)return h=Hl(i.slice(s,o+1)),zl(h,this.toBBox),h;e||(e=Math.ceil(Math.log(r)/Math.log(u)),u=Math.ceil(r/Math.pow(u,e-1))),h=Hl([]),h.leaf=!1,h.height=e;var g=Math.ceil(r/u),y=g*Math.ceil(Math.sqrt(u)),w,D,N,A;for(Df(i,s,o,y,this.compareMinX),w=s;w<=o;w+=y)for(N=Math.min(w+y-1,o),Df(i,w,N,g,this.compareMinY),D=w;D<=N;D+=g)A=Math.min(D+g-1,N),h.children.push(this._build(i,D,A,e-1));return zl(h,this.toBBox),h},_chooseSubtree:function(i,s,o,e){for(var r,u,h,g,y,w,D,N;e.push(s),!(s.leaf||e.length-1===o);){for(D=N=1/0,r=0,u=s.children.length;r<u;r++)h=s.children[r],y=Gp(h),w=Yy(i,h)-y,w<N?(N=w,D=y<D?y:D,g=h):w===N&&y<D&&(D=y,g=h);s=g||s.children[0]}return s},_insert:function(i,s,o){var e=this.toBBox,r=o?i:e(i),u=[],h=this._chooseSubtree(r,this.data,s,u);for(h.children.push(i),Su(h,r);s>=0&&u[s].children.length>this._maxEntries;)this._split(u,s),s--;this._adjustParentBBoxes(r,u,s)},_split:function(i,s){var o=i[s],e=o.children.length,r=this._minEntries;this._chooseSplitAxis(o,r,e);var u=this._chooseSplitIndex(o,r,e),h=Hl(o.children.splice(u,o.children.length-u));h.height=o.height,h.leaf=o.leaf,zl(o,this.toBBox),zl(h,this.toBBox),s?i[s-1].children.push(h):this._splitRoot(o,h)},_splitRoot:function(i,s){this.data=Hl([i,s]),this.data.height=i.height+1,this.data.leaf=!1,zl(this.data,this.toBBox)},_chooseSplitIndex:function(i,s,o){var e,r,u,h,g,y,w,D;for(y=w=1/0,e=s;e<=o-s;e++)r=Iu(i,0,e,this.toBBox),u=Iu(i,e,o,this.toBBox),h=jy(r,u),g=Gp(r)+Gp(u),h<y?(y=h,D=e,w=g<w?g:w):h===y&&g<w&&(w=g,D=e);return D},_chooseSplitAxis:function(i,s,o){var e=i.leaf?this.compareMinX:Pf,r=i.leaf?this.compareMinY:kf,u=this._allDistMargin(i,s,o,e),h=this._allDistMargin(i,s,o,r);u<h&&i.children.sort(e)},_allDistMargin:function(i,s,o,e){i.children.sort(e);var r=this.toBBox,u=Iu(i,0,s,r),h=Iu(i,o-s,o,r),g=Cc(u)+Cc(h),y,w;for(y=s;y<o-s;y++)w=i.children[y],Su(u,i.leaf?r(w):w),g+=Cc(u);for(y=o-s-1;y>=s;y--)w=i.children[y],Su(h,i.leaf?r(w):w),g+=Cc(h);return g},_adjustParentBBoxes:function(i,s,o){for(var e=o;e>=0;e--)Su(s[e],i)},_condense:function(i){for(var s=i.length-1,o;s>=0;s--)i[s].children.length===0?s>0?(o=i[s-1].children,o.splice(o.indexOf(i[s]),1)):this.clear():zl(i[s],this.toBBox)},_initFormat:function(i){var s=["return a"," - b",";"];this.compareMinX=new Function("a","b",s.join(i[0])),this.compareMinY=new Function("a","b",s.join(i[1])),this.toBBox=new Function("a","return {minX: a"+i[0]+", minY: a"+i[1]+", maxX: a"+i[2]+", maxY: a"+i[3]+"};")}};function Zy(i,s,o){if(!o)return s.indexOf(i);for(var e=0;e<s.length;e++)if(o(i,s[e]))return e;return-1}function zl(i,s){Iu(i,0,i.children.length,s,i)}function Iu(i,s,o,e,r){r||(r=Hl(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var u=s,h;u<o;u++)h=i.children[u],Su(r,i.leaf?e(h):h);return r}function Su(i,s){return i.minX=Math.min(i.minX,s.minX),i.minY=Math.min(i.minY,s.minY),i.maxX=Math.max(i.maxX,s.maxX),i.maxY=Math.max(i.maxY,s.maxY),i}function Pf(i,s){return i.minX-s.minX}function kf(i,s){return i.minY-s.minY}function Gp(i){return(i.maxX-i.minX)*(i.maxY-i.minY)}function Cc(i){return i.maxX-i.minX+(i.maxY-i.minY)}function Yy(i,s){return(Math.max(s.maxX,i.maxX)-Math.min(s.minX,i.minX))*(Math.max(s.maxY,i.maxY)-Math.min(s.minY,i.minY))}function jy(i,s){var o=Math.max(i.minX,s.minX),e=Math.max(i.minY,s.minY),r=Math.min(i.maxX,s.maxX),u=Math.min(i.maxY,s.maxY);return Math.max(0,r-o)*Math.max(0,u-e)}function Up(i,s){return i.minX<=s.minX&&i.minY<=s.minY&&s.maxX<=i.maxX&&s.maxY<=i.maxY}function Ic(i,s){return s.minX<=i.maxX&&s.minY<=i.maxY&&s.maxX>=i.minX&&s.maxY>=i.minY}function Hl(i){return{children:i,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Df(i,s,o,e,r){for(var u=[s,o],h;u.length;)o=u.pop(),s=u.pop(),!(o-s<=e)&&(h=s+Math.ceil((o-s)/e/2)*e,Ky(i,h,s,o,r),u.push(s,h,h,o))}});var Vf=tt((pD,$p)=>{"use strict";$p.exports=Mc;$p.exports.default=Mc;function Mc(i,s,o){o=o||2;var e=s&&s.length,r=e?s[0]*o:i.length,u=Ff(i,0,r,o,!0),h=[];if(!u||u.next===u.prev)return h;var g,y,w,D,N,A,Y;if(e&&(u=o1(i,s,u,o)),i.length>80*o){g=w=i[0],y=D=i[1];for(var X=o;X<r;X+=o)N=i[X],A=i[X+1],N<g&&(g=N),A<y&&(y=A),N>w&&(w=N),A>D&&(D=A);Y=Math.max(w-g,D-y),Y=Y!==0?32767/Y:0}return Mu(u,h,o,g,y,Y,0),h}function Ff(i,s,o,e,r){var u,h;if(r===Xp(i,s,o,e)>0)for(u=s;u<o;u+=e)h=Rf(u,i[u],i[u+1],h);else for(u=o-e;u>=s;u-=e)h=Rf(u,i[u],i[u+1],h);return h&&Oc(h,h.next)&&(Lu(h),h=h.next),h}function pl(i,s){if(!i)return i;s||(s=i);var o=i,e;do if(e=!1,!o.steiner&&(Oc(o,o.next)||$n(o.prev,o,o.next)===0)){if(Lu(o),o=s=o.prev,o===o.next)break;e=!0}else o=o.next;while(e||o!==s);return s}function Mu(i,s,o,e,r,u,h){if(i){!h&&u&&c1(i,e,r,u);for(var g=i,y,w;i.prev!==i.next;){if(y=i.prev,w=i.next,u?i1(i,e,r,u):t1(i)){s.push(y.i/o|0),s.push(i.i/o|0),s.push(w.i/o|0),Lu(i),i=w.next,g=w.next;continue}if(i=w,i===g){h?h===1?(i=n1(pl(i),s,o),Mu(i,s,o,e,r,u,2)):h===2&&r1(i,s,o,e,r,u):Mu(pl(i),s,o,e,r,u,1);break}}}}function t1(i){var s=i.prev,o=i,e=i.next;if($n(s,o,e)>=0)return!1;for(var r=s.x,u=o.x,h=e.x,g=s.y,y=o.y,w=e.y,D=r<u?r<h?r:h:u<h?u:h,N=g<y?g<w?g:w:y<w?y:w,A=r>u?r>h?r:h:u>h?u:h,Y=g>y?g>w?g:w:y>w?y:w,X=e.next;X!==s;){if(X.x>=D&&X.x<=A&&X.y>=N&&X.y<=Y&&Gl(r,g,u,y,h,w,X.x,X.y)&&$n(X.prev,X,X.next)>=0)return!1;X=X.next}return!0}function i1(i,s,o,e){var r=i.prev,u=i,h=i.next;if($n(r,u,h)>=0)return!1;for(var g=r.x,y=u.x,w=h.x,D=r.y,N=u.y,A=h.y,Y=g<y?g<w?g:w:y<w?y:w,X=D<N?D<A?D:A:N<A?N:A,j=g>y?g>w?g:w:y>w?y:w,E=D>N?D>A?D:A:N>A?N:A,O=jp(Y,X,s,o,e),F=jp(j,E,s,o,e),R=i.prevZ,Z=i.nextZ;R&&R.z>=O&&Z&&Z.z<=F;){if(R.x>=Y&&R.x<=j&&R.y>=X&&R.y<=E&&R!==r&&R!==h&&Gl(g,D,y,N,w,A,R.x,R.y)&&$n(R.prev,R,R.next)>=0||(R=R.prevZ,Z.x>=Y&&Z.x<=j&&Z.y>=X&&Z.y<=E&&Z!==r&&Z!==h&&Gl(g,D,y,N,w,A,Z.x,Z.y)&&$n(Z.prev,Z,Z.next)>=0))return!1;Z=Z.nextZ}for(;R&&R.z>=O;){if(R.x>=Y&&R.x<=j&&R.y>=X&&R.y<=E&&R!==r&&R!==h&&Gl(g,D,y,N,w,A,R.x,R.y)&&$n(R.prev,R,R.next)>=0)return!1;R=R.prevZ}for(;Z&&Z.z<=F;){if(Z.x>=Y&&Z.x<=j&&Z.y>=X&&Z.y<=E&&Z!==r&&Z!==h&&Gl(g,D,y,N,w,A,Z.x,Z.y)&&$n(Z.prev,Z,Z.next)>=0)return!1;Z=Z.nextZ}return!0}function n1(i,s,o){var e=i;do{var r=e.prev,u=e.next.next;!Oc(r,u)&&Nf(r,e,e.next,u)&&Ou(r,u)&&Ou(u,r)&&(s.push(r.i/o|0),s.push(e.i/o|0),s.push(u.i/o|0),Lu(e),Lu(e.next),e=i=u),e=e.next}while(e!==i);return pl(e)}function r1(i,s,o,e,r,u){var h=i;do{for(var g=h.next.next;g!==h.prev;){if(h.i!==g.i&&d1(h,g)){var y=Af(h,g);h=pl(h,h.next),y=pl(y,y.next),Mu(h,s,o,e,r,u,0),Mu(y,s,o,e,r,u,0);return}g=g.next}h=h.next}while(h!==i)}function o1(i,s,o,e){var r=[],u,h,g,y,w;for(u=0,h=s.length;u<h;u++)g=s[u]*e,y=u<h-1?s[u+1]*e:i.length,w=Ff(i,g,y,e,!1),w===w.next&&(w.steiner=!0),r.push(h1(w));for(r.sort(s1),u=0;u<r.length;u++)o=a1(r[u],o);return o}function s1(i,s){return i.x-s.x}function a1(i,s){var o=l1(i,s);if(!o)return s;var e=Af(o,i);return pl(e,e.next),pl(o,o.next)}function l1(i,s){var o=s,e=i.x,r=i.y,u=-1/0,h;do{if(r<=o.y&&r>=o.next.y&&o.next.y!==o.y){var g=o.x+(r-o.y)*(o.next.x-o.x)/(o.next.y-o.y);if(g<=e&&g>u&&(u=g,h=o.x<o.next.x?o:o.next,g===e))return h}o=o.next}while(o!==s);if(!h)return null;var y=h,w=h.x,D=h.y,N=1/0,A;o=h;do e>=o.x&&o.x>=w&&e!==o.x&&Gl(r<D?e:u,r,w,D,r<D?u:e,r,o.x,o.y)&&(A=Math.abs(r-o.y)/(e-o.x),Ou(o,i)&&(A<N||A===N&&(o.x>h.x||o.x===h.x&&u1(h,o)))&&(h=o,N=A)),o=o.next;while(o!==y);return h}function u1(i,s){return $n(i.prev,i,s.prev)<0&&$n(s.next,i,i.next)<0}function c1(i,s,o,e){var r=i;do r.z===0&&(r.z=jp(r.x,r.y,s,o,e)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==i);r.prevZ.nextZ=null,r.prevZ=null,p1(r)}function p1(i){var s,o,e,r,u,h,g,y,w=1;do{for(o=i,i=null,u=null,h=0;o;){for(h++,e=o,g=0,s=0;s<w&&(g++,e=e.nextZ,!!e);s++);for(y=w;g>0||y>0&&e;)g!==0&&(y===0||!e||o.z<=e.z)?(r=o,o=o.nextZ,g--):(r=e,e=e.nextZ,y--),u?u.nextZ=r:i=r,r.prevZ=u,u=r;o=e}u.nextZ=null,w*=2}while(h>1);return i}function jp(i,s,o,e,r){return i=(i-o)*r|0,s=(s-e)*r|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,i|s<<1}function h1(i){var s=i,o=i;do(s.x<o.x||s.x===o.x&&s.y<o.y)&&(o=s),s=s.next;while(s!==i);return o}function Gl(i,s,o,e,r,u,h,g){return(r-h)*(s-g)>=(i-h)*(u-g)&&(i-h)*(e-g)>=(o-h)*(s-g)&&(o-h)*(u-g)>=(r-h)*(e-g)}function d1(i,s){return i.next.i!==s.i&&i.prev.i!==s.i&&!f1(i,s)&&(Ou(i,s)&&Ou(s,i)&&m1(i,s)&&($n(i.prev,i,s.prev)||$n(i,s.prev,s))||Oc(i,s)&&$n(i.prev,i,i.next)>0&&$n(s.prev,s,s.next)>0)}function $n(i,s,o){return(s.y-i.y)*(o.x-s.x)-(s.x-i.x)*(o.y-s.y)}function Oc(i,s){return i.x===s.x&&i.y===s.y}function Nf(i,s,o,e){var r=Ec($n(i,s,o)),u=Ec($n(i,s,e)),h=Ec($n(o,e,i)),g=Ec($n(o,e,s));return!!(r!==u&&h!==g||r===0&&Tc(i,o,s)||u===0&&Tc(i,e,s)||h===0&&Tc(o,i,e)||g===0&&Tc(o,s,e))}function Tc(i,s,o){return s.x<=Math.max(i.x,o.x)&&s.x>=Math.min(i.x,o.x)&&s.y<=Math.max(i.y,o.y)&&s.y>=Math.min(i.y,o.y)}function Ec(i){return i>0?1:i<0?-1:0}function f1(i,s){var o=i;do{if(o.i!==i.i&&o.next.i!==i.i&&o.i!==s.i&&o.next.i!==s.i&&Nf(o,o.next,i,s))return!0;o=o.next}while(o!==i);return!1}function Ou(i,s){return $n(i.prev,i,i.next)<0?$n(i,s,i.next)>=0&&$n(i,i.prev,s)>=0:$n(i,s,i.prev)<0||$n(i,i.next,s)<0}function m1(i,s){var o=i,e=!1,r=(i.x+s.x)/2,u=(i.y+s.y)/2;do o.y>u!=o.next.y>u&&o.next.y!==o.y&&r<(o.next.x-o.x)*(u-o.y)/(o.next.y-o.y)+o.x&&(e=!e),o=o.next;while(o!==i);return e}function Af(i,s){var o=new Wp(i.i,i.x,i.y),e=new Wp(s.i,s.x,s.y),r=i.next,u=s.prev;return i.next=s,s.prev=i,o.next=r,r.prev=o,e.next=o,o.prev=e,u.next=e,e.prev=u,e}function Rf(i,s,o,e){var r=new Wp(i,s,o);return e?(r.next=e.next,r.prev=e,e.next.prev=r,e.next=r):(r.prev=r,r.next=r),r}function Lu(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function Wp(i,s,o){this.i=i,this.x=s,this.y=o,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Mc.deviation=function(i,s,o,e){var r=s&&s.length,u=r?s[0]*o:i.length,h=Math.abs(Xp(i,0,u,o));if(r)for(var g=0,y=s.length;g<y;g++){var w=s[g]*o,D=g<y-1?s[g+1]*o:i.length;h-=Math.abs(Xp(i,w,D,o))}var N=0;for(g=0;g<e.length;g+=3){var A=e[g]*o,Y=e[g+1]*o,X=e[g+2]*o;N+=Math.abs((i[A]-i[X])*(i[Y+1]-i[A+1])-(i[A]-i[Y])*(i[X+1]-i[A+1]))}return h===0&&N===0?0:Math.abs((N-h)/h)};function Xp(i,s,o,e){for(var r=0,u=s,h=o-e;u<o;u+=e)r+=(i[h]-i[u])*(i[u+1]+i[h+1]),h=u;return r}Mc.flatten=function(i){for(var s=i[0][0].length,o={vertices:[],holes:[],dimensions:s},e=0,r=0;r<i.length;r++){for(var u=0;u<i[r].length;u++)for(var h=0;h<s;h++)o.vertices.push(i[r][u][h]);r>0&&(e+=i[r-1].length,o.holes.push(e))}return o}});var Bf=tt((Qp,Jp)=>{(function(i,s){typeof Qp=="object"&&typeof Jp<"u"?Jp.exports=s():typeof define=="function"&&define.amd?define(s):(i=i||self).RBush=s()})(Qp,function(){"use strict";function i(E,O,F,R,Z){(function ee(re,se,B,_e,Te){for(;_e>B;){if(_e-B>600){var Pe=_e-B+1,W=se-B+1,Bt=Math.log(Pe),Ie=.5*Math.exp(2*Bt/3),ct=.5*Math.sqrt(Bt*Ie*(Pe-Ie)/Pe)*(W-Pe/2<0?-1:1),Be=Math.max(B,Math.floor(se-W*Ie/Pe+ct)),zt=Math.min(_e,Math.floor(se+(Pe-W)*Ie/Pe+ct));ee(re,se,Be,zt,Te)}var ve=re[se],Ae=B,$=_e;for(s(re,B,se),Te(re[_e],ve)>0&&s(re,B,_e);Ae<$;){for(s(re,Ae,$),Ae++,$--;Te(re[Ae],ve)<0;)Ae++;for(;Te(re[$],ve)>0;)$--}Te(re[B],ve)===0?s(re,B,$):s(re,++$,_e),$<=se&&(B=$+1),se<=$&&(_e=$-1)}})(E,O,F||0,R||E.length-1,Z||o)}function s(E,O,F){var R=E[O];E[O]=E[F],E[F]=R}function o(E,O){return E<O?-1:E>O?1:0}var e=function(E){E===void 0&&(E=9),this._maxEntries=Math.max(4,E),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(E,O,F){if(!F)return O.indexOf(E);for(var R=0;R<O.length;R++)if(F(E,O[R]))return R;return-1}function u(E,O){h(E,0,E.children.length,O,E)}function h(E,O,F,R,Z){Z||(Z=X(null)),Z.minX=1/0,Z.minY=1/0,Z.maxX=-1/0,Z.maxY=-1/0;for(var ee=O;ee<F;ee++){var re=E.children[ee];g(Z,E.leaf?R(re):re)}return Z}function g(E,O){return E.minX=Math.min(E.minX,O.minX),E.minY=Math.min(E.minY,O.minY),E.maxX=Math.max(E.maxX,O.maxX),E.maxY=Math.max(E.maxY,O.maxY),E}function y(E,O){return E.minX-O.minX}function w(E,O){return E.minY-O.minY}function D(E){return(E.maxX-E.minX)*(E.maxY-E.minY)}function N(E){return E.maxX-E.minX+(E.maxY-E.minY)}function A(E,O){return E.minX<=O.minX&&E.minY<=O.minY&&O.maxX<=E.maxX&&O.maxY<=E.maxY}function Y(E,O){return O.minX<=E.maxX&&O.minY<=E.maxY&&O.maxX>=E.minX&&O.maxY>=E.minY}function X(E){return{children:E,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function j(E,O,F,R,Z){for(var ee=[O,F];ee.length;)if(!((F=ee.pop())-(O=ee.pop())<=R)){var re=O+Math.ceil((F-O)/R/2)*R;i(E,re,O,F,Z),ee.push(O,re,re,F)}}return e.prototype.all=function(){return this._all(this.data,[])},e.prototype.search=function(E){var O=this.data,F=[];if(!Y(E,O))return F;for(var R=this.toBBox,Z=[];O;){for(var ee=0;ee<O.children.length;ee++){var re=O.children[ee],se=O.leaf?R(re):re;Y(E,se)&&(O.leaf?F.push(re):A(E,se)?this._all(re,F):Z.push(re))}O=Z.pop()}return F},e.prototype.collides=function(E){var O=this.data;if(!Y(E,O))return!1;for(var F=[];O;){for(var R=0;R<O.children.length;R++){var Z=O.children[R],ee=O.leaf?this.toBBox(Z):Z;if(Y(E,ee)){if(O.leaf||A(E,ee))return!0;F.push(Z)}}O=F.pop()}return!1},e.prototype.load=function(E){if(!E||!E.length)return this;if(E.length<this._minEntries){for(var O=0;O<E.length;O++)this.insert(E[O]);return this}var F=this._build(E.slice(),0,E.length-1,0);if(this.data.children.length)if(this.data.height===F.height)this._splitRoot(this.data,F);else{if(this.data.height<F.height){var R=this.data;this.data=F,F=R}this._insert(F,this.data.height-F.height-1,!0)}else this.data=F;return this},e.prototype.insert=function(E){return E&&this._insert(E,this.data.height-1),this},e.prototype.clear=function(){return this.data=X([]),this},e.prototype.remove=function(E,O){if(!E)return this;for(var F,R,Z,ee=this.data,re=this.toBBox(E),se=[],B=[];ee||se.length;){if(ee||(ee=se.pop(),R=se[se.length-1],F=B.pop(),Z=!0),ee.leaf){var _e=r(E,ee.children,O);if(_e!==-1)return ee.children.splice(_e,1),se.push(ee),this._condense(se),this}Z||ee.leaf||!A(ee,re)?R?(F++,ee=R.children[F],Z=!1):ee=null:(se.push(ee),B.push(F),F=0,R=ee,ee=ee.children[0])}return this},e.prototype.toBBox=function(E){return E},e.prototype.compareMinX=function(E,O){return E.minX-O.minX},e.prototype.compareMinY=function(E,O){return E.minY-O.minY},e.prototype.toJSON=function(){return this.data},e.prototype.fromJSON=function(E){return this.data=E,this},e.prototype._all=function(E,O){for(var F=[];E;)E.leaf?O.push.apply(O,E.children):F.push.apply(F,E.children),E=F.pop();return O},e.prototype._build=function(E,O,F,R){var Z,ee=F-O+1,re=this._maxEntries;if(ee<=re)return u(Z=X(E.slice(O,F+1)),this.toBBox),Z;R||(R=Math.ceil(Math.log(ee)/Math.log(re)),re=Math.ceil(ee/Math.pow(re,R-1))),(Z=X([])).leaf=!1,Z.height=R;var se=Math.ceil(ee/re),B=se*Math.ceil(Math.sqrt(re));j(E,O,F,B,this.compareMinX);for(var _e=O;_e<=F;_e+=B){var Te=Math.min(_e+B-1,F);j(E,_e,Te,se,this.compareMinY);for(var Pe=_e;Pe<=Te;Pe+=se){var W=Math.min(Pe+se-1,Te);Z.children.push(this._build(E,Pe,W,R-1))}}return u(Z,this.toBBox),Z},e.prototype._chooseSubtree=function(E,O,F,R){for(;R.push(O),!O.leaf&&R.length-1!==F;){for(var Z=1/0,ee=1/0,re=void 0,se=0;se<O.children.length;se++){var B=O.children[se],_e=D(B),Te=(Pe=E,W=B,(Math.max(W.maxX,Pe.maxX)-Math.min(W.minX,Pe.minX))*(Math.max(W.maxY,Pe.maxY)-Math.min(W.minY,Pe.minY))-_e);Te<ee?(ee=Te,Z=_e<Z?_e:Z,re=B):Te===ee&&_e<Z&&(Z=_e,re=B)}O=re||O.children[0]}var Pe,W;return O},e.prototype._insert=function(E,O,F){var R=F?E:this.toBBox(E),Z=[],ee=this._chooseSubtree(R,this.data,O,Z);for(ee.children.push(E),g(ee,R);O>=0&&Z[O].children.length>this._maxEntries;)this._split(Z,O),O--;this._adjustParentBBoxes(R,Z,O)},e.prototype._split=function(E,O){var F=E[O],R=F.children.length,Z=this._minEntries;this._chooseSplitAxis(F,Z,R);var ee=this._chooseSplitIndex(F,Z,R),re=X(F.children.splice(ee,F.children.length-ee));re.height=F.height,re.leaf=F.leaf,u(F,this.toBBox),u(re,this.toBBox),O?E[O-1].children.push(re):this._splitRoot(F,re)},e.prototype._splitRoot=function(E,O){this.data=X([E,O]),this.data.height=E.height+1,this.data.leaf=!1,u(this.data,this.toBBox)},e.prototype._chooseSplitIndex=function(E,O,F){for(var R,Z,ee,re,se,B,_e,Te=1/0,Pe=1/0,W=O;W<=F-O;W++){var Bt=h(E,0,W,this.toBBox),Ie=h(E,W,F,this.toBBox),ct=(Z=Bt,ee=Ie,re=void 0,se=void 0,B=void 0,_e=void 0,re=Math.max(Z.minX,ee.minX),se=Math.max(Z.minY,ee.minY),B=Math.min(Z.maxX,ee.maxX),_e=Math.min(Z.maxY,ee.maxY),Math.max(0,B-re)*Math.max(0,_e-se)),Be=D(Bt)+D(Ie);ct<Te?(Te=ct,R=W,Pe=Be<Pe?Be:Pe):ct===Te&&Be<Pe&&(Pe=Be,R=W)}return R||F-O},e.prototype._chooseSplitAxis=function(E,O,F){var R=E.leaf?this.compareMinX:y,Z=E.leaf?this.compareMinY:w;this._allDistMargin(E,O,F,R)<this._allDistMargin(E,O,F,Z)&&E.children.sort(R)},e.prototype._allDistMargin=function(E,O,F,R){E.children.sort(R);for(var Z=this.toBBox,ee=h(E,0,O,Z),re=h(E,F-O,F,Z),se=N(ee)+N(re),B=O;B<F-O;B++){var _e=E.children[B];g(ee,E.leaf?Z(_e):_e),se+=N(ee)}for(var Te=F-O-1;Te>=O;Te--){var Pe=E.children[Te];g(re,E.leaf?Z(Pe):Pe),se+=N(re)}return se},e.prototype._adjustParentBBoxes=function(E,O,F){for(var R=F;R>=0;R--)g(O[R],E)},e.prototype._condense=function(E){for(var O=E.length-1,F=void 0;O>=0;O--)E[O].children.length===0?O>0?(F=E[O-1].children).splice(F.indexOf(E[O]),1):this.clear():u(E[O],this.toBBox)},e})});var rh=tt(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.earthRadius=63710088e-1;yt.factors={centimeters:yt.earthRadius*100,centimetres:yt.earthRadius*100,degrees:yt.earthRadius/111325,feet:yt.earthRadius*3.28084,inches:yt.earthRadius*39.37,kilometers:yt.earthRadius/1e3,kilometres:yt.earthRadius/1e3,meters:yt.earthRadius,metres:yt.earthRadius,miles:yt.earthRadius/1609.344,millimeters:yt.earthRadius*1e3,millimetres:yt.earthRadius*1e3,nauticalmiles:yt.earthRadius/1852,radians:1,yards:yt.earthRadius*1.0936};yt.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/yt.earthRadius,yards:1.0936133};yt.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function Ka(i,s,o){o===void 0&&(o={});var e={type:"Feature"};return(o.id===0||o.id)&&(e.id=o.id),o.bbox&&(e.bbox=o.bbox),e.properties=s||{},e.geometry=i,e}yt.feature=Ka;function b1(i,s,o){switch(o===void 0&&(o={}),i){case"Point":return eh(s).geometry;case"LineString":return ih(s).geometry;case"Polygon":return th(s).geometry;case"MultiPoint":return Hf(s).geometry;case"MultiLineString":return zf(s).geometry;case"MultiPolygon":return qf(s).geometry;default:throw new Error(i+" is invalid")}}yt.geometry=b1;function eh(i,s,o){if(o===void 0&&(o={}),!i)throw new Error("coordinates is required");if(!Array.isArray(i))throw new Error("coordinates must be an Array");if(i.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Lc(i[0])||!Lc(i[1]))throw new Error("coordinates must contain numbers");var e={type:"Point",coordinates:i};return Ka(e,s,o)}yt.point=eh;function w1(i,s,o){return o===void 0&&(o={}),Pc(i.map(function(e){return eh(e,s)}),o)}yt.points=w1;function th(i,s,o){o===void 0&&(o={});for(var e=0,r=i;e<r.length;e++){var u=r[e];if(u.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var h=0;h<u[u.length-1].length;h++)if(u[u.length-1][h]!==u[0][h])throw new Error("First and last Position are not equivalent.")}var g={type:"Polygon",coordinates:i};return Ka(g,s,o)}yt.polygon=th;function C1(i,s,o){return o===void 0&&(o={}),Pc(i.map(function(e){return th(e,s)}),o)}yt.polygons=C1;function ih(i,s,o){if(o===void 0&&(o={}),i.length<2)throw new Error("coordinates must be an array of two or more positions");var e={type:"LineString",coordinates:i};return Ka(e,s,o)}yt.lineString=ih;function I1(i,s,o){return o===void 0&&(o={}),Pc(i.map(function(e){return ih(e,s)}),o)}yt.lineStrings=I1;function Pc(i,s){s===void 0&&(s={});var o={type:"FeatureCollection"};return s.id&&(o.id=s.id),s.bbox&&(o.bbox=s.bbox),o.features=i,o}yt.featureCollection=Pc;function zf(i,s,o){o===void 0&&(o={});var e={type:"MultiLineString",coordinates:i};return Ka(e,s,o)}yt.multiLineString=zf;function Hf(i,s,o){o===void 0&&(o={});var e={type:"MultiPoint",coordinates:i};return Ka(e,s,o)}yt.multiPoint=Hf;function qf(i,s,o){o===void 0&&(o={});var e={type:"MultiPolygon",coordinates:i};return Ka(e,s,o)}yt.multiPolygon=qf;function S1(i,s,o){o===void 0&&(o={});var e={type:"GeometryCollection",geometries:i};return Ka(e,s,o)}yt.geometryCollection=S1;function T1(i,s){if(s===void 0&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var o=Math.pow(10,s||0);return Math.round(i*o)/o}yt.round=T1;function Gf(i,s){s===void 0&&(s="kilometers");var o=yt.factors[s];if(!o)throw new Error(s+" units is invalid");return i*o}yt.radiansToLength=Gf;function nh(i,s){s===void 0&&(s="kilometers");var o=yt.factors[s];if(!o)throw new Error(s+" units is invalid");return i/o}yt.lengthToRadians=nh;function E1(i,s){return Uf(nh(i,s))}yt.lengthToDegrees=E1;function M1(i){var s=i%360;return s<0&&(s+=360),s}yt.bearingToAzimuth=M1;function Uf(i){var s=i%(2*Math.PI);return s*180/Math.PI}yt.radiansToDegrees=Uf;function O1(i){var s=i%360;return s*Math.PI/180}yt.degreesToRadians=O1;function L1(i,s,o){if(s===void 0&&(s="kilometers"),o===void 0&&(o="kilometers"),!(i>=0))throw new Error("length must be a positive number");return Gf(nh(i,s),o)}yt.convertLength=L1;function P1(i,s,o){if(s===void 0&&(s="meters"),o===void 0&&(o="kilometers"),!(i>=0))throw new Error("area must be a positive number");var e=yt.areaFactors[s];if(!e)throw new Error("invalid original units");var r=yt.areaFactors[o];if(!r)throw new Error("invalid final units");return i/e*r}yt.convertArea=P1;function Lc(i){return!isNaN(i)&&i!==null&&!Array.isArray(i)}yt.isNumber=Lc;function k1(i){return!!i&&i.constructor===Object}yt.isObject=k1;function D1(i){if(!i)throw new Error("bbox is required");if(!Array.isArray(i))throw new Error("bbox must be an Array");if(i.length!==4&&i.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");i.forEach(function(s){if(!Lc(s))throw new Error("bbox must only contain numbers")})}yt.validateBBox=D1;function R1(i){if(!i)throw new Error("id is required");if(["string","number"].indexOf(typeof i)===-1)throw new Error("id must be a number or a string")}yt.validateId=R1});var sh=tt(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});var wo=rh();function Pu(i,s,o){if(i!==null)for(var e,r,u,h,g,y,w,D=0,N=0,A,Y=i.type,X=Y==="FeatureCollection",j=Y==="Feature",E=X?i.features.length:1,O=0;O<E;O++){w=X?i.features[O].geometry:j?i.geometry:i,A=w?w.type==="GeometryCollection":!1,g=A?w.geometries.length:1;for(var F=0;F<g;F++){var R=0,Z=0;if(h=A?w.geometries[F]:w,h!==null){y=h.coordinates;var ee=h.type;switch(D=o&&(ee==="Polygon"||ee==="MultiPolygon")?1:0,ee){case null:break;case"Point":if(s(y,N,O,R,Z)===!1)return!1;N++,R++;break;case"LineString":case"MultiPoint":for(e=0;e<y.length;e++){if(s(y[e],N,O,R,Z)===!1)return!1;N++,ee==="MultiPoint"&&R++}ee==="LineString"&&R++;break;case"Polygon":case"MultiLineString":for(e=0;e<y.length;e++){for(r=0;r<y[e].length-D;r++){if(s(y[e][r],N,O,R,Z)===!1)return!1;N++}ee==="MultiLineString"&&R++,ee==="Polygon"&&Z++}ee==="Polygon"&&R++;break;case"MultiPolygon":for(e=0;e<y.length;e++){for(Z=0,r=0;r<y[e].length;r++){for(u=0;u<y[e][r].length-D;u++){if(s(y[e][r][u],N,O,R,Z)===!1)return!1;N++}Z++}R++}break;case"GeometryCollection":for(e=0;e<h.geometries.length;e++)if(Pu(h.geometries[e],s,o)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function F1(i,s,o,e){var r=o;return Pu(i,function(u,h,g,y,w){h===0&&o===void 0?r=u:r=s(r,u,h,g,y,w)},e),r}function Kf(i,s){var o;switch(i.type){case"FeatureCollection":for(o=0;o<i.features.length&&s(i.features[o].properties,o)!==!1;o++);break;case"Feature":s(i.properties,0);break}}function N1(i,s,o){var e=o;return Kf(i,function(r,u){u===0&&o===void 0?e=r:e=s(e,r,u)}),e}function Zf(i,s){if(i.type==="Feature")s(i,0);else if(i.type==="FeatureCollection")for(var o=0;o<i.features.length&&s(i.features[o],o)!==!1;o++);}function A1(i,s,o){var e=o;return Zf(i,function(r,u){u===0&&o===void 0?e=r:e=s(e,r,u)}),e}function V1(i){var s=[];return Pu(i,function(o){s.push(o)}),s}function oh(i,s){var o,e,r,u,h,g,y,w,D,N,A=0,Y=i.type==="FeatureCollection",X=i.type==="Feature",j=Y?i.features.length:1;for(o=0;o<j;o++){for(g=Y?i.features[o].geometry:X?i.geometry:i,w=Y?i.features[o].properties:X?i.properties:{},D=Y?i.features[o].bbox:X?i.bbox:void 0,N=Y?i.features[o].id:X?i.id:void 0,y=g?g.type==="GeometryCollection":!1,h=y?g.geometries.length:1,r=0;r<h;r++){if(u=y?g.geometries[r]:g,u===null){if(s(null,A,w,D,N)===!1)return!1;continue}switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(s(u,A,w,D,N)===!1)return!1;break}case"GeometryCollection":{for(e=0;e<u.geometries.length;e++)if(s(u.geometries[e],A,w,D,N)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}A++}}function B1(i,s,o){var e=o;return oh(i,function(r,u,h,g,y){u===0&&o===void 0?e=r:e=s(e,r,u,h,g,y)}),e}function kc(i,s){oh(i,function(o,e,r,u,h){var g=o===null?null:o.type;switch(g){case null:case"Point":case"LineString":case"Polygon":return s(wo.feature(o,r,{bbox:u,id:h}),e,0)===!1?!1:void 0}var y;switch(g){case"MultiPoint":y="Point";break;case"MultiLineString":y="LineString";break;case"MultiPolygon":y="Polygon";break}for(var w=0;w<o.coordinates.length;w++){var D=o.coordinates[w],N={type:y,coordinates:D};if(s(wo.feature(N,r),e,w)===!1)return!1}})}function z1(i,s,o){var e=o;return kc(i,function(r,u,h){u===0&&h===0&&o===void 0?e=r:e=s(e,r,u,h)}),e}function Yf(i,s){kc(i,function(o,e,r){var u=0;if(o.geometry){var h=o.geometry.type;if(!(h==="Point"||h==="MultiPoint")){var g,y=0,w=0,D=0;if(Pu(o,function(N,A,Y,X,j){if(g===void 0||e>y||X>w||j>D){g=N,y=e,w=X,D=j,u=0;return}var E=wo.lineString([g,N],o.properties);if(s(E,e,r,j,u)===!1)return!1;u++,g=N})===!1)return!1}}})}function H1(i,s,o){var e=o,r=!1;return Yf(i,function(u,h,g,y,w){r===!1&&o===void 0?e=u:e=s(e,u,h,g,y,w),r=!0}),e}function jf(i,s){if(!i)throw new Error("geojson is required");kc(i,function(o,e,r){if(o.geometry!==null){var u=o.geometry.type,h=o.geometry.coordinates;switch(u){case"LineString":if(s(o,e,r,0,0)===!1)return!1;break;case"Polygon":for(var g=0;g<h.length;g++)if(s(wo.lineString(h[g],o.properties),e,r,g)===!1)return!1;break}}})}function q1(i,s,o){var e=o;return jf(i,function(r,u,h,g){u===0&&o===void 0?e=r:e=s(e,r,u,h,g)}),e}function G1(i,s){if(s=s||{},!wo.isObject(s))throw new Error("options is invalid");var o=s.featureIndex||0,e=s.multiFeatureIndex||0,r=s.geometryIndex||0,u=s.segmentIndex||0,h=s.properties,g;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),h=h||i.features[o].properties,g=i.features[o].geometry;break;case"Feature":h=h||i.properties,g=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":g=i;break;default:throw new Error("geojson is invalid")}if(g===null)return null;var y=g.coordinates;switch(g.type){case"Point":case"MultiPoint":return null;case"LineString":return u<0&&(u=y.length+u-1),wo.lineString([y[u],y[u+1]],h,s);case"Polygon":return r<0&&(r=y.length+r),u<0&&(u=y[r].length+u-1),wo.lineString([y[r][u],y[r][u+1]],h,s);case"MultiLineString":return e<0&&(e=y.length+e),u<0&&(u=y[e].length+u-1),wo.lineString([y[e][u],y[e][u+1]],h,s);case"MultiPolygon":return e<0&&(e=y.length+e),r<0&&(r=y[e].length+r),u<0&&(u=y[e][r].length-u-1),wo.lineString([y[e][r][u],y[e][r][u+1]],h,s)}throw new Error("geojson is invalid")}function U1(i,s){if(s=s||{},!wo.isObject(s))throw new Error("options is invalid");var o=s.featureIndex||0,e=s.multiFeatureIndex||0,r=s.geometryIndex||0,u=s.coordIndex||0,h=s.properties,g;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),h=h||i.features[o].properties,g=i.features[o].geometry;break;case"Feature":h=h||i.properties,g=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":g=i;break;default:throw new Error("geojson is invalid")}if(g===null)return null;var y=g.coordinates;switch(g.type){case"Point":return wo.point(y,h,s);case"MultiPoint":return e<0&&(e=y.length+e),wo.point(y[e],h,s);case"LineString":return u<0&&(u=y.length+u),wo.point(y[u],h,s);case"Polygon":return r<0&&(r=y.length+r),u<0&&(u=y[r].length+u),wo.point(y[r][u],h,s);case"MultiLineString":return e<0&&(e=y.length+e),u<0&&(u=y[e].length+u),wo.point(y[e][u],h,s);case"MultiPolygon":return e<0&&(e=y.length+e),r<0&&(r=y[e].length+r),u<0&&(u=y[e][r].length-u),wo.point(y[e][r][u],h,s)}throw new Error("geojson is invalid")}Fr.coordAll=V1;Fr.coordEach=Pu;Fr.coordReduce=F1;Fr.featureEach=Zf;Fr.featureReduce=A1;Fr.findPoint=U1;Fr.findSegment=G1;Fr.flattenEach=kc;Fr.flattenReduce=z1;Fr.geomEach=oh;Fr.geomReduce=B1;Fr.lineEach=jf;Fr.lineReduce=q1;Fr.propEach=Kf;Fr.propReduce=N1;Fr.segmentEach=Yf;Fr.segmentReduce=H1});var Wf=tt(lh=>{"use strict";Object.defineProperty(lh,"__esModule",{value:!0});var K1=sh();function ah(i){var s=[1/0,1/0,-1/0,-1/0];return K1.coordEach(i,function(o){s[0]>o[0]&&(s[0]=o[0]),s[1]>o[1]&&(s[1]=o[1]),s[2]<o[0]&&(s[2]=o[0]),s[3]<o[1]&&(s[3]=o[1])}),s}ah.default=ah;lh.default=ah});var Dc=tt((ED,uh)=>{var sa=Bf(),$f=rh(),Qf=sh(),Ul=Wf().default,Z1=Qf.featureEach,SD=Qf.coordEach,TD=$f.polygon,Xf=$f.featureCollection;function Jf(i){var s=new sa(i);return s.insert=function(o){if(o.type!=="Feature")throw new Error("invalid feature");return o.bbox=o.bbox?o.bbox:Ul(o),sa.prototype.insert.call(this,o)},s.load=function(o){var e=[];return Array.isArray(o)?o.forEach(function(r){if(r.type!=="Feature")throw new Error("invalid features");r.bbox=r.bbox?r.bbox:Ul(r),e.push(r)}):Z1(o,function(r){if(r.type!=="Feature")throw new Error("invalid features");r.bbox=r.bbox?r.bbox:Ul(r),e.push(r)}),sa.prototype.load.call(this,e)},s.remove=function(o,e){if(o.type!=="Feature")throw new Error("invalid feature");return o.bbox=o.bbox?o.bbox:Ul(o),sa.prototype.remove.call(this,o,e)},s.clear=function(){return sa.prototype.clear.call(this)},s.search=function(o){var e=sa.prototype.search.call(this,this.toBBox(o));return Xf(e)},s.collides=function(o){return sa.prototype.collides.call(this,this.toBBox(o))},s.all=function(){var o=sa.prototype.all.call(this);return Xf(o)},s.toJSON=function(){return sa.prototype.toJSON.call(this)},s.fromJSON=function(o){return sa.prototype.fromJSON.call(this,o)},s.toBBox=function(o){var e;if(o.bbox)e=o.bbox;else if(Array.isArray(o)&&o.length===4)e=o;else if(Array.isArray(o)&&o.length===6)e=[o[0],o[1],o[3],o[4]];else if(o.type==="Feature")e=Ul(o);else if(o.type==="FeatureCollection")e=Ul(o);else throw new Error("invalid geojson");return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},s}uh.exports=Jf;uh.exports.default=Jf});var gh=tt((FR,cm)=>{"use strict";var um=Object.prototype.toString;cm.exports=function(s){var o=um.call(s),e=o==="[object Arguments]";return e||(e=o!=="[object Array]"&&s!==null&&typeof s=="object"&&typeof s.length=="number"&&s.length>=0&&um.call(s.callee)==="[object Function]"),e}});var vm=tt((NR,ym)=>{"use strict";var _m;Object.keys||(Ru=Object.prototype.hasOwnProperty,_h=Object.prototype.toString,pm=gh(),yh=Object.prototype.propertyIsEnumerable,hm=!yh.call({toString:null},"toString"),dm=yh.call(function(){},"prototype"),Fu=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Fc=function(i){var s=i.constructor;return s&&s.prototype===i},fm={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},mm=function(){if(typeof window>"u")return!1;for(var i in window)try{if(!fm["$"+i]&&Ru.call(window,i)&&window[i]!==null&&typeof window[i]=="object")try{Fc(window[i])}catch{return!0}}catch{return!0}return!1}(),gm=function(i){if(typeof window>"u"||!mm)return Fc(i);try{return Fc(i)}catch{return!1}},_m=function(s){var o=s!==null&&typeof s=="object",e=_h.call(s)==="[object Function]",r=pm(s),u=o&&_h.call(s)==="[object String]",h=[];if(!o&&!e&&!r)throw new TypeError("Object.keys called on a non-object");var g=dm&&e;if(u&&s.length>0&&!Ru.call(s,0))for(var y=0;y<s.length;++y)h.push(String(y));if(r&&s.length>0)for(var w=0;w<s.length;++w)h.push(String(w));else for(var D in s)!(g&&D==="prototype")&&Ru.call(s,D)&&h.push(String(D));if(hm)for(var N=gm(s),A=0;A<Fu.length;++A)!(N&&Fu[A]==="constructor")&&Ru.call(s,Fu[A])&&h.push(Fu[A]);return h});var Ru,_h,pm,yh,hm,dm,Fu,Fc,fm,mm,gm;ym.exports=_m});var vh=tt((AR,wm)=>{"use strict";var av=Array.prototype.slice,lv=gh(),xm=Object.keys,Nc=xm?function(s){return xm(s)}:vm(),bm=Object.keys;Nc.shim=function(){if(Object.keys){var s=function(){var o=Object.keys(arguments);return o&&o.length===arguments.length}(1,2);s||(Object.keys=function(e){return lv(e)?bm(av.call(e)):bm(e)})}else Object.keys=Nc;return Object.keys||Nc};wm.exports=Nc});var xh=tt((VR,Cm)=>{"use strict";Cm.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var s={},o=Symbol("test"),e=Object(o);if(typeof o=="string"||Object.prototype.toString.call(o)!=="[object Symbol]"||Object.prototype.toString.call(e)!=="[object Symbol]")return!1;var r=42;s[o]=r;for(o in s)return!1;if(typeof Object.keys=="function"&&Object.keys(s).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(s).length!==0)return!1;var u=Object.getOwnPropertySymbols(s);if(u.length!==1||u[0]!==o||!Object.prototype.propertyIsEnumerable.call(s,o))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var h=Object.getOwnPropertyDescriptor(s,o);if(h.value!==r||h.enumerable!==!0)return!1}return!0}});var Ac=tt((BR,Im)=>{"use strict";var uv=xh();Im.exports=function(){return uv()&&!!Symbol.toStringTag}});var Tm=tt((zR,Sm)=>{"use strict";Sm.exports=Error});var Mm=tt((HR,Em)=>{"use strict";Em.exports=EvalError});var Lm=tt((qR,Om)=>{"use strict";Om.exports=RangeError});var km=tt((GR,Pm)=>{"use strict";Pm.exports=ReferenceError});var bh=tt((UR,Dm)=>{"use strict";Dm.exports=SyntaxError});var ml=tt((KR,Rm)=>{"use strict";Rm.exports=TypeError});var Nm=tt((ZR,Fm)=>{"use strict";Fm.exports=URIError});var Bm=tt((YR,Vm)=>{"use strict";var Am=typeof Symbol<"u"&&Symbol,cv=xh();Vm.exports=function(){return typeof Am!="function"||typeof Symbol!="function"||typeof Am("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:cv()}});var Hm=tt((jR,zm)=>{"use strict";var wh={__proto__:null,foo:{}},pv=Object;zm.exports=function(){return{__proto__:wh}.foo===wh.foo&&!(wh instanceof pv)}});var Um=tt((WR,Gm)=>{"use strict";var hv="Function.prototype.bind called on incompatible ",dv=Object.prototype.toString,fv=Math.max,mv="[object Function]",qm=function(s,o){for(var e=[],r=0;r<s.length;r+=1)e[r]=s[r];for(var u=0;u<o.length;u+=1)e[u+s.length]=o[u];return e},gv=function(s,o){for(var e=[],r=o||0,u=0;r<s.length;r+=1,u+=1)e[u]=s[r];return e},_v=function(i,s){for(var o="",e=0;e<i.length;e+=1)o+=i[e],e+1<i.length&&(o+=s);return o};Gm.exports=function(s){var o=this;if(typeof o!="function"||dv.apply(o)!==mv)throw new TypeError(hv+o);for(var e=gv(arguments,1),r,u=function(){if(this instanceof r){var D=o.apply(this,qm(e,arguments));return Object(D)===D?D:this}return o.apply(s,qm(e,arguments))},h=fv(0,o.length-e.length),g=[],y=0;y<h;y++)g[y]="$"+y;if(r=Function("binder","return function ("+_v(g,",")+"){ return binder.apply(this,arguments); }")(u),o.prototype){var w=function(){};w.prototype=o.prototype,r.prototype=new w,w.prototype=null}return r}});var Vc=tt((XR,Km)=>{"use strict";var yv=Um();Km.exports=Function.prototype.bind||yv});var Ym=tt(($R,Zm)=>{"use strict";var vv=Function.prototype.call,xv=Object.prototype.hasOwnProperty,bv=Vc();Zm.exports=bv.call(vv,xv)});var Xl=tt((QR,Qm)=>{"use strict";var ki,wv=Tm(),Cv=Mm(),Iv=Lm(),Sv=km(),Wl=bh(),jl=ml(),Tv=Nm(),$m=Function,Ch=function(i){try{return $m('"use strict"; return ('+i+").constructor;")()}catch{}},gl=Object.getOwnPropertyDescriptor;if(gl)try{gl({},"")}catch{gl=null}var Ih=function(){throw new jl},Ev=gl?function(){try{return arguments.callee,Ih}catch{try{return gl(arguments,"callee").get}catch{return Ih}}}():Ih,Zl=Bm()(),Mv=Hm()(),Jr=Object.getPrototypeOf||(Mv?function(i){return i.__proto__}:null),Yl={},Ov=typeof Uint8Array>"u"||!Jr?ki:Jr(Uint8Array),_l={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ki:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ki:ArrayBuffer,"%ArrayIteratorPrototype%":Zl&&Jr?Jr([][Symbol.iterator]()):ki,"%AsyncFromSyncIteratorPrototype%":ki,"%AsyncFunction%":Yl,"%AsyncGenerator%":Yl,"%AsyncGeneratorFunction%":Yl,"%AsyncIteratorPrototype%":Yl,"%Atomics%":typeof Atomics>"u"?ki:Atomics,"%BigInt%":typeof BigInt>"u"?ki:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ki:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ki:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ki:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":wv,"%eval%":eval,"%EvalError%":Cv,"%Float32Array%":typeof Float32Array>"u"?ki:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ki:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ki:FinalizationRegistry,"%Function%":$m,"%GeneratorFunction%":Yl,"%Int8Array%":typeof Int8Array>"u"?ki:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ki:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ki:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Zl&&Jr?Jr(Jr([][Symbol.iterator]())):ki,"%JSON%":typeof JSON=="object"?JSON:ki,"%Map%":typeof Map>"u"?ki:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Zl||!Jr?ki:Jr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ki:Promise,"%Proxy%":typeof Proxy>"u"?ki:Proxy,"%RangeError%":Iv,"%ReferenceError%":Sv,"%Reflect%":typeof Reflect>"u"?ki:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ki:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Zl||!Jr?ki:Jr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ki:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Zl&&Jr?Jr(""[Symbol.iterator]()):ki,"%Symbol%":Zl?Symbol:ki,"%SyntaxError%":Wl,"%ThrowTypeError%":Ev,"%TypedArray%":Ov,"%TypeError%":jl,"%Uint8Array%":typeof Uint8Array>"u"?ki:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ki:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ki:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ki:Uint32Array,"%URIError%":Tv,"%WeakMap%":typeof WeakMap>"u"?ki:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ki:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ki:WeakSet};if(Jr)try{null.error}catch(i){jm=Jr(Jr(i)),_l["%Error.prototype%"]=jm}var jm,Lv=function i(s){var o;if(s==="%AsyncFunction%")o=Ch("async function () {}");else if(s==="%GeneratorFunction%")o=Ch("function* () {}");else if(s==="%AsyncGeneratorFunction%")o=Ch("async function* () {}");else if(s==="%AsyncGenerator%"){var e=i("%AsyncGeneratorFunction%");e&&(o=e.prototype)}else if(s==="%AsyncIteratorPrototype%"){var r=i("%AsyncGenerator%");r&&Jr&&(o=Jr(r.prototype))}return _l[s]=o,o},Wm={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Nu=Vc(),Bc=Ym(),Pv=Nu.call(Function.call,Array.prototype.concat),kv=Nu.call(Function.apply,Array.prototype.splice),Xm=Nu.call(Function.call,String.prototype.replace),zc=Nu.call(Function.call,String.prototype.slice),Dv=Nu.call(Function.call,RegExp.prototype.exec),Rv=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Fv=/\\(\\)?/g,Nv=function(s){var o=zc(s,0,1),e=zc(s,-1);if(o==="%"&&e!=="%")throw new Wl("invalid intrinsic syntax, expected closing `%`");if(e==="%"&&o!=="%")throw new Wl("invalid intrinsic syntax, expected opening `%`");var r=[];return Xm(s,Rv,function(u,h,g,y){r[r.length]=g?Xm(y,Fv,"$1"):h||u}),r},Av=function(s,o){var e=s,r;if(Bc(Wm,e)&&(r=Wm[e],e="%"+r[0]+"%"),Bc(_l,e)){var u=_l[e];if(u===Yl&&(u=Lv(e)),typeof u>"u"&&!o)throw new jl("intrinsic "+s+" exists, but is not available. Please file an issue!");return{alias:r,name:e,value:u}}throw new Wl("intrinsic "+s+" does not exist!")};Qm.exports=function(s,o){if(typeof s!="string"||s.length===0)throw new jl("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof o!="boolean")throw new jl('"allowMissing" argument must be a boolean');if(Dv(/^%?[^%]*%?$/,s)===null)throw new Wl("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var e=Nv(s),r=e.length>0?e[0]:"",u=Av("%"+r+"%",o),h=u.name,g=u.value,y=!1,w=u.alias;w&&(r=w[0],kv(e,Pv([0,1],w)));for(var D=1,N=!0;D<e.length;D+=1){var A=e[D],Y=zc(A,0,1),X=zc(A,-1);if((Y==='"'||Y==="'"||Y==="`"||X==='"'||X==="'"||X==="`")&&Y!==X)throw new Wl("property names with quotes must have matching quotes");if((A==="constructor"||!N)&&(y=!0),r+="."+A,h="%"+r+"%",Bc(_l,h))g=_l[h];else if(g!=null){if(!(A in g)){if(!o)throw new jl("base intrinsic for "+s+" exists, but the property is not available.");return}if(gl&&D+1>=e.length){var j=gl(g,A);N=!!j,N&&"get"in j&&!("originalValue"in j.get)?g=j.get:g=g[A]}else N=Bc(g,A),g=g[A];N&&!y&&(_l[h]=g)}}return g}});var qc=tt((JR,Jm)=>{"use strict";var Vv=Xl(),Hc=Vv("%Object.defineProperty%",!0)||!1;if(Hc)try{Hc({},"a",{value:1})}catch{Hc=!1}Jm.exports=Hc});var Sh=tt((eF,eg)=>{"use strict";var Bv=Xl(),Gc=Bv("%Object.getOwnPropertyDescriptor%",!0);if(Gc)try{Gc([],"length")}catch{Gc=null}eg.exports=Gc});var Uc=tt((tF,ng)=>{"use strict";var tg=qc(),zv=bh(),$l=ml(),ig=Sh();ng.exports=function(s,o,e){if(!s||typeof s!="object"&&typeof s!="function")throw new $l("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new $l("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $l("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $l("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $l("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $l("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,h=arguments.length>5?arguments[5]:null,g=arguments.length>6?arguments[6]:!1,y=!!ig&&ig(s,o);if(tg)tg(s,o,{configurable:h===null&&y?y.configurable:!h,enumerable:r===null&&y?y.enumerable:!r,value:e,writable:u===null&&y?y.writable:!u});else if(g||!r&&!u&&!h)s[o]=e;else throw new zv("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var Kc=tt((iF,og)=>{"use strict";var Th=qc(),rg=function(){return!!Th};rg.hasArrayLengthDefineBug=function(){if(!Th)return null;try{return Th([],"length",{value:1}).length!==1}catch{return!0}};og.exports=rg});var cg=tt((nF,ug)=>{"use strict";var Hv=Xl(),sg=Uc(),qv=Kc()(),ag=Sh(),lg=ml(),Gv=Hv("%Math.floor%");ug.exports=function(s,o){if(typeof s!="function")throw new lg("`fn` is not a function");if(typeof o!="number"||o<0||o>4294967295||Gv(o)!==o)throw new lg("`length` must be a positive 32-bit integer");var e=arguments.length>2&&!!arguments[2],r=!0,u=!0;if("length"in s&&ag){var h=ag(s,"length");h&&!h.configurable&&(r=!1),h&&!h.writable&&(u=!1)}return(r||u||!e)&&(qv?sg(s,"length",o,!0,!0):sg(s,"length",o)),s}});var jc=tt((rF,Zc)=>{"use strict";var Eh=Vc(),Yc=Xl(),Uv=cg(),Kv=ml(),dg=Yc("%Function.prototype.apply%"),fg=Yc("%Function.prototype.call%"),mg=Yc("%Reflect.apply%",!0)||Eh.call(fg,dg),pg=qc(),Zv=Yc("%Math.max%");Zc.exports=function(s){if(typeof s!="function")throw new Kv("a function is required");var o=mg(Eh,fg,arguments);return Uv(o,1+Zv(0,s.length-(arguments.length-1)),!0)};var hg=function(){return mg(Eh,dg,arguments)};pg?pg(Zc.exports,"apply",{value:hg}):Zc.exports.apply=hg});var Mh=tt((oF,yg)=>{"use strict";var gg=Xl(),_g=jc(),Yv=_g(gg("String.prototype.indexOf"));yg.exports=function(s,o){var e=gg(s,!!o);return typeof e=="function"&&Yv(s,".prototype.")>-1?_g(e):e}});var bg=tt((sF,xg)=>{"use strict";var jv=Ac()(),Wv=Mh(),Oh=Wv("Object.prototype.toString"),Wc=function(s){return jv&&s&&typeof s=="object"&&Symbol.toStringTag in s?!1:Oh(s)==="[object Arguments]"},vg=function(s){return Wc(s)?!0:s!==null&&typeof s=="object"&&typeof s.length=="number"&&s.length>=0&&Oh(s)!=="[object Array]"&&Oh(s.callee)==="[object Function]"},Xv=function(){return Wc(arguments)}();Wc.isLegacyArguments=vg;xg.exports=Xv?Wc:vg});var Ql=tt((aF,Sg)=>{"use strict";var $v=vh(),Qv=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Jv=Object.prototype.toString,ex=Array.prototype.concat,wg=Uc(),tx=function(i){return typeof i=="function"&&Jv.call(i)==="[object Function]"},Cg=Kc()(),ix=function(i,s,o,e){if(s in i){if(e===!0){if(i[s]===o)return}else if(!tx(e)||!e())return}Cg?wg(i,s,o,!0):wg(i,s,o)},Ig=function(i,s){var o=arguments.length>2?arguments[2]:{},e=$v(s);Qv&&(e=ex.call(e,Object.getOwnPropertySymbols(s)));for(var r=0;r<e.length;r+=1)ix(i,e[r],s[e[r]],o[e[r]])};Ig.supportsDescriptors=!!Cg;Sg.exports=Ig});var Lh=tt((lF,Eg)=>{"use strict";var Tg=function(i){return i!==i};Eg.exports=function(s,o){return s===0&&o===0?1/s===1/o:!!(s===o||Tg(s)&&Tg(o))}});var Ph=tt((uF,Mg)=>{"use strict";var nx=Lh();Mg.exports=function(){return typeof Object.is=="function"?Object.is:nx}});var Lg=tt((cF,Og)=>{"use strict";var rx=Ph(),ox=Ql();Og.exports=function(){var s=rx();return ox(Object,{is:s},{is:function(){return Object.is!==s}}),s}});var Rg=tt((pF,Dg)=>{"use strict";var sx=Ql(),ax=jc(),lx=Lh(),Pg=Ph(),ux=Lg(),kg=ax(Pg(),Object);sx(kg,{getPolyfill:Pg,implementation:lx,shim:ux});Dg.exports=kg});var Bg=tt((hF,Vg)=>{"use strict";var kh=Mh(),Fg=Ac()(),Ng,Ag,Dh,Rh;Fg&&(Ng=kh("Object.prototype.hasOwnProperty"),Ag=kh("RegExp.prototype.exec"),Dh={},Xc=function(){throw Dh},Rh={toString:Xc,valueOf:Xc},typeof Symbol.toPrimitive=="symbol"&&(Rh[Symbol.toPrimitive]=Xc));var Xc,cx=kh("Object.prototype.toString"),px=Object.getOwnPropertyDescriptor,hx="[object RegExp]";Vg.exports=Fg?function(s){if(!s||typeof s!="object")return!1;var o=px(s,"lastIndex"),e=o&&Ng(o,"value");if(!e)return!1;try{Ag(s,Rh)}catch(r){return r===Dh}}:function(s){return!s||typeof s!="object"&&typeof s!="function"?!1:cx(s)===hx}});var Hg=tt((dF,zg)=>{"use strict";var Vu=function(){return typeof function(){}.name=="string"},Au=Object.getOwnPropertyDescriptor;if(Au)try{Au([],"length")}catch{Au=null}Vu.functionsHaveConfigurableNames=function(){if(!Vu()||!Au)return!1;var s=Au(function(){},"name");return!!s&&!!s.configurable};var dx=Function.prototype.bind;Vu.boundFunctionsHaveNames=function(){return Vu()&&typeof dx=="function"&&function(){}.bind().name!==""};zg.exports=Vu});var Ug=tt((fF,Gg)=>{"use strict";var qg=Uc(),fx=Kc()(),mx=Hg().functionsHaveConfigurableNames(),gx=ml();Gg.exports=function(s,o){if(typeof s!="function")throw new gx("`fn` is not a function");var e=arguments.length>2&&!!arguments[2];return(!e||mx)&&(fx?qg(s,"name",o,!0,!0):qg(s,"name",o)),s}});var Fh=tt((mF,Kg)=>{"use strict";var _x=Ug(),yx=ml(),vx=Object;Kg.exports=_x(function(){if(this==null||this!==vx(this))throw new yx("RegExp.prototype.flags getter called on non-object");var s="";return this.hasIndices&&(s+="d"),this.global&&(s+="g"),this.ignoreCase&&(s+="i"),this.multiline&&(s+="m"),this.dotAll&&(s+="s"),this.unicode&&(s+="u"),this.unicodeSets&&(s+="v"),this.sticky&&(s+="y"),s},"get flags",!0)});var Nh=tt((gF,Zg)=>{"use strict";var xx=Fh(),bx=Ql().supportsDescriptors,wx=Object.getOwnPropertyDescriptor;Zg.exports=function(){if(bx&&/a/mig.flags==="gim"){var s=wx(RegExp.prototype,"flags");if(s&&typeof s.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var o="",e={};if(Object.defineProperty(e,"hasIndices",{get:function(){o+="d"}}),Object.defineProperty(e,"sticky",{get:function(){o+="y"}}),o==="dy")return s.get}}return xx}});var Wg=tt((_F,jg)=>{"use strict";var Cx=Ql().supportsDescriptors,Ix=Nh(),Sx=Object.getOwnPropertyDescriptor,Tx=Object.defineProperty,Ex=TypeError,Yg=Object.getPrototypeOf,Mx=/a/;jg.exports=function(){if(!Cx||!Yg)throw new Ex("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var s=Ix(),o=Yg(Mx),e=Sx(o,"flags");return(!e||e.get!==s)&&Tx(o,"flags",{configurable:!0,enumerable:!1,get:s}),s}});var Jg=tt((yF,Qg)=>{"use strict";var Ox=Ql(),Lx=jc(),Px=Fh(),Xg=Nh(),kx=Wg(),$g=Lx(Xg());Ox($g,{getPolyfill:Xg,implementation:Px,shim:kx});Qg.exports=$g});var t0=tt((vF,e0)=>{"use strict";var Dx=Date.prototype.getDay,Rx=function(s){try{return Dx.call(s),!0}catch{return!1}},Fx=Object.prototype.toString,Nx="[object Date]",Ax=Ac()();e0.exports=function(s){return typeof s!="object"||s===null?!1:Ax?Rx(s):Fx.call(s)===Nx}});var Ah=tt((xF,h0)=>{var i0=vh(),n0=bg(),r0=Rg(),o0=Bg(),s0=Jg(),a0=t0(),l0=Date.prototype.getTime;function p0(i,s,o){var e=o||{};return(e.strict?r0(i,s):i===s)?!0:!i||!s||typeof i!="object"&&typeof s!="object"?e.strict?r0(i,s):i==s:Vx(i,s,e)}function u0(i){return i==null}function c0(i){return!(!i||typeof i!="object"||typeof i.length!="number"||typeof i.copy!="function"||typeof i.slice!="function"||i.length>0&&typeof i[0]!="number")}function Vx(i,s,o){var e,r;if(typeof i!=typeof s||u0(i)||u0(s)||i.prototype!==s.prototype||n0(i)!==n0(s))return!1;var u=o0(i),h=o0(s);if(u!==h)return!1;if(u||h)return i.source===s.source&&s0(i)===s0(s);if(a0(i)&&a0(s))return l0.call(i)===l0.call(s);var g=c0(i),y=c0(s);if(g!==y)return!1;if(g||y){if(i.length!==s.length)return!1;for(e=0;e<i.length;e++)if(i[e]!==s[e])return!1;return!0}if(typeof i!=typeof s)return!1;try{var w=i0(i),D=i0(s)}catch{return!1}if(w.length!==D.length)return!1;for(w.sort(),D.sort(),e=w.length-1;e>=0;e--)if(w[e]!=D[e])return!1;for(e=w.length-1;e>=0;e--)if(r=w[e],!p0(i[r],s[r],o))return!1;return!0}h0.exports=p0});var Wh=tt((TN,v0)=>{var Mb=Ah(),la=function(i){this.precision=i&&i.precision?i.precision:17,this.direction=i&&i.direction?i.direction:!1,this.pseudoNode=i&&i.pseudoNode?i.pseudoNode:!1,this.objectComparator=i&&i.objectComparator?i.objectComparator:Ob};la.prototype.compare=function(i,s){if(i.type!==s.type||!y0(i,s))return!1;switch(i.type){case"Point":return this.compareCoord(i.coordinates,s.coordinates);case"LineString":return this.compareLine(i.coordinates,s.coordinates,0,!1);case"Polygon":return this.comparePolygon(i,s);case"Feature":return this.compareFeature(i,s);default:if(i.type.indexOf("Multi")===0){var o=this,e=_0(i),r=_0(s);return e.every(function(u){return this.some(function(h){return o.compare(u,h)})},r)}}return!1};function _0(i){return i.coordinates.map(function(s){return{type:i.type.replace("Multi",""),coordinates:s}})}function y0(i,s){return i.hasOwnProperty("coordinates")?i.coordinates.length===s.coordinates.length:i.length===s.length}la.prototype.compareCoord=function(i,s){if(i.length!==s.length)return!1;for(var o=0;o<i.length;o++)if(i[o].toFixed(this.precision)!==s[o].toFixed(this.precision))return!1;return!0};la.prototype.compareLine=function(i,s,o,e){if(!y0(i,s))return!1;var r=this.pseudoNode?i:this.removePseudo(i),u=this.pseudoNode?s:this.removePseudo(s);if(!(e&&!this.compareCoord(r[0],u[0])&&(u=this.fixStartIndex(u,r),!u))){var h=this.compareCoord(r[o],u[o]);return this.direction||h?this.comparePath(r,u):this.compareCoord(r[o],u[u.length-(1+o)])?this.comparePath(r.slice().reverse(),u):!1}};la.prototype.fixStartIndex=function(i,s){for(var o,e=-1,r=0;r<i.length;r++)if(this.compareCoord(i[r],s[0])){e=r;break}return e>=0&&(o=[].concat(i.slice(e,i.length),i.slice(1,e+1))),o};la.prototype.comparePath=function(i,s){var o=this;return i.every(function(e,r){return o.compareCoord(e,this[r])},s)};la.prototype.comparePolygon=function(i,s){if(this.compareLine(i.coordinates[0],s.coordinates[0],1,!0)){var o=i.coordinates.slice(1,i.coordinates.length),e=s.coordinates.slice(1,s.coordinates.length),r=this;return o.every(function(u){return this.some(function(h){return r.compareLine(u,h,1,!0)})},e)}else return!1};la.prototype.compareFeature=function(i,s){return i.id!==s.id||!this.objectComparator(i.properties,s.properties)||!this.compareBBox(i,s)?!1:this.compare(i.geometry,s.geometry)};la.prototype.compareBBox=function(i,s){return!!(!i.bbox&&!s.bbox||i.bbox&&s.bbox&&this.compareCoord(i.bbox,s.bbox))};la.prototype.removePseudo=function(i){return i};function Ob(i,s){return Mb(i,s,{strict:!0})}v0.exports=la});var x0=tt((VN,Jc)=>{function Ya(i,s,o,e){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(i,s,o,e)}Ya.prototype.run=function(i,s,o,e){this._init(i,s,o,e);for(var r=0;r<this._datasetLength;r++)if(this._visited[r]!==1){this._visited[r]=1;var u=this._regionQuery(r);if(u.length<this.minPts)this.noise.push(r);else{var h=this.clusters.length;this.clusters.push([]),this._addToCluster(r,h),this._expandCluster(h,u)}}return this.clusters};Ya.prototype._init=function(i,s,o,e){if(i){if(!(i instanceof Array))throw Error("Dataset must be of type array, "+typeof i+" given");this.dataset=i,this.clusters=[],this.noise=[],this._datasetLength=i.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}s&&(this.epsilon=s),o&&(this.minPts=o),e&&(this.distance=e)};Ya.prototype._expandCluster=function(i,s){for(var o=0;o<s.length;o++){var e=s[o];if(this._visited[e]!==1){this._visited[e]=1;var r=this._regionQuery(e);r.length>=this.minPts&&(s=this._mergeArrays(s,r))}this._assigned[e]!==1&&this._addToCluster(e,i)}};Ya.prototype._addToCluster=function(i,s){this.clusters[s].push(i),this._assigned[i]=1};Ya.prototype._regionQuery=function(i){for(var s=[],o=0;o<this._datasetLength;o++){var e=this.distance(this.dataset[i],this.dataset[o]);e<this.epsilon&&s.push(o)}return s};Ya.prototype._mergeArrays=function(i,s){for(var o=s.length,e=0;e<o;e++){var r=s[e];i.indexOf(r)<0&&i.push(r)}return i};Ya.prototype._euclideanDistance=function(i,s){for(var o=0,e=Math.min(i.length,s.length);e--;)o+=(i[e]-s[e])*(i[e]-s[e]);return Math.sqrt(o)};typeof Jc<"u"&&Jc.exports&&(Jc.exports=Ya)});var b0=tt((BN,ep)=>{function ja(i,s,o){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(i,s,o)}ja.prototype.init=function(i,s,o){this.assignments=[],this.centroids=[],typeof i<"u"&&(this.dataset=i),typeof s<"u"&&(this.k=s),typeof o<"u"&&(this.distance=o)};ja.prototype.run=function(i,s){this.init(i,s);for(var o=this.dataset.length,e=0;e<this.k;e++)this.centroids[e]=this.randomCentroid();for(var r=!0;r;){r=this.assign();for(var u=0;u<this.k;u++){for(var h=new Array(D),g=0,y=0;y<D;y++)h[y]=0;for(var w=0;w<o;w++){var D=this.dataset[w].length;if(u===this.assignments[w]){for(var y=0;y<D;y++)h[y]+=this.dataset[w][y];g++}}if(g>0){for(var y=0;y<D;y++)h[y]/=g;this.centroids[u]=h}else this.centroids[u]=this.randomCentroid(),r=!0}}return this.getClusters()};ja.prototype.randomCentroid=function(){var i=this.dataset.length-1,s,o;do o=Math.round(Math.random()*i),s=this.dataset[o];while(this.centroids.indexOf(s)>=0);return s};ja.prototype.assign=function(){for(var i=!1,s=this.dataset.length,o,e=0;e<s;e++)o=this.argmin(this.dataset[e],this.centroids,this.distance),o!=this.assignments[e]&&(this.assignments[e]=o,i=!0);return i};ja.prototype.getClusters=function(){for(var i=new Array(this.k),s,o=0;o<this.assignments.length;o++)s=this.assignments[o],typeof i[s]>"u"&&(i[s]=[]),i[s].push(o);return i};ja.prototype.argmin=function(i,s,o){for(var e=Number.MAX_VALUE,r=0,u=s.length,h,g=0;g<u;g++)h=o(i,s[g]),h<e&&(e=h,r=g);return r};ja.prototype.distance=function(i,s){for(var o=0,e=Math.min(i.length,s.length);e--;){var r=i[e]-s[e];o+=r*r}return Math.sqrt(o)};typeof ep<"u"&&ep.exports&&(ep.exports=ja)});var Xh=tt((zN,tp)=>{function ua(i,s,o){this._queue=[],this._priorities=[],this._sorting="desc",this._init(i,s,o)}ua.prototype.insert=function(i,s){for(var o=this._queue.length,e=o;e--;){var r=this._priorities[e];this._sorting==="desc"?s>r&&(o=e):s<r&&(o=e)}this._insertAt(i,s,o)};ua.prototype.remove=function(i){for(var s=this._queue.length;s--;){var o=this._queue[s];if(i===o){this._queue.splice(s,1),this._priorities.splice(s,1);break}}};ua.prototype.forEach=function(i){this._queue.forEach(i)};ua.prototype.getElements=function(){return this._queue};ua.prototype.getElementPriority=function(i){return this._priorities[i]};ua.prototype.getPriorities=function(){return this._priorities};ua.prototype.getElementsWithPriorities=function(){for(var i=[],s=0,o=this._queue.length;s<o;s++)i.push([this._queue[s],this._priorities[s]]);return i};ua.prototype._init=function(i,s,o){if(i&&s){if(this._queue=[],this._priorities=[],i.length!==s.length)throw new Error("Arrays must have the same length");for(var e=0;e<i.length;e++)this.insert(i[e],s[e])}o&&(this._sorting=o)};ua.prototype._insertAt=function(i,s,o){this._queue.length===o?(this._queue.push(i),this._priorities.push(s)):(this._queue.splice(o,0,i),this._priorities.splice(o,0,s))};typeof tp<"u"&&tp.exports&&(tp.exports=ua)});var C0=tt((HN,eu)=>{typeof eu<"u"&&eu.exports&&(w0=Xh());var w0;function Oa(i,s,o,e){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(i,s,o,e)}Oa.prototype.run=function(i,s,o,e){this._init(i,s,o,e);for(var r=0,u=this.dataset.length;r<u;r++)if(this._processed[r]!==1){this._processed[r]=1,this.clusters.push([r]);var h=this.clusters.length-1;this._orderedList.push(r);var g=new w0(null,null,"asc"),y=this._regionQuery(r);this._distanceToCore(r)!==void 0&&(this._updateQueue(r,y,g),this._expandCluster(h,g))}return this.clusters};Oa.prototype.getReachabilityPlot=function(){for(var i=[],s=0,o=this._orderedList.length;s<o;s++){var e=this._orderedList[s],r=this._reachability[e];i.push([e,r])}return i};Oa.prototype._init=function(i,s,o,e){if(i){if(!(i instanceof Array))throw Error("Dataset must be of type array, "+typeof i+" given");this.dataset=i,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}s&&(this.epsilon=s),o&&(this.minPts=o),e&&(this.distance=e)};Oa.prototype._updateQueue=function(i,s,o){var e=this;this._coreDistance=this._distanceToCore(i),s.forEach(function(r){if(e._processed[r]===void 0){var u=e.distance(e.dataset[i],e.dataset[r]),h=Math.max(e._coreDistance,u);e._reachability[r]===void 0?(e._reachability[r]=h,o.insert(r,h)):h<e._reachability[r]&&(e._reachability[r]=h,o.remove(r),o.insert(r,h))}})};Oa.prototype._expandCluster=function(i,s){for(var o=s.getElements(),e=0,r=o.length;e<r;e++){var u=o[e];if(this._processed[u]===void 0){var h=this._regionQuery(u);this._processed[u]=1,this.clusters[i].push(u),this._orderedList.push(u),this._distanceToCore(u)!==void 0&&(this._updateQueue(u,h,s),this._expandCluster(i,s))}}};Oa.prototype._distanceToCore=function(i){for(var s=this.epsilon,o=0;o<s;o++){var e=this._regionQuery(i,o);if(e.length>=this.minPts)return o}};Oa.prototype._regionQuery=function(i,s){s=s||this.epsilon;for(var o=[],e=0,r=this.dataset.length;e<r;e++)this.distance(this.dataset[i],this.dataset[e])<s&&o.push(e);return o};Oa.prototype._euclideanDistance=function(i,s){for(var o=0,e=Math.min(i.length,s.length);e--;)o+=(i[e]-s[e])*(i[e]-s[e]);return Math.sqrt(o)};typeof eu<"u"&&eu.exports&&(eu.exports=Oa)});var I0=tt((qN,ip)=>{typeof ip<"u"&&ip.exports&&(ip.exports={DBSCAN:x0(),KMEANS:b0(),OPTICS:C0(),PriorityQueue:Xh()})});var $h=tt((jN,T0)=>{"use strict";T0.exports={eudist:function(s,o,e){for(var r=s.length,u=0,h=0;h<r;h++){var g=(s[h]||0)-(o[h]||0);u+=g*g}return e?Math.sqrt(u):u},mandist:function(s,o,e){for(var r=s.length,u=0,h=0;h<r;h++)u+=Math.abs((s[h]||0)-(o[h]||0));return e?Math.sqrt(u):u},dist:function(s,o,e){var r=Math.abs(s-o);return e?r:r*r}}});var O0=tt((WN,M0)=>{"use strict";var E0=$h(),Fb=E0.eudist,Nb=E0.dist;M0.exports={kmrand:function(s,o){for(var e={},r=[],u=o<<2,h=s.length,g=s[0].length>0;r.length<o&&u-- >0;){var y=s[Math.floor(Math.random()*h)],w=g?y.join("_"):""+y;e[w]||(e[w]=!0,r.push(y))}if(r.length<o)throw new Error("Error initializating clusters");return r},kmpp:function(s,o){var e=s[0].length?Fb:Nb,r=[],u=s.length,h=s[0].length>0,g={},y=s[Math.floor(Math.random()*u)],w=h?y.join("_"):""+y;for(r.push(y),g[w]=!0;r.length<o;){for(var D=[],N=r.length,A=0,Y=[],X=0;X<u;X++){for(var j=1/0,E=0;E<N;E++){var O=e(s[X],r[E]);O<=j&&(j=O)}D[X]=j}for(var F=0;F<u;F++)A+=D[F];for(var R=0;R<u;R++)Y[R]={i:R,v:s[R],pr:D[R]/A,cs:0};Y.sort(function(se,B){return se.pr-B.pr}),Y[0].cs=Y[0].pr;for(var Z=1;Z<u;Z++)Y[Z].cs=Y[Z-1].cs+Y[Z].pr;for(var ee=Math.random(),re=0;re<u-1&&Y[re++].cs<ee;);r.push(Y[re-1].v)}return r}}});var R0=tt((QN,D0)=>{"use strict";var Qh=$h(),k0=O0(),Ab=Qh.eudist,XN=Qh.mandist,$N=Qh.dist,Vb=k0.kmrand,Bb=k0.kmpp,L0=1e4;function P0(i,s,o){o=o||[];for(var e=0;e<i;e++)o[e]=s;return o}function zb(i,s,o,e){var r=[],u=[],h=[],g=[],y=!1,w=e||L0,D=i.length,N=i[0].length,A=N>0,Y=[];if(o)o=="kmrand"?r=Vb(i,s):o=="kmpp"?r=Bb(i,s):r=o;else for(var X={};r.length<s;){var j=Math.floor(Math.random()*D);X[j]||(X[j]=!0,r.push(i[j]))}do{P0(s,0,Y);for(var E=0;E<D;E++){for(var O=1/0,F=0,R=0;R<s;R++){var g=A?Ab(i[E],r[R]):Math.abs(i[E]-r[R]);g<=O&&(O=g,F=R)}h[E]=F,Y[F]++}for(var Z=[],u=[],ee=0,re=0;re<s;re++)Z[re]=A?P0(N,0,Z[re]):0,u[re]=r[re];if(A){for(var se=0;se<s;se++)r[se]=[];for(var B=0;B<D;B++)for(var _e=h[B],Te=Z[_e],Pe=i[B],W=0;W<N;W++)Te[W]+=Pe[W];y=!0;for(var Bt=0;Bt<s;Bt++){for(var Ie=r[Bt],ct=Z[Bt],Be=u[Bt],zt=Y[Bt],ve=0;ve<N;ve++)Ie[ve]=ct[ve]/zt||0;if(y){for(var Ae=0;Ae<N;Ae++)if(Be[Ae]!=Ie[Ae]){y=!1;break}}}}else{for(var $=0;$<D;$++){var xt=h[$];Z[xt]+=i[$]}for(var Qe=0;Qe<s;Qe++)r[Qe]=Z[Qe]/Y[Qe]||0;y=!0;for(var st=0;st<s;st++)if(u[st]!=r[st]){y=!1;break}}y=y||--w<=0}while(!y);return{it:L0-w,k:s,idxs:h,centroids:r}}D0.exports=zb});var ou=tt((rd,od)=>{(function(i,s){typeof rd=="object"&&typeof od<"u"?od.exports=s():typeof define=="function"&&define.amd?define(s):(i=typeof globalThis<"u"?globalThis:i||self,i.polygonClipping=s())})(rd,function(){"use strict";function i(oe,C){var P={label:0,sent:function(){if(q[0]&1)throw q[1];return q[1]},trys:[],ops:[]},z,G,q,de;return de={next:ae(0),throw:ae(1),return:ae(2)},typeof Symbol=="function"&&(de[Symbol.iterator]=function(){return this}),de;function ae(me){return function(ue){return be([me,ue])}}function be(me){if(z)throw new TypeError("Generator is already executing.");for(;P;)try{if(z=1,G&&(q=me[0]&2?G.return:me[0]?G.throw||((q=G.return)&&q.call(G),0):G.next)&&!(q=q.call(G,me[1])).done)return q;switch(G=0,q&&(me=[me[0]&2,q.value]),me[0]){case 0:case 1:q=me;break;case 4:return P.label++,{value:me[1],done:!1};case 5:P.label++,G=me[1],me=[0];continue;case 7:me=P.ops.pop(),P.trys.pop();continue;default:if(q=P.trys,!(q=q.length>0&&q[q.length-1])&&(me[0]===6||me[0]===2)){P=0;continue}if(me[0]===3&&(!q||me[1]>q[0]&&me[1]<q[3])){P.label=me[1];break}if(me[0]===6&&P.label<q[1]){P.label=q[1],q=me;break}if(q&&P.label<q[2]){P.label=q[2],P.ops.push(me);break}q[2]&&P.ops.pop(),P.trys.pop();continue}me=C.call(oe,P)}catch(ue){me=[6,ue],G=0}finally{z=q=0}if(me[0]&5)throw me[1];return{value:me[0]?me[1]:void 0,done:!0}}}var s=function(){function oe(C,P){this.next=null,this.key=C,this.data=P,this.left=null,this.right=null}return oe}();function o(oe,C){return oe>C?1:oe<C?-1:0}function e(oe,C,P){for(var z=new s(null,null),G=z,q=z;;){var de=P(oe,C.key);if(de<0){if(C.left===null)break;if(P(oe,C.left.key)<0){var ae=C.left;if(C.left=ae.right,ae.right=C,C=ae,C.left===null)break}q.left=C,q=C,C=C.left}else if(de>0){if(C.right===null)break;if(P(oe,C.right.key)>0){var ae=C.right;if(C.right=ae.left,ae.left=C,C=ae,C.right===null)break}G.right=C,G=C,C=C.right}else break}return G.right=C.left,q.left=C.right,C.left=z.right,C.right=z.left,C}function r(oe,C,P,z){var G=new s(oe,C);if(P===null)return G.left=G.right=null,G;P=e(oe,P,z);var q=z(oe,P.key);return q<0?(G.left=P.left,G.right=P,P.left=null):q>=0&&(G.right=P.right,G.left=P,P.right=null),G}function u(oe,C,P){var z=null,G=null;if(C){C=e(oe,C,P);var q=P(C.key,oe);q===0?(z=C.left,G=C.right):q<0?(G=C.right,C.right=null,z=C):(z=C.left,C.left=null,G=C)}return{left:z,right:G}}function h(oe,C,P){return C===null?oe:(oe===null||(C=e(oe.key,C,P),C.left=oe),C)}function g(oe,C,P,z,G){if(oe){z(""+C+(P?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ")+G(oe)+`
`);var q=C+(P?"    ":"\u2502   ");oe.left&&g(oe.left,q,!1,z,G),oe.right&&g(oe.right,q,!0,z,G)}}var y=function(){function oe(C){C===void 0&&(C=o),this._root=null,this._size=0,this._comparator=C}return oe.prototype.insert=function(C,P){return this._size++,this._root=r(C,P,this._root,this._comparator)},oe.prototype.add=function(C,P){var z=new s(C,P);this._root===null&&(z.left=z.right=null,this._size++,this._root=z);var G=this._comparator,q=e(C,this._root,G),de=G(C,q.key);return de===0?this._root=q:(de<0?(z.left=q.left,z.right=q,q.left=null):de>0&&(z.right=q.right,z.left=q,q.right=null),this._size++,this._root=z),this._root},oe.prototype.remove=function(C){this._root=this._remove(C,this._root,this._comparator)},oe.prototype._remove=function(C,P,z){var G;if(P===null)return null;P=e(C,P,z);var q=z(C,P.key);return q===0?(P.left===null?G=P.right:(G=e(C,P.left,z),G.right=P.right),this._size--,G):P},oe.prototype.pop=function(){var C=this._root;if(C){for(;C.left;)C=C.left;return this._root=e(C.key,this._root,this._comparator),this._root=this._remove(C.key,this._root,this._comparator),{key:C.key,data:C.data}}return null},oe.prototype.findStatic=function(C){for(var P=this._root,z=this._comparator;P;){var G=z(C,P.key);if(G===0)return P;G<0?P=P.left:P=P.right}return null},oe.prototype.find=function(C){return this._root&&(this._root=e(C,this._root,this._comparator),this._comparator(C,this._root.key)!==0)?null:this._root},oe.prototype.contains=function(C){for(var P=this._root,z=this._comparator;P;){var G=z(C,P.key);if(G===0)return!0;G<0?P=P.left:P=P.right}return!1},oe.prototype.forEach=function(C,P){for(var z=this._root,G=[],q=!1;!q;)z!==null?(G.push(z),z=z.left):G.length!==0?(z=G.pop(),C.call(P,z),z=z.right):q=!0;return this},oe.prototype.range=function(C,P,z,G){for(var q=[],de=this._comparator,ae=this._root,be;q.length!==0||ae;)if(ae)q.push(ae),ae=ae.left;else{if(ae=q.pop(),be=de(ae.key,P),be>0)break;if(de(ae.key,C)>=0&&z.call(G,ae))return this;ae=ae.right}return this},oe.prototype.keys=function(){var C=[];return this.forEach(function(P){var z=P.key;return C.push(z)}),C},oe.prototype.values=function(){var C=[];return this.forEach(function(P){var z=P.data;return C.push(z)}),C},oe.prototype.min=function(){return this._root?this.minNode(this._root).key:null},oe.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},oe.prototype.minNode=function(C){if(C===void 0&&(C=this._root),C)for(;C.left;)C=C.left;return C},oe.prototype.maxNode=function(C){if(C===void 0&&(C=this._root),C)for(;C.right;)C=C.right;return C},oe.prototype.at=function(C){for(var P=this._root,z=!1,G=0,q=[];!z;)if(P)q.push(P),P=P.left;else if(q.length>0){if(P=q.pop(),G===C)return P;G++,P=P.right}else z=!0;return null},oe.prototype.next=function(C){var P=this._root,z=null;if(C.right){for(z=C.right;z.left;)z=z.left;return z}for(var G=this._comparator;P;){var q=G(C.key,P.key);if(q===0)break;q<0?(z=P,P=P.left):P=P.right}return z},oe.prototype.prev=function(C){var P=this._root,z=null;if(C.left!==null){for(z=C.left;z.right;)z=z.right;return z}for(var G=this._comparator;P;){var q=G(C.key,P.key);if(q===0)break;q<0?P=P.left:(z=P,P=P.right)}return z},oe.prototype.clear=function(){return this._root=null,this._size=0,this},oe.prototype.toList=function(){return N(this._root)},oe.prototype.load=function(C,P,z){P===void 0&&(P=[]),z===void 0&&(z=!1);var G=C.length,q=this._comparator;if(z&&X(C,P,0,G-1,q),this._root===null)this._root=w(C,P,0,G),this._size=G;else{var de=Y(this.toList(),D(C,P),q);G=this._size+G,this._root=A({head:de},0,G)}return this},oe.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(oe.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(oe.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),oe.prototype.toString=function(C){C===void 0&&(C=function(z){return String(z.key)});var P=[];return g(this._root,"",!0,function(z){return P.push(z)},C),P.join("")},oe.prototype.update=function(C,P,z){var G=this._comparator,q=u(C,this._root,G),de=q.left,ae=q.right;G(C,P)<0?ae=r(P,z,ae,G):de=r(P,z,de,G),this._root=h(de,ae,G)},oe.prototype.split=function(C){return u(C,this._root,this._comparator)},oe.prototype[Symbol.iterator]=function(){var C,P,z;return i(this,function(G){switch(G.label){case 0:C=this._root,P=[],z=!1,G.label=1;case 1:return z?[3,6]:C===null?[3,2]:(P.push(C),C=C.left,[3,5]);case 2:return P.length===0?[3,4]:(C=P.pop(),[4,C]);case 3:return G.sent(),C=C.right,[3,5];case 4:z=!0,G.label=5;case 5:return[3,1];case 6:return[2]}})},oe}();function w(oe,C,P,z){var G=z-P;if(G>0){var q=P+Math.floor(G/2),de=oe[q],ae=C[q],be=new s(de,ae);return be.left=w(oe,C,P,q),be.right=w(oe,C,q+1,z),be}return null}function D(oe,C){for(var P=new s(null,null),z=P,G=0;G<oe.length;G++)z=z.next=new s(oe[G],C[G]);return z.next=null,P.next}function N(oe){for(var C=oe,P=[],z=!1,G=new s(null,null),q=G;!z;)C?(P.push(C),C=C.left):P.length>0?(C=q=q.next=P.pop(),C=C.right):z=!0;return q.next=null,G.next}function A(oe,C,P){var z=P-C;if(z>0){var G=C+Math.floor(z/2),q=A(oe,C,G),de=oe.head;return de.left=q,oe.head=oe.head.next,de.right=A(oe,G+1,P),de}return null}function Y(oe,C,P){for(var z=new s(null,null),G=z,q=oe,de=C;q!==null&&de!==null;)P(q.key,de.key)<0?(G.next=q,q=q.next):(G.next=de,de=de.next),G=G.next;return q!==null?G.next=q:de!==null&&(G.next=de),z.next}function X(oe,C,P,z,G){if(!(P>=z)){for(var q=oe[P+z>>1],de=P-1,ae=z+1;;){do de++;while(G(oe[de],q)<0);do ae--;while(G(oe[ae],q)>0);if(de>=ae)break;var be=oe[de];oe[de]=oe[ae],oe[ae]=be,be=C[de],C[de]=C[ae],C[ae]=be}X(oe,C,P,ae,G),X(oe,C,ae+1,z,G)}}let j=(oe,C)=>oe.ll.x<=C.x&&C.x<=oe.ur.x&&oe.ll.y<=C.y&&C.y<=oe.ur.y,E=(oe,C)=>{if(C.ur.x<oe.ll.x||oe.ur.x<C.ll.x||C.ur.y<oe.ll.y||oe.ur.y<C.ll.y)return null;let P=oe.ll.x<C.ll.x?C.ll.x:oe.ll.x,z=oe.ur.x<C.ur.x?oe.ur.x:C.ur.x,G=oe.ll.y<C.ll.y?C.ll.y:oe.ll.y,q=oe.ur.y<C.ur.y?oe.ur.y:C.ur.y;return{ll:{x:P,y:G},ur:{x:z,y:q}}},O=Number.EPSILON;O===void 0&&(O=Math.pow(2,-52));let F=O*O,R=(oe,C)=>{if(-O<oe&&oe<O&&-O<C&&C<O)return 0;let P=oe-C;return P*P<F*oe*C?0:oe<C?-1:1};class Z{constructor(){this.reset()}reset(){this.xRounder=new ee,this.yRounder=new ee}round(C,P){return{x:this.xRounder.round(C),y:this.yRounder.round(P)}}}class ee{constructor(){this.tree=new y,this.round(0)}round(C){let P=this.tree.add(C),z=this.tree.prev(P);if(z!==null&&R(P.key,z.key)===0)return this.tree.remove(C),z.key;let G=this.tree.next(P);return G!==null&&R(P.key,G.key)===0?(this.tree.remove(C),G.key):C}}let re=new Z,se=11102230246251565e-32,B=134217729,_e=(3+8*se)*se;function Te(oe,C,P,z,G){let q,de,ae,be,me=C[0],ue=z[0],pe=0,Ce=0;ue>me==ue>-me?(q=me,me=C[++pe]):(q=ue,ue=z[++Ce]);let xe=0;if(pe<oe&&Ce<P)for(ue>me==ue>-me?(de=me+q,ae=q-(de-me),me=C[++pe]):(de=ue+q,ae=q-(de-ue),ue=z[++Ce]),q=de,ae!==0&&(G[xe++]=ae);pe<oe&&Ce<P;)ue>me==ue>-me?(de=q+me,be=de-q,ae=q-(de-be)+(me-be),me=C[++pe]):(de=q+ue,be=de-q,ae=q-(de-be)+(ue-be),ue=z[++Ce]),q=de,ae!==0&&(G[xe++]=ae);for(;pe<oe;)de=q+me,be=de-q,ae=q-(de-be)+(me-be),me=C[++pe],q=de,ae!==0&&(G[xe++]=ae);for(;Ce<P;)de=q+ue,be=de-q,ae=q-(de-be)+(ue-be),ue=z[++Ce],q=de,ae!==0&&(G[xe++]=ae);return(q!==0||xe===0)&&(G[xe++]=q),xe}function Pe(oe,C){let P=C[0];for(let z=1;z<oe;z++)P+=C[z];return P}function W(oe){return new Float64Array(oe)}let Bt=(3+16*se)*se,Ie=(2+12*se)*se,ct=(9+64*se)*se*se,Be=W(4),zt=W(8),ve=W(12),Ae=W(16),$=W(4);function xt(oe,C,P,z,G,q,de){let ae,be,me,ue,pe,Ce,xe,gt,pt,Tt,vt,Ji,Jn,Rn,Yt,Ke,_r,en,_t=oe-G,tn=P-G,nn=C-q,rn=z-q;Rn=_t*rn,Ce=B*_t,xe=Ce-(Ce-_t),gt=_t-xe,Ce=B*rn,pt=Ce-(Ce-rn),Tt=rn-pt,Yt=gt*Tt-(Rn-xe*pt-gt*pt-xe*Tt),Ke=nn*tn,Ce=B*nn,xe=Ce-(Ce-nn),gt=nn-xe,Ce=B*tn,pt=Ce-(Ce-tn),Tt=tn-pt,_r=gt*Tt-(Ke-xe*pt-gt*pt-xe*Tt),vt=Yt-_r,pe=Yt-vt,Be[0]=Yt-(vt+pe)+(pe-_r),Ji=Rn+vt,pe=Ji-Rn,Jn=Rn-(Ji-pe)+(vt-pe),vt=Jn-Ke,pe=Jn-vt,Be[1]=Jn-(vt+pe)+(pe-Ke),en=Ji+vt,pe=en-Ji,Be[2]=Ji-(en-pe)+(vt-pe),Be[3]=en;let Ri=Pe(4,Be),to=Ie*de;if(Ri>=to||-Ri>=to||(pe=oe-_t,ae=oe-(_t+pe)+(pe-G),pe=P-tn,me=P-(tn+pe)+(pe-G),pe=C-nn,be=C-(nn+pe)+(pe-q),pe=z-rn,ue=z-(rn+pe)+(pe-q),ae===0&&be===0&&me===0&&ue===0)||(to=ct*de+_e*Math.abs(Ri),Ri+=_t*ue+rn*ae-(nn*me+tn*be),Ri>=to||-Ri>=to))return Ri;Rn=ae*rn,Ce=B*ae,xe=Ce-(Ce-ae),gt=ae-xe,Ce=B*rn,pt=Ce-(Ce-rn),Tt=rn-pt,Yt=gt*Tt-(Rn-xe*pt-gt*pt-xe*Tt),Ke=be*tn,Ce=B*be,xe=Ce-(Ce-be),gt=be-xe,Ce=B*tn,pt=Ce-(Ce-tn),Tt=tn-pt,_r=gt*Tt-(Ke-xe*pt-gt*pt-xe*Tt),vt=Yt-_r,pe=Yt-vt,$[0]=Yt-(vt+pe)+(pe-_r),Ji=Rn+vt,pe=Ji-Rn,Jn=Rn-(Ji-pe)+(vt-pe),vt=Jn-Ke,pe=Jn-vt,$[1]=Jn-(vt+pe)+(pe-Ke),en=Ji+vt,pe=en-Ji,$[2]=Ji-(en-pe)+(vt-pe),$[3]=en;let Ar=Te(4,Be,4,$,zt);Rn=_t*ue,Ce=B*_t,xe=Ce-(Ce-_t),gt=_t-xe,Ce=B*ue,pt=Ce-(Ce-ue),Tt=ue-pt,Yt=gt*Tt-(Rn-xe*pt-gt*pt-xe*Tt),Ke=nn*me,Ce=B*nn,xe=Ce-(Ce-nn),gt=nn-xe,Ce=B*me,pt=Ce-(Ce-me),Tt=me-pt,_r=gt*Tt-(Ke-xe*pt-gt*pt-xe*Tt),vt=Yt-_r,pe=Yt-vt,$[0]=Yt-(vt+pe)+(pe-_r),Ji=Rn+vt,pe=Ji-Rn,Jn=Rn-(Ji-pe)+(vt-pe),vt=Jn-Ke,pe=Jn-vt,$[1]=Jn-(vt+pe)+(pe-Ke),en=Ji+vt,pe=en-Ji,$[2]=Ji-(en-pe)+(vt-pe),$[3]=en;let Pa=Te(Ar,zt,4,$,ve);Rn=ae*ue,Ce=B*ae,xe=Ce-(Ce-ae),gt=ae-xe,Ce=B*ue,pt=Ce-(Ce-ue),Tt=ue-pt,Yt=gt*Tt-(Rn-xe*pt-gt*pt-xe*Tt),Ke=be*me,Ce=B*be,xe=Ce-(Ce-be),gt=be-xe,Ce=B*me,pt=Ce-(Ce-me),Tt=me-pt,_r=gt*Tt-(Ke-xe*pt-gt*pt-xe*Tt),vt=Yt-_r,pe=Yt-vt,$[0]=Yt-(vt+pe)+(pe-_r),Ji=Rn+vt,pe=Ji-Rn,Jn=Rn-(Ji-pe)+(vt-pe),vt=Jn-Ke,pe=Jn-vt,$[1]=Jn-(vt+pe)+(pe-Ke),en=Ji+vt,pe=en-Ji,$[2]=Ji-(en-pe)+(vt-pe),$[3]=en;let Vr=Te(Pa,ve,4,$,Ae);return Ae[Vr-1]}function Qe(oe,C,P,z,G,q){let de=(C-q)*(P-G),ae=(oe-G)*(z-q),be=de-ae,me=Math.abs(de+ae);return Math.abs(be)>=Bt*me?be:-xt(oe,C,P,z,G,q,me)}let st=(oe,C)=>oe.x*C.y-oe.y*C.x,Se=(oe,C)=>oe.x*C.x+oe.y*C.y,Ht=(oe,C,P)=>{let z=Qe(oe.x,oe.y,C.x,C.y,P.x,P.y);return z>0?-1:z<0?1:0},Yi=oe=>Math.sqrt(Se(oe,oe)),Qi=(oe,C,P)=>{let z={x:C.x-oe.x,y:C.y-oe.y},G={x:P.x-oe.x,y:P.y-oe.y};return st(G,z)/Yi(G)/Yi(z)},qt=(oe,C,P)=>{let z={x:C.x-oe.x,y:C.y-oe.y},G={x:P.x-oe.x,y:P.y-oe.y};return Se(G,z)/Yi(G)/Yi(z)},Bi=(oe,C,P)=>C.y===0?null:{x:oe.x+C.x/C.y*(P-oe.y),y:P},ze=(oe,C,P)=>C.x===0?null:{x:P,y:oe.y+C.y/C.x*(P-oe.x)},ar=(oe,C,P,z)=>{if(C.x===0)return ze(P,z,oe.x);if(z.x===0)return ze(oe,C,P.x);if(C.y===0)return Bi(P,z,oe.y);if(z.y===0)return Bi(oe,C,P.y);let G=st(C,z);if(G==0)return null;let q={x:P.x-oe.x,y:P.y-oe.y},de=st(q,C)/G,ae=st(q,z)/G,be=oe.x+ae*C.x,me=P.x+de*z.x,ue=oe.y+ae*C.y,pe=P.y+de*z.y,Ce=(be+me)/2,xe=(ue+pe)/2;return{x:Ce,y:xe}};class Gt{static compare(C,P){let z=Gt.comparePoints(C.point,P.point);return z!==0?z:(C.point!==P.point&&C.link(P),C.isLeft!==P.isLeft?C.isLeft?1:-1:Ai.compare(C.segment,P.segment))}static comparePoints(C,P){return C.x<P.x?-1:C.x>P.x?1:C.y<P.y?-1:C.y>P.y?1:0}constructor(C,P){C.events===void 0?C.events=[this]:C.events.push(this),this.point=C,this.isLeft=P}link(C){if(C.point===this.point)throw new Error("Tried to link already linked events");let P=C.point.events;for(let z=0,G=P.length;z<G;z++){let q=P[z];this.point.events.push(q),q.point=this.point}this.checkForConsuming()}checkForConsuming(){let C=this.point.events.length;for(let P=0;P<C;P++){let z=this.point.events[P];if(z.segment.consumedBy===void 0)for(let G=P+1;G<C;G++){let q=this.point.events[G];q.consumedBy===void 0&&z.otherSE.point.events===q.otherSE.point.events&&z.segment.consume(q.segment)}}}getAvailableLinkedEvents(){let C=[];for(let P=0,z=this.point.events.length;P<z;P++){let G=this.point.events[P];G!==this&&!G.segment.ringOut&&G.segment.isInResult()&&C.push(G)}return C}getLeftmostComparator(C){let P=new Map,z=G=>{let q=G.otherSE;P.set(G,{sine:Qi(this.point,C.point,q.point),cosine:qt(this.point,C.point,q.point)})};return(G,q)=>{P.has(G)||z(G),P.has(q)||z(q);let{sine:de,cosine:ae}=P.get(G),{sine:be,cosine:me}=P.get(q);return de>=0&&be>=0?ae<me?1:ae>me?-1:0:de<0&&be<0?ae<me?-1:ae>me?1:0:be<de?-1:be>de?1:0}}}let lr=0;class Ai{static compare(C,P){let z=C.leftSE.point.x,G=P.leftSE.point.x,q=C.rightSE.point.x,de=P.rightSE.point.x;if(de<z)return 1;if(q<G)return-1;let ae=C.leftSE.point.y,be=P.leftSE.point.y,me=C.rightSE.point.y,ue=P.rightSE.point.y;if(z<G){if(be<ae&&be<me)return 1;if(be>ae&&be>me)return-1;let pe=C.comparePoint(P.leftSE.point);if(pe<0)return 1;if(pe>0)return-1;let Ce=P.comparePoint(C.rightSE.point);return Ce!==0?Ce:-1}if(z>G){if(ae<be&&ae<ue)return-1;if(ae>be&&ae>ue)return 1;let pe=P.comparePoint(C.leftSE.point);if(pe!==0)return pe;let Ce=C.comparePoint(P.rightSE.point);return Ce<0?1:Ce>0?-1:1}if(ae<be)return-1;if(ae>be)return 1;if(q<de){let pe=P.comparePoint(C.rightSE.point);if(pe!==0)return pe}if(q>de){let pe=C.comparePoint(P.rightSE.point);if(pe<0)return 1;if(pe>0)return-1}if(q!==de){let pe=me-ae,Ce=q-z,xe=ue-be,gt=de-G;if(pe>Ce&&xe<gt)return 1;if(pe<Ce&&xe>gt)return-1}return q>de?1:q<de||me<ue?-1:me>ue?1:C.id<P.id?-1:C.id>P.id?1:0}constructor(C,P,z,G){this.id=++lr,this.leftSE=C,C.segment=this,C.otherSE=P,this.rightSE=P,P.segment=this,P.otherSE=C,this.rings=z,this.windings=G}static fromRing(C,P,z){let G,q,de,ae=Gt.comparePoints(C,P);if(ae<0)G=C,q=P,de=1;else if(ae>0)G=P,q=C,de=-1;else throw new Error(`Tried to create degenerate segment at [${C.x}, ${C.y}]`);let be=new Gt(G,!0),me=new Gt(q,!1);return new Ai(be,me,[z],[de])}replaceRightSE(C){this.rightSE=C,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let C=this.leftSE.point.y,P=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:C<P?C:P},ur:{x:this.rightSE.point.x,y:C>P?C:P}}}vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}isAnEndpoint(C){return C.x===this.leftSE.point.x&&C.y===this.leftSE.point.y||C.x===this.rightSE.point.x&&C.y===this.rightSE.point.y}comparePoint(C){if(this.isAnEndpoint(C))return 0;let P=this.leftSE.point,z=this.rightSE.point,G=this.vector();if(P.x===z.x)return C.x===P.x?0:C.x<P.x?1:-1;let q=(C.y-P.y)/G.y,de=P.x+q*G.x;if(C.x===de)return 0;let ae=(C.x-P.x)/G.x,be=P.y+ae*G.y;return C.y===be?0:C.y<be?-1:1}getIntersection(C){let P=this.bbox(),z=C.bbox(),G=E(P,z);if(G===null)return null;let q=this.leftSE.point,de=this.rightSE.point,ae=C.leftSE.point,be=C.rightSE.point,me=j(P,ae)&&this.comparePoint(ae)===0,ue=j(z,q)&&C.comparePoint(q)===0,pe=j(P,be)&&this.comparePoint(be)===0,Ce=j(z,de)&&C.comparePoint(de)===0;if(ue&&me)return Ce&&!pe?de:!Ce&&pe?be:null;if(ue)return pe&&q.x===be.x&&q.y===be.y?null:q;if(me)return Ce&&de.x===ae.x&&de.y===ae.y?null:ae;if(Ce&&pe)return null;if(Ce)return de;if(pe)return be;let xe=ar(q,this.vector(),ae,C.vector());return xe===null||!j(G,xe)?null:re.round(xe.x,xe.y)}split(C){let P=[],z=C.events!==void 0,G=new Gt(C,!0),q=new Gt(C,!1),de=this.rightSE;this.replaceRightSE(q),P.push(q),P.push(G);let ae=new Ai(G,de,this.rings.slice(),this.windings.slice());return Gt.comparePoints(ae.leftSE.point,ae.rightSE.point)>0&&ae.swapEvents(),Gt.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),z&&(G.checkForConsuming(),q.checkForConsuming()),P}swapEvents(){let C=this.rightSE;this.rightSE=this.leftSE,this.leftSE=C,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let P=0,z=this.windings.length;P<z;P++)this.windings[P]*=-1}consume(C){let P=this,z=C;for(;P.consumedBy;)P=P.consumedBy;for(;z.consumedBy;)z=z.consumedBy;let G=Ai.compare(P,z);if(G!==0){if(G>0){let q=P;P=z,z=q}if(P.prev===z){let q=P;P=z,z=q}for(let q=0,de=z.rings.length;q<de;q++){let ae=z.rings[q],be=z.windings[q],me=P.rings.indexOf(ae);me===-1?(P.rings.push(ae),P.windings.push(be)):P.windings[me]+=be}z.rings=null,z.windings=null,z.consumedBy=P,z.leftSE.consumedBy=P.leftSE,z.rightSE.consumedBy=P.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{let C=this.prev.consumedBy||this.prev;this._beforeState=C.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let C=this.beforeState();this._afterState={rings:C.rings.slice(0),windings:C.windings.slice(0),multiPolys:[]};let P=this._afterState.rings,z=this._afterState.windings,G=this._afterState.multiPolys;for(let ae=0,be=this.rings.length;ae<be;ae++){let me=this.rings[ae],ue=this.windings[ae],pe=P.indexOf(me);pe===-1?(P.push(me),z.push(ue)):z[pe]+=ue}let q=[],de=[];for(let ae=0,be=P.length;ae<be;ae++){if(z[ae]===0)continue;let me=P[ae],ue=me.poly;if(de.indexOf(ue)===-1)if(me.isExterior)q.push(ue);else{de.indexOf(ue)===-1&&de.push(ue);let pe=q.indexOf(me.poly);pe!==-1&&q.splice(pe,1)}}for(let ae=0,be=q.length;ae<be;ae++){let me=q[ae].multiPoly;G.indexOf(me)===-1&&G.push(me)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let C=this.beforeState().multiPolys,P=this.afterState().multiPolys;switch(Le.type){case"union":{let z=C.length===0,G=P.length===0;this._isInResult=z!==G;break}case"intersection":{let z,G;C.length<P.length?(z=C.length,G=P.length):(z=P.length,G=C.length),this._isInResult=G===Le.numMultiPolys&&z<G;break}case"xor":{let z=Math.abs(C.length-P.length);this._isInResult=z%2===1;break}case"difference":{let z=G=>G.length===1&&G[0].isSubject;this._isInResult=z(C)!==z(P);break}default:throw new Error(`Unrecognized operation type found ${Le.type}`)}return this._isInResult}}class Sn{constructor(C,P,z){if(!Array.isArray(C)||C.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=P,this.isExterior=z,this.segments=[],typeof C[0][0]!="number"||typeof C[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let G=re.round(C[0][0],C[0][1]);this.bbox={ll:{x:G.x,y:G.y},ur:{x:G.x,y:G.y}};let q=G;for(let de=1,ae=C.length;de<ae;de++){if(typeof C[de][0]!="number"||typeof C[de][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let be=re.round(C[de][0],C[de][1]);be.x===q.x&&be.y===q.y||(this.segments.push(Ai.fromRing(q,be,this)),be.x<this.bbox.ll.x&&(this.bbox.ll.x=be.x),be.y<this.bbox.ll.y&&(this.bbox.ll.y=be.y),be.x>this.bbox.ur.x&&(this.bbox.ur.x=be.x),be.y>this.bbox.ur.y&&(this.bbox.ur.y=be.y),q=be)}(G.x!==q.x||G.y!==q.y)&&this.segments.push(Ai.fromRing(q,G,this))}getSweepEvents(){let C=[];for(let P=0,z=this.segments.length;P<z;P++){let G=this.segments[P];C.push(G.leftSE),C.push(G.rightSE)}return C}}class ji{constructor(C,P){if(!Array.isArray(C))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Sn(C[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let z=1,G=C.length;z<G;z++){let q=new Sn(C[z],this,!1);q.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=q.bbox.ll.x),q.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=q.bbox.ll.y),q.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=q.bbox.ur.x),q.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=q.bbox.ur.y),this.interiorRings.push(q)}this.multiPoly=P}getSweepEvents(){let C=this.exteriorRing.getSweepEvents();for(let P=0,z=this.interiorRings.length;P<z;P++){let G=this.interiorRings[P].getSweepEvents();for(let q=0,de=G.length;q<de;q++)C.push(G[q])}return C}}class ur{constructor(C,P){if(!Array.isArray(C))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof C[0][0][0]=="number"&&(C=[C])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(let z=0,G=C.length;z<G;z++){let q=new ji(C[z],this);q.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=q.bbox.ll.x),q.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=q.bbox.ll.y),q.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=q.bbox.ur.x),q.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=q.bbox.ur.y),this.polys.push(q)}this.isSubject=P}getSweepEvents(){let C=[];for(let P=0,z=this.polys.length;P<z;P++){let G=this.polys[P].getSweepEvents();for(let q=0,de=G.length;q<de;q++)C.push(G[q])}return C}}class Ao{static factory(C){let P=[];for(let z=0,G=C.length;z<G;z++){let q=C[z];if(!q.isInResult()||q.ringOut)continue;let de=null,ae=q.leftSE,be=q.rightSE,me=[ae],ue=ae.point,pe=[];for(;de=ae,ae=be,me.push(ae),ae.point!==ue;)for(;;){let Ce=ae.getAvailableLinkedEvents();if(Ce.length===0){let pt=me[0].point,Tt=me[me.length-1].point;throw new Error(`Unable to complete output ring starting at [${pt.x}, ${pt.y}]. Last matching segment found ends at [${Tt.x}, ${Tt.y}].`)}if(Ce.length===1){be=Ce[0].otherSE;break}let xe=null;for(let pt=0,Tt=pe.length;pt<Tt;pt++)if(pe[pt].point===ae.point){xe=pt;break}if(xe!==null){let pt=pe.splice(xe)[0],Tt=me.splice(pt.index);Tt.unshift(Tt[0].otherSE),P.push(new Ao(Tt.reverse()));continue}pe.push({index:me.length,point:ae.point});let gt=ae.getLeftmostComparator(de);be=Ce.sort(gt)[0].otherSE;break}P.push(new Ao(me))}return P}constructor(C){this.events=C;for(let P=0,z=C.length;P<z;P++)C[P].segment.ringOut=this;this.poly=null}getGeom(){let C=this.events[0].point,P=[C];for(let me=1,ue=this.events.length-1;me<ue;me++){let pe=this.events[me].point,Ce=this.events[me+1].point;Ht(pe,C,Ce)!==0&&(P.push(pe),C=pe)}if(P.length===1)return null;let z=P[0],G=P[1];Ht(z,C,G)===0&&P.shift(),P.push(P[0]);let q=this.isExteriorRing()?1:-1,de=this.isExteriorRing()?0:P.length-1,ae=this.isExteriorRing()?P.length:-1,be=[];for(let me=de;me!=ae;me+=q)be.push([P[me].x,P[me].y]);return be}isExteriorRing(){if(this._isExteriorRing===void 0){let C=this.enclosingRing();this._isExteriorRing=C?!C.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let C=this.events[0];for(let G=1,q=this.events.length;G<q;G++){let de=this.events[G];Gt.compare(C,de)>0&&(C=de)}let P=C.segment.prevInResult(),z=P?P.prevInResult():null;for(;;){if(!P)return null;if(!z)return P.ringOut;if(z.ringOut!==P.ringOut)return z.ringOut.enclosingRing()!==P.ringOut?P.ringOut:P.ringOut.enclosingRing();P=z.prevInResult(),z=P?P.prevInResult():null}}}class at{constructor(C){this.exteriorRing=C,C.poly=this,this.interiorRings=[]}addInterior(C){this.interiorRings.push(C),C.poly=this}getGeom(){let C=[this.exteriorRing.getGeom()];if(C[0]===null)return null;for(let P=0,z=this.interiorRings.length;P<z;P++){let G=this.interiorRings[P].getGeom();G!==null&&C.push(G)}return C}}class Vi{constructor(C){this.rings=C,this.polys=this._composePolys(C)}getGeom(){let C=[];for(let P=0,z=this.polys.length;P<z;P++){let G=this.polys[P].getGeom();G!==null&&C.push(G)}return C}_composePolys(C){let P=[];for(let z=0,G=C.length;z<G;z++){let q=C[z];if(!q.poly)if(q.isExteriorRing())P.push(new at(q));else{let de=q.enclosingRing();de.poly||P.push(new at(de)),de.poly.addInterior(q)}}return P}}class Vo{constructor(C){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ai.compare;this.queue=C,this.tree=new y(P),this.segments=[]}process(C){let P=C.segment,z=[];if(C.consumedBy)return C.isLeft?this.queue.remove(C.otherSE):this.tree.remove(P),z;let G=C.isLeft?this.tree.add(P):this.tree.find(P);if(!G)throw new Error(`Unable to find segment #${P.id} [${P.leftSE.point.x}, ${P.leftSE.point.y}] -> [${P.rightSE.point.x}, ${P.rightSE.point.y}] in SweepLine tree.`);let q=G,de=G,ae,be;for(;ae===void 0;)q=this.tree.prev(q),q===null?ae=null:q.key.consumedBy===void 0&&(ae=q.key);for(;be===void 0;)de=this.tree.next(de),de===null?be=null:de.key.consumedBy===void 0&&(be=de.key);if(C.isLeft){let me=null;if(ae){let pe=ae.getIntersection(P);if(pe!==null&&(P.isAnEndpoint(pe)||(me=pe),!ae.isAnEndpoint(pe))){let Ce=this._splitSafely(ae,pe);for(let xe=0,gt=Ce.length;xe<gt;xe++)z.push(Ce[xe])}}let ue=null;if(be){let pe=be.getIntersection(P);if(pe!==null&&(P.isAnEndpoint(pe)||(ue=pe),!be.isAnEndpoint(pe))){let Ce=this._splitSafely(be,pe);for(let xe=0,gt=Ce.length;xe<gt;xe++)z.push(Ce[xe])}}if(me!==null||ue!==null){let pe=null;me===null?pe=ue:ue===null?pe=me:pe=Gt.comparePoints(me,ue)<=0?me:ue,this.queue.remove(P.rightSE),z.push(P.rightSE);let Ce=P.split(pe);for(let xe=0,gt=Ce.length;xe<gt;xe++)z.push(Ce[xe])}z.length>0?(this.tree.remove(P),z.push(C)):(this.segments.push(P),P.prev=ae)}else{if(ae&&be){let me=ae.getIntersection(be);if(me!==null){if(!ae.isAnEndpoint(me)){let ue=this._splitSafely(ae,me);for(let pe=0,Ce=ue.length;pe<Ce;pe++)z.push(ue[pe])}if(!be.isAnEndpoint(me)){let ue=this._splitSafely(be,me);for(let pe=0,Ce=ue.length;pe<Ce;pe++)z.push(ue[pe])}}}this.tree.remove(P)}return z}_splitSafely(C,P){this.tree.remove(C);let z=C.rightSE;this.queue.remove(z);let G=C.split(P);return G.push(z),C.consumedBy===void 0&&this.tree.add(C),G}}let uo=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Bo=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6;class Qn{run(C,P,z){Le.type=C,re.reset();let G=[new ur(P,!0)];for(let pe=0,Ce=z.length;pe<Ce;pe++)G.push(new ur(z[pe],!1));if(Le.numMultiPolys=G.length,Le.type==="difference"){let pe=G[0],Ce=1;for(;Ce<G.length;)E(G[Ce].bbox,pe.bbox)!==null?Ce++:G.splice(Ce,1)}if(Le.type==="intersection")for(let pe=0,Ce=G.length;pe<Ce;pe++){let xe=G[pe];for(let gt=pe+1,pt=G.length;gt<pt;gt++)if(E(xe.bbox,G[gt].bbox)===null)return[]}let q=new y(Gt.compare);for(let pe=0,Ce=G.length;pe<Ce;pe++){let xe=G[pe].getSweepEvents();for(let gt=0,pt=xe.length;gt<pt;gt++)if(q.insert(xe[gt]),q.size>uo)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big).")}let de=new Vo(q),ae=q.size,be=q.pop();for(;be;){let pe=be.key;if(q.size===ae){let xe=pe.segment;throw new Error(`Unable to pop() ${pe.isLeft?"left":"right"} SweepEvent [${pe.point.x}, ${pe.point.y}] from segment #${xe.id} [${xe.leftSE.point.x}, ${xe.leftSE.point.y}] -> [${xe.rightSE.point.x}, ${xe.rightSE.point.y}] from queue.`)}if(q.size>uo)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big).");if(de.segments.length>Bo)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments).");let Ce=de.process(pe);for(let xe=0,gt=Ce.length;xe<gt;xe++){let pt=Ce[xe];pt.consumedBy===void 0&&q.insert(pt)}ae=q.size,be=q.pop()}re.reset();let me=Ao.factory(de.segments);return new Vi(me).getGeom()}}let Le=new Qn;var Ja={union:function(oe){for(var C=arguments.length,P=new Array(C>1?C-1:0),z=1;z<C;z++)P[z-1]=arguments[z];return Le.run("union",oe,P)},intersection:function(oe){for(var C=arguments.length,P=new Array(C>1?C-1:0),z=1;z<C;z++)P[z-1]=arguments[z];return Le.run("intersection",oe,P)},xor:function(oe){for(var C=arguments.length,P=new Array(C>1?C-1:0),z=1;z<C;z++)P[z-1]=arguments[z];return Le.run("xor",oe,P)},difference:function(oe){for(var C=arguments.length,P=new Array(C>1?C-1:0),z=1;z<C;z++)P[z-1]=arguments[z];return Le.run("difference",oe,P)}};return Ja})});var J0=tt((sp,Q0)=>{(function(i,s){typeof sp=="object"&&typeof Q0<"u"?s(sp):typeof define=="function"&&define.amd?define(["exports"],s):s(i.jsts={})})(sp,function(i){"use strict";function s(){}function o(t){this.message=t||""}function e(t){this.message=t||""}function r(t){this.message=t||""}function u(){}function h(t){return t===null?Yt:t.color}function g(t){return t===null?null:t.parent}function y(t,n){t!==null&&(t.color=n)}function w(t){return t===null?null:t.left}function D(t){return t===null?null:t.right}function N(){this.root_=null,this.size_=0}function A(){}function Y(){this.array_=[],arguments[0]instanceof ae&&this.addAll(arguments[0])}function X(){}function j(t){this.message=t||""}function E(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(this===void 0||this===null)throw new TypeError(this+" is not an object");var n=Object(this),l=Math.max(Math.min(n.length,9007199254740991),0)||0,c=1 in arguments&&parseInt(Number(arguments[1]),10)||0;c=c<0?Math.max(l+c,0):Math.min(c,l);var d=2 in arguments&&arguments[2]!==void 0?parseInt(Number(arguments[2]),10)||0:l;for(d=d<0?Math.max(l+arguments[2],0):Math.min(d,l);c<d;)n[c]=t,++c;return n},writable:!0}),Number.isFinite=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var O=function(){};O.prototype.interfaces_=function(){return[]},O.prototype.getClass=function(){return O},O.prototype.equalsWithTolerance=function(t,n,l){return Math.abs(t-n)<=l};var F=function(t){function n(l){t.call(this,l),this.name="IllegalArgumentException",this.message=l,this.stack=new t().stack}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(Error),R=function(){},Z={MAX_VALUE:{configurable:!0}};R.isNaN=function(t){return Number.isNaN(t)},R.doubleToLongBits=function(t){return t},R.longBitsToDouble=function(t){return t},R.isInfinite=function(t){return!Number.isFinite(t)},Z.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(R,Z);var ee=function(){},re=function(){},se=function(){},B=function t(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(arguments.length===1){var n=arguments[0];this.x=n.x,this.y=n.y,this.z=n.z}else arguments.length===2?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):arguments.length===3&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},_e={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};B.prototype.setOrdinate=function(t,n){switch(t){case B.X:this.x=n;break;case B.Y:this.y=n;break;case B.Z:this.z=n;break;default:throw new F("Invalid ordinate index: "+t)}},B.prototype.equals2D=function(){if(arguments.length===1){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(arguments.length===2){var n=arguments[0],l=arguments[1];return!!O.equalsWithTolerance(this.x,n.x,l)&&!!O.equalsWithTolerance(this.y,n.y,l)}},B.prototype.getOrdinate=function(t){switch(t){case B.X:return this.x;case B.Y:return this.y;case B.Z:return this.z}throw new F("Invalid ordinate index: "+t)},B.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||R.isNaN(this.z))&&R.isNaN(t.z)},B.prototype.equals=function(t){return t instanceof B&&this.equals2D(t)},B.prototype.equalInZ=function(t,n){return O.equalsWithTolerance(this.z,t.z,n)},B.prototype.compareTo=function(t){var n=t;return this.x<n.x?-1:this.x>n.x?1:this.y<n.y?-1:this.y>n.y?1:0},B.prototype.clone=function(){},B.prototype.copy=function(){return new B(this)},B.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},B.prototype.distance3D=function(t){var n=this.x-t.x,l=this.y-t.y,c=this.z-t.z;return Math.sqrt(n*n+l*l+c*c)},B.prototype.distance=function(t){var n=this.x-t.x,l=this.y-t.y;return Math.sqrt(n*n+l*l)},B.prototype.hashCode=function(){var t=17;return t=37*t+B.hashCode(this.x),t=37*t+B.hashCode(this.y)},B.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},B.prototype.interfaces_=function(){return[ee,re,s]},B.prototype.getClass=function(){return B},B.hashCode=function(){if(arguments.length===1){var t=arguments[0],n=R.doubleToLongBits(t);return Math.trunc((n^n)>>>32)}},_e.DimensionalComparator.get=function(){return Te},_e.serialVersionUID.get=function(){return 6683108902428367e3},_e.NULL_ORDINATE.get=function(){return R.NaN},_e.X.get=function(){return 0},_e.Y.get=function(){return 1},_e.Z.get=function(){return 2},Object.defineProperties(B,_e);var Te=function(t){if(this._dimensionsToTest=2,arguments.length!==0){if(arguments.length===1){var n=arguments[0];if(n!==2&&n!==3)throw new F("only 2 or 3 dimensions may be specified");this._dimensionsToTest=n}}};Te.prototype.compare=function(t,n){var l=t,c=n,d=Te.compare(l.x,c.x);if(d!==0)return d;var _=Te.compare(l.y,c.y);return _!==0?_:this._dimensionsToTest<=2?0:Te.compare(l.z,c.z)},Te.prototype.interfaces_=function(){return[se]},Te.prototype.getClass=function(){return Te},Te.compare=function(t,n){return t<n?-1:t>n?1:R.isNaN(t)?R.isNaN(n)?0:-1:R.isNaN(n)?1:0};var Pe=function(){};Pe.prototype.create=function(){},Pe.prototype.interfaces_=function(){return[]},Pe.prototype.getClass=function(){return Pe};var W=function(){},Bt={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};W.prototype.interfaces_=function(){return[]},W.prototype.getClass=function(){return W},W.toLocationSymbol=function(t){switch(t){case W.EXTERIOR:return"e";case W.BOUNDARY:return"b";case W.INTERIOR:return"i";case W.NONE:return"-"}throw new F("Unknown location value: "+t)},Bt.INTERIOR.get=function(){return 0},Bt.BOUNDARY.get=function(){return 1},Bt.EXTERIOR.get=function(){return 2},Bt.NONE.get=function(){return-1},Object.defineProperties(W,Bt);var Ie=function(t,n){return t.interfaces_&&t.interfaces_().indexOf(n)>-1},ct=function(){},Be={LOG_10:{configurable:!0}};ct.prototype.interfaces_=function(){return[]},ct.prototype.getClass=function(){return ct},ct.log10=function(t){var n=Math.log(t);return R.isInfinite(n)||R.isNaN(n)?n:n/ct.LOG_10},ct.min=function(t,n,l,c){var d=t;return n<d&&(d=n),l<d&&(d=l),c<d&&(d=c),d},ct.clamp=function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],n=arguments[1],l=arguments[2];return t<n?n:t>l?l:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var c=arguments[0],d=arguments[1],_=arguments[2];return c<d?d:c>_?_:c}},ct.wrap=function(t,n){return t<0?n- -t%n:t%n},ct.max=function(){if(arguments.length===3){var t=arguments[0],n=arguments[1],l=arguments[2],c=t;return n>c&&(c=n),l>c&&(c=l),c}if(arguments.length===4){var d=arguments[0],_=arguments[1],x=arguments[2],M=arguments[3],V=d;return _>V&&(V=_),x>V&&(V=x),M>V&&(V=M),V}},ct.average=function(t,n){return(t+n)/2},Be.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(ct,Be);var zt=function(t){this.str=t};zt.prototype.append=function(t){this.str+=t},zt.prototype.setCharAt=function(t,n){this.str=this.str.substr(0,t)+n+this.str.substr(t+1)},zt.prototype.toString=function(t){return this.str};var ve=function(t){this.value=t};ve.prototype.intValue=function(){return this.value},ve.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},ve.isNaN=function(t){return Number.isNaN(t)};var Ae=function(){};Ae.isWhitespace=function(t){return t<=32&&t>=0||t===127},Ae.toUpperCase=function(t){return t.toUpperCase()};var $=function t(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var n=arguments[0];this.init(n)}else if(arguments[0]instanceof t){var l=arguments[0];this.init(l)}else if(typeof arguments[0]=="string"){var c=arguments[0];t.call(this,t.parse(c))}}else if(arguments.length===2){var d=arguments[0],_=arguments[1];this.init(d,_)}},xt={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};$.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},$.prototype.extractSignificantDigits=function(t,n){var l=this.abs(),c=$.magnitude(l._hi),d=$.TEN.pow(c);(l=l.divide(d)).gt($.TEN)?(l=l.divide($.TEN),c+=1):l.lt($.ONE)&&(l=l.multiply($.TEN),c-=1);for(var _=c+1,x=new zt,M=$.MAX_PRINT_DIGITS-1,V=0;V<=M;V++){t&&V===_&&x.append(".");var Q=Math.trunc(l._hi);if(Q<0)break;var ce=!1,he=0;Q>9?(ce=!0,he="9"):he="0"+Q,x.append(he),l=l.subtract($.valueOf(Q)).multiply($.TEN),ce&&l.selfAdd($.TEN);var ke=!0,De=$.magnitude(l._hi);if(De<0&&Math.abs(De)>=M-V&&(ke=!1),!ke)break}return n[0]=c,x.toString()},$.prototype.sqr=function(){return this.multiply(this)},$.prototype.doubleValue=function(){return this._hi+this._lo},$.prototype.subtract=function(){if(arguments[0]instanceof $){var t=arguments[0];return this.add(t.negate())}if(typeof arguments[0]=="number"){var n=arguments[0];return this.add(-n)}},$.prototype.equals=function(){if(arguments.length===1){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},$.prototype.isZero=function(){return this._hi===0&&this._lo===0},$.prototype.selfSubtract=function(){if(arguments[0]instanceof $){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if(typeof arguments[0]=="number"){var n=arguments[0];return this.isNaN()?this:this.selfAdd(-n,0)}},$.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},$.prototype.min=function(t){return this.le(t)?this:t},$.prototype.selfDivide=function(){if(arguments.length===1){if(arguments[0]instanceof $){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if(typeof arguments[0]=="number"){var n=arguments[0];return this.selfDivide(n,0)}}else if(arguments.length===2){var l=arguments[0],c=arguments[1],d=null,_=null,x=null,M=null,V=null,Q=null,ce=null,he=null;return V=this._hi/l,Q=$.SPLIT*V,d=Q-V,he=$.SPLIT*l,d=Q-d,_=V-d,x=he-l,ce=V*l,x=he-x,M=l-x,he=d*x-ce+d*M+_*x+_*M,Q=(this._hi-ce-he+this._lo-V*c)/l,he=V+Q,this._hi=he,this._lo=V-he+Q,this}},$.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},$.prototype.divide=function(){if(arguments[0]instanceof $){var t=arguments[0],n=null,l=null,c=null,d=null,_=null,x=null,M=null,V=null;return l=(_=this._hi/t._hi)-(n=(x=$.SPLIT*_)-(n=x-_)),V=n*(c=(V=$.SPLIT*t._hi)-(c=V-t._hi))-(M=_*t._hi)+n*(d=t._hi-c)+l*c+l*d,x=(this._hi-M-V+this._lo-_*t._lo)/t._hi,new $(V=_+x,_-V+x)}if(typeof arguments[0]=="number"){var Q=arguments[0];return R.isNaN(Q)?$.createNaN():$.copy(this).selfDivide(Q,0)}},$.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},$.prototype.pow=function(t){if(t===0)return $.valueOf(1);var n=new $(this),l=$.valueOf(1),c=Math.abs(t);if(c>1)for(;c>0;)c%2==1&&l.selfMultiply(n),(c/=2)>0&&(n=n.sqr());else l=n;return t<0?l.reciprocal():l},$.prototype.ceil=function(){if(this.isNaN())return $.NaN;var t=Math.ceil(this._hi),n=0;return t===this._hi&&(n=Math.ceil(this._lo)),new $(t,n)},$.prototype.compareTo=function(t){var n=t;return this._hi<n._hi?-1:this._hi>n._hi?1:this._lo<n._lo?-1:this._lo>n._lo?1:0},$.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},$.prototype.setValue=function(){if(arguments[0]instanceof $){var t=arguments[0];return this.init(t),this}if(typeof arguments[0]=="number"){var n=arguments[0];return this.init(n),this}},$.prototype.max=function(t){return this.ge(t)?this:t},$.prototype.sqrt=function(){if(this.isZero())return $.valueOf(0);if(this.isNegative())return $.NaN;var t=1/Math.sqrt(this._hi),n=this._hi*t,l=$.valueOf(n),c=this.subtract(l.sqr())._hi*(.5*t);return l.add(c)},$.prototype.selfAdd=function(){if(arguments.length===1){if(arguments[0]instanceof $){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if(typeof arguments[0]=="number"){var n=arguments[0],l=null,c=null,d=null,_=null,x=null,M=null;return d=this._hi+n,x=d-this._hi,_=d-x,_=n-x+(this._hi-_),M=_+this._lo,l=d+M,c=M+(d-l),this._hi=l+c,this._lo=c+(l-this._hi),this}}else if(arguments.length===2){var V=arguments[0],Q=arguments[1],ce=null,he=null,ke=null,De=null,$e=null,ot=null,Ni=null;De=this._hi+V,he=this._lo+Q,$e=De-(ot=De-this._hi),ke=he-(Ni=he-this._lo);var An=(ce=De+(ot=($e=V-ot+(this._hi-$e))+he))+(ot=(ke=Q-Ni+(this._lo-ke))+(ot+(De-ce))),jr=ot+(ce-An);return this._hi=An,this._lo=jr,this}},$.prototype.selfMultiply=function(){if(arguments.length===1){if(arguments[0]instanceof $){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if(typeof arguments[0]=="number"){var n=arguments[0];return this.selfMultiply(n,0)}}else if(arguments.length===2){var l=arguments[0],c=arguments[1],d=null,_=null,x=null,M=null,V=null,Q=null;d=(V=$.SPLIT*this._hi)-this._hi,Q=$.SPLIT*l,d=V-d,_=this._hi-d,x=Q-l;var ce=(V=this._hi*l)+(Q=d*(x=Q-x)-V+d*(M=l-x)+_*x+_*M+(this._hi*c+this._lo*l)),he=Q+(d=V-ce);return this._hi=ce,this._lo=he,this}},$.prototype.selfSqr=function(){return this.selfMultiply(this)},$.prototype.floor=function(){if(this.isNaN())return $.NaN;var t=Math.floor(this._hi),n=0;return t===this._hi&&(n=Math.floor(this._lo)),new $(t,n)},$.prototype.negate=function(){return this.isNaN()?this:new $(-this._hi,-this._lo)},$.prototype.clone=function(){},$.prototype.multiply=function(){if(arguments[0]instanceof $){var t=arguments[0];return t.isNaN()?$.createNaN():$.copy(this).selfMultiply(t)}if(typeof arguments[0]=="number"){var n=arguments[0];return R.isNaN(n)?$.createNaN():$.copy(this).selfMultiply(n,0)}},$.prototype.isNaN=function(){return R.isNaN(this._hi)},$.prototype.intValue=function(){return Math.trunc(this._hi)},$.prototype.toString=function(){var t=$.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},$.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(t!==null)return t;var n=new Array(1).fill(null),l=this.extractSignificantDigits(!0,n),c=n[0]+1,d=l;if(l.charAt(0)===".")d="0"+l;else if(c<0)d="0."+$.stringOfChar("0",-c)+l;else if(l.indexOf(".")===-1){var _=c-l.length;d=l+$.stringOfChar("0",_)+".0"}return this.isNegative()?"-"+d:d},$.prototype.reciprocal=function(){var t=null,n=null,l=null,c=null,d=null,_=null,x=null,M=null;n=(d=1/this._hi)-(t=(_=$.SPLIT*d)-(t=_-d)),l=(M=$.SPLIT*this._hi)-this._hi;var V=d+(_=(1-(x=d*this._hi)-(M=t*(l=M-l)-x+t*(c=this._hi-l)+n*l+n*c)-d*this._lo)/this._hi);return new $(V,d-V+_)},$.prototype.toSciNotation=function(){if(this.isZero())return $.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(t!==null)return t;var n=new Array(1).fill(null),l=this.extractSignificantDigits(!1,n),c=$.SCI_NOT_EXPONENT_CHAR+n[0];if(l.charAt(0)==="0")throw new Error("Found leading zero: "+l);var d="";l.length>1&&(d=l.substring(1));var _=l.charAt(0)+"."+d;return this.isNegative()?"-"+_+c:_+c},$.prototype.abs=function(){return this.isNaN()?$.NaN:this.isNegative()?this.negate():new $(this)},$.prototype.isPositive=function(){return(this._hi>0||this._hi===0)&&this._lo>0},$.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},$.prototype.add=function(){if(arguments[0]instanceof $){var t=arguments[0];return $.copy(this).selfAdd(t)}if(typeof arguments[0]=="number"){var n=arguments[0];return $.copy(this).selfAdd(n)}},$.prototype.init=function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof $){var n=arguments[0];this._hi=n._hi,this._lo=n._lo}}else if(arguments.length===2){var l=arguments[0],c=arguments[1];this._hi=l,this._lo=c}},$.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},$.prototype.isNegative=function(){return(this._hi<0||this._hi===0)&&this._lo<0},$.prototype.trunc=function(){return this.isNaN()?$.NaN:this.isPositive()?this.floor():this.ceil()},$.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},$.prototype.interfaces_=function(){return[s,ee,re]},$.prototype.getClass=function(){return $},$.sqr=function(t){return $.valueOf(t).selfMultiply(t)},$.valueOf=function(){if(typeof arguments[0]=="string"){var t=arguments[0];return $.parse(t)}if(typeof arguments[0]=="number"){var n=arguments[0];return new $(n)}},$.sqrt=function(t){return $.valueOf(t).sqrt()},$.parse=function(t){for(var n=0,l=t.length;Ae.isWhitespace(t.charAt(n));)n++;var c=!1;if(n<l){var d=t.charAt(n);d!=="-"&&d!=="+"||(n++,d==="-"&&(c=!0))}for(var _=new $,x=0,M=0,V=0;!(n>=l);){var Q=t.charAt(n);if(n++,Ae.isDigit(Q)){var ce=Q-"0";_.selfMultiply($.TEN),_.selfAdd(ce),x++}else{if(Q!=="."){if(Q==="e"||Q==="E"){var he=t.substring(n);try{V=ve.parseInt(he)}catch(Ni){throw Ni instanceof Error?new Error("Invalid exponent "+he+" in string "+t):Ni}break}throw new Error("Unexpected character '"+Q+"' at position "+n+" in string "+t)}M=x}}var ke=_,De=x-M-V;if(De===0)ke=_;else if(De>0){var $e=$.TEN.pow(De);ke=_.divide($e)}else if(De<0){var ot=$.TEN.pow(-De);ke=_.multiply(ot)}return c?ke.negate():ke},$.createNaN=function(){return new $(R.NaN,R.NaN)},$.copy=function(t){return new $(t)},$.magnitude=function(t){var n=Math.abs(t),l=Math.log(n)/Math.log(10),c=Math.trunc(Math.floor(l));return 10*Math.pow(10,c)<=n&&(c+=1),c},$.stringOfChar=function(t,n){for(var l=new zt,c=0;c<n;c++)l.append(t);return l.toString()},xt.PI.get=function(){return new $(3.141592653589793,12246467991473532e-32)},xt.TWO_PI.get=function(){return new $(6.283185307179586,24492935982947064e-32)},xt.PI_2.get=function(){return new $(1.5707963267948966,6123233995736766e-32)},xt.E.get=function(){return new $(2.718281828459045,14456468917292502e-32)},xt.NaN.get=function(){return new $(R.NaN,R.NaN)},xt.EPS.get=function(){return 123259516440783e-46},xt.SPLIT.get=function(){return 134217729},xt.MAX_PRINT_DIGITS.get=function(){return 32},xt.TEN.get=function(){return $.valueOf(10)},xt.ONE.get=function(){return $.valueOf(1)},xt.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},xt.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties($,xt);var Qe=function(){},st={DP_SAFE_EPSILON:{configurable:!0}};Qe.prototype.interfaces_=function(){return[]},Qe.prototype.getClass=function(){return Qe},Qe.orientationIndex=function(t,n,l){var c=Qe.orientationIndexFilter(t,n,l);if(c<=1)return c;var d=$.valueOf(n.x).selfAdd(-t.x),_=$.valueOf(n.y).selfAdd(-t.y),x=$.valueOf(l.x).selfAdd(-n.x),M=$.valueOf(l.y).selfAdd(-n.y);return d.selfMultiply(M).selfSubtract(_.selfMultiply(x)).signum()},Qe.signOfDet2x2=function(t,n,l,c){return t.multiply(c).selfSubtract(n.multiply(l)).signum()},Qe.intersection=function(t,n,l,c){var d=$.valueOf(c.y).selfSubtract(l.y).selfMultiply($.valueOf(n.x).selfSubtract(t.x)),_=$.valueOf(c.x).selfSubtract(l.x).selfMultiply($.valueOf(n.y).selfSubtract(t.y)),x=d.subtract(_),M=$.valueOf(c.x).selfSubtract(l.x).selfMultiply($.valueOf(t.y).selfSubtract(l.y)),V=$.valueOf(c.y).selfSubtract(l.y).selfMultiply($.valueOf(t.x).selfSubtract(l.x)),Q=M.subtract(V).selfDivide(x).doubleValue(),ce=$.valueOf(t.x).selfAdd($.valueOf(n.x).selfSubtract(t.x).selfMultiply(Q)).doubleValue(),he=$.valueOf(n.x).selfSubtract(t.x).selfMultiply($.valueOf(t.y).selfSubtract(l.y)),ke=$.valueOf(n.y).selfSubtract(t.y).selfMultiply($.valueOf(t.x).selfSubtract(l.x)),De=he.subtract(ke).selfDivide(x).doubleValue(),$e=$.valueOf(l.y).selfAdd($.valueOf(c.y).selfSubtract(l.y).selfMultiply(De)).doubleValue();return new B(ce,$e)},Qe.orientationIndexFilter=function(t,n,l){var c=null,d=(t.x-l.x)*(n.y-l.y),_=(t.y-l.y)*(n.x-l.x),x=d-_;if(d>0){if(_<=0)return Qe.signum(x);c=d+_}else{if(!(d<0)||_>=0)return Qe.signum(x);c=-d-_}var M=Qe.DP_SAFE_EPSILON*c;return x>=M||-x>=M?Qe.signum(x):2},Qe.signum=function(t){return t>0?1:t<0?-1:0},st.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Qe,st);var Se=function(){},Ht={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Ht.X.get=function(){return 0},Ht.Y.get=function(){return 1},Ht.Z.get=function(){return 2},Ht.M.get=function(){return 3},Se.prototype.setOrdinate=function(t,n,l){},Se.prototype.size=function(){},Se.prototype.getOrdinate=function(t,n){},Se.prototype.getCoordinate=function(){},Se.prototype.getCoordinateCopy=function(t){},Se.prototype.getDimension=function(){},Se.prototype.getX=function(t){},Se.prototype.clone=function(){},Se.prototype.expandEnvelope=function(t){},Se.prototype.copy=function(){},Se.prototype.getY=function(t){},Se.prototype.toCoordinateArray=function(){},Se.prototype.interfaces_=function(){return[re]},Se.prototype.getClass=function(){return Se},Object.defineProperties(Se,Ht);var Yi=function(){},Qi=function(t){function n(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(Yi),qt=function(){};qt.arraycopy=function(t,n,l,c,d){for(var _=0,x=n;x<n+d;x++)l[c+_]=t[x],_++},qt.getProperty=function(t){return{"line.separator":`
`}[t]};var Bi=function t(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var n=arguments[0];this.x=n.x,this.y=n.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var l=arguments[0],c=arguments[1];this.x=l,this.y=c,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var d=arguments[0],_=arguments[1];this.x=d.y*_.w-_.y*d.w,this.y=_.x*d.w-d.x*_.w,this.w=d.x*_.y-_.x*d.y}else if(arguments[0]instanceof B&&arguments[1]instanceof B){var x=arguments[0],M=arguments[1];this.x=x.y-M.y,this.y=M.x-x.x,this.w=x.x*M.y-M.x*x.y}}else if(arguments.length===3){var V=arguments[0],Q=arguments[1],ce=arguments[2];this.x=V,this.y=Q,this.w=ce}else if(arguments.length===4){var he=arguments[0],ke=arguments[1],De=arguments[2],$e=arguments[3],ot=he.y-ke.y,Ni=ke.x-he.x,An=he.x*ke.y-ke.x*he.y,jr=De.y-$e.y,qs=$e.x-De.x,wa=De.x*$e.y-$e.x*De.y;this.x=Ni*wa-qs*An,this.y=jr*An-ot*wa,this.w=ot*qs-jr*Ni}};Bi.prototype.getY=function(){var t=this.y/this.w;if(R.isNaN(t)||R.isInfinite(t))throw new Qi;return t},Bi.prototype.getX=function(){var t=this.x/this.w;if(R.isNaN(t)||R.isInfinite(t))throw new Qi;return t},Bi.prototype.getCoordinate=function(){var t=new B;return t.x=this.getX(),t.y=this.getY(),t},Bi.prototype.interfaces_=function(){return[]},Bi.prototype.getClass=function(){return Bi},Bi.intersection=function(t,n,l,c){var d=t.y-n.y,_=n.x-t.x,x=t.x*n.y-n.x*t.y,M=l.y-c.y,V=c.x-l.x,Q=l.x*c.y-c.x*l.y,ce=d*V-M*_,he=(_*Q-V*x)/ce,ke=(M*x-d*Q)/ce;if(R.isNaN(he)||R.isInfinite(he)||R.isNaN(ke)||R.isInfinite(ke))throw new Qi;return new B(he,ke)};var ze=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof B){var n=arguments[0];this.init(n.x,n.x,n.y,n.y)}else if(arguments[0]instanceof t){var l=arguments[0];this.init(l)}}else if(arguments.length===2){var c=arguments[0],d=arguments[1];this.init(c.x,d.x,c.y,d.y)}else if(arguments.length===4){var _=arguments[0],x=arguments[1],M=arguments[2],V=arguments[3];this.init(_,x,M,V)}},ar={serialVersionUID:{configurable:!0}};ze.prototype.getArea=function(){return this.getWidth()*this.getHeight()},ze.prototype.equals=function(t){if(!(t instanceof ze))return!1;var n=t;return this.isNull()?n.isNull():this._maxx===n.getMaxX()&&this._maxy===n.getMaxY()&&this._minx===n.getMinX()&&this._miny===n.getMinY()},ze.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new ze;var n=this._minx>t._minx?this._minx:t._minx,l=this._miny>t._miny?this._miny:t._miny,c=this._maxx<t._maxx?this._maxx:t._maxx,d=this._maxy<t._maxy?this._maxy:t._maxy;return new ze(n,c,l,d)},ze.prototype.isNull=function(){return this._maxx<this._minx},ze.prototype.getMaxX=function(){return this._maxx},ze.prototype.covers=function(){if(arguments.length===1){if(arguments[0]instanceof B){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof ze){var n=arguments[0];return!this.isNull()&&!n.isNull()&&n.getMinX()>=this._minx&&n.getMaxX()<=this._maxx&&n.getMinY()>=this._miny&&n.getMaxY()<=this._maxy}}else if(arguments.length===2){var l=arguments[0],c=arguments[1];return!this.isNull()&&l>=this._minx&&l<=this._maxx&&c>=this._miny&&c<=this._maxy}},ze.prototype.intersects=function(){if(arguments.length===1){if(arguments[0]instanceof ze){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof B){var n=arguments[0];return this.intersects(n.x,n.y)}}else if(arguments.length===2){var l=arguments[0],c=arguments[1];return!this.isNull()&&!(l>this._maxx||l<this._minx||c>this._maxy||c<this._miny)}},ze.prototype.getMinY=function(){return this._miny},ze.prototype.getMinX=function(){return this._minx},ze.prototype.expandToInclude=function(){if(arguments.length===1){if(arguments[0]instanceof B){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof ze){var n=arguments[0];if(n.isNull())return null;this.isNull()?(this._minx=n.getMinX(),this._maxx=n.getMaxX(),this._miny=n.getMinY(),this._maxy=n.getMaxY()):(n._minx<this._minx&&(this._minx=n._minx),n._maxx>this._maxx&&(this._maxx=n._maxx),n._miny<this._miny&&(this._miny=n._miny),n._maxy>this._maxy&&(this._maxy=n._maxy))}}else if(arguments.length===2){var l=arguments[0],c=arguments[1];this.isNull()?(this._minx=l,this._maxx=l,this._miny=c,this._maxy=c):(l<this._minx&&(this._minx=l),l>this._maxx&&(this._maxx=l),c<this._miny&&(this._miny=c),c>this._maxy&&(this._maxy=c))}},ze.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),n=this.getHeight();return t<n?t:n},ze.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},ze.prototype.compareTo=function(t){var n=t;return this.isNull()?n.isNull()?0:-1:n.isNull()?1:this._minx<n._minx?-1:this._minx>n._minx?1:this._miny<n._miny?-1:this._miny>n._miny?1:this._maxx<n._maxx?-1:this._maxx>n._maxx?1:this._maxy<n._maxy?-1:this._maxy>n._maxy?1:0},ze.prototype.translate=function(t,n){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+n,this.getMaxY()+n)},ze.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},ze.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},ze.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},ze.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),n=this.getHeight();return t>n?t:n},ze.prototype.expandBy=function(){if(arguments.length===1){var t=arguments[0];this.expandBy(t,t)}else if(arguments.length===2){var n=arguments[0],l=arguments[1];if(this.isNull())return null;this._minx-=n,this._maxx+=n,this._miny-=l,this._maxy+=l,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},ze.prototype.contains=function(){if(arguments.length===1){if(arguments[0]instanceof ze){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof B){var n=arguments[0];return this.covers(n)}}else if(arguments.length===2){var l=arguments[0],c=arguments[1];return this.covers(l,c)}},ze.prototype.centre=function(){return this.isNull()?null:new B((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},ze.prototype.init=function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof B){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof ze){var n=arguments[0];this._minx=n._minx,this._maxx=n._maxx,this._miny=n._miny,this._maxy=n._maxy}}else if(arguments.length===2){var l=arguments[0],c=arguments[1];this.init(l.x,c.x,l.y,c.y)}else if(arguments.length===4){var d=arguments[0],_=arguments[1],x=arguments[2],M=arguments[3];d<_?(this._minx=d,this._maxx=_):(this._minx=_,this._maxx=d),x<M?(this._miny=x,this._maxy=M):(this._miny=M,this._maxy=x)}},ze.prototype.getMaxY=function(){return this._maxy},ze.prototype.distance=function(t){if(this.intersects(t))return 0;var n=0;this._maxx<t._minx?n=t._minx-this._maxx:this._minx>t._maxx&&(n=this._minx-t._maxx);var l=0;return this._maxy<t._miny?l=t._miny-this._maxy:this._miny>t._maxy&&(l=this._miny-t._maxy),n===0?l:l===0?n:Math.sqrt(n*n+l*l)},ze.prototype.hashCode=function(){var t=17;return t=37*t+B.hashCode(this._minx),t=37*t+B.hashCode(this._maxx),t=37*t+B.hashCode(this._miny),t=37*t+B.hashCode(this._maxy)},ze.prototype.interfaces_=function(){return[ee,s]},ze.prototype.getClass=function(){return ze},ze.intersects=function(){if(arguments.length===3){var t=arguments[0],n=arguments[1],l=arguments[2];return l.x>=(t.x<n.x?t.x:n.x)&&l.x<=(t.x>n.x?t.x:n.x)&&l.y>=(t.y<n.y?t.y:n.y)&&l.y<=(t.y>n.y?t.y:n.y)}if(arguments.length===4){var c=arguments[0],d=arguments[1],_=arguments[2],x=arguments[3],M=Math.min(_.x,x.x),V=Math.max(_.x,x.x),Q=Math.min(c.x,d.x),ce=Math.max(c.x,d.x);return!(Q>V)&&!(ce<M)&&(M=Math.min(_.y,x.y),V=Math.max(_.y,x.y),Q=Math.min(c.y,d.y),ce=Math.max(c.y,d.y),!(Q>V)&&!(ce<M))}},ar.serialVersionUID.get=function(){return 5873921885273102e3},Object.defineProperties(ze,ar);var Gt={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},lr=function(t){this.geometryFactory=t||new ht};lr.prototype.read=function(t){var n,l,c;t=t.replace(/[\n\r]/g," ");var d=Gt.typeStr.exec(t);if(t.search("EMPTY")!==-1&&((d=Gt.emptyTypeStr.exec(t))[2]=void 0),d&&(l=d[1].toLowerCase(),c=d[2],Sn[l]&&(n=Sn[l].apply(this,[c]))),n===void 0)throw new Error("Could not parse WKT "+t);return n},lr.prototype.write=function(t){return this.extractGeometry(t)},lr.prototype.extractGeometry=function(t){var n=t.getGeometryType().toLowerCase();if(!Ai[n])return null;var l=n.toUpperCase();return t.isEmpty()?l+" EMPTY":l+"("+Ai[n].apply(this,[t])+")"};var Ai={coordinate:function(t){return t.x+" "+t.y},point:function(t){return Ai.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var n=[],l=0,c=t._geometries.length;l<c;++l)n.push("("+Ai.point.apply(this,[t._geometries[l]])+")");return n.join(",")},linestring:function(t){for(var n=[],l=0,c=t._points._coordinates.length;l<c;++l)n.push(Ai.coordinate.apply(this,[t._points._coordinates[l]]));return n.join(",")},linearring:function(t){for(var n=[],l=0,c=t._points._coordinates.length;l<c;++l)n.push(Ai.coordinate.apply(this,[t._points._coordinates[l]]));return n.join(",")},multilinestring:function(t){for(var n=[],l=0,c=t._geometries.length;l<c;++l)n.push("("+Ai.linestring.apply(this,[t._geometries[l]])+")");return n.join(",")},polygon:function(t){var n=[];n.push("("+Ai.linestring.apply(this,[t._shell])+")");for(var l=0,c=t._holes.length;l<c;++l)n.push("("+Ai.linestring.apply(this,[t._holes[l]])+")");return n.join(",")},multipolygon:function(t){for(var n=[],l=0,c=t._geometries.length;l<c;++l)n.push("("+Ai.polygon.apply(this,[t._geometries[l]])+")");return n.join(",")},geometrycollection:function(t){for(var n=[],l=0,c=t._geometries.length;l<c;++l)n.push(this.extractGeometry(t._geometries[l]));return n.join(",")}},Sn={point:function(t){if(t===void 0)return this.geometryFactory.createPoint();var n=t.trim().split(Gt.spaces);return this.geometryFactory.createPoint(new B(Number.parseFloat(n[0]),Number.parseFloat(n[1])))},multipoint:function(t){if(t===void 0)return this.geometryFactory.createMultiPoint();for(var n,l=t.trim().split(","),c=[],d=0,_=l.length;d<_;++d)n=l[d].replace(Gt.trimParens,"$1"),c.push(Sn.point.apply(this,[n]));return this.geometryFactory.createMultiPoint(c)},linestring:function(t){if(t===void 0)return this.geometryFactory.createLineString();for(var n,l=t.trim().split(","),c=[],d=0,_=l.length;d<_;++d)n=l[d].trim().split(Gt.spaces),c.push(new B(Number.parseFloat(n[0]),Number.parseFloat(n[1])));return this.geometryFactory.createLineString(c)},linearring:function(t){if(t===void 0)return this.geometryFactory.createLinearRing();for(var n,l=t.trim().split(","),c=[],d=0,_=l.length;d<_;++d)n=l[d].trim().split(Gt.spaces),c.push(new B(Number.parseFloat(n[0]),Number.parseFloat(n[1])));return this.geometryFactory.createLinearRing(c)},multilinestring:function(t){if(t===void 0)return this.geometryFactory.createMultiLineString();for(var n,l=t.trim().split(Gt.parenComma),c=[],d=0,_=l.length;d<_;++d)n=l[d].replace(Gt.trimParens,"$1"),c.push(Sn.linestring.apply(this,[n]));return this.geometryFactory.createMultiLineString(c)},polygon:function(t){if(t===void 0)return this.geometryFactory.createPolygon();for(var n,l,c,d,_=t.trim().split(Gt.parenComma),x=[],M=0,V=_.length;M<V;++M)n=_[M].replace(Gt.trimParens,"$1"),l=Sn.linestring.apply(this,[n]),c=this.geometryFactory.createLinearRing(l._points),M===0?d=c:x.push(c);return this.geometryFactory.createPolygon(d,x)},multipolygon:function(t){if(t===void 0)return this.geometryFactory.createMultiPolygon();for(var n,l=t.trim().split(Gt.doubleParenComma),c=[],d=0,_=l.length;d<_;++d)n=l[d].replace(Gt.trimParens,"$1"),c.push(Sn.polygon.apply(this,[n]));return this.geometryFactory.createMultiPolygon(c)},geometrycollection:function(t){if(t===void 0)return this.geometryFactory.createGeometryCollection();for(var n=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),l=[],c=0,d=n.length;c<d;++c)l.push(this.read(n[c]));return this.geometryFactory.createGeometryCollection(l)}},ji=function(t){this.parser=new lr(t)};ji.prototype.write=function(t){return this.parser.write(t)},ji.toLineString=function(t,n){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+n.x+" "+n.y+" )"};var ur=function(t){function n(l){t.call(this,l),this.name="RuntimeException",this.message=l,this.stack=new t().stack}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(Error),Ao=function(t){function n(){if(t.call(this),arguments.length===0)t.call(this);else if(arguments.length===1){var l=arguments[0];t.call(this,l)}}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(ur),at=function(){};at.prototype.interfaces_=function(){return[]},at.prototype.getClass=function(){return at},at.shouldNeverReachHere=function(){if(arguments.length===0)at.shouldNeverReachHere(null);else if(arguments.length===1){var t=arguments[0];throw new Ao("Should never reach here"+(t!==null?": "+t:""))}},at.isTrue=function(){var t,n;if(arguments.length===1)t=arguments[0],at.isTrue(t,null);else if(arguments.length===2&&(t=arguments[0],n=arguments[1],!t))throw n===null?new Ao:new Ao(n)},at.equals=function(){var t,n,l;if(arguments.length===2)t=arguments[0],n=arguments[1],at.equals(t,n,null);else if(arguments.length===3&&(t=arguments[0],n=arguments[1],l=arguments[2],!n.equals(t)))throw new Ao("Expected "+t+" but encountered "+n+(l!==null?": "+l:""))};var Vi=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new B,this._intPt[1]=new B,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Vo={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Vi.prototype.getIndexAlongSegment=function(t,n){return this.computeIntLineIndex(),this._intLineIndex[t][n]},Vi.prototype.getTopologySummary=function(){var t=new zt;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},Vi.prototype.computeIntersection=function(t,n,l,c){this._inputLines[0][0]=t,this._inputLines[0][1]=n,this._inputLines[1][0]=l,this._inputLines[1][1]=c,this._result=this.computeIntersect(t,n,l,c)},Vi.prototype.getIntersectionNum=function(){return this._result},Vi.prototype.computeIntLineIndex=function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},Vi.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Vi.prototype.setPrecisionModel=function(t){this._precisionModel=t},Vi.prototype.isInteriorIntersection=function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var t=arguments[0],n=0;n<this._result;n++)if(!this._intPt[n].equals2D(this._inputLines[t][0])&&!this._intPt[n].equals2D(this._inputLines[t][1]))return!0;return!1}},Vi.prototype.getIntersection=function(t){return this._intPt[t]},Vi.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Vi.prototype.hasIntersection=function(){return this._result!==Vi.NO_INTERSECTION},Vi.prototype.getEdgeDistance=function(t,n){return Vi.computeEdgeDistance(this._intPt[n],this._inputLines[t][0],this._inputLines[t][1])},Vi.prototype.isCollinear=function(){return this._result===Vi.COLLINEAR_INTERSECTION},Vi.prototype.toString=function(){return ji.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+ji.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Vi.prototype.getEndpoint=function(t,n){return this._inputLines[t][n]},Vi.prototype.isIntersection=function(t){for(var n=0;n<this._result;n++)if(this._intPt[n].equals2D(t))return!0;return!1},Vi.prototype.getIntersectionAlongSegment=function(t,n){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][n]]},Vi.prototype.interfaces_=function(){return[]},Vi.prototype.getClass=function(){return Vi},Vi.computeEdgeDistance=function(t,n,l){var c=Math.abs(l.x-n.x),d=Math.abs(l.y-n.y),_=-1;if(t.equals(n))_=0;else if(t.equals(l))_=c>d?c:d;else{var x=Math.abs(t.x-n.x),M=Math.abs(t.y-n.y);(_=c>d?x:M)!==0||t.equals(n)||(_=Math.max(x,M))}return at.isTrue(!(_===0&&!t.equals(n)),"Bad distance calculation"),_},Vi.nonRobustComputeEdgeDistance=function(t,n,l){var c=t.x-n.x,d=t.y-n.y,_=Math.sqrt(c*c+d*d);return at.isTrue(!(_===0&&!t.equals(n)),"Invalid distance calculation"),_},Vo.DONT_INTERSECT.get=function(){return 0},Vo.DO_INTERSECT.get=function(){return 1},Vo.COLLINEAR.get=function(){return 2},Vo.NO_INTERSECTION.get=function(){return 0},Vo.POINT_INTERSECTION.get=function(){return 1},Vo.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Vi,Vo);var uo=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.isInSegmentEnvelopes=function(l){var c=new ze(this._inputLines[0][0],this._inputLines[0][1]),d=new ze(this._inputLines[1][0],this._inputLines[1][1]);return c.contains(l)&&d.contains(l)},n.prototype.computeIntersection=function(){if(arguments.length!==3)return t.prototype.computeIntersection.apply(this,arguments);var l=arguments[0],c=arguments[1],d=arguments[2];if(this._isProper=!1,ze.intersects(c,d,l)&&Le.orientationIndex(c,d,l)===0&&Le.orientationIndex(d,c,l)===0)return this._isProper=!0,(l.equals(c)||l.equals(d))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},n.prototype.normalizeToMinimum=function(l,c,d,_,x){x.x=this.smallestInAbsValue(l.x,c.x,d.x,_.x),x.y=this.smallestInAbsValue(l.y,c.y,d.y,_.y),l.x-=x.x,l.y-=x.y,c.x-=x.x,c.y-=x.y,d.x-=x.x,d.y-=x.y,_.x-=x.x,_.y-=x.y},n.prototype.safeHCoordinateIntersection=function(l,c,d,_){var x=null;try{x=Bi.intersection(l,c,d,_)}catch(M){if(!(M instanceof Qi))throw M;x=n.nearestEndpoint(l,c,d,_)}return x},n.prototype.intersection=function(l,c,d,_){var x=this.intersectionWithNormalization(l,c,d,_);return this.isInSegmentEnvelopes(x)||(x=new B(n.nearestEndpoint(l,c,d,_))),this._precisionModel!==null&&this._precisionModel.makePrecise(x),x},n.prototype.smallestInAbsValue=function(l,c,d,_){var x=l,M=Math.abs(x);return Math.abs(c)<M&&(x=c,M=Math.abs(c)),Math.abs(d)<M&&(x=d,M=Math.abs(d)),Math.abs(_)<M&&(x=_),x},n.prototype.checkDD=function(l,c,d,_,x){var M=Qe.intersection(l,c,d,_),V=this.isInSegmentEnvelopes(M);qt.out.println("DD in env = "+V+"  --------------------- "+M),x.distance(M)>1e-4&&qt.out.println("Distance = "+x.distance(M))},n.prototype.intersectionWithNormalization=function(l,c,d,_){var x=new B(l),M=new B(c),V=new B(d),Q=new B(_),ce=new B;this.normalizeToEnvCentre(x,M,V,Q,ce);var he=this.safeHCoordinateIntersection(x,M,V,Q);return he.x+=ce.x,he.y+=ce.y,he},n.prototype.computeCollinearIntersection=function(l,c,d,_){var x=ze.intersects(l,c,d),M=ze.intersects(l,c,_),V=ze.intersects(d,_,l),Q=ze.intersects(d,_,c);return x&&M?(this._intPt[0]=d,this._intPt[1]=_,t.COLLINEAR_INTERSECTION):V&&Q?(this._intPt[0]=l,this._intPt[1]=c,t.COLLINEAR_INTERSECTION):x&&V?(this._intPt[0]=d,this._intPt[1]=l,!d.equals(l)||M||Q?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):x&&Q?(this._intPt[0]=d,this._intPt[1]=c,!d.equals(c)||M||V?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):M&&V?(this._intPt[0]=_,this._intPt[1]=l,!_.equals(l)||x||Q?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):M&&Q?(this._intPt[0]=_,this._intPt[1]=c,!_.equals(c)||x||V?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},n.prototype.normalizeToEnvCentre=function(l,c,d,_,x){var M=l.x<c.x?l.x:c.x,V=l.y<c.y?l.y:c.y,Q=l.x>c.x?l.x:c.x,ce=l.y>c.y?l.y:c.y,he=d.x<_.x?d.x:_.x,ke=d.y<_.y?d.y:_.y,De=d.x>_.x?d.x:_.x,$e=d.y>_.y?d.y:_.y,ot=((M>he?M:he)+(Q<De?Q:De))/2,Ni=((V>ke?V:ke)+(ce<$e?ce:$e))/2;x.x=ot,x.y=Ni,l.x-=x.x,l.y-=x.y,c.x-=x.x,c.y-=x.y,d.x-=x.x,d.y-=x.y,_.x-=x.x,_.y-=x.y},n.prototype.computeIntersect=function(l,c,d,_){if(this._isProper=!1,!ze.intersects(l,c,d,_))return t.NO_INTERSECTION;var x=Le.orientationIndex(l,c,d),M=Le.orientationIndex(l,c,_);if(x>0&&M>0||x<0&&M<0)return t.NO_INTERSECTION;var V=Le.orientationIndex(d,_,l),Q=Le.orientationIndex(d,_,c);return V>0&&Q>0||V<0&&Q<0?t.NO_INTERSECTION:x===0&&M===0&&V===0&&Q===0?this.computeCollinearIntersection(l,c,d,_):(x===0||M===0||V===0||Q===0?(this._isProper=!1,l.equals2D(d)||l.equals2D(_)?this._intPt[0]=l:c.equals2D(d)||c.equals2D(_)?this._intPt[0]=c:x===0?this._intPt[0]=new B(d):M===0?this._intPt[0]=new B(_):V===0?this._intPt[0]=new B(l):Q===0&&(this._intPt[0]=new B(c))):(this._isProper=!0,this._intPt[0]=this.intersection(l,c,d,_)),t.POINT_INTERSECTION)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n.nearestEndpoint=function(l,c,d,_){var x=l,M=Le.distancePointLine(l,d,_),V=Le.distancePointLine(c,d,_);return V<M&&(M=V,x=c),(V=Le.distancePointLine(d,l,c))<M&&(M=V,x=d),(V=Le.distancePointLine(_,l,c))<M&&(M=V,x=_),x},n}(Vi),Bo=function(){};Bo.prototype.interfaces_=function(){return[]},Bo.prototype.getClass=function(){return Bo},Bo.orientationIndex=function(t,n,l){var c=n.x-t.x,d=n.y-t.y,_=l.x-n.x,x=l.y-n.y;return Bo.signOfDet2x2(c,d,_,x)},Bo.signOfDet2x2=function(t,n,l,c){var d=null,_=null,x=null;if(d=1,t===0||c===0)return n===0||l===0?0:n>0?l>0?-d:d:l>0?d:-d;if(n===0||l===0)return c>0?t>0?d:-d:t>0?-d:d;if(n>0?c>0?n<=c||(d=-d,_=t,t=l,l=_,_=n,n=c,c=_):n<=-c?(d=-d,l=-l,c=-c):(_=t,t=-l,l=_,_=n,n=-c,c=_):c>0?-n<=c?(d=-d,t=-t,n=-n):(_=-t,t=l,l=_,_=-n,n=c,c=_):n>=c?(t=-t,n=-n,l=-l,c=-c):(d=-d,_=-t,t=-l,l=_,_=-n,n=-c,c=_),t>0){if(!(l>0)||!(t<=l))return d}else{if(l>0||!(t>=l))return-d;d=-d,t=-t,l=-l}for(;;){if(x=Math.floor(l/t),l-=x*t,(c-=x*n)<0)return-d;if(c>n)return d;if(t>l+l){if(n<c+c)return d}else{if(n>c+c)return-d;l=t-l,c=n-c,d=-d}if(c===0)return l===0?0:-d;if(l===0||(x=Math.floor(t/l),t-=x*l,(n-=x*c)<0))return d;if(n>c)return-d;if(l>t+t){if(c<n+n)return-d}else{if(c>n+n)return d;t=l-t,n=c-n,d=-d}if(n===0)return t===0?0:d;if(t===0)return-d}};var Qn=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};Qn.prototype.countSegment=function(t,n){if(t.x<this._p.x&&n.x<this._p.x)return null;if(this._p.x===n.x&&this._p.y===n.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&n.y===this._p.y){var l=t.x,c=n.x;return l>c&&(l=n.x,c=t.x),this._p.x>=l&&this._p.x<=c&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&n.y<=this._p.y||n.y>this._p.y&&t.y<=this._p.y){var d=t.x-this._p.x,_=t.y-this._p.y,x=n.x-this._p.x,M=n.y-this._p.y,V=Bo.signOfDet2x2(d,_,x,M);if(V===0)return this._isPointOnSegment=!0,null;M<_&&(V=-V),V>0&&this._crossingCount++}},Qn.prototype.isPointInPolygon=function(){return this.getLocation()!==W.EXTERIOR},Qn.prototype.getLocation=function(){return this._isPointOnSegment?W.BOUNDARY:this._crossingCount%2==1?W.INTERIOR:W.EXTERIOR},Qn.prototype.isOnSegment=function(){return this._isPointOnSegment},Qn.prototype.interfaces_=function(){return[]},Qn.prototype.getClass=function(){return Qn},Qn.locatePointInRing=function(){if(arguments[0]instanceof B&&Ie(arguments[1],Se)){for(var t=arguments[0],n=arguments[1],l=new Qn(t),c=new B,d=new B,_=1;_<n.size();_++)if(n.getCoordinate(_,c),n.getCoordinate(_-1,d),l.countSegment(c,d),l.isOnSegment())return l.getLocation();return l.getLocation()}if(arguments[0]instanceof B&&arguments[1]instanceof Array){for(var x=arguments[0],M=arguments[1],V=new Qn(x),Q=1;Q<M.length;Q++){var ce=M[Q],he=M[Q-1];if(V.countSegment(ce,he),V.isOnSegment())return V.getLocation()}return V.getLocation()}};var Le=function(){},Ls={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};Le.prototype.interfaces_=function(){return[]},Le.prototype.getClass=function(){return Le},Le.orientationIndex=function(t,n,l){return Qe.orientationIndex(t,n,l)},Le.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var n=0,l=t[0].x,c=1;c<t.length-1;c++){var d=t[c].x-l,_=t[c+1].y;n+=d*(t[c-1].y-_)}return n/2}if(Ie(arguments[0],Se)){var x=arguments[0],M=x.size();if(M<3)return 0;var V=new B,Q=new B,ce=new B;x.getCoordinate(0,Q),x.getCoordinate(1,ce);var he=Q.x;ce.x-=he;for(var ke=0,De=1;De<M-1;De++)V.y=Q.y,Q.x=ce.x,Q.y=ce.y,x.getCoordinate(De+1,ce),ce.x-=he,ke+=Q.x*(V.y-ce.y);return ke/2}},Le.distanceLineLine=function(t,n,l,c){if(t.equals(n))return Le.distancePointLine(t,l,c);if(l.equals(c))return Le.distancePointLine(c,t,n);var d=!1;if(ze.intersects(t,n,l,c)){var _=(n.x-t.x)*(c.y-l.y)-(n.y-t.y)*(c.x-l.x);if(_===0)d=!0;else{var x=(t.y-l.y)*(c.x-l.x)-(t.x-l.x)*(c.y-l.y),M=((t.y-l.y)*(n.x-t.x)-(t.x-l.x)*(n.y-t.y))/_,V=x/_;(V<0||V>1||M<0||M>1)&&(d=!0)}}else d=!0;return d?ct.min(Le.distancePointLine(t,l,c),Le.distancePointLine(n,l,c),Le.distancePointLine(l,t,n),Le.distancePointLine(c,t,n)):0},Le.isPointInRing=function(t,n){return Le.locatePointInRing(t,n)!==W.EXTERIOR},Le.computeLength=function(t){var n=t.size();if(n<=1)return 0;var l=0,c=new B;t.getCoordinate(0,c);for(var d=c.x,_=c.y,x=1;x<n;x++){t.getCoordinate(x,c);var M=c.x,V=c.y,Q=M-d,ce=V-_;l+=Math.sqrt(Q*Q+ce*ce),d=M,_=V}return l},Le.isCCW=function(t){var n=t.length-1;if(n<3)throw new F("Ring has fewer than 4 points, so orientation cannot be determined");for(var l=t[0],c=0,d=1;d<=n;d++){var _=t[d];_.y>l.y&&(l=_,c=d)}var x=c;do(x-=1)<0&&(x=n);while(t[x].equals2D(l)&&x!==c);var M=c;do M=(M+1)%n;while(t[M].equals2D(l)&&M!==c);var V=t[x],Q=t[M];if(V.equals2D(l)||Q.equals2D(l)||V.equals2D(Q))return!1;var ce=Le.computeOrientation(V,l,Q),he=!1;return he=ce===0?V.x>Q.x:ce>0,he},Le.locatePointInRing=function(t,n){return Qn.locatePointInRing(t,n)},Le.distancePointLinePerpendicular=function(t,n,l){var c=(l.x-n.x)*(l.x-n.x)+(l.y-n.y)*(l.y-n.y),d=((n.y-t.y)*(l.x-n.x)-(n.x-t.x)*(l.y-n.y))/c;return Math.abs(d)*Math.sqrt(c)},Le.computeOrientation=function(t,n,l){return Le.orientationIndex(t,n,l)},Le.distancePointLine=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];if(n.length===0)throw new F("Line array must contain at least one vertex");for(var l=t.distance(n[0]),c=0;c<n.length-1;c++){var d=Le.distancePointLine(t,n[c],n[c+1]);d<l&&(l=d)}return l}if(arguments.length===3){var _=arguments[0],x=arguments[1],M=arguments[2];if(x.x===M.x&&x.y===M.y)return _.distance(x);var V=(M.x-x.x)*(M.x-x.x)+(M.y-x.y)*(M.y-x.y),Q=((_.x-x.x)*(M.x-x.x)+(_.y-x.y)*(M.y-x.y))/V;if(Q<=0)return _.distance(x);if(Q>=1)return _.distance(M);var ce=((x.y-_.y)*(M.x-x.x)-(x.x-_.x)*(M.y-x.y))/V;return Math.abs(ce)*Math.sqrt(V)}},Le.isOnLine=function(t,n){for(var l=new uo,c=1;c<n.length;c++){var d=n[c-1],_=n[c];if(l.computeIntersection(t,d,_),l.hasIntersection())return!0}return!1},Ls.CLOCKWISE.get=function(){return-1},Ls.RIGHT.get=function(){return Le.CLOCKWISE},Ls.COUNTERCLOCKWISE.get=function(){return 1},Ls.LEFT.get=function(){return Le.COUNTERCLOCKWISE},Ls.COLLINEAR.get=function(){return 0},Ls.STRAIGHT.get=function(){return Le.COLLINEAR},Object.defineProperties(Le,Ls);var Jo=function(){};Jo.prototype.filter=function(t){},Jo.prototype.interfaces_=function(){return[]},Jo.prototype.getClass=function(){return Jo};var rt=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},Co={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};rt.prototype.isGeometryCollection=function(){return this.getSortIndex()===rt.SORTINDEX_GEOMETRYCOLLECTION},rt.prototype.getFactory=function(){return this._factory},rt.prototype.getGeometryN=function(t){return this},rt.prototype.getArea=function(){return 0},rt.prototype.isRectangle=function(){return!1},rt.prototype.equals=function(){if(arguments[0]instanceof rt){var t=arguments[0];return t!==null&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var n=arguments[0];if(!(n instanceof rt))return!1;var l=n;return this.equalsExact(l)}},rt.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},rt.prototype.geometryChanged=function(){this.apply(rt.geometryChangedFilter)},rt.prototype.geometryChangedAction=function(){this._envelope=null},rt.prototype.equalsNorm=function(t){return t!==null&&this.norm().equalsExact(t.norm())},rt.prototype.getLength=function(){return 0},rt.prototype.getNumGeometries=function(){return 1},rt.prototype.compareTo=function(){if(arguments.length===1){var t=arguments[0],n=t;return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(t)}if(arguments.length===2){var l=arguments[0],c=arguments[1];return this.getSortIndex()!==l.getSortIndex()?this.getSortIndex()-l.getSortIndex():this.isEmpty()&&l.isEmpty()?0:this.isEmpty()?-1:l.isEmpty()?1:this.compareToSameClass(l,c)}},rt.prototype.getUserData=function(){return this._userData},rt.prototype.getSRID=function(){return this._SRID},rt.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},rt.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===rt.SORTINDEX_GEOMETRYCOLLECTION)throw new F("This method does not support GeometryCollection arguments")},rt.prototype.equal=function(t,n,l){return l===0?t.equals(n):t.distance(n)<=l},rt.prototype.norm=function(){var t=this.copy();return t.normalize(),t},rt.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},rt.prototype.getEnvelopeInternal=function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new ze(this._envelope)},rt.prototype.setSRID=function(t){this._SRID=t},rt.prototype.setUserData=function(t){this._userData=t},rt.prototype.compare=function(t,n){for(var l=t.iterator(),c=n.iterator();l.hasNext()&&c.hasNext();){var d=l.next(),_=c.next(),x=d.compareTo(_);if(x!==0)return x}return l.hasNext()?1:c.hasNext()?-1:0},rt.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},rt.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===rt.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===rt.SORTINDEX_MULTIPOINT||this.getSortIndex()===rt.SORTINDEX_MULTILINESTRING||this.getSortIndex()===rt.SORTINDEX_MULTIPOLYGON},rt.prototype.interfaces_=function(){return[re,ee,s]},rt.prototype.getClass=function(){return rt},rt.hasNonEmptyElements=function(t){for(var n=0;n<t.length;n++)if(!t[n].isEmpty())return!0;return!1},rt.hasNullElements=function(t){for(var n=0;n<t.length;n++)if(t[n]===null)return!0;return!1},Co.serialVersionUID.get=function(){return 8763622679187377e3},Co.SORTINDEX_POINT.get=function(){return 0},Co.SORTINDEX_MULTIPOINT.get=function(){return 1},Co.SORTINDEX_LINESTRING.get=function(){return 2},Co.SORTINDEX_LINEARRING.get=function(){return 3},Co.SORTINDEX_MULTILINESTRING.get=function(){return 4},Co.SORTINDEX_POLYGON.get=function(){return 5},Co.SORTINDEX_MULTIPOLYGON.get=function(){return 6},Co.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},Co.geometryChangedFilter.get=function(){return Ja},Object.defineProperties(rt,Co);var Ja=function(){};Ja.interfaces_=function(){return[Jo]},Ja.filter=function(t){t.geometryChangedAction()};var oe=function(){};oe.prototype.filter=function(t){},oe.prototype.interfaces_=function(){return[]},oe.prototype.getClass=function(){return oe};var C=function(){},P={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};C.prototype.isInBoundary=function(t){},C.prototype.interfaces_=function(){return[]},C.prototype.getClass=function(){return C},P.Mod2BoundaryNodeRule.get=function(){return z},P.EndPointBoundaryNodeRule.get=function(){return G},P.MultiValentEndPointBoundaryNodeRule.get=function(){return q},P.MonoValentEndPointBoundaryNodeRule.get=function(){return de},P.MOD2_BOUNDARY_RULE.get=function(){return new z},P.ENDPOINT_BOUNDARY_RULE.get=function(){return new G},P.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new q},P.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new de},P.OGC_SFS_BOUNDARY_RULE.get=function(){return C.MOD2_BOUNDARY_RULE},Object.defineProperties(C,P);var z=function(){};z.prototype.isInBoundary=function(t){return t%2==1},z.prototype.interfaces_=function(){return[C]},z.prototype.getClass=function(){return z};var G=function(){};G.prototype.isInBoundary=function(t){return t>0},G.prototype.interfaces_=function(){return[C]},G.prototype.getClass=function(){return G};var q=function(){};q.prototype.isInBoundary=function(t){return t>1},q.prototype.interfaces_=function(){return[C]},q.prototype.getClass=function(){return q};var de=function(){};de.prototype.isInBoundary=function(t){return t===1},de.prototype.interfaces_=function(){return[C]},de.prototype.getClass=function(){return de};var ae=function(){};ae.prototype.add=function(){},ae.prototype.addAll=function(){},ae.prototype.isEmpty=function(){},ae.prototype.iterator=function(){},ae.prototype.size=function(){},ae.prototype.toArray=function(){},ae.prototype.remove=function(){},(o.prototype=new Error).name="IndexOutOfBoundsException";var be=function(){};be.prototype.hasNext=function(){},be.prototype.next=function(){},be.prototype.remove=function(){};var me=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.get=function(){},n.prototype.set=function(){},n.prototype.isEmpty=function(){},n}(ae);(e.prototype=new Error).name="NoSuchElementException";var ue=function(t){function n(){t.call(this),this.array_=[],arguments[0]instanceof ae&&this.addAll(arguments[0])}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.ensureCapacity=function(){},n.prototype.interfaces_=function(){return[t,ae]},n.prototype.add=function(l){return arguments.length===1?this.array_.push(l):this.array_.splice(arguments[0],arguments[1]),!0},n.prototype.clear=function(){this.array_=[]},n.prototype.addAll=function(l){for(var c=l.iterator();c.hasNext();)this.add(c.next());return!0},n.prototype.set=function(l,c){var d=this.array_[l];return this.array_[l]=c,d},n.prototype.iterator=function(){return new pe(this)},n.prototype.get=function(l){if(l<0||l>=this.size())throw new o;return this.array_[l]},n.prototype.isEmpty=function(){return this.array_.length===0},n.prototype.size=function(){return this.array_.length},n.prototype.toArray=function(){for(var l=[],c=0,d=this.array_.length;c<d;c++)l.push(this.array_[c]);return l},n.prototype.remove=function(l){for(var c=!1,d=0,_=this.array_.length;d<_;d++)if(this.array_[d]===l){this.array_.splice(d,1),c=!0;break}return c},n}(me),pe=function(t){function n(l){t.call(this),this.arrayList_=l,this.position_=0}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new e;return this.arrayList_.get(this.position_++)},n.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},n.prototype.set=function(l){return this.arrayList_.set(this.position_-1,l)},n.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},n}(be),Ce=function(t){function n(){if(t.call(this),arguments.length!==0){if(arguments.length===1){var c=arguments[0];this.ensureCapacity(c.length),this.add(c,!0)}else if(arguments.length===2){var d=arguments[0],_=arguments[1];this.ensureCapacity(d.length),this.add(d,_)}}}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var l={coordArrayType:{configurable:!0}};return l.coordArrayType.get=function(){return new Array(0).fill(null)},n.prototype.getCoordinate=function(c){return this.get(c)},n.prototype.addAll=function(){if(arguments.length===2){for(var c=arguments[0],d=arguments[1],_=!1,x=c.iterator();x.hasNext();)this.add(x.next(),d),_=!0;return _}return t.prototype.addAll.apply(this,arguments)},n.prototype.clone=function(){for(var c=t.prototype.clone.call(this),d=0;d<this.size();d++)c.add(d,this.get(d).copy());return c},n.prototype.toCoordinateArray=function(){return this.toArray(n.coordArrayType)},n.prototype.add=function(){if(arguments.length===1){var c=arguments[0];t.prototype.add.call(this,c)}else if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var d=arguments[0],_=arguments[1];return this.add(d,_,!0),!0}if(arguments[0]instanceof B&&typeof arguments[1]=="boolean"){var x=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(x))return null;t.prototype.add.call(this,x)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var M=arguments[0],V=arguments[1];return this.add(M,V),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var Q=arguments[0],ce=arguments[1];if(arguments[2])for(var he=0;he<Q.length;he++)this.add(Q[he],ce);else for(var ke=Q.length-1;ke>=0;ke--)this.add(Q[ke],ce);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof B){var De=arguments[0],$e=arguments[1];if(!arguments[2]){var ot=this.size();if(ot>0&&(De>0&&this.get(De-1).equals2D($e)||De<ot&&this.get(De).equals2D($e)))return null}t.prototype.add.call(this,De,$e)}}else if(arguments.length===4){var Ni=arguments[0],An=arguments[1],jr=arguments[2],qs=arguments[3],wa=1;jr>qs&&(wa=-1);for(var wp=jr;wp!==qs;wp+=wa)this.add(Ni[wp],An);return!0}},n.prototype.closeRing=function(){this.size()>0&&this.add(new B(this.get(0)),!1)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},Object.defineProperties(n,l),n}(ue),xe=function(){},gt={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};gt.ForwardComparator.get=function(){return pt},gt.BidirectionalComparator.get=function(){return Tt},gt.coordArrayType.get=function(){return new Array(0).fill(null)},xe.prototype.interfaces_=function(){return[]},xe.prototype.getClass=function(){return xe},xe.isRing=function(t){return!(t.length<4)&&!!t[0].equals2D(t[t.length-1])},xe.ptNotInList=function(t,n){for(var l=0;l<t.length;l++){var c=t[l];if(xe.indexOf(c,n)<0)return c}return null},xe.scroll=function(t,n){var l=xe.indexOf(n,t);if(l<0)return null;var c=new Array(t.length).fill(null);qt.arraycopy(t,l,c,0,t.length-l),qt.arraycopy(t,0,c,t.length-l,l),qt.arraycopy(c,0,t,0,t.length)},xe.equals=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];if(t===n)return!0;if(t===null||n===null||t.length!==n.length)return!1;for(var l=0;l<t.length;l++)if(!t[l].equals(n[l]))return!1;return!0}if(arguments.length===3){var c=arguments[0],d=arguments[1],_=arguments[2];if(c===d)return!0;if(c===null||d===null||c.length!==d.length)return!1;for(var x=0;x<c.length;x++)if(_.compare(c[x],d[x])!==0)return!1;return!0}},xe.intersection=function(t,n){for(var l=new Ce,c=0;c<t.length;c++)n.intersects(t[c])&&l.add(t[c],!0);return l.toCoordinateArray()},xe.hasRepeatedPoints=function(t){for(var n=1;n<t.length;n++)if(t[n-1].equals(t[n]))return!0;return!1},xe.removeRepeatedPoints=function(t){return xe.hasRepeatedPoints(t)?new Ce(t,!1).toCoordinateArray():t},xe.reverse=function(t){for(var n=t.length-1,l=Math.trunc(n/2),c=0;c<=l;c++){var d=t[c];t[c]=t[n-c],t[n-c]=d}},xe.removeNull=function(t){for(var n=0,l=0;l<t.length;l++)t[l]!==null&&n++;var c=new Array(n).fill(null);if(n===0)return c;for(var d=0,_=0;_<t.length;_++)t[_]!==null&&(c[d++]=t[_]);return c},xe.copyDeep=function(){if(arguments.length===1){for(var t=arguments[0],n=new Array(t.length).fill(null),l=0;l<t.length;l++)n[l]=new B(t[l]);return n}if(arguments.length===5)for(var c=arguments[0],d=arguments[1],_=arguments[2],x=arguments[3],M=arguments[4],V=0;V<M;V++)_[x+V]=new B(c[d+V])},xe.isEqualReversed=function(t,n){for(var l=0;l<t.length;l++){var c=t[l],d=n[t.length-l-1];if(c.compareTo(d)!==0)return!1}return!0},xe.envelope=function(t){for(var n=new ze,l=0;l<t.length;l++)n.expandToInclude(t[l]);return n},xe.toCoordinateArray=function(t){return t.toArray(xe.coordArrayType)},xe.atLeastNCoordinatesOrNothing=function(t,n){return n.length>=t?n:[]},xe.indexOf=function(t,n){for(var l=0;l<n.length;l++)if(t.equals(n[l]))return l;return-1},xe.increasingDirection=function(t){for(var n=0;n<Math.trunc(t.length/2);n++){var l=t.length-1-n,c=t[n].compareTo(t[l]);if(c!==0)return c}return 1},xe.compare=function(t,n){for(var l=0;l<t.length&&l<n.length;){var c=t[l].compareTo(n[l]);if(c!==0)return c;l++}return l<n.length?-1:l<t.length?1:0},xe.minCoordinate=function(t){for(var n=null,l=0;l<t.length;l++)(n===null||n.compareTo(t[l])>0)&&(n=t[l]);return n},xe.extract=function(t,n,l){n=ct.clamp(n,0,t.length);var c=(l=ct.clamp(l,-1,t.length))-n+1;l<0&&(c=0),n>=t.length&&(c=0),l<n&&(c=0);var d=new Array(c).fill(null);if(c===0)return d;for(var _=0,x=n;x<=l;x++)d[_++]=t[x];return d},Object.defineProperties(xe,gt);var pt=function(){};pt.prototype.compare=function(t,n){return xe.compare(t,n)},pt.prototype.interfaces_=function(){return[se]},pt.prototype.getClass=function(){return pt};var Tt=function(){};Tt.prototype.compare=function(t,n){var l=t,c=n;if(l.length<c.length)return-1;if(l.length>c.length)return 1;if(l.length===0)return 0;var d=xe.compare(l,c);return xe.isEqualReversed(l,c)?0:d},Tt.prototype.OLDcompare=function(t,n){var l=t,c=n;if(l.length<c.length)return-1;if(l.length>c.length)return 1;if(l.length===0)return 0;for(var d=xe.increasingDirection(l),_=xe.increasingDirection(c),x=d>0?0:l.length-1,M=_>0?0:l.length-1,V=0;V<l.length;V++){var Q=l[x].compareTo(c[M]);if(Q!==0)return Q;x+=d,M+=_}return 0},Tt.prototype.interfaces_=function(){return[se]},Tt.prototype.getClass=function(){return Tt};var vt=function(){};vt.prototype.get=function(){},vt.prototype.put=function(){},vt.prototype.size=function(){},vt.prototype.values=function(){},vt.prototype.entrySet=function(){};var Ji=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(vt);(r.prototype=new Error).name="OperationNotSupported",(u.prototype=new ae).contains=function(){};var Jn=function(t){function n(){t.call(this),this.array_=[],arguments[0]instanceof ae&&this.addAll(arguments[0])}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.contains=function(l){for(var c=0,d=this.array_.length;c<d;c++)if(this.array_[c]===l)return!0;return!1},n.prototype.add=function(l){return!this.contains(l)&&(this.array_.push(l),!0)},n.prototype.addAll=function(l){for(var c=l.iterator();c.hasNext();)this.add(c.next());return!0},n.prototype.remove=function(l){throw new Error},n.prototype.size=function(){return this.array_.length},n.prototype.isEmpty=function(){return this.array_.length===0},n.prototype.toArray=function(){for(var l=[],c=0,d=this.array_.length;c<d;c++)l.push(this.array_[c]);return l},n.prototype.iterator=function(){return new Rn(this)},n}(u),Rn=function(t){function n(l){t.call(this),this.hashSet_=l,this.position_=0}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new e;return this.hashSet_.array_[this.position_++]},n.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},n.prototype.remove=function(){throw new r},n}(be),Yt=0;(N.prototype=new Ji).get=function(t){for(var n=this.root_;n!==null;){var l=t.compareTo(n.key);if(l<0)n=n.left;else{if(!(l>0))return n.value;n=n.right}}return null},N.prototype.put=function(t,n){if(this.root_===null)return this.root_={key:t,value:n,left:null,right:null,parent:null,color:Yt,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var l,c,d=this.root_;do if(l=d,(c=t.compareTo(d.key))<0)d=d.left;else{if(!(c>0)){var _=d.value;return d.value=n,_}d=d.right}while(d!==null);var x={key:t,left:null,right:null,value:n,parent:l,color:Yt,getValue:function(){return this.value},getKey:function(){return this.key}};return c<0?l.left=x:l.right=x,this.fixAfterInsertion(x),this.size_++,null},N.prototype.fixAfterInsertion=function(t){for(t.color=1;t!=null&&t!==this.root_&&t.parent.color===1;)if(g(t)===w(g(g(t)))){var n=D(g(g(t)));h(n)===1?(y(g(t),Yt),y(n,Yt),y(g(g(t)),1),t=g(g(t))):(t===D(g(t))&&(t=g(t),this.rotateLeft(t)),y(g(t),Yt),y(g(g(t)),1),this.rotateRight(g(g(t))))}else{var l=w(g(g(t)));h(l)===1?(y(g(t),Yt),y(l,Yt),y(g(g(t)),1),t=g(g(t))):(t===w(g(t))&&(t=g(t),this.rotateRight(t)),y(g(t),Yt),y(g(g(t)),1),this.rotateLeft(g(g(t))))}this.root_.color=Yt},N.prototype.values=function(){var t=new ue,n=this.getFirstEntry();if(n!==null)for(t.add(n.value);(n=N.successor(n))!==null;)t.add(n.value);return t},N.prototype.entrySet=function(){var t=new Jn,n=this.getFirstEntry();if(n!==null)for(t.add(n);(n=N.successor(n))!==null;)t.add(n);return t},N.prototype.rotateLeft=function(t){if(t!=null){var n=t.right;t.right=n.left,n.left!=null&&(n.left.parent=t),n.parent=t.parent,t.parent===null?this.root_=n:t.parent.left===t?t.parent.left=n:t.parent.right=n,n.left=t,t.parent=n}},N.prototype.rotateRight=function(t){if(t!=null){var n=t.left;t.left=n.right,n.right!=null&&(n.right.parent=t),n.parent=t.parent,t.parent===null?this.root_=n:t.parent.right===t?t.parent.right=n:t.parent.left=n,n.right=t,t.parent=n}},N.prototype.getFirstEntry=function(){var t=this.root_;if(t!=null)for(;t.left!=null;)t=t.left;return t},N.successor=function(t){if(t===null)return null;if(t.right!==null){for(var n=t.right;n.left!==null;)n=n.left;return n}for(var l=t.parent,c=t;l!==null&&c===l.right;)c=l,l=l.parent;return l},N.prototype.size=function(){return this.size_};var Ke=function(){};Ke.prototype.interfaces_=function(){return[]},Ke.prototype.getClass=function(){return Ke},A.prototype=new u,(Y.prototype=new A).contains=function(t){for(var n=0,l=this.array_.length;n<l;n++)if(this.array_[n].compareTo(t)===0)return!0;return!1},Y.prototype.add=function(t){if(this.contains(t))return!1;for(var n=0,l=this.array_.length;n<l;n++)if(this.array_[n].compareTo(t)===1)return this.array_.splice(n,0,t),!0;return this.array_.push(t),!0},Y.prototype.addAll=function(t){for(var n=t.iterator();n.hasNext();)this.add(n.next());return!0},Y.prototype.remove=function(t){throw new r},Y.prototype.size=function(){return this.array_.length},Y.prototype.isEmpty=function(){return this.array_.length===0},Y.prototype.toArray=function(){for(var t=[],n=0,l=this.array_.length;n<l;n++)t.push(this.array_[n]);return t},Y.prototype.iterator=function(){return new _r(this)};var _r=function(t){this.treeSet_=t,this.position_=0};_r.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new e;return this.treeSet_.array_[this.position_++]},_r.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},_r.prototype.remove=function(){throw new r};var en=function(){};en.sort=function(){var t,n,l,c,d=arguments[0];if(arguments.length===1)c=function(x,M){return x.compareTo(M)},d.sort(c);else if(arguments.length===2)l=arguments[1],c=function(x,M){return l.compare(x,M)},d.sort(c);else if(arguments.length===3){(n=d.slice(arguments[1],arguments[2])).sort();var _=d.slice(0,arguments[1]).concat(n,d.slice(arguments[2],d.length));for(d.splice(0,d.length),t=0;t<_.length;t++)d.push(_[t])}else if(arguments.length===4)for(n=d.slice(arguments[1],arguments[2]),l=arguments[3],c=function(x,M){return l.compare(x,M)},n.sort(c),_=d.slice(0,arguments[1]).concat(n,d.slice(arguments[2],d.length)),d.splice(0,d.length),t=0;t<_.length;t++)d.push(_[t])},en.asList=function(t){for(var n=new ue,l=0,c=t.length;l<c;l++)n.add(t[l]);return n};var _t=function(){},tn={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};tn.P.get=function(){return 0},tn.L.get=function(){return 1},tn.A.get=function(){return 2},tn.FALSE.get=function(){return-1},tn.TRUE.get=function(){return-2},tn.DONTCARE.get=function(){return-3},tn.SYM_FALSE.get=function(){return"F"},tn.SYM_TRUE.get=function(){return"T"},tn.SYM_DONTCARE.get=function(){return"*"},tn.SYM_P.get=function(){return"0"},tn.SYM_L.get=function(){return"1"},tn.SYM_A.get=function(){return"2"},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},_t.toDimensionSymbol=function(t){switch(t){case _t.FALSE:return _t.SYM_FALSE;case _t.TRUE:return _t.SYM_TRUE;case _t.DONTCARE:return _t.SYM_DONTCARE;case _t.P:return _t.SYM_P;case _t.L:return _t.SYM_L;case _t.A:return _t.SYM_A}throw new F("Unknown dimension value: "+t)},_t.toDimensionValue=function(t){switch(Ae.toUpperCase(t)){case _t.SYM_FALSE:return _t.FALSE;case _t.SYM_TRUE:return _t.TRUE;case _t.SYM_DONTCARE:return _t.DONTCARE;case _t.SYM_P:return _t.P;case _t.SYM_L:return _t.L;case _t.SYM_A:return _t.A}throw new F("Unknown dimension symbol: "+t)},Object.defineProperties(_t,tn);var nn=function(){};nn.prototype.filter=function(t){},nn.prototype.interfaces_=function(){return[]},nn.prototype.getClass=function(){return nn};var rn=function(){};rn.prototype.filter=function(t,n){},rn.prototype.isDone=function(){},rn.prototype.isGeometryChanged=function(){},rn.prototype.interfaces_=function(){return[]},rn.prototype.getClass=function(){return rn};var Ri=function(t){function n(c,d){if(t.call(this,d),this._geometries=c||[],t.hasNullElements(this._geometries))throw new F("geometries must not contain null elements")}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var l={serialVersionUID:{configurable:!0}};return n.prototype.computeEnvelopeInternal=function(){for(var c=new ze,d=0;d<this._geometries.length;d++)c.expandToInclude(this._geometries[d].getEnvelopeInternal());return c},n.prototype.getGeometryN=function(c){return this._geometries[c]},n.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},n.prototype.getCoordinates=function(){for(var c=new Array(this.getNumPoints()).fill(null),d=-1,_=0;_<this._geometries.length;_++)for(var x=this._geometries[_].getCoordinates(),M=0;M<x.length;M++)c[++d]=x[M];return c},n.prototype.getArea=function(){for(var c=0,d=0;d<this._geometries.length;d++)c+=this._geometries[d].getArea();return c},n.prototype.equalsExact=function(){if(arguments.length===2){var c=arguments[0],d=arguments[1];if(!this.isEquivalentClass(c))return!1;var _=c;if(this._geometries.length!==_._geometries.length)return!1;for(var x=0;x<this._geometries.length;x++)if(!this._geometries[x].equalsExact(_._geometries[x],d))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},n.prototype.normalize=function(){for(var c=0;c<this._geometries.length;c++)this._geometries[c].normalize();en.sort(this._geometries)},n.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},n.prototype.getBoundaryDimension=function(){for(var c=_t.FALSE,d=0;d<this._geometries.length;d++)c=Math.max(c,this._geometries[d].getBoundaryDimension());return c},n.prototype.getDimension=function(){for(var c=_t.FALSE,d=0;d<this._geometries.length;d++)c=Math.max(c,this._geometries[d].getDimension());return c},n.prototype.getLength=function(){for(var c=0,d=0;d<this._geometries.length;d++)c+=this._geometries[d].getLength();return c},n.prototype.getNumPoints=function(){for(var c=0,d=0;d<this._geometries.length;d++)c+=this._geometries[d].getNumPoints();return c},n.prototype.getNumGeometries=function(){return this._geometries.length},n.prototype.reverse=function(){for(var c=this._geometries.length,d=new Array(c).fill(null),_=0;_<this._geometries.length;_++)d[_]=this._geometries[_].reverse();return this.getFactory().createGeometryCollection(d)},n.prototype.compareToSameClass=function(){if(arguments.length===1){var c=arguments[0],d=new Y(en.asList(this._geometries)),_=new Y(en.asList(c._geometries));return this.compare(d,_)}if(arguments.length===2){for(var x=arguments[0],M=arguments[1],V=x,Q=this.getNumGeometries(),ce=V.getNumGeometries(),he=0;he<Q&&he<ce;){var ke=this.getGeometryN(he),De=V.getGeometryN(he),$e=ke.compareToSameClass(De,M);if($e!==0)return $e;he++}return he<Q?1:he<ce?-1:0}},n.prototype.apply=function(){if(Ie(arguments[0],oe))for(var c=arguments[0],d=0;d<this._geometries.length;d++)this._geometries[d].apply(c);else if(Ie(arguments[0],rn)){var _=arguments[0];if(this._geometries.length===0)return null;for(var x=0;x<this._geometries.length&&(this._geometries[x].apply(_),!_.isDone());x++);_.isGeometryChanged()&&this.geometryChanged()}else if(Ie(arguments[0],nn)){var M=arguments[0];M.filter(this);for(var V=0;V<this._geometries.length;V++)this._geometries[V].apply(M)}else if(Ie(arguments[0],Jo)){var Q=arguments[0];Q.filter(this);for(var ce=0;ce<this._geometries.length;ce++)this._geometries[ce].apply(Q)}},n.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),at.shouldNeverReachHere(),null},n.prototype.clone=function(){var c=t.prototype.clone.call(this);c._geometries=new Array(this._geometries.length).fill(null);for(var d=0;d<this._geometries.length;d++)c._geometries[d]=this._geometries[d].clone();return c},n.prototype.getGeometryType=function(){return"GeometryCollection"},n.prototype.copy=function(){for(var c=new Array(this._geometries.length).fill(null),d=0;d<c.length;d++)c[d]=this._geometries[d].copy();return new n(c,this._factory)},n.prototype.isEmpty=function(){for(var c=0;c<this._geometries.length;c++)if(!this._geometries[c].isEmpty())return!1;return!0},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},l.serialVersionUID.get=function(){return-5694727726395021e3},Object.defineProperties(n,l),n}(rt),to=function(t){function n(){t.apply(this,arguments)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var l={serialVersionUID:{configurable:!0}};return n.prototype.getSortIndex=function(){return rt.SORTINDEX_MULTILINESTRING},n.prototype.equalsExact=function(){if(arguments.length===2){var c=arguments[0],d=arguments[1];return!!this.isEquivalentClass(c)&&t.prototype.equalsExact.call(this,c,d)}return t.prototype.equalsExact.apply(this,arguments)},n.prototype.getBoundaryDimension=function(){return this.isClosed()?_t.FALSE:0},n.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var c=0;c<this._geometries.length;c++)if(!this._geometries[c].isClosed())return!1;return!0},n.prototype.getDimension=function(){return 1},n.prototype.reverse=function(){for(var c=this._geometries.length,d=new Array(c).fill(null),_=0;_<this._geometries.length;_++)d[c-1-_]=this._geometries[_].reverse();return this.getFactory().createMultiLineString(d)},n.prototype.getBoundary=function(){return new Ar(this).getBoundary()},n.prototype.getGeometryType=function(){return"MultiLineString"},n.prototype.copy=function(){for(var c=new Array(this._geometries.length).fill(null),d=0;d<c.length;d++)c[d]=this._geometries[d].copy();return new n(c,this._factory)},n.prototype.interfaces_=function(){return[Ke]},n.prototype.getClass=function(){return n},l.serialVersionUID.get=function(){return 8166665132445434e3},Object.defineProperties(n,l),n}(Ri),Ar=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,arguments.length===1){var t=arguments[0],n=C.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=n}else if(arguments.length===2){var l=arguments[0],c=arguments[1];this._geom=l,this._geomFact=l.getFactory(),this._bnRule=c}};Ar.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var n=this.computeBoundaryCoordinates(t);return n.length===1?this._geomFact.createPoint(n[0]):this._geomFact.createMultiPointFromCoords(n)},Ar.prototype.getBoundary=function(){return this._geom instanceof sn?this.boundaryLineString(this._geom):this._geom instanceof to?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Ar.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},Ar.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Ar.prototype.computeBoundaryCoordinates=function(t){var n=new ue;this._endpointMap=new N;for(var l=0;l<t.getNumGeometries();l++){var c=t.getGeometryN(l);c.getNumPoints()!==0&&(this.addEndpoint(c.getCoordinateN(0)),this.addEndpoint(c.getCoordinateN(c.getNumPoints()-1)))}for(var d=this._endpointMap.entrySet().iterator();d.hasNext();){var _=d.next(),x=_.getValue().count;this._bnRule.isInBoundary(x)&&n.add(_.getKey())}return xe.toCoordinateArray(n)},Ar.prototype.addEndpoint=function(t){var n=this._endpointMap.get(t);n===null&&(n=new Pa,this._endpointMap.put(t,n)),n.count++},Ar.prototype.interfaces_=function(){return[]},Ar.prototype.getClass=function(){return Ar},Ar.getBoundary=function(){if(arguments.length===1){var t=arguments[0];return new Ar(t).getBoundary()}if(arguments.length===2){var n=arguments[0],l=arguments[1];return new Ar(n,l).getBoundary()}};var Pa=function(){this.count=null};Pa.prototype.interfaces_=function(){return[]},Pa.prototype.getClass=function(){return Pa};var Vr=function(){},cu={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Vr.prototype.interfaces_=function(){return[]},Vr.prototype.getClass=function(){return Vr},Vr.chars=function(t,n){for(var l=new Array(n).fill(null),c=0;c<n;c++)l[c]=t;return String(l)},Vr.getStackTrace=function(){if(arguments.length===1){var t=arguments[0],n=new function(){},l=new function(){}(n);return t.printStackTrace(l),n.toString()}if(arguments.length===2){for(var c=arguments[0],d=arguments[1],_="",x=new function(){}(new function(){}(Vr.getStackTrace(c))),M=0;M<d;M++)try{_+=x.readLine()+Vr.NEWLINE}catch(V){if(!(V instanceof X))throw V;at.shouldNeverReachHere()}return _}},Vr.split=function(t,n){for(var l=n.length,c=new ue,d=""+t,_=d.indexOf(n);_>=0;){var x=d.substring(0,_);c.add(x),_=(d=d.substring(_+l)).indexOf(n)}d.length>0&&c.add(d);for(var M=new Array(c.size()).fill(null),V=0;V<M.length;V++)M[V]=c.get(V);return M},Vr.toString=function(){if(arguments.length===1){var t=arguments[0];return Vr.SIMPLE_ORDINATE_FORMAT.format(t)}},Vr.spaces=function(t){return Vr.chars(" ",t)},cu.NEWLINE.get=function(){return qt.getProperty("line.separator")},cu.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Vr,cu);var on=function(){};on.prototype.interfaces_=function(){return[]},on.prototype.getClass=function(){return on},on.copyCoord=function(t,n,l,c){for(var d=Math.min(t.getDimension(),l.getDimension()),_=0;_<d;_++)l.setOrdinate(c,_,t.getOrdinate(n,_))},on.isRing=function(t){var n=t.size();return n===0||!(n<=3)&&t.getOrdinate(0,Se.X)===t.getOrdinate(n-1,Se.X)&&t.getOrdinate(0,Se.Y)===t.getOrdinate(n-1,Se.Y)},on.isEqual=function(t,n){var l=t.size();if(l!==n.size())return!1;for(var c=Math.min(t.getDimension(),n.getDimension()),d=0;d<l;d++)for(var _=0;_<c;_++){var x=t.getOrdinate(d,_),M=n.getOrdinate(d,_);if(t.getOrdinate(d,_)!==n.getOrdinate(d,_)&&(!R.isNaN(x)||!R.isNaN(M)))return!1}return!0},on.extend=function(t,n,l){var c=t.create(l,n.getDimension()),d=n.size();if(on.copy(n,0,c,0,d),d>0)for(var _=d;_<l;_++)on.copy(n,d-1,c,_,1);return c},on.reverse=function(t){for(var n=t.size()-1,l=Math.trunc(n/2),c=0;c<=l;c++)on.swap(t,c,n-c)},on.swap=function(t,n,l){if(n===l)return null;for(var c=0;c<t.getDimension();c++){var d=t.getOrdinate(n,c);t.setOrdinate(n,c,t.getOrdinate(l,c)),t.setOrdinate(l,c,d)}},on.copy=function(t,n,l,c,d){for(var _=0;_<d;_++)on.copyCoord(t,n+_,l,c+_)},on.toString=function(){if(arguments.length===1){var t=arguments[0],n=t.size();if(n===0)return"()";var l=t.getDimension(),c=new zt;c.append("(");for(var d=0;d<n;d++){d>0&&c.append(" ");for(var _=0;_<l;_++)_>0&&c.append(","),c.append(Vr.toString(t.getOrdinate(d,_)))}return c.append(")"),c.toString()}},on.ensureValidRing=function(t,n){var l=n.size();return l===0?n:l<=3?on.createClosedRing(t,n,4):n.getOrdinate(0,Se.X)===n.getOrdinate(l-1,Se.X)&&n.getOrdinate(0,Se.Y)===n.getOrdinate(l-1,Se.Y)?n:on.createClosedRing(t,n,l+1)},on.createClosedRing=function(t,n,l){var c=t.create(l,n.getDimension()),d=n.size();on.copy(n,0,c,0,d);for(var _=d;_<l;_++)on.copy(n,0,c,_,1);return c};var sn=function(t){function n(c,d){t.call(this,d),this._points=null,this.init(c)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var l={serialVersionUID:{configurable:!0}};return n.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new ze:this._points.expandEnvelope(new ze)},n.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},n.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},n.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},n.prototype.equalsExact=function(){if(arguments.length===2){var c=arguments[0],d=arguments[1];if(!this.isEquivalentClass(c))return!1;var _=c;if(this._points.size()!==_._points.size())return!1;for(var x=0;x<this._points.size();x++)if(!this.equal(this._points.getCoordinate(x),_._points.getCoordinate(x),d))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},n.prototype.normalize=function(){for(var c=0;c<Math.trunc(this._points.size()/2);c++){var d=this._points.size()-1-c;if(!this._points.getCoordinate(c).equals(this._points.getCoordinate(d)))return this._points.getCoordinate(c).compareTo(this._points.getCoordinate(d))>0&&on.reverse(this._points),null}},n.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},n.prototype.getBoundaryDimension=function(){return this.isClosed()?_t.FALSE:0},n.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},n.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},n.prototype.getDimension=function(){return 1},n.prototype.getLength=function(){return Le.computeLength(this._points)},n.prototype.getNumPoints=function(){return this._points.size()},n.prototype.reverse=function(){var c=this._points.copy();return on.reverse(c),this.getFactory().createLineString(c)},n.prototype.compareToSameClass=function(){if(arguments.length===1){for(var c=arguments[0],d=0,_=0;d<this._points.size()&&_<c._points.size();){var x=this._points.getCoordinate(d).compareTo(c._points.getCoordinate(_));if(x!==0)return x;d++,_++}return d<this._points.size()?1:_<c._points.size()?-1:0}if(arguments.length===2){var M=arguments[0];return arguments[1].compare(this._points,M._points)}},n.prototype.apply=function(){if(Ie(arguments[0],oe))for(var c=arguments[0],d=0;d<this._points.size();d++)c.filter(this._points.getCoordinate(d));else if(Ie(arguments[0],rn)){var _=arguments[0];if(this._points.size()===0)return null;for(var x=0;x<this._points.size()&&(_.filter(this._points,x),!_.isDone());x++);_.isGeometryChanged()&&this.geometryChanged()}else Ie(arguments[0],nn)?arguments[0].filter(this):Ie(arguments[0],Jo)&&arguments[0].filter(this)},n.prototype.getBoundary=function(){return new Ar(this).getBoundary()},n.prototype.isEquivalentClass=function(c){return c instanceof n},n.prototype.clone=function(){var c=t.prototype.clone.call(this);return c._points=this._points.clone(),c},n.prototype.getCoordinateN=function(c){return this._points.getCoordinate(c)},n.prototype.getGeometryType=function(){return"LineString"},n.prototype.copy=function(){return new n(this._points.copy(),this._factory)},n.prototype.getCoordinateSequence=function(){return this._points},n.prototype.isEmpty=function(){return this._points.size()===0},n.prototype.init=function(c){if(c===null&&(c=this.getFactory().getCoordinateSequenceFactory().create([])),c.size()===1)throw new F("Invalid number of points in LineString (found "+c.size()+" - must be 0 or >= 2)");this._points=c},n.prototype.isCoordinate=function(c){for(var d=0;d<this._points.size();d++)if(this._points.getCoordinate(d).equals(c))return!0;return!1},n.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},n.prototype.getPointN=function(c){return this.getFactory().createPoint(this._points.getCoordinate(c))},n.prototype.interfaces_=function(){return[Ke]},n.prototype.getClass=function(){return n},l.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(n,l),n}(rt),Ys=function(){};Ys.prototype.interfaces_=function(){return[]},Ys.prototype.getClass=function(){return Ys};var Br=function(t){function n(c,d){t.call(this,d),this._coordinates=c||null,this.init(this._coordinates)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var l={serialVersionUID:{configurable:!0}};return n.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new ze;var c=new ze;return c.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),c},n.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},n.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},n.prototype.equalsExact=function(){if(arguments.length===2){var c=arguments[0],d=arguments[1];return!!this.isEquivalentClass(c)&&(!(!this.isEmpty()||!c.isEmpty())||this.isEmpty()===c.isEmpty()&&this.equal(c.getCoordinate(),this.getCoordinate(),d))}return t.prototype.equalsExact.apply(this,arguments)},n.prototype.normalize=function(){},n.prototype.getCoordinate=function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null},n.prototype.getBoundaryDimension=function(){return _t.FALSE},n.prototype.getDimension=function(){return 0},n.prototype.getNumPoints=function(){return this.isEmpty()?0:1},n.prototype.reverse=function(){return this.copy()},n.prototype.getX=function(){if(this.getCoordinate()===null)throw new Error("getX called on empty Point");return this.getCoordinate().x},n.prototype.compareToSameClass=function(){if(arguments.length===1){var c=arguments[0];return this.getCoordinate().compareTo(c.getCoordinate())}if(arguments.length===2){var d=arguments[0];return arguments[1].compare(this._coordinates,d._coordinates)}},n.prototype.apply=function(){if(Ie(arguments[0],oe)){var c=arguments[0];if(this.isEmpty())return null;c.filter(this.getCoordinate())}else if(Ie(arguments[0],rn)){var d=arguments[0];if(this.isEmpty())return null;d.filter(this._coordinates,0),d.isGeometryChanged()&&this.geometryChanged()}else Ie(arguments[0],nn)?arguments[0].filter(this):Ie(arguments[0],Jo)&&arguments[0].filter(this)},n.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},n.prototype.clone=function(){var c=t.prototype.clone.call(this);return c._coordinates=this._coordinates.clone(),c},n.prototype.getGeometryType=function(){return"Point"},n.prototype.copy=function(){return new n(this._coordinates.copy(),this._factory)},n.prototype.getCoordinateSequence=function(){return this._coordinates},n.prototype.getY=function(){if(this.getCoordinate()===null)throw new Error("getY called on empty Point");return this.getCoordinate().y},n.prototype.isEmpty=function(){return this._coordinates.size()===0},n.prototype.init=function(c){c===null&&(c=this.getFactory().getCoordinateSequenceFactory().create([])),at.isTrue(c.size()<=1),this._coordinates=c},n.prototype.isSimple=function(){return!0},n.prototype.interfaces_=function(){return[Ys]},n.prototype.getClass=function(){return n},l.serialVersionUID.get=function(){return 4902022702746615e3},Object.defineProperties(n,l),n}(rt),Ps=function(){};Ps.prototype.interfaces_=function(){return[]},Ps.prototype.getClass=function(){return Ps};var Tn=function(t){function n(c,d,_){if(t.call(this,_),this._shell=null,this._holes=null,c===null&&(c=this.getFactory().createLinearRing()),d===null&&(d=[]),t.hasNullElements(d))throw new F("holes must not contain null elements");if(c.isEmpty()&&t.hasNonEmptyElements(d))throw new F("shell is empty but holes are not");this._shell=c,this._holes=d}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var l={serialVersionUID:{configurable:!0}};return n.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},n.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},n.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var c=new Array(this.getNumPoints()).fill(null),d=-1,_=this._shell.getCoordinates(),x=0;x<_.length;x++)c[++d]=_[x];for(var M=0;M<this._holes.length;M++)for(var V=this._holes[M].getCoordinates(),Q=0;Q<V.length;Q++)c[++d]=V[Q];return c},n.prototype.getArea=function(){var c=0;c+=Math.abs(Le.signedArea(this._shell.getCoordinateSequence()));for(var d=0;d<this._holes.length;d++)c-=Math.abs(Le.signedArea(this._holes[d].getCoordinateSequence()));return c},n.prototype.isRectangle=function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var c=this._shell.getCoordinateSequence(),d=this.getEnvelopeInternal(),_=0;_<5;_++){var x=c.getX(_);if(x!==d.getMinX()&&x!==d.getMaxX())return!1;var M=c.getY(_);if(M!==d.getMinY()&&M!==d.getMaxY())return!1}for(var V=c.getX(0),Q=c.getY(0),ce=1;ce<=4;ce++){var he=c.getX(ce),ke=c.getY(ce);if(he!==V==(ke!==Q))return!1;V=he,Q=ke}return!0},n.prototype.equalsExact=function(){if(arguments.length===2){var c=arguments[0],d=arguments[1];if(!this.isEquivalentClass(c))return!1;var _=c,x=this._shell,M=_._shell;if(!x.equalsExact(M,d)||this._holes.length!==_._holes.length)return!1;for(var V=0;V<this._holes.length;V++)if(!this._holes[V].equalsExact(_._holes[V],d))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},n.prototype.normalize=function(){if(arguments.length===0){this.normalize(this._shell,!0);for(var c=0;c<this._holes.length;c++)this.normalize(this._holes[c],!1);en.sort(this._holes)}else if(arguments.length===2){var d=arguments[0],_=arguments[1];if(d.isEmpty())return null;var x=new Array(d.getCoordinates().length-1).fill(null);qt.arraycopy(d.getCoordinates(),0,x,0,x.length);var M=xe.minCoordinate(d.getCoordinates());xe.scroll(x,M),qt.arraycopy(x,0,d.getCoordinates(),0,x.length),d.getCoordinates()[x.length]=x[0],Le.isCCW(d.getCoordinates())===_&&xe.reverse(d.getCoordinates())}},n.prototype.getCoordinate=function(){return this._shell.getCoordinate()},n.prototype.getNumInteriorRing=function(){return this._holes.length},n.prototype.getBoundaryDimension=function(){return 1},n.prototype.getDimension=function(){return 2},n.prototype.getLength=function(){var c=0;c+=this._shell.getLength();for(var d=0;d<this._holes.length;d++)c+=this._holes[d].getLength();return c},n.prototype.getNumPoints=function(){for(var c=this._shell.getNumPoints(),d=0;d<this._holes.length;d++)c+=this._holes[d].getNumPoints();return c},n.prototype.reverse=function(){var c=this.copy();c._shell=this._shell.copy().reverse(),c._holes=new Array(this._holes.length).fill(null);for(var d=0;d<this._holes.length;d++)c._holes[d]=this._holes[d].copy().reverse();return c},n.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},n.prototype.compareToSameClass=function(){if(arguments.length===1){var c=arguments[0],d=this._shell,_=c._shell;return d.compareToSameClass(_)}if(arguments.length===2){var x=arguments[0],M=arguments[1],V=x,Q=this._shell,ce=V._shell,he=Q.compareToSameClass(ce,M);if(he!==0)return he;for(var ke=this.getNumInteriorRing(),De=V.getNumInteriorRing(),$e=0;$e<ke&&$e<De;){var ot=this.getInteriorRingN($e),Ni=V.getInteriorRingN($e),An=ot.compareToSameClass(Ni,M);if(An!==0)return An;$e++}return $e<ke?1:$e<De?-1:0}},n.prototype.apply=function(c){if(Ie(c,oe)){this._shell.apply(c);for(var d=0;d<this._holes.length;d++)this._holes[d].apply(c)}else if(Ie(c,rn)){if(this._shell.apply(c),!c.isDone())for(var _=0;_<this._holes.length&&(this._holes[_].apply(c),!c.isDone());_++);c.isGeometryChanged()&&this.geometryChanged()}else if(Ie(c,nn))c.filter(this);else if(Ie(c,Jo)){c.filter(this),this._shell.apply(c);for(var x=0;x<this._holes.length;x++)this._holes[x].apply(c)}},n.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var c=new Array(this._holes.length+1).fill(null);c[0]=this._shell;for(var d=0;d<this._holes.length;d++)c[d+1]=this._holes[d];return c.length<=1?this.getFactory().createLinearRing(c[0].getCoordinateSequence()):this.getFactory().createMultiLineString(c)},n.prototype.clone=function(){var c=t.prototype.clone.call(this);c._shell=this._shell.clone(),c._holes=new Array(this._holes.length).fill(null);for(var d=0;d<this._holes.length;d++)c._holes[d]=this._holes[d].clone();return c},n.prototype.getGeometryType=function(){return"Polygon"},n.prototype.copy=function(){for(var c=this._shell.copy(),d=new Array(this._holes.length).fill(null),_=0;_<d.length;_++)d[_]=this._holes[_].copy();return new n(c,d,this._factory)},n.prototype.getExteriorRing=function(){return this._shell},n.prototype.isEmpty=function(){return this._shell.isEmpty()},n.prototype.getInteriorRingN=function(c){return this._holes[c]},n.prototype.interfaces_=function(){return[Ps]},n.prototype.getClass=function(){return n},l.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(n,l),n}(rt),ka=function(t){function n(){t.apply(this,arguments)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var l={serialVersionUID:{configurable:!0}};return n.prototype.getSortIndex=function(){return rt.SORTINDEX_MULTIPOINT},n.prototype.isValid=function(){return!0},n.prototype.equalsExact=function(){if(arguments.length===2){var c=arguments[0],d=arguments[1];return!!this.isEquivalentClass(c)&&t.prototype.equalsExact.call(this,c,d)}return t.prototype.equalsExact.apply(this,arguments)},n.prototype.getCoordinate=function(){if(arguments.length===1){var c=arguments[0];return this._geometries[c].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},n.prototype.getBoundaryDimension=function(){return _t.FALSE},n.prototype.getDimension=function(){return 0},n.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},n.prototype.getGeometryType=function(){return"MultiPoint"},n.prototype.copy=function(){for(var c=new Array(this._geometries.length).fill(null),d=0;d<c.length;d++)c[d]=this._geometries[d].copy();return new n(c,this._factory)},n.prototype.interfaces_=function(){return[Ys]},n.prototype.getClass=function(){return n},l.serialVersionUID.get=function(){return-8048474874175356e3},Object.defineProperties(n,l),n}(Ri),es=function(t){function n(c,d){c instanceof B&&d instanceof ht&&(c=d.getCoordinateSequenceFactory().create(c)),t.call(this,c,d),this.validateConstruction()}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var l={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return n.prototype.getSortIndex=function(){return rt.SORTINDEX_LINEARRING},n.prototype.getBoundaryDimension=function(){return _t.FALSE},n.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},n.prototype.reverse=function(){var c=this._points.copy();return on.reverse(c),this.getFactory().createLinearRing(c)},n.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new F("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<n.MINIMUM_VALID_SIZE)throw new F("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},n.prototype.getGeometryType=function(){return"LinearRing"},n.prototype.copy=function(){return new n(this._points.copy(),this._factory)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},l.MINIMUM_VALID_SIZE.get=function(){return 4},l.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(n,l),n}(sn),Io=function(t){function n(){t.apply(this,arguments)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var l={serialVersionUID:{configurable:!0}};return n.prototype.getSortIndex=function(){return rt.SORTINDEX_MULTIPOLYGON},n.prototype.equalsExact=function(){if(arguments.length===2){var c=arguments[0],d=arguments[1];return!!this.isEquivalentClass(c)&&t.prototype.equalsExact.call(this,c,d)}return t.prototype.equalsExact.apply(this,arguments)},n.prototype.getBoundaryDimension=function(){return 1},n.prototype.getDimension=function(){return 2},n.prototype.reverse=function(){for(var c=this._geometries.length,d=new Array(c).fill(null),_=0;_<this._geometries.length;_++)d[_]=this._geometries[_].reverse();return this.getFactory().createMultiPolygon(d)},n.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var c=new ue,d=0;d<this._geometries.length;d++)for(var _=this._geometries[d].getBoundary(),x=0;x<_.getNumGeometries();x++)c.add(_.getGeometryN(x));var M=new Array(c.size()).fill(null);return this.getFactory().createMultiLineString(c.toArray(M))},n.prototype.getGeometryType=function(){return"MultiPolygon"},n.prototype.copy=function(){for(var c=new Array(this._geometries.length).fill(null),d=0;d<c.length;d++)c[d]=this._geometries[d].copy();return new n(c,this._factory)},n.prototype.interfaces_=function(){return[Ps]},n.prototype.getClass=function(){return n},l.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(n,l),n}(Ri),yr=function(t){this._factory=t||null,this._isUserDataCopied=!1},el={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};yr.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},yr.prototype.edit=function(t,n){if(t===null)return null;var l=this.editInternal(t,n);return this._isUserDataCopied&&l.setUserData(t.getUserData()),l},yr.prototype.editInternal=function(t,n){return this._factory===null&&(this._factory=t.getFactory()),t instanceof Ri?this.editGeometryCollection(t,n):t instanceof Tn?this.editPolygon(t,n):t instanceof Br?n.edit(t,this._factory):t instanceof sn?n.edit(t,this._factory):(at.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},yr.prototype.editGeometryCollection=function(t,n){for(var l=n.edit(t,this._factory),c=new ue,d=0;d<l.getNumGeometries();d++){var _=this.edit(l.getGeometryN(d),n);_===null||_.isEmpty()||c.add(_)}return l.getClass()===ka?this._factory.createMultiPoint(c.toArray([])):l.getClass()===to?this._factory.createMultiLineString(c.toArray([])):l.getClass()===Io?this._factory.createMultiPolygon(c.toArray([])):this._factory.createGeometryCollection(c.toArray([]))},yr.prototype.editPolygon=function(t,n){var l=n.edit(t,this._factory);if(l===null&&(l=this._factory.createPolygon(null)),l.isEmpty())return l;var c=this.edit(l.getExteriorRing(),n);if(c===null||c.isEmpty())return this._factory.createPolygon();for(var d=new ue,_=0;_<l.getNumInteriorRing();_++){var x=this.edit(l.getInteriorRingN(_),n);x===null||x.isEmpty()||d.add(x)}return this._factory.createPolygon(c,d.toArray([]))},yr.prototype.interfaces_=function(){return[]},yr.prototype.getClass=function(){return yr},yr.GeometryEditorOperation=function(){},el.NoOpGeometryOperation.get=function(){return Da},el.CoordinateOperation.get=function(){return ks},el.CoordinateSequenceOperation.get=function(){return jt},Object.defineProperties(yr,el);var Da=function(){};Da.prototype.edit=function(t,n){return t},Da.prototype.interfaces_=function(){return[yr.GeometryEditorOperation]},Da.prototype.getClass=function(){return Da};var ks=function(){};ks.prototype.edit=function(t,n){var l=this.editCoordinates(t.getCoordinates(),t);return l===null?t:t instanceof es?n.createLinearRing(l):t instanceof sn?n.createLineString(l):t instanceof Br?l.length>0?n.createPoint(l[0]):n.createPoint():t},ks.prototype.interfaces_=function(){return[yr.GeometryEditorOperation]},ks.prototype.getClass=function(){return ks};var jt=function(){};jt.prototype.edit=function(t,n){return t instanceof es?n.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof sn?n.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Br?n.createPoint(this.edit(t.getCoordinateSequence(),t)):t},jt.prototype.interfaces_=function(){return[yr.GeometryEditorOperation]},jt.prototype.getClass=function(){return jt};var bt=function(){if(this._dimension=3,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var n=0;n<t;n++)this._coordinates[n]=new B}else if(Ie(arguments[0],Se)){var l=arguments[0];if(l===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=l.getDimension(),this._coordinates=new Array(l.size()).fill(null);for(var c=0;c<this._coordinates.length;c++)this._coordinates[c]=l.getCoordinateCopy(c)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var d=arguments[0],_=arguments[1];this._coordinates=d,this._dimension=_,d===null&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var x=arguments[0],M=arguments[1];this._coordinates=new Array(x).fill(null),this._dimension=M;for(var V=0;V<x;V++)this._coordinates[V]=new B}}},tl={serialVersionUID:{configurable:!0}};bt.prototype.setOrdinate=function(t,n,l){switch(n){case Se.X:this._coordinates[t].x=l;break;case Se.Y:this._coordinates[t].y=l;break;case Se.Z:this._coordinates[t].z=l;break;default:throw new F("invalid ordinateIndex")}},bt.prototype.size=function(){return this._coordinates.length},bt.prototype.getOrdinate=function(t,n){switch(n){case Se.X:return this._coordinates[t].x;case Se.Y:return this._coordinates[t].y;case Se.Z:return this._coordinates[t].z}return R.NaN},bt.prototype.getCoordinate=function(){if(arguments.length===1){var t=arguments[0];return this._coordinates[t]}if(arguments.length===2){var n=arguments[0],l=arguments[1];l.x=this._coordinates[n].x,l.y=this._coordinates[n].y,l.z=this._coordinates[n].z}},bt.prototype.getCoordinateCopy=function(t){return new B(this._coordinates[t])},bt.prototype.getDimension=function(){return this._dimension},bt.prototype.getX=function(t){return this._coordinates[t].x},bt.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),n=0;n<this._coordinates.length;n++)t[n]=this._coordinates[n].clone();return new bt(t,this._dimension)},bt.prototype.expandEnvelope=function(t){for(var n=0;n<this._coordinates.length;n++)t.expandToInclude(this._coordinates[n]);return t},bt.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),n=0;n<this._coordinates.length;n++)t[n]=this._coordinates[n].copy();return new bt(t,this._dimension)},bt.prototype.toString=function(){if(this._coordinates.length>0){var t=new zt(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var n=1;n<this._coordinates.length;n++)t.append(", "),t.append(this._coordinates[n]);return t.append(")"),t.toString()}return"()"},bt.prototype.getY=function(t){return this._coordinates[t].y},bt.prototype.toCoordinateArray=function(){return this._coordinates},bt.prototype.interfaces_=function(){return[Se,s]},bt.prototype.getClass=function(){return bt},tl.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(bt,tl);var zr=function(){},js={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};zr.prototype.readResolve=function(){return zr.instance()},zr.prototype.create=function(){if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return new bt(t)}if(Ie(arguments[0],Se)){var n=arguments[0];return new bt(n)}}else if(arguments.length===2){var l=arguments[0],c=arguments[1];return c>3&&(c=3),c<2?new bt(l):new bt(l,c)}},zr.prototype.interfaces_=function(){return[Pe,s]},zr.prototype.getClass=function(){return zr},zr.instance=function(){return zr.instanceObject},js.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},js.instanceObject.get=function(){return new zr},Object.defineProperties(zr,js);var El=function(t){function n(){t.call(this),this.map_=new Map}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.get=function(l){return this.map_.get(l)||null},n.prototype.put=function(l,c){return this.map_.set(l,c),c},n.prototype.values=function(){for(var l=new ue,c=this.map_.values(),d=c.next();!d.done;)l.add(d.value),d=c.next();return l},n.prototype.entrySet=function(){var l=new Jn;return this.map_.entries().forEach(function(c){return l.add(c)}),l},n.prototype.size=function(){return this.map_.size()},n}(vt),Ze=function t(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=t.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof co){var n=arguments[0];this._modelType=n,n===t.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var l=arguments[0];this._modelType=t.FIXED,this.setScale(l)}else if(arguments[0]instanceof t){var c=arguments[0];this._modelType=c._modelType,this._scale=c._scale}}},En={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Ze.prototype.equals=function(t){if(!(t instanceof Ze))return!1;var n=t;return this._modelType===n._modelType&&this._scale===n._scale},Ze.prototype.compareTo=function(t){var n=t,l=this.getMaximumSignificantDigits(),c=n.getMaximumSignificantDigits();return new ve(l).compareTo(new ve(c))},Ze.prototype.getScale=function(){return this._scale},Ze.prototype.isFloating=function(){return this._modelType===Ze.FLOATING||this._modelType===Ze.FLOATING_SINGLE},Ze.prototype.getType=function(){return this._modelType},Ze.prototype.toString=function(){var t="UNKNOWN";return this._modelType===Ze.FLOATING?t="Floating":this._modelType===Ze.FLOATING_SINGLE?t="Floating-Single":this._modelType===Ze.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},Ze.prototype.makePrecise=function(){if(typeof arguments[0]=="number"){var t=arguments[0];return R.isNaN(t)||this._modelType===Ze.FLOATING_SINGLE?t:this._modelType===Ze.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof B){var n=arguments[0];if(this._modelType===Ze.FLOATING)return null;n.x=this.makePrecise(n.x),n.y=this.makePrecise(n.y)}},Ze.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===Ze.FLOATING?t=16:this._modelType===Ze.FLOATING_SINGLE?t=6:this._modelType===Ze.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},Ze.prototype.setScale=function(t){this._scale=Math.abs(t)},Ze.prototype.interfaces_=function(){return[s,ee]},Ze.prototype.getClass=function(){return Ze},Ze.mostPrecise=function(t,n){return t.compareTo(n)>=0?t:n},En.serialVersionUID.get=function(){return 7777263578777804e3},En.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Ze,En);var co=function t(n){this._name=n||null,t.nameToTypeMap.put(n,this)},Ra={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};co.prototype.readResolve=function(){return co.nameToTypeMap.get(this._name)},co.prototype.toString=function(){return this._name},co.prototype.interfaces_=function(){return[s]},co.prototype.getClass=function(){return co},Ra.serialVersionUID.get=function(){return-552860263173159e4},Ra.nameToTypeMap.get=function(){return new El},Object.defineProperties(co,Ra),Ze.Type=co,Ze.FIXED=new co("FIXED"),Ze.FLOATING=new co("FLOATING"),Ze.FLOATING_SINGLE=new co("FLOATING SINGLE");var ht=function t(){this._precisionModel=new Ze,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),arguments.length===0||(arguments.length===1?Ie(arguments[0],Pe)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Ze&&(this._precisionModel=arguments[0]):arguments.length===2?(this._precisionModel=arguments[0],this._SRID=arguments[1]):arguments.length===3&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},$u={serialVersionUID:{configurable:!0}};ht.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new B(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new B(t.getMinX(),t.getMinY()),new B(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new B(t.getMinX(),t.getMinY()),new B(t.getMinX(),t.getMaxY()),new B(t.getMaxX(),t.getMaxY()),new B(t.getMaxX(),t.getMinY()),new B(t.getMinX(),t.getMinY())]),null)},ht.prototype.createLineString=function(t){return t?t instanceof Array?new sn(this.getCoordinateSequenceFactory().create(t),this):Ie(t,Se)?new sn(t,this):void 0:new sn(this.getCoordinateSequenceFactory().create([]),this)},ht.prototype.createMultiLineString=function(){if(arguments.length===0)return new to(null,this);if(arguments.length===1){var t=arguments[0];return new to(t,this)}},ht.prototype.buildGeometry=function(t){for(var n=null,l=!1,c=!1,d=t.iterator();d.hasNext();){var _=d.next(),x=_.getClass();n===null&&(n=x),x!==n&&(l=!0),_.isGeometryCollectionOrDerived()&&(c=!0)}if(n===null)return this.createGeometryCollection();if(l||c)return this.createGeometryCollection(ht.toGeometryArray(t));var M=t.iterator().next();if(t.size()>1){if(M instanceof Tn)return this.createMultiPolygon(ht.toPolygonArray(t));if(M instanceof sn)return this.createMultiLineString(ht.toLineStringArray(t));if(M instanceof Br)return this.createMultiPoint(ht.toPointArray(t));at.shouldNeverReachHere("Unhandled class: "+M.getClass().getName())}return M},ht.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(t!==null?this.getCoordinateSequenceFactory().create(t):null)},ht.prototype.createPoint=function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof B){var t=arguments[0];return this.createPoint(t!==null?this.getCoordinateSequenceFactory().create([t]):null)}if(Ie(arguments[0],Se)){var n=arguments[0];return new Br(n,this)}}},ht.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},ht.prototype.createPolygon=function(){if(arguments.length===0)return new Tn(null,null,this);if(arguments.length===1){if(Ie(arguments[0],Se)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var n=arguments[0];return this.createPolygon(this.createLinearRing(n))}if(arguments[0]instanceof es){var l=arguments[0];return this.createPolygon(l,null)}}else if(arguments.length===2){var c=arguments[0],d=arguments[1];return new Tn(c,d,this)}},ht.prototype.getSRID=function(){return this._SRID},ht.prototype.createGeometryCollection=function(){if(arguments.length===0)return new Ri(null,this);if(arguments.length===1){var t=arguments[0];return new Ri(t,this)}},ht.prototype.createGeometry=function(t){return new yr(this).edit(t,{edit:function(){if(arguments.length===2){var n=arguments[0];return this._coordinateSequenceFactory.create(n)}}})},ht.prototype.getPrecisionModel=function(){return this._precisionModel},ht.prototype.createLinearRing=function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(t!==null?this.getCoordinateSequenceFactory().create(t):null)}if(Ie(arguments[0],Se)){var n=arguments[0];return new es(n,this)}}},ht.prototype.createMultiPolygon=function(){if(arguments.length===0)return new Io(null,this);if(arguments.length===1){var t=arguments[0];return new Io(t,this)}},ht.prototype.createMultiPoint=function(){if(arguments.length===0)return new ka(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return new ka(t,this)}if(arguments[0]instanceof Array){var n=arguments[0];return this.createMultiPoint(n!==null?this.getCoordinateSequenceFactory().create(n):null)}if(Ie(arguments[0],Se)){var l=arguments[0];if(l===null)return this.createMultiPoint(new Array(0).fill(null));for(var c=new Array(l.size()).fill(null),d=0;d<l.size();d++){var _=this.getCoordinateSequenceFactory().create(1,l.getDimension());on.copy(l,d,_,0,1),c[d]=this.createPoint(_)}return this.createMultiPoint(c)}}},ht.prototype.interfaces_=function(){return[s]},ht.prototype.getClass=function(){return ht},ht.toMultiPolygonArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},ht.toGeometryArray=function(t){if(t===null)return null;var n=new Array(t.size()).fill(null);return t.toArray(n)},ht.getDefaultCoordinateSequenceFactory=function(){return zr.instance()},ht.toMultiLineStringArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},ht.toLineStringArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},ht.toMultiPointArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},ht.toLinearRingArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},ht.toPointArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},ht.toPolygonArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},ht.createPointFromInternalCoord=function(t,n){return n.getPrecisionModel().makePrecise(t),n.getFactory().createPoint(t)},$u.serialVersionUID.get=function(){return-6820524753094096e3},Object.defineProperties(ht,$u);var Ml=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],_s=function(t){this.geometryFactory=t||new ht};_s.prototype.read=function(t){var n,l=(n=typeof t=="string"?JSON.parse(t):t).type;if(!zi[l])throw new Error("Unknown GeoJSON type: "+n.type);return Ml.indexOf(l)!==-1?zi[l].apply(this,[n.coordinates]):l==="GeometryCollection"?zi[l].apply(this,[n.geometries]):zi[l].apply(this,[n])},_s.prototype.write=function(t){var n=t.getGeometryType();if(!Hr[n])throw new Error("Geometry is not supported");return Hr[n].apply(this,[t])};var zi={Feature:function(t){var n={};for(var l in t)n[l]=t[l];if(t.geometry){var c=t.geometry.type;if(!zi[c])throw new Error("Unknown GeoJSON type: "+t.type);n.geometry=this.read(t.geometry)}return t.bbox&&(n.bbox=zi.bbox.apply(this,[t.bbox])),n},FeatureCollection:function(t){var n={};if(t.features){n.features=[];for(var l=0;l<t.features.length;++l)n.features.push(this.read(t.features[l]))}return t.bbox&&(n.bbox=this.parse.bbox.apply(this,[t.bbox])),n},coordinates:function(t){for(var n=[],l=0;l<t.length;++l){var c=t[l];n.push(new B(c[0],c[1]))}return n},bbox:function(t){return this.geometryFactory.createLinearRing([new B(t[0],t[1]),new B(t[2],t[1]),new B(t[2],t[3]),new B(t[0],t[3]),new B(t[0],t[1])])},Point:function(t){var n=new B(t[0],t[1]);return this.geometryFactory.createPoint(n)},MultiPoint:function(t){for(var n=[],l=0;l<t.length;++l)n.push(zi.Point.apply(this,[t[l]]));return this.geometryFactory.createMultiPoint(n)},LineString:function(t){var n=zi.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(n)},MultiLineString:function(t){for(var n=[],l=0;l<t.length;++l)n.push(zi.LineString.apply(this,[t[l]]));return this.geometryFactory.createMultiLineString(n)},Polygon:function(t){for(var n=zi.coordinates.apply(this,[t[0]]),l=this.geometryFactory.createLinearRing(n),c=[],d=1;d<t.length;++d){var _=t[d],x=zi.coordinates.apply(this,[_]),M=this.geometryFactory.createLinearRing(x);c.push(M)}return this.geometryFactory.createPolygon(l,c)},MultiPolygon:function(t){for(var n=[],l=0;l<t.length;++l){var c=t[l];n.push(zi.Polygon.apply(this,[c]))}return this.geometryFactory.createMultiPolygon(n)},GeometryCollection:function(t){for(var n=[],l=0;l<t.length;++l){var c=t[l];n.push(this.read(c))}return this.geometryFactory.createGeometryCollection(n)}},Hr={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:Hr.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var n=[],l=0;l<t._geometries.length;++l){var c=t._geometries[l],d=Hr.Point.apply(this,[c]);n.push(d.coordinates)}return{type:"MultiPoint",coordinates:n}},LineString:function(t){for(var n=[],l=t.getCoordinates(),c=0;c<l.length;++c){var d=l[c];n.push(Hr.coordinate.apply(this,[d]))}return{type:"LineString",coordinates:n}},MultiLineString:function(t){for(var n=[],l=0;l<t._geometries.length;++l){var c=t._geometries[l],d=Hr.LineString.apply(this,[c]);n.push(d.coordinates)}return{type:"MultiLineString",coordinates:n}},Polygon:function(t){var n=[],l=Hr.LineString.apply(this,[t._shell]);n.push(l.coordinates);for(var c=0;c<t._holes.length;++c){var d=t._holes[c],_=Hr.LineString.apply(this,[d]);n.push(_.coordinates)}return{type:"Polygon",coordinates:n}},MultiPolygon:function(t){for(var n=[],l=0;l<t._geometries.length;++l){var c=t._geometries[l],d=Hr.Polygon.apply(this,[c]);n.push(d.coordinates)}return{type:"MultiPolygon",coordinates:n}},GeometryCollection:function(t){for(var n=[],l=0;l<t._geometries.length;++l){var c=t._geometries[l],d=c.getGeometryType();n.push(Hr[d].apply(this,[c]))}return{type:"GeometryCollection",geometries:n}}},ha=function(t){this.geometryFactory=t||new ht,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new _s(this.geometryFactory)};ha.prototype.read=function(t){var n=this.parser.read(t);return this.precisionModel.getType()===Ze.FIXED&&this.reducePrecision(n),n},ha.prototype.reducePrecision=function(t){var n,l;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(n=0,l=t.points.length;n<l;n++)this.precisionModel.makePrecise(t.points[n]);else if(t.geometries)for(n=0,l=t.geometries.length;n<l;n++)this.reducePrecision(t.geometries[n])};var Fa=function(){this.parser=new _s(this.geometryFactory)};Fa.prototype.write=function(t){return this.parser.write(t)};var Me=function(){},Ws={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Me.prototype.interfaces_=function(){return[]},Me.prototype.getClass=function(){return Me},Me.opposite=function(t){return t===Me.LEFT?Me.RIGHT:t===Me.RIGHT?Me.LEFT:t},Ws.ON.get=function(){return 0},Ws.LEFT.get=function(){return 1},Ws.RIGHT.get=function(){return 2},Object.defineProperties(Me,Ws),(j.prototype=new Error).name="EmptyStackException",(E.prototype=new me).add=function(t){return this.array_.push(t),!0},E.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},E.prototype.push=function(t){return this.array_.push(t),t},E.prototype.pop=function(t){if(this.array_.length===0)throw new j;return this.array_.pop()},E.prototype.peek=function(){if(this.array_.length===0)throw new j;return this.array_[this.array_.length-1]},E.prototype.empty=function(){return this.array_.length===0},E.prototype.isEmpty=function(){return this.empty()},E.prototype.search=function(t){return this.array_.indexOf(t)},E.prototype.size=function(){return this.array_.length},E.prototype.toArray=function(){for(var t=[],n=0,l=this.array_.length;n<l;n++)t.push(this.array_[n]);return t};var po=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};po.prototype.getCoordinate=function(){return this._minCoord},po.prototype.getRightmostSide=function(t,n){var l=this.getRightmostSideOfSegment(t,n);return l<0&&(l=this.getRightmostSideOfSegment(t,n-1)),l<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),l},po.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();at.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var n=t[this._minIndex-1],l=t[this._minIndex+1],c=Le.computeOrientation(this._minCoord,l,n),d=!1;(n.y<this._minCoord.y&&l.y<this._minCoord.y&&c===Le.COUNTERCLOCKWISE||n.y>this._minCoord.y&&l.y>this._minCoord.y&&c===Le.CLOCKWISE)&&(d=!0),d&&(this._minIndex=this._minIndex-1)},po.prototype.getRightmostSideOfSegment=function(t,n){var l=t.getEdge().getCoordinates();if(n<0||n+1>=l.length||l[n].y===l[n+1].y)return-1;var c=Me.LEFT;return l[n].y<l[n+1].y&&(c=Me.RIGHT),c},po.prototype.getEdge=function(){return this._orientedDe},po.prototype.checkForRightmostCoordinate=function(t){for(var n=t.getEdge().getCoordinates(),l=0;l<n.length-1;l++)(this._minCoord===null||n[l].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=l,this._minCoord=n[l])},po.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},po.prototype.findEdge=function(t){for(var n=t.iterator();n.hasNext();){var l=n.next();l.isForward()&&this.checkForRightmostCoordinate(l)}at.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Me.LEFT&&(this._orientedDe=this._minDe.getSym())},po.prototype.interfaces_=function(){return[]},po.prototype.getClass=function(){return po};var zo=function(t){function n(l,c){t.call(this,n.msgWithCoord(l,c)),this.pt=c?new B(c):null,this.name="TopologyException"}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.getCoordinate=function(){return this.pt},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n.msgWithCoord=function(l,c){return c?l:l+" [ "+c+" ]"},n}(ur),da=function(){this.array_=[]};da.prototype.addLast=function(t){this.array_.push(t)},da.prototype.removeFirst=function(){return this.array_.shift()},da.prototype.isEmpty=function(){return this.array_.length===0};var er=function(){this._finder=null,this._dirEdgeList=new ue,this._nodes=new ue,this._rightMostCoord=null,this._env=null,this._finder=new po};er.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},er.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},er.prototype.computeNodeDepth=function(t){for(var n=null,l=t.getEdges().iterator();l.hasNext();){var c=l.next();if(c.isVisited()||c.getSym().isVisited()){n=c;break}}if(n===null)throw new zo("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(n);for(var d=t.getEdges().iterator();d.hasNext();){var _=d.next();_.setVisited(!0),this.copySymDepths(_)}},er.prototype.computeDepth=function(t){this.clearVisitedEdges();var n=this._finder.getEdge();n.setEdgeDepths(Me.RIGHT,t),this.copySymDepths(n),this.computeDepths(n)},er.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},er.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var n=t.next();n.getDepth(Me.RIGHT)>=1&&n.getDepth(Me.LEFT)<=0&&!n.isInteriorAreaEdge()&&n.setInResult(!0)}},er.prototype.computeDepths=function(t){var n=new Jn,l=new da,c=t.getNode();for(l.addLast(c),n.add(c),t.setVisited(!0);!l.isEmpty();){var d=l.removeFirst();n.add(d),this.computeNodeDepth(d);for(var _=d.getEdges().iterator();_.hasNext();){var x=_.next().getSym();if(!x.isVisited()){var M=x.getNode();n.contains(M)||(l.addLast(M),n.add(M))}}}},er.prototype.compareTo=function(t){var n=t;return this._rightMostCoord.x<n._rightMostCoord.x?-1:this._rightMostCoord.x>n._rightMostCoord.x?1:0},er.prototype.getEnvelope=function(){if(this._env===null){for(var t=new ze,n=this._dirEdgeList.iterator();n.hasNext();)for(var l=n.next().getEdge().getCoordinates(),c=0;c<l.length-1;c++)t.expandToInclude(l[c]);this._env=t}return this._env},er.prototype.addReachable=function(t){var n=new E;for(n.add(t);!n.empty();){var l=n.pop();this.add(l,n)}},er.prototype.copySymDepths=function(t){var n=t.getSym();n.setDepth(Me.LEFT,t.getDepth(Me.RIGHT)),n.setDepth(Me.RIGHT,t.getDepth(Me.LEFT))},er.prototype.add=function(t,n){t.setVisited(!0),this._nodes.add(t);for(var l=t.getEdges().iterator();l.hasNext();){var c=l.next();this._dirEdgeList.add(c);var d=c.getSym().getNode();d.isVisited()||n.push(d)}},er.prototype.getNodes=function(){return this._nodes},er.prototype.getDirectedEdges=function(){return this._dirEdgeList},er.prototype.interfaces_=function(){return[ee]},er.prototype.getClass=function(){return er};var Fi=function t(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];this.init(n.length)}else if(Number.isInteger(arguments[0])){var l=arguments[0];this.init(1),this.location[Me.ON]=l}else if(arguments[0]instanceof t){var c=arguments[0];if(this.init(c.location.length),c!==null)for(var d=0;d<this.location.length;d++)this.location[d]=c.location[d]}}else if(arguments.length===3){var _=arguments[0],x=arguments[1],M=arguments[2];this.init(3),this.location[Me.ON]=_,this.location[Me.LEFT]=x,this.location[Me.RIGHT]=M}};Fi.prototype.setAllLocations=function(t){for(var n=0;n<this.location.length;n++)this.location[n]=t},Fi.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==W.NONE)return!1;return!0},Fi.prototype.setAllLocationsIfNull=function(t){for(var n=0;n<this.location.length;n++)this.location[n]===W.NONE&&(this.location[n]=t)},Fi.prototype.isLine=function(){return this.location.length===1},Fi.prototype.merge=function(t){if(t.location.length>this.location.length){var n=new Array(3).fill(null);n[Me.ON]=this.location[Me.ON],n[Me.LEFT]=W.NONE,n[Me.RIGHT]=W.NONE,this.location=n}for(var l=0;l<this.location.length;l++)this.location[l]===W.NONE&&l<t.location.length&&(this.location[l]=t.location[l])},Fi.prototype.getLocations=function(){return this.location},Fi.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Me.LEFT];this.location[Me.LEFT]=this.location[Me.RIGHT],this.location[Me.RIGHT]=t},Fi.prototype.toString=function(){var t=new zt;return this.location.length>1&&t.append(W.toLocationSymbol(this.location[Me.LEFT])),t.append(W.toLocationSymbol(this.location[Me.ON])),this.location.length>1&&t.append(W.toLocationSymbol(this.location[Me.RIGHT])),t.toString()},Fi.prototype.setLocations=function(t,n,l){this.location[Me.ON]=t,this.location[Me.LEFT]=n,this.location[Me.RIGHT]=l},Fi.prototype.get=function(t){return t<this.location.length?this.location[t]:W.NONE},Fi.prototype.isArea=function(){return this.location.length>1},Fi.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===W.NONE)return!0;return!1},Fi.prototype.setLocation=function(){if(arguments.length===1){var t=arguments[0];this.setLocation(Me.ON,t)}else if(arguments.length===2){var n=arguments[0],l=arguments[1];this.location[n]=l}},Fi.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(W.NONE)},Fi.prototype.isEqualOnSide=function(t,n){return this.location[n]===t.location[n]},Fi.prototype.allPositionsEqual=function(t){for(var n=0;n<this.location.length;n++)if(this.location[n]!==t)return!1;return!0},Fi.prototype.interfaces_=function(){return[]},Fi.prototype.getClass=function(){return Fi};var Ft=function t(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var n=arguments[0];this.elt[0]=new Fi(n),this.elt[1]=new Fi(n)}else if(arguments[0]instanceof t){var l=arguments[0];this.elt[0]=new Fi(l.elt[0]),this.elt[1]=new Fi(l.elt[1])}}else if(arguments.length===2){var c=arguments[0],d=arguments[1];this.elt[0]=new Fi(W.NONE),this.elt[1]=new Fi(W.NONE),this.elt[c].setLocation(d)}else if(arguments.length===3){var _=arguments[0],x=arguments[1],M=arguments[2];this.elt[0]=new Fi(_,x,M),this.elt[1]=new Fi(_,x,M)}else if(arguments.length===4){var V=arguments[0],Q=arguments[1],ce=arguments[2],he=arguments[3];this.elt[0]=new Fi(W.NONE,W.NONE,W.NONE),this.elt[1]=new Fi(W.NONE,W.NONE,W.NONE),this.elt[V].setLocations(Q,ce,he)}};Ft.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},Ft.prototype.setAllLocations=function(t,n){this.elt[t].setAllLocations(n)},Ft.prototype.isNull=function(t){return this.elt[t].isNull()},Ft.prototype.setAllLocationsIfNull=function(){if(arguments.length===1){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(arguments.length===2){var n=arguments[0],l=arguments[1];this.elt[n].setAllLocationsIfNull(l)}},Ft.prototype.isLine=function(t){return this.elt[t].isLine()},Ft.prototype.merge=function(t){for(var n=0;n<2;n++)this.elt[n]===null&&t.elt[n]!==null?this.elt[n]=new Fi(t.elt[n]):this.elt[n].merge(t.elt[n])},Ft.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Ft.prototype.getLocation=function(){if(arguments.length===1){var t=arguments[0];return this.elt[t].get(Me.ON)}if(arguments.length===2){var n=arguments[0],l=arguments[1];return this.elt[n].get(l)}},Ft.prototype.toString=function(){var t=new zt;return this.elt[0]!==null&&(t.append("A:"),t.append(this.elt[0].toString())),this.elt[1]!==null&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},Ft.prototype.isArea=function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var t=arguments[0];return this.elt[t].isArea()}},Ft.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},Ft.prototype.setLocation=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];this.elt[t].setLocation(Me.ON,n)}else if(arguments.length===3){var l=arguments[0],c=arguments[1],d=arguments[2];this.elt[l].setLocation(c,d)}},Ft.prototype.isEqualOnSide=function(t,n){return this.elt[0].isEqualOnSide(t.elt[0],n)&&this.elt[1].isEqualOnSide(t.elt[1],n)},Ft.prototype.allPositionsEqual=function(t,n){return this.elt[t].allPositionsEqual(n)},Ft.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new Fi(this.elt[t].location[0]))},Ft.prototype.interfaces_=function(){return[]},Ft.prototype.getClass=function(){return Ft},Ft.toLineLabel=function(t){for(var n=new Ft(W.NONE),l=0;l<2;l++)n.setLocation(l,t.getLocation(l));return n};var hn=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new ue,this._pts=new ue,this._label=new Ft(W.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new ue,this._geometryFactory=null;var t=arguments[0],n=arguments[1];this._geometryFactory=n,this.computePoints(t),this.computeRing()};hn.prototype.computeRing=function(){if(this._ring!==null)return null;for(var t=new Array(this._pts.size()).fill(null),n=0;n<this._pts.size();n++)t[n]=this._pts.get(n);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=Le.isCCW(this._ring.getCoordinates())},hn.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},hn.prototype.computePoints=function(t){this._startDe=t;var n=t,l=!0;do{if(n===null)throw new zo("Found null DirectedEdge");if(n.getEdgeRing()===this)throw new zo("Directed Edge visited twice during ring-building at "+n.getCoordinate());this._edges.add(n);var c=n.getLabel();at.isTrue(c.isArea()),this.mergeLabel(c),this.addPoints(n.getEdge(),n.isForward(),l),l=!1,this.setEdgeRing(n,this),n=this.getNext(n)}while(n!==this._startDe)},hn.prototype.getLinearRing=function(){return this._ring},hn.prototype.getCoordinate=function(t){return this._pts.get(t)},hn.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var n=t.getNode().getEdges().getOutgoingDegree(this);n>this._maxNodeDegree&&(this._maxNodeDegree=n),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},hn.prototype.addPoints=function(t,n,l){var c=t.getCoordinates();if(n){var d=1;l&&(d=0);for(var _=d;_<c.length;_++)this._pts.add(c[_])}else{var x=c.length-2;l&&(x=c.length-1);for(var M=x;M>=0;M--)this._pts.add(c[M])}},hn.prototype.isHole=function(){return this._isHole},hn.prototype.setInResult=function(){var t=this._startDe;do t.getEdge().setInResult(!0),t=t.getNext();while(t!==this._startDe)},hn.prototype.containsPoint=function(t){var n=this.getLinearRing();if(!n.getEnvelopeInternal().contains(t)||!Le.isPointInRing(t,n.getCoordinates()))return!1;for(var l=this._holes.iterator();l.hasNext();)if(l.next().containsPoint(t))return!1;return!0},hn.prototype.addHole=function(t){this._holes.add(t)},hn.prototype.isShell=function(){return this._shell===null},hn.prototype.getLabel=function(){return this._label},hn.prototype.getEdges=function(){return this._edges},hn.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},hn.prototype.getShell=function(){return this._shell},hn.prototype.mergeLabel=function(){if(arguments.length===1){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(arguments.length===2){var n=arguments[0],l=arguments[1],c=n.getLocation(l,Me.RIGHT);if(c===W.NONE)return null;if(this._label.getLocation(l)===W.NONE)return this._label.setLocation(l,c),null}},hn.prototype.setShell=function(t){this._shell=t,t!==null&&t.addHole(this)},hn.prototype.toPolygon=function(t){for(var n=new Array(this._holes.size()).fill(null),l=0;l<this._holes.size();l++)n[l]=this._holes.get(l).getLinearRing();return t.createPolygon(this.getLinearRing(),n)},hn.prototype.interfaces_=function(){return[]},hn.prototype.getClass=function(){return hn};var pu=function(t){function n(){var l=arguments[0],c=arguments[1];t.call(this,l,c)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.setEdgeRing=function(l,c){l.setMinEdgeRing(c)},n.prototype.getNext=function(l){return l.getNextMin()},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(hn),xp=function(t){function n(){var l=arguments[0],c=arguments[1];t.call(this,l,c)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.buildMinimalRings=function(){var l=new ue,c=this._startDe;do{if(c.getMinEdgeRing()===null){var d=new pu(c,this._geometryFactory);l.add(d)}c=c.getNext()}while(c!==this._startDe);return l},n.prototype.setEdgeRing=function(l,c){l.setEdgeRing(c)},n.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var l=this._startDe;do l.getNode().getEdges().linkMinimalDirectedEdges(this),l=l.getNext();while(l!==this._startDe)},n.prototype.getNext=function(l){return l.getNext()},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(hn),lt=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this._label=t}}};lt.prototype.setVisited=function(t){this._isVisited=t},lt.prototype.setInResult=function(t){this._isInResult=t},lt.prototype.isCovered=function(){return this._isCovered},lt.prototype.isCoveredSet=function(){return this._isCoveredSet},lt.prototype.setLabel=function(t){this._label=t},lt.prototype.getLabel=function(){return this._label},lt.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},lt.prototype.updateIM=function(t){at.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},lt.prototype.isInResult=function(){return this._isInResult},lt.prototype.isVisited=function(){return this._isVisited},lt.prototype.interfaces_=function(){return[]},lt.prototype.getClass=function(){return lt};var So=function(t){function n(){t.call(this),this._coord=null,this._edges=null;var l=arguments[0],c=arguments[1];this._coord=l,this._edges=c,this._label=new Ft(0,W.NONE)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.isIncidentEdgeInResult=function(){for(var l=this.getEdges().getEdges().iterator();l.hasNext();)if(l.next().getEdge().isInResult())return!0;return!1},n.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},n.prototype.getCoordinate=function(){return this._coord},n.prototype.print=function(l){l.println("node "+this._coord+" lbl: "+this._label)},n.prototype.computeIM=function(l){},n.prototype.computeMergedLocation=function(l,c){var d=W.NONE;if(d=this._label.getLocation(c),!l.isNull(c)){var _=l.getLocation(c);d!==W.BOUNDARY&&(d=_)}return d},n.prototype.setLabel=function(){if(arguments.length!==2)return t.prototype.setLabel.apply(this,arguments);var l=arguments[0],c=arguments[1];this._label===null?this._label=new Ft(l,c):this._label.setLocation(l,c)},n.prototype.getEdges=function(){return this._edges},n.prototype.mergeLabel=function(){if(arguments[0]instanceof n){var l=arguments[0];this.mergeLabel(l._label)}else if(arguments[0]instanceof Ft)for(var c=arguments[0],d=0;d<2;d++){var _=this.computeMergedLocation(c,d);this._label.getLocation(d)===W.NONE&&this._label.setLocation(d,_)}},n.prototype.add=function(l){this._edges.insert(l),l.setNode(this)},n.prototype.setLabelBoundary=function(l){if(this._label===null)return null;var c=W.NONE;this._label!==null&&(c=this._label.getLocation(l));var d=null;switch(c){case W.BOUNDARY:d=W.INTERIOR;break;case W.INTERIOR:default:d=W.BOUNDARY}this._label.setLocation(l,d)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(lt),Ut=function(){this.nodeMap=new N,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};Ut.prototype.find=function(t){return this.nodeMap.get(t)},Ut.prototype.addNode=function(){if(arguments[0]instanceof B){var t=arguments[0],n=this.nodeMap.get(t);return n===null&&(n=this.nodeFact.createNode(t),this.nodeMap.put(t,n)),n}if(arguments[0]instanceof So){var l=arguments[0],c=this.nodeMap.get(l.getCoordinate());return c===null?(this.nodeMap.put(l.getCoordinate(),l),l):(c.mergeLabel(l),c)}},Ut.prototype.print=function(t){for(var n=this.iterator();n.hasNext();)n.next().print(t)},Ut.prototype.iterator=function(){return this.nodeMap.values().iterator()},Ut.prototype.values=function(){return this.nodeMap.values()},Ut.prototype.getBoundaryNodes=function(t){for(var n=new ue,l=this.iterator();l.hasNext();){var c=l.next();c.getLabel().getLocation(t)===W.BOUNDARY&&n.add(c)}return n},Ut.prototype.add=function(t){var n=t.getCoordinate();this.addNode(n).add(t)},Ut.prototype.interfaces_=function(){return[]},Ut.prototype.getClass=function(){return Ut};var Li=function(){},fa={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Li.prototype.interfaces_=function(){return[]},Li.prototype.getClass=function(){return Li},Li.isNorthern=function(t){return t===Li.NE||t===Li.NW},Li.isOpposite=function(t,n){return t===n?!1:(t-n+4)%4===2},Li.commonHalfPlane=function(t,n){if(t===n)return t;if((t-n+4)%4===2)return-1;var l=t<n?t:n;return l===0&&(t>n?t:n)===3?3:l},Li.isInHalfPlane=function(t,n){return n===Li.SE?t===Li.SE||t===Li.SW:t===n||t===n+1},Li.quadrant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],n=arguments[1];if(t===0&&n===0)throw new F("Cannot compute the quadrant for point ( "+t+", "+n+" )");return t>=0?n>=0?Li.NE:Li.SE:n>=0?Li.NW:Li.SW}if(arguments[0]instanceof B&&arguments[1]instanceof B){var l=arguments[0],c=arguments[1];if(c.x===l.x&&c.y===l.y)throw new F("Cannot compute the quadrant for two identical points "+l);return c.x>=l.x?c.y>=l.y?Li.NE:Li.SE:c.y>=l.y?Li.NW:Li.SW}},fa.NE.get=function(){return 0},fa.NW.get=function(){return 1},fa.SW.get=function(){return 2},fa.SE.get=function(){return 3},Object.defineProperties(Li,fa);var Hn=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var t=arguments[0];this._edge=t}else if(arguments.length===3){var n=arguments[0],l=arguments[1],c=arguments[2];this._edge=n,this.init(l,c),this._label=null}else if(arguments.length===4){var d=arguments[0],_=arguments[1],x=arguments[2],M=arguments[3];this._edge=d,this.init(_,x),this._label=M}};Hn.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:Le.computeOrientation(t._p0,t._p1,this._p1)},Hn.prototype.getDy=function(){return this._dy},Hn.prototype.getCoordinate=function(){return this._p0},Hn.prototype.setNode=function(t){this._node=t},Hn.prototype.print=function(t){var n=Math.atan2(this._dy,this._dx),l=this.getClass().getName(),c=l.lastIndexOf("."),d=l.substring(c+1);t.print("  "+d+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+n+"   "+this._label)},Hn.prototype.compareTo=function(t){var n=t;return this.compareDirection(n)},Hn.prototype.getDirectedCoordinate=function(){return this._p1},Hn.prototype.getDx=function(){return this._dx},Hn.prototype.getLabel=function(){return this._label},Hn.prototype.getEdge=function(){return this._edge},Hn.prototype.getQuadrant=function(){return this._quadrant},Hn.prototype.getNode=function(){return this._node},Hn.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),l=n.lastIndexOf(".");return"  "+n.substring(l+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},Hn.prototype.computeLabel=function(t){},Hn.prototype.init=function(t,n){this._p0=t,this._p1=n,this._dx=n.x-t.x,this._dy=n.y-t.y,this._quadrant=Li.quadrant(this._dx,this._dy),at.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")},Hn.prototype.interfaces_=function(){return[ee]},Hn.prototype.getClass=function(){return Hn};var il=function(t){function n(){var l=arguments[0],c=arguments[1];if(t.call(this,l),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=c,c)this.init(l.getCoordinate(0),l.getCoordinate(1));else{var d=l.getNumPoints()-1;this.init(l.getCoordinate(d),l.getCoordinate(d-1))}this.computeDirectedLabel()}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.getNextMin=function(){return this._nextMin},n.prototype.getDepth=function(l){return this._depth[l]},n.prototype.setVisited=function(l){this._isVisited=l},n.prototype.computeDirectedLabel=function(){this._label=new Ft(this._edge.getLabel()),this._isForward||this._label.flip()},n.prototype.getNext=function(){return this._next},n.prototype.setDepth=function(l,c){if(this._depth[l]!==-999&&this._depth[l]!==c)throw new zo("assigned depths do not match",this.getCoordinate());this._depth[l]=c},n.prototype.isInteriorAreaEdge=function(){for(var l=!0,c=0;c<2;c++)this._label.isArea(c)&&this._label.getLocation(c,Me.LEFT)===W.INTERIOR&&this._label.getLocation(c,Me.RIGHT)===W.INTERIOR||(l=!1);return l},n.prototype.setNextMin=function(l){this._nextMin=l},n.prototype.print=function(l){t.prototype.print.call(this,l),l.print(" "+this._depth[Me.LEFT]+"/"+this._depth[Me.RIGHT]),l.print(" ("+this.getDepthDelta()+")"),this._isInResult&&l.print(" inResult")},n.prototype.setMinEdgeRing=function(l){this._minEdgeRing=l},n.prototype.isLineEdge=function(){var l=this._label.isLine(0)||this._label.isLine(1),c=!this._label.isArea(0)||this._label.allPositionsEqual(0,W.EXTERIOR),d=!this._label.isArea(1)||this._label.allPositionsEqual(1,W.EXTERIOR);return l&&c&&d},n.prototype.setEdgeRing=function(l){this._edgeRing=l},n.prototype.getMinEdgeRing=function(){return this._minEdgeRing},n.prototype.getDepthDelta=function(){var l=this._edge.getDepthDelta();return this._isForward||(l=-l),l},n.prototype.setInResult=function(l){this._isInResult=l},n.prototype.getSym=function(){return this._sym},n.prototype.isForward=function(){return this._isForward},n.prototype.getEdge=function(){return this._edge},n.prototype.printEdge=function(l){this.print(l),l.print(" "),this._isForward?this._edge.print(l):this._edge.printReverse(l)},n.prototype.setSym=function(l){this._sym=l},n.prototype.setVisitedEdge=function(l){this.setVisited(l),this._sym.setVisited(l)},n.prototype.setEdgeDepths=function(l,c){var d=this.getEdge().getDepthDelta();this._isForward||(d=-d);var _=1;l===Me.LEFT&&(_=-1);var x=Me.opposite(l),M=c+d*_;this.setDepth(l,c),this.setDepth(x,M)},n.prototype.getEdgeRing=function(){return this._edgeRing},n.prototype.isInResult=function(){return this._isInResult},n.prototype.setNext=function(l){this._next=l},n.prototype.isVisited=function(){return this._isVisited},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n.depthFactor=function(l,c){return l===W.EXTERIOR&&c===W.INTERIOR?1:l===W.INTERIOR&&c===W.EXTERIOR?-1:0},n}(Hn),Ho=function(){};Ho.prototype.createNode=function(t){return new So(t,null)},Ho.prototype.interfaces_=function(){return[]},Ho.prototype.getClass=function(){return Ho};var Ui=function(){if(this._edges=new ue,this._nodes=null,this._edgeEndList=new ue,arguments.length===0)this._nodes=new Ut(new Ho);else if(arguments.length===1){var t=arguments[0];this._nodes=new Ut(t)}};Ui.prototype.printEdges=function(t){t.println("Edges:");for(var n=0;n<this._edges.size();n++){t.println("edge "+n+":");var l=this._edges.get(n);l.print(t),l.eiList.print(t)}},Ui.prototype.find=function(t){return this._nodes.find(t)},Ui.prototype.addNode=function(){if(arguments[0]instanceof So){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof B){var n=arguments[0];return this._nodes.addNode(n)}},Ui.prototype.getNodeIterator=function(){return this._nodes.iterator()},Ui.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},Ui.prototype.debugPrintln=function(t){qt.out.println(t)},Ui.prototype.isBoundaryNode=function(t,n){var l=this._nodes.find(n);if(l===null)return!1;var c=l.getLabel();return c!==null&&c.getLocation(t)===W.BOUNDARY},Ui.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},Ui.prototype.matchInSameDirection=function(t,n,l,c){return!!t.equals(l)&&Le.computeOrientation(t,n,c)===Le.COLLINEAR&&Li.quadrant(t,n)===Li.quadrant(l,c)},Ui.prototype.getEdgeEnds=function(){return this._edgeEndList},Ui.prototype.debugPrint=function(t){qt.out.print(t)},Ui.prototype.getEdgeIterator=function(){return this._edges.iterator()},Ui.prototype.findEdgeInSameDirection=function(t,n){for(var l=0;l<this._edges.size();l++){var c=this._edges.get(l),d=c.getCoordinates();if(this.matchInSameDirection(t,n,d[0],d[1])||this.matchInSameDirection(t,n,d[d.length-1],d[d.length-2]))return c}return null},Ui.prototype.insertEdge=function(t){this._edges.add(t)},Ui.prototype.findEdgeEnd=function(t){for(var n=this.getEdgeEnds().iterator();n.hasNext();){var l=n.next();if(l.getEdge()===t)return l}return null},Ui.prototype.addEdges=function(t){for(var n=t.iterator();n.hasNext();){var l=n.next();this._edges.add(l);var c=new il(l,!0),d=new il(l,!1);c.setSym(d),d.setSym(c),this.add(c),this.add(d)}},Ui.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},Ui.prototype.getNodes=function(){return this._nodes.values()},Ui.prototype.findEdge=function(t,n){for(var l=0;l<this._edges.size();l++){var c=this._edges.get(l),d=c.getCoordinates();if(t.equals(d[0])&&n.equals(d[1]))return c}return null},Ui.prototype.interfaces_=function(){return[]},Ui.prototype.getClass=function(){return Ui},Ui.linkResultDirectedEdges=function(t){for(var n=t.iterator();n.hasNext();)n.next().getEdges().linkResultDirectedEdges()};var tr=function(){this._geometryFactory=null,this._shellList=new ue;var t=arguments[0];this._geometryFactory=t};tr.prototype.sortShellsAndHoles=function(t,n,l){for(var c=t.iterator();c.hasNext();){var d=c.next();d.isHole()?l.add(d):n.add(d)}},tr.prototype.computePolygons=function(t){for(var n=new ue,l=t.iterator();l.hasNext();){var c=l.next().toPolygon(this._geometryFactory);n.add(c)}return n},tr.prototype.placeFreeHoles=function(t,n){for(var l=n.iterator();l.hasNext();){var c=l.next();if(c.getShell()===null){var d=this.findEdgeRingContaining(c,t);if(d===null)throw new zo("unable to assign hole to a shell",c.getCoordinate(0));c.setShell(d)}}},tr.prototype.buildMinimalEdgeRings=function(t,n,l){for(var c=new ue,d=t.iterator();d.hasNext();){var _=d.next();if(_.getMaxNodeDegree()>2){_.linkDirectedEdgesForMinimalEdgeRings();var x=_.buildMinimalRings(),M=this.findShell(x);M!==null?(this.placePolygonHoles(M,x),n.add(M)):l.addAll(x)}else c.add(_)}return c},tr.prototype.containsPoint=function(t){for(var n=this._shellList.iterator();n.hasNext();)if(n.next().containsPoint(t))return!0;return!1},tr.prototype.buildMaximalEdgeRings=function(t){for(var n=new ue,l=t.iterator();l.hasNext();){var c=l.next();if(c.isInResult()&&c.getLabel().isArea()&&c.getEdgeRing()===null){var d=new xp(c,this._geometryFactory);n.add(d),d.setInResult()}}return n},tr.prototype.placePolygonHoles=function(t,n){for(var l=n.iterator();l.hasNext();){var c=l.next();c.isHole()&&c.setShell(t)}},tr.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},tr.prototype.findEdgeRingContaining=function(t,n){for(var l=t.getLinearRing(),c=l.getEnvelopeInternal(),d=l.getCoordinateN(0),_=null,x=null,M=n.iterator();M.hasNext();){var V=M.next(),Q=V.getLinearRing(),ce=Q.getEnvelopeInternal();_!==null&&(x=_.getLinearRing().getEnvelopeInternal());var he=!1;ce.contains(c)&&Le.isPointInRing(d,Q.getCoordinates())&&(he=!0),he&&(_===null||x.contains(ce))&&(_=V)}return _},tr.prototype.findShell=function(t){for(var n=0,l=null,c=t.iterator();c.hasNext();){var d=c.next();d.isHole()||(l=d,n++)}return at.isTrue(n<=1,"found two shells in MinimalEdgeRing list"),l},tr.prototype.add=function(){if(arguments.length===1){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(arguments.length===2){var n=arguments[0],l=arguments[1];Ui.linkResultDirectedEdges(l);var c=this.buildMaximalEdgeRings(n),d=new ue,_=this.buildMinimalEdgeRings(c,this._shellList,d);this.sortShellsAndHoles(_,this._shellList,d),this.placeFreeHoles(this._shellList,d)}},tr.prototype.interfaces_=function(){return[]},tr.prototype.getClass=function(){return tr};var Fn=function(){};Fn.prototype.getBounds=function(){},Fn.prototype.interfaces_=function(){return[]},Fn.prototype.getClass=function(){return Fn};var cr=function(){this._bounds=null,this._item=null;var t=arguments[0],n=arguments[1];this._bounds=t,this._item=n};cr.prototype.getItem=function(){return this._item},cr.prototype.getBounds=function(){return this._bounds},cr.prototype.interfaces_=function(){return[Fn,s]},cr.prototype.getClass=function(){return cr};var ts=function(){this._size=null,this._items=null,this._size=0,this._items=new ue,this._items.add(null)};ts.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},ts.prototype.size=function(){return this._size},ts.prototype.reorder=function(t){for(var n=null,l=this._items.get(t);2*t<=this._size&&((n=2*t)!==this._size&&this._items.get(n+1).compareTo(this._items.get(n))<0&&n++,this._items.get(n).compareTo(l)<0);t=n)this._items.set(t,this._items.get(n));this._items.set(t,l)},ts.prototype.clear=function(){this._size=0,this._items.clear()},ts.prototype.isEmpty=function(){return this._size===0},ts.prototype.add=function(t){this._items.add(null),this._size+=1;var n=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(n/2)))<0;n/=2)this._items.set(n,this._items.get(Math.trunc(n/2)));this._items.set(n,t)},ts.prototype.interfaces_=function(){return[]},ts.prototype.getClass=function(){return ts};var ys=function(){};ys.prototype.visitItem=function(t){},ys.prototype.interfaces_=function(){return[]},ys.prototype.getClass=function(){return ys};var ma=function(){};ma.prototype.insert=function(t,n){},ma.prototype.remove=function(t,n){},ma.prototype.query=function(){},ma.prototype.interfaces_=function(){return[]},ma.prototype.getClass=function(){return ma};var yn=function(){if(this._childBoundables=new ue,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this._level=t}}},Ol={serialVersionUID:{configurable:!0}};yn.prototype.getLevel=function(){return this._level},yn.prototype.size=function(){return this._childBoundables.size()},yn.prototype.getChildBoundables=function(){return this._childBoundables},yn.prototype.addChildBoundable=function(t){at.isTrue(this._bounds===null),this._childBoundables.add(t)},yn.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},yn.prototype.getBounds=function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds},yn.prototype.interfaces_=function(){return[Fn,s]},yn.prototype.getClass=function(){return yn},Ol.serialVersionUID.get=function(){return 6493722185909574e3},Object.defineProperties(yn,Ol);var To=function(){};To.reverseOrder=function(){return{compare:function(t,n){return n.compareTo(t)}}},To.min=function(t){return To.sort(t),t.get(0)},To.sort=function(t,n){var l=t.toArray();n?en.sort(l,n):en.sort(l);for(var c=t.iterator(),d=0,_=l.length;d<_;d++)c.next(),c.set(l[d])},To.singletonList=function(t){var n=new ue;return n.add(t),n};var dn=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],n=arguments[1],l=arguments[2];this._boundable1=t,this._boundable2=n,this._itemDistance=l,this._distance=this.distance()};dn.prototype.expandToQueue=function(t,n){var l=dn.isComposite(this._boundable1),c=dn.isComposite(this._boundable2);if(l&&c)return dn.area(this._boundable1)>dn.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,n),null):(this.expand(this._boundable2,this._boundable1,t,n),null);if(l)return this.expand(this._boundable1,this._boundable2,t,n),null;if(c)return this.expand(this._boundable2,this._boundable1,t,n),null;throw new F("neither boundable is composite")},dn.prototype.isLeaves=function(){return!(dn.isComposite(this._boundable1)||dn.isComposite(this._boundable2))},dn.prototype.compareTo=function(t){var n=t;return this._distance<n._distance?-1:this._distance>n._distance?1:0},dn.prototype.expand=function(t,n,l,c){for(var d=t.getChildBoundables().iterator();d.hasNext();){var _=d.next(),x=new dn(_,n,this._itemDistance);x.getDistance()<c&&l.add(x)}},dn.prototype.getBoundable=function(t){return t===0?this._boundable1:this._boundable2},dn.prototype.getDistance=function(){return this._distance},dn.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},dn.prototype.interfaces_=function(){return[ee]},dn.prototype.getClass=function(){return dn},dn.area=function(t){return t.getBounds().getArea()},dn.isComposite=function(t){return t instanceof yn};var dt=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new ue,this._nodeCapacity=null,arguments.length===0){var n=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=n}else if(arguments.length===1){var l=arguments[0];at.isTrue(l>1,"Node capacity must be greater than 1"),this._nodeCapacity=l}},Ll={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};dt.prototype.getNodeCapacity=function(){return this._nodeCapacity},dt.prototype.lastNode=function(t){return t.get(t.size()-1)},dt.prototype.size=function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var t=0,n=arguments[0].getChildBoundables().iterator();n.hasNext();){var l=n.next();l instanceof yn?t+=this.size(l):l instanceof cr&&(t+=1)}return t}},dt.prototype.removeItem=function(t,n){for(var l=null,c=t.getChildBoundables().iterator();c.hasNext();){var d=c.next();d instanceof cr&&d.getItem()===n&&(l=d)}return l!==null&&(t.getChildBoundables().remove(l),!0)},dt.prototype.itemsTree=function(){if(arguments.length===0){this.build();var t=this.itemsTree(this._root);return t===null?new ue:t}if(arguments.length===1){for(var n=arguments[0],l=new ue,c=n.getChildBoundables().iterator();c.hasNext();){var d=c.next();if(d instanceof yn){var _=this.itemsTree(d);_!==null&&l.add(_)}else d instanceof cr?l.add(d.getItem()):at.shouldNeverReachHere()}return l.size()<=0?null:l}},dt.prototype.insert=function(t,n){at.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new cr(t,n))},dt.prototype.boundablesAtLevel=function(){if(arguments.length===1){var t=arguments[0],n=new ue;return this.boundablesAtLevel(t,this._root,n),n}if(arguments.length===3){var l=arguments[0],c=arguments[1],d=arguments[2];if(at.isTrue(l>-2),c.getLevel()===l)return d.add(c),null;for(var _=c.getChildBoundables().iterator();_.hasNext();){var x=_.next();x instanceof yn?this.boundablesAtLevel(l,x,d):(at.isTrue(x instanceof cr),l===-1&&d.add(x))}return null}},dt.prototype.query=function(){if(arguments.length===1){var t=arguments[0];this.build();var n=new ue;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,n),n}if(arguments.length===2){var l=arguments[0],c=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),l)&&this.query(l,this._root,c)}else if(arguments.length===3){if(Ie(arguments[2],ys)&&arguments[0]instanceof Object&&arguments[1]instanceof yn)for(var d=arguments[0],_=arguments[1],x=arguments[2],M=_.getChildBoundables(),V=0;V<M.size();V++){var Q=M.get(V);this.getIntersectsOp().intersects(Q.getBounds(),d)&&(Q instanceof yn?this.query(d,Q,x):Q instanceof cr?x.visitItem(Q.getItem()):at.shouldNeverReachHere())}else if(Ie(arguments[2],me)&&arguments[0]instanceof Object&&arguments[1]instanceof yn)for(var ce=arguments[0],he=arguments[1],ke=arguments[2],De=he.getChildBoundables(),$e=0;$e<De.size();$e++){var ot=De.get($e);this.getIntersectsOp().intersects(ot.getBounds(),ce)&&(ot instanceof yn?this.query(ce,ot,ke):ot instanceof cr?ke.add(ot.getItem()):at.shouldNeverReachHere())}}},dt.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},dt.prototype.getRoot=function(){return this.build(),this._root},dt.prototype.remove=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,n)}if(arguments.length===3){var l=arguments[0],c=arguments[1],d=arguments[2],_=this.removeItem(c,d);if(_)return!0;for(var x=null,M=c.getChildBoundables().iterator();M.hasNext();){var V=M.next();if(this.getIntersectsOp().intersects(V.getBounds(),l)&&V instanceof yn&&(_=this.remove(l,V,d))){x=V;break}}return x!==null&&x.getChildBoundables().isEmpty()&&c.getChildBoundables().remove(x),_}},dt.prototype.createHigherLevels=function(t,n){at.isTrue(!t.isEmpty());var l=this.createParentBoundables(t,n+1);return l.size()===1?l.get(0):this.createHigherLevels(l,n+1)},dt.prototype.depth=function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var t=0,n=arguments[0].getChildBoundables().iterator();n.hasNext();){var l=n.next();if(l instanceof yn){var c=this.depth(l);c>t&&(t=c)}}return t+1}},dt.prototype.createParentBoundables=function(t,n){at.isTrue(!t.isEmpty());var l=new ue;l.add(this.createNode(n));var c=new ue(t);To.sort(c,this.getComparator());for(var d=c.iterator();d.hasNext();){var _=d.next();this.lastNode(l).getChildBoundables().size()===this.getNodeCapacity()&&l.add(this.createNode(n)),this.lastNode(l).addChildBoundable(_)}return l},dt.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},dt.prototype.interfaces_=function(){return[s]},dt.prototype.getClass=function(){return dt},dt.compareDoubles=function(t,n){return t>n?1:t<n?-1:0},Ll.IntersectsOp.get=function(){return is},Ll.serialVersionUID.get=function(){return-3886435814360241e3},Ll.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(dt,Ll);var is=function(){},vs=function(){};vs.prototype.distance=function(t,n){},vs.prototype.interfaces_=function(){return[]},vs.prototype.getClass=function(){return vs};var hu=function(t){function n(c){c=c||n.DEFAULT_NODE_CAPACITY,t.call(this,c)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var l={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return n.prototype.createParentBoundablesFromVerticalSlices=function(c,d){at.isTrue(c.length>0);for(var _=new ue,x=0;x<c.length;x++)_.addAll(this.createParentBoundablesFromVerticalSlice(c[x],d));return _},n.prototype.createNode=function(c){return new Qu(c)},n.prototype.size=function(){return arguments.length===0?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},n.prototype.insert=function(){if(arguments.length!==2)return t.prototype.insert.apply(this,arguments);var c=arguments[0],d=arguments[1];if(c.isNull())return null;t.prototype.insert.call(this,c,d)},n.prototype.getIntersectsOp=function(){return n.intersectsOp},n.prototype.verticalSlices=function(c,d){for(var _=Math.trunc(Math.ceil(c.size()/d)),x=new Array(d).fill(null),M=c.iterator(),V=0;V<d;V++){x[V]=new ue;for(var Q=0;M.hasNext()&&Q<_;){var ce=M.next();x[V].add(ce),Q++}}return x},n.prototype.query=function(){if(arguments.length===1){var c=arguments[0];return t.prototype.query.call(this,c)}if(arguments.length===2){var d=arguments[0],_=arguments[1];t.prototype.query.call(this,d,_)}else if(arguments.length===3){if(Ie(arguments[2],ys)&&arguments[0]instanceof Object&&arguments[1]instanceof yn){var x=arguments[0],M=arguments[1],V=arguments[2];t.prototype.query.call(this,x,M,V)}else if(Ie(arguments[2],me)&&arguments[0]instanceof Object&&arguments[1]instanceof yn){var Q=arguments[0],ce=arguments[1],he=arguments[2];t.prototype.query.call(this,Q,ce,he)}}},n.prototype.getComparator=function(){return n.yComparator},n.prototype.createParentBoundablesFromVerticalSlice=function(c,d){return t.prototype.createParentBoundables.call(this,c,d)},n.prototype.remove=function(){if(arguments.length===2){var c=arguments[0],d=arguments[1];return t.prototype.remove.call(this,c,d)}return t.prototype.remove.apply(this,arguments)},n.prototype.depth=function(){return arguments.length===0?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},n.prototype.createParentBoundables=function(c,d){at.isTrue(!c.isEmpty());var _=Math.trunc(Math.ceil(c.size()/this.getNodeCapacity())),x=new ue(c);To.sort(x,n.xComparator);var M=this.verticalSlices(x,Math.trunc(Math.ceil(Math.sqrt(_))));return this.createParentBoundablesFromVerticalSlices(M,d)},n.prototype.nearestNeighbour=function(){if(arguments.length===1){if(Ie(arguments[0],vs)){var c=arguments[0],d=new dn(this.getRoot(),this.getRoot(),c);return this.nearestNeighbour(d)}if(arguments[0]instanceof dn){var _=arguments[0];return this.nearestNeighbour(_,R.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0]instanceof n&&Ie(arguments[1],vs)){var x=arguments[0],M=arguments[1],V=new dn(this.getRoot(),x.getRoot(),M);return this.nearestNeighbour(V)}if(arguments[0]instanceof dn&&typeof arguments[1]=="number"){var Q=arguments[0],ce=arguments[1],he=null,ke=new ts;for(ke.add(Q);!ke.isEmpty()&&ce>0;){var De=ke.poll(),$e=De.getDistance();if($e>=ce)break;De.isLeaves()?(ce=$e,he=De):De.expandToQueue(ke,ce)}return[he.getBoundable(0).getItem(),he.getBoundable(1).getItem()]}}else if(arguments.length===3){var ot=arguments[0],Ni=arguments[1],An=arguments[2],jr=new cr(ot,Ni),qs=new dn(this.getRoot(),jr,An);return this.nearestNeighbour(qs)[0]}},n.prototype.interfaces_=function(){return[ma,s]},n.prototype.getClass=function(){return n},n.centreX=function(c){return n.avg(c.getMinX(),c.getMaxX())},n.avg=function(c,d){return(c+d)/2},n.centreY=function(c){return n.avg(c.getMinY(),c.getMaxY())},l.STRtreeNode.get=function(){return Qu},l.serialVersionUID.get=function(){return 0x39920f7d5f261e0},l.xComparator.get=function(){return{interfaces_:function(){return[se]},compare:function(c,d){return t.compareDoubles(n.centreX(c.getBounds()),n.centreX(d.getBounds()))}}},l.yComparator.get=function(){return{interfaces_:function(){return[se]},compare:function(c,d){return t.compareDoubles(n.centreY(c.getBounds()),n.centreY(d.getBounds()))}}},l.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(c,d){return c.intersects(d)}}},l.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(n,l),n}(dt),Qu=function(t){function n(){var l=arguments[0];t.call(this,l)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.computeBounds=function(){for(var l=null,c=this.getChildBoundables().iterator();c.hasNext();){var d=c.next();l===null?l=new ze(d.getBounds()):l.expandToInclude(d.getBounds())}return l},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(yn),pr=function(){};pr.prototype.interfaces_=function(){return[]},pr.prototype.getClass=function(){return pr},pr.relativeSign=function(t,n){return t<n?-1:t>n?1:0},pr.compare=function(t,n,l){if(n.equals2D(l))return 0;var c=pr.relativeSign(n.x,l.x),d=pr.relativeSign(n.y,l.y);switch(t){case 0:return pr.compareValue(c,d);case 1:return pr.compareValue(d,c);case 2:return pr.compareValue(d,-c);case 3:return pr.compareValue(-c,d);case 4:return pr.compareValue(-c,-d);case 5:return pr.compareValue(-d,-c);case 6:return pr.compareValue(-d,c);case 7:return pr.compareValue(c,-d)}return at.shouldNeverReachHere("invalid octant value"),0},pr.compareValue=function(t,n){return t<0?-1:t>0?1:n<0?-1:n>0?1:0};var Ds=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],n=arguments[1],l=arguments[2],c=arguments[3];this._segString=t,this.coord=new B(n),this.segmentIndex=l,this._segmentOctant=c,this._isInterior=!n.equals2D(t.getCoordinate(l))};Ds.prototype.getCoordinate=function(){return this.coord},Ds.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},Ds.prototype.compareTo=function(t){var n=t;return this.segmentIndex<n.segmentIndex?-1:this.segmentIndex>n.segmentIndex?1:this.coord.equals2D(n.coord)?0:pr.compare(this._segmentOctant,this.coord,n.coord)},Ds.prototype.isEndPoint=function(t){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===t},Ds.prototype.isInterior=function(){return this._isInterior},Ds.prototype.interfaces_=function(){return[ee]},Ds.prototype.getClass=function(){return Ds};var hr=function(){this._nodeMap=new N,this._edge=null;var t=arguments[0];this._edge=t};hr.prototype.getSplitCoordinates=function(){var t=new Ce;this.addEndpoints();for(var n=this.iterator(),l=n.next();n.hasNext();){var c=n.next();this.addEdgeCoordinates(l,c,t),l=c}return t.toCoordinateArray()},hr.prototype.addCollapsedNodes=function(){var t=new ue;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var n=t.iterator();n.hasNext();){var l=n.next().intValue();this.add(this._edge.getCoordinate(l),l)}},hr.prototype.print=function(t){t.println("Intersections:");for(var n=this.iterator();n.hasNext();)n.next().print(t)},hr.prototype.findCollapsesFromExistingVertices=function(t){for(var n=0;n<this._edge.size()-2;n++){var l=this._edge.getCoordinate(n),c=this._edge.getCoordinate(n+2);l.equals2D(c)&&t.add(new ve(n+1))}},hr.prototype.addEdgeCoordinates=function(t,n,l){var c=this._edge.getCoordinate(n.segmentIndex),d=n.isInterior()||!n.coord.equals2D(c);l.add(new B(t.coord),!1);for(var _=t.segmentIndex+1;_<=n.segmentIndex;_++)l.add(this._edge.getCoordinate(_));d&&l.add(new B(n.coord))},hr.prototype.iterator=function(){return this._nodeMap.values().iterator()},hr.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var n=this.iterator(),l=n.next();n.hasNext();){var c=n.next(),d=this.createSplitEdge(l,c);t.add(d),l=c}},hr.prototype.findCollapseIndex=function(t,n,l){if(!t.coord.equals2D(n.coord))return!1;var c=n.segmentIndex-t.segmentIndex;return n.isInterior()||c--,c===1&&(l[0]=t.segmentIndex+1,!0)},hr.prototype.findCollapsesFromInsertedNodes=function(t){for(var n=new Array(1).fill(null),l=this.iterator(),c=l.next();l.hasNext();){var d=l.next();this.findCollapseIndex(c,d,n)&&t.add(new ve(n[0])),c=d}},hr.prototype.getEdge=function(){return this._edge},hr.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},hr.prototype.createSplitEdge=function(t,n){var l=n.segmentIndex-t.segmentIndex+2,c=this._edge.getCoordinate(n.segmentIndex),d=n.isInterior()||!n.coord.equals2D(c);d||l--;var _=new Array(l).fill(null),x=0;_[x++]=new B(t.coord);for(var M=t.segmentIndex+1;M<=n.segmentIndex;M++)_[x++]=this._edge.getCoordinate(M);return d&&(_[x]=new B(n.coord)),new fn(_,this._edge.getData())},hr.prototype.add=function(t,n){var l=new Ds(this._edge,t,n,this._edge.getSegmentOctant(n)),c=this._nodeMap.get(l);return c!==null?(at.isTrue(c.coord.equals2D(t),"Found equal nodes with different coordinates"),c):(this._nodeMap.put(l,l),l)},hr.prototype.checkSplitEdgesCorrectness=function(t){var n=this._edge.getCoordinates(),l=t.get(0).getCoordinate(0);if(!l.equals2D(n[0]))throw new ur("bad split edge start point at "+l);var c=t.get(t.size()-1).getCoordinates(),d=c[c.length-1];if(!d.equals2D(n[n.length-1]))throw new ur("bad split edge end point at "+d)},hr.prototype.interfaces_=function(){return[]},hr.prototype.getClass=function(){return hr};var ga=function(){};ga.prototype.interfaces_=function(){return[]},ga.prototype.getClass=function(){return ga},ga.octant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],n=arguments[1];if(t===0&&n===0)throw new F("Cannot compute the octant for point ( "+t+", "+n+" )");var l=Math.abs(t),c=Math.abs(n);return t>=0?n>=0?l>=c?0:1:l>=c?7:6:n>=0?l>=c?3:2:l>=c?4:5}if(arguments[0]instanceof B&&arguments[1]instanceof B){var d=arguments[0],_=arguments[1],x=_.x-d.x,M=_.y-d.y;if(x===0&&M===0)throw new F("Cannot compute the octant for two identical points "+d);return ga.octant(x,M)}};var ns=function(){};ns.prototype.getCoordinates=function(){},ns.prototype.size=function(){},ns.prototype.getCoordinate=function(t){},ns.prototype.isClosed=function(){},ns.prototype.setData=function(t){},ns.prototype.getData=function(){},ns.prototype.interfaces_=function(){return[]},ns.prototype.getClass=function(){return ns};var _a=function(){};_a.prototype.addIntersection=function(t,n){},_a.prototype.interfaces_=function(){return[ns]},_a.prototype.getClass=function(){return _a};var fn=function(){this._nodeList=new hr(this),this._pts=null,this._data=null;var t=arguments[0],n=arguments[1];this._pts=t,this._data=n};fn.prototype.getCoordinates=function(){return this._pts},fn.prototype.size=function(){return this._pts.length},fn.prototype.getCoordinate=function(t){return this._pts[t]},fn.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},fn.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},fn.prototype.setData=function(t){this._data=t},fn.prototype.safeOctant=function(t,n){return t.equals2D(n)?0:ga.octant(t,n)},fn.prototype.getData=function(){return this._data},fn.prototype.addIntersection=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];this.addIntersectionNode(t,n)}else if(arguments.length===4){var l=arguments[0],c=arguments[1],d=arguments[3],_=new B(l.getIntersection(d));this.addIntersection(_,c)}},fn.prototype.toString=function(){return ji.toLineString(new bt(this._pts))},fn.prototype.getNodeList=function(){return this._nodeList},fn.prototype.addIntersectionNode=function(t,n){var l=n,c=l+1;if(c<this._pts.length){var d=this._pts[c];t.equals2D(d)&&(l=c)}return this._nodeList.add(t,l)},fn.prototype.addIntersections=function(t,n,l){for(var c=0;c<t.getIntersectionNum();c++)this.addIntersection(t,n,l,c)},fn.prototype.interfaces_=function(){return[_a]},fn.prototype.getClass=function(){return fn},fn.getNodedSubstrings=function(){if(arguments.length===1){var t=arguments[0],n=new ue;return fn.getNodedSubstrings(t,n),n}if(arguments.length===2)for(var l=arguments[0],c=arguments[1],d=l.iterator();d.hasNext();)d.next().getNodeList().addSplitEdges(c)};var Ye=function(){if(this.p0=null,this.p1=null,arguments.length===0)this.p0=new B,this.p1=new B;else if(arguments.length===1){var t=arguments[0];this.p0=new B(t.p0),this.p1=new B(t.p1)}else if(arguments.length===2)this.p0=arguments[0],this.p1=arguments[1];else if(arguments.length===4){var n=arguments[0],l=arguments[1],c=arguments[2],d=arguments[3];this.p0=new B(n,l),this.p1=new B(c,d)}},Ju={serialVersionUID:{configurable:!0}};Ye.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Ye.prototype.orientationIndex=function(){if(arguments[0]instanceof Ye){var t=arguments[0],n=Le.orientationIndex(this.p0,this.p1,t.p0),l=Le.orientationIndex(this.p0,this.p1,t.p1);return n>=0&&l>=0||n<=0&&l<=0?Math.max(n,l):0}if(arguments[0]instanceof B){var c=arguments[0];return Le.orientationIndex(this.p0,this.p1,c)}},Ye.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},Ye.prototype.isVertical=function(){return this.p0.x===this.p1.x},Ye.prototype.equals=function(t){if(!(t instanceof Ye))return!1;var n=t;return this.p0.equals(n.p0)&&this.p1.equals(n.p1)},Ye.prototype.intersection=function(t){var n=new uo;return n.computeIntersection(this.p0,this.p1,t.p0,t.p1),n.hasIntersection()?n.getIntersection(0):null},Ye.prototype.project=function(){if(arguments[0]instanceof B){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new B(t);var n=this.projectionFactor(t),l=new B;return l.x=this.p0.x+n*(this.p1.x-this.p0.x),l.y=this.p0.y+n*(this.p1.y-this.p0.y),l}if(arguments[0]instanceof Ye){var c=arguments[0],d=this.projectionFactor(c.p0),_=this.projectionFactor(c.p1);if(d>=1&&_>=1||d<=0&&_<=0)return null;var x=this.project(c.p0);d<0&&(x=this.p0),d>1&&(x=this.p1);var M=this.project(c.p1);return _<0&&(M=this.p0),_>1&&(M=this.p1),new Ye(x,M)}},Ye.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Ye.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Ye.prototype.getCoordinate=function(t){return t===0?this.p0:this.p1},Ye.prototype.distancePerpendicular=function(t){return Le.distancePointLinePerpendicular(t,this.p0,this.p1)},Ye.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Ye.prototype.midPoint=function(){return Ye.midPoint(this.p0,this.p1)},Ye.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var n=this.p1.x-this.p0.x,l=this.p1.y-this.p0.y,c=n*n+l*l;return c<=0?R.NaN:((t.x-this.p0.x)*n+(t.y-this.p0.y)*l)/c},Ye.prototype.closestPoints=function(t){var n=this.intersection(t);if(n!==null)return[n,n];var l=new Array(2).fill(null),c=R.MAX_VALUE,d=null,_=this.closestPoint(t.p0);c=_.distance(t.p0),l[0]=_,l[1]=t.p0;var x=this.closestPoint(t.p1);(d=x.distance(t.p1))<c&&(c=d,l[0]=x,l[1]=t.p1);var M=t.closestPoint(this.p0);(d=M.distance(this.p0))<c&&(c=d,l[0]=this.p0,l[1]=M);var V=t.closestPoint(this.p1);return(d=V.distance(this.p1))<c&&(c=d,l[0]=this.p1,l[1]=V),l},Ye.prototype.closestPoint=function(t){var n=this.projectionFactor(t);return n>0&&n<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},Ye.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Ye.prototype.getLength=function(){return this.p0.distance(this.p1)},Ye.prototype.compareTo=function(t){var n=t,l=this.p0.compareTo(n.p0);return l!==0?l:this.p1.compareTo(n.p1)},Ye.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},Ye.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},Ye.prototype.lineIntersection=function(t){try{return Bi.intersection(this.p0,this.p1,t.p0,t.p1)}catch(n){if(!(n instanceof Qi))throw n}return null},Ye.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Ye.prototype.pointAlongOffset=function(t,n){var l=this.p0.x+t*(this.p1.x-this.p0.x),c=this.p0.y+t*(this.p1.y-this.p0.y),d=this.p1.x-this.p0.x,_=this.p1.y-this.p0.y,x=Math.sqrt(d*d+_*_),M=0,V=0;if(n!==0){if(x<=0)throw new Error("Cannot compute offset from zero-length line segment");M=n*d/x,V=n*_/x}return new B(l-V,c+M)},Ye.prototype.setCoordinates=function(){if(arguments.length===1){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(arguments.length===2){var n=arguments[0],l=arguments[1];this.p0.x=n.x,this.p0.y=n.y,this.p1.x=l.x,this.p1.y=l.y}},Ye.prototype.segmentFraction=function(t){var n=this.projectionFactor(t);return n<0?n=0:(n>1||R.isNaN(n))&&(n=1),n},Ye.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Ye.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Ye.prototype.distance=function(){if(arguments[0]instanceof Ye){var t=arguments[0];return Le.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof B){var n=arguments[0];return Le.distancePointLine(n,this.p0,this.p1)}},Ye.prototype.pointAlong=function(t){var n=new B;return n.x=this.p0.x+t*(this.p1.x-this.p0.x),n.y=this.p0.y+t*(this.p1.y-this.p0.y),n},Ye.prototype.hashCode=function(){var t=R.doubleToLongBits(this.p0.x);t^=31*R.doubleToLongBits(this.p0.y);var n=Math.trunc(t)^Math.trunc(t>>32),l=R.doubleToLongBits(this.p1.x);return l^=31*R.doubleToLongBits(this.p1.y),n^(Math.trunc(l)^Math.trunc(l>>32))},Ye.prototype.interfaces_=function(){return[ee,s]},Ye.prototype.getClass=function(){return Ye},Ye.midPoint=function(t,n){return new B((t.x+n.x)/2,(t.y+n.y)/2)},Ju.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Ye,Ju);var Na=function(){this.tempEnv1=new ze,this.tempEnv2=new ze,this._overlapSeg1=new Ye,this._overlapSeg2=new Ye};Na.prototype.overlap=function(){if(arguments.length!==2){if(arguments.length===4){var t=arguments[0],n=arguments[1],l=arguments[2],c=arguments[3];t.getLineSegment(n,this._overlapSeg1),l.getLineSegment(c,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}},Na.prototype.interfaces_=function(){return[]},Na.prototype.getClass=function(){return Na};var Mn=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],n=arguments[1],l=arguments[2],c=arguments[3];this._pts=t,this._start=n,this._end=l,this._context=c};Mn.prototype.getLineSegment=function(t,n){n.p0=this._pts[t],n.p1=this._pts[t+1]},Mn.prototype.computeSelect=function(t,n,l,c){var d=this._pts[n],_=this._pts[l];if(c.tempEnv1.init(d,_),l-n==1)return c.select(this,n),null;if(!t.intersects(c.tempEnv1))return null;var x=Math.trunc((n+l)/2);n<x&&this.computeSelect(t,n,x,c),x<l&&this.computeSelect(t,x,l,c)},Mn.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),n=0,l=this._start;l<=this._end;l++)t[n++]=this._pts[l];return t},Mn.prototype.computeOverlaps=function(t,n){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,n)},Mn.prototype.setId=function(t){this._id=t},Mn.prototype.select=function(t,n){this.computeSelect(t,this._start,this._end,n)},Mn.prototype.getEnvelope=function(){if(this._env===null){var t=this._pts[this._start],n=this._pts[this._end];this._env=new ze(t,n)}return this._env},Mn.prototype.getEndIndex=function(){return this._end},Mn.prototype.getStartIndex=function(){return this._start},Mn.prototype.getContext=function(){return this._context},Mn.prototype.getId=function(){return this._id},Mn.prototype.computeOverlapsInternal=function(t,n,l,c,d,_){var x=this._pts[t],M=this._pts[n],V=l._pts[c],Q=l._pts[d];if(n-t==1&&d-c==1)return _.overlap(this,t,l,c),null;if(_.tempEnv1.init(x,M),_.tempEnv2.init(V,Q),!_.tempEnv1.intersects(_.tempEnv2))return null;var ce=Math.trunc((t+n)/2),he=Math.trunc((c+d)/2);t<ce&&(c<he&&this.computeOverlapsInternal(t,ce,l,c,he,_),he<d&&this.computeOverlapsInternal(t,ce,l,he,d,_)),ce<n&&(c<he&&this.computeOverlapsInternal(ce,n,l,c,he,_),he<d&&this.computeOverlapsInternal(ce,n,l,he,d,_))},Mn.prototype.interfaces_=function(){return[]},Mn.prototype.getClass=function(){return Mn};var Eo=function(){};Eo.prototype.interfaces_=function(){return[]},Eo.prototype.getClass=function(){return Eo},Eo.getChainStartIndices=function(t){var n=0,l=new ue;l.add(new ve(n));do{var c=Eo.findChainEnd(t,n);l.add(new ve(c)),n=c}while(n<t.length-1);return Eo.toIntArray(l)},Eo.findChainEnd=function(t,n){for(var l=n;l<t.length-1&&t[l].equals2D(t[l+1]);)l++;if(l>=t.length-1)return t.length-1;for(var c=Li.quadrant(t[l],t[l+1]),d=n+1;d<t.length&&!(!t[d-1].equals2D(t[d])&&Li.quadrant(t[d-1],t[d])!==c);)d++;return d-1},Eo.getChains=function(){if(arguments.length===1){var t=arguments[0];return Eo.getChains(t,null)}if(arguments.length===2){for(var n=arguments[0],l=arguments[1],c=new ue,d=Eo.getChainStartIndices(n),_=0;_<d.length-1;_++){var x=new Mn(n,d[_],d[_+1],l);c.add(x)}return c}},Eo.toIntArray=function(t){for(var n=new Array(t.size()).fill(null),l=0;l<n.length;l++)n[l]=t.get(l).intValue();return n};var Rs=function(){};Rs.prototype.computeNodes=function(t){},Rs.prototype.getNodedSubstrings=function(){},Rs.prototype.interfaces_=function(){return[]},Rs.prototype.getClass=function(){return Rs};var ya=function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this.setSegmentIntersector(t)}}};ya.prototype.setSegmentIntersector=function(t){this._segInt=t},ya.prototype.interfaces_=function(){return[Rs]},ya.prototype.getClass=function(){return ya};var du=function(t){function n(c){c?t.call(this,c):t.call(this),this._monoChains=new ue,this._index=new hu,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var l={SegmentOverlapAction:{configurable:!0}};return n.prototype.getMonotoneChains=function(){return this._monoChains},n.prototype.getNodedSubstrings=function(){return fn.getNodedSubstrings(this._nodedSegStrings)},n.prototype.getIndex=function(){return this._index},n.prototype.add=function(c){for(var d=Eo.getChains(c.getCoordinates(),c).iterator();d.hasNext();){var _=d.next();_.setId(this._idCounter++),this._index.insert(_.getEnvelope(),_),this._monoChains.add(_)}},n.prototype.computeNodes=function(c){this._nodedSegStrings=c;for(var d=c.iterator();d.hasNext();)this.add(d.next());this.intersectChains()},n.prototype.intersectChains=function(){for(var c=new fu(this._segInt),d=this._monoChains.iterator();d.hasNext();)for(var _=d.next(),x=this._index.query(_.getEnvelope()).iterator();x.hasNext();){var M=x.next();if(M.getId()>_.getId()&&(_.computeOverlaps(M,c),this._nOverlaps++),this._segInt.isDone())return null}},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},l.SegmentOverlapAction.get=function(){return fu},Object.defineProperties(n,l),n}(ya),fu=function(t){function n(){t.call(this),this._si=null;var l=arguments[0];this._si=l}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.overlap=function(){if(arguments.length!==4)return t.prototype.overlap.apply(this,arguments);var l=arguments[0],c=arguments[1],d=arguments[2],_=arguments[3],x=l.getContext(),M=d.getContext();this._si.processIntersections(x,c,M,_)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(Na),Nt=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var n=arguments[0];this.setQuadrantSegments(n)}else if(arguments.length===2){var l=arguments[0],c=arguments[1];this.setQuadrantSegments(l),this.setEndCapStyle(c)}else if(arguments.length===4){var d=arguments[0],_=arguments[1],x=arguments[2],M=arguments[3];this.setQuadrantSegments(d),this.setEndCapStyle(_),this.setJoinStyle(x),this.setMitreLimit(M)}}},xs={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Nt.prototype.getEndCapStyle=function(){return this._endCapStyle},Nt.prototype.isSingleSided=function(){return this._isSingleSided},Nt.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,this._quadrantSegments===0&&(this._joinStyle=Nt.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Nt.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==Nt.JOIN_ROUND&&(this._quadrantSegments=Nt.DEFAULT_QUADRANT_SEGMENTS)},Nt.prototype.getJoinStyle=function(){return this._joinStyle},Nt.prototype.setJoinStyle=function(t){this._joinStyle=t},Nt.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},Nt.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Nt.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Nt.prototype.setEndCapStyle=function(t){this._endCapStyle=t},Nt.prototype.getMitreLimit=function(){return this._mitreLimit},Nt.prototype.setMitreLimit=function(t){this._mitreLimit=t},Nt.prototype.setSingleSided=function(t){this._isSingleSided=t},Nt.prototype.interfaces_=function(){return[]},Nt.prototype.getClass=function(){return Nt},Nt.bufferDistanceError=function(t){var n=Math.PI/2/t;return 1-Math.cos(n/2)},xs.CAP_ROUND.get=function(){return 1},xs.CAP_FLAT.get=function(){return 2},xs.CAP_SQUARE.get=function(){return 3},xs.JOIN_ROUND.get=function(){return 1},xs.JOIN_MITRE.get=function(){return 2},xs.JOIN_BEVEL.get=function(){return 3},xs.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},xs.DEFAULT_MITRE_LIMIT.get=function(){return 5},xs.DEFAULT_SIMPLIFY_FACTOR.get=function(){return .01},Object.defineProperties(Nt,xs);var an=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Le.COUNTERCLOCKWISE,this._inputLine=t||null},va={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};an.prototype.isDeletable=function(t,n,l,c){var d=this._inputLine[t],_=this._inputLine[n],x=this._inputLine[l];return!!this.isConcave(d,_,x)&&!!this.isShallow(d,_,x,c)&&this.isShallowSampled(d,_,t,l,c)},an.prototype.deleteShallowConcavities=function(){for(var t=1,n=this.findNextNonDeletedIndex(t),l=this.findNextNonDeletedIndex(n),c=!1;l<this._inputLine.length;){var d=!1;this.isDeletable(t,n,l,this._distanceTol)&&(this._isDeleted[n]=an.DELETE,d=!0,c=!0),t=d?l:n,n=this.findNextNonDeletedIndex(t),l=this.findNextNonDeletedIndex(n)}return c},an.prototype.isShallowConcavity=function(t,n,l,c){return Le.computeOrientation(t,n,l)!==this._angleOrientation?!1:Le.distancePointLine(n,t,l)<c},an.prototype.isShallowSampled=function(t,n,l,c,d){var _=Math.trunc((c-l)/an.NUM_PTS_TO_CHECK);_<=0&&(_=1);for(var x=l;x<c;x+=_)if(!this.isShallow(t,n,this._inputLine[x],d))return!1;return!0},an.prototype.isConcave=function(t,n,l){var c=Le.computeOrientation(t,n,l)===this._angleOrientation;return c},an.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=Le.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var n=!1;do n=this.deleteShallowConcavities();while(n);return this.collapseLine()},an.prototype.findNextNonDeletedIndex=function(t){for(var n=t+1;n<this._inputLine.length&&this._isDeleted[n]===an.DELETE;)n++;return n},an.prototype.isShallow=function(t,n,l,c){return Le.distancePointLine(n,t,l)<c},an.prototype.collapseLine=function(){for(var t=new Ce,n=0;n<this._inputLine.length;n++)this._isDeleted[n]!==an.DELETE&&t.add(this._inputLine[n]);return t.toCoordinateArray()},an.prototype.interfaces_=function(){return[]},an.prototype.getClass=function(){return an},an.simplify=function(t,n){return new an(t).simplify(n)},va.INIT.get=function(){return 0},va.DELETE.get=function(){return 1},va.KEEP.get=function(){return 1},va.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(an,va);var io=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new ue},mu={COORDINATE_ARRAY_TYPE:{configurable:!0}};io.prototype.getCoordinates=function(){return this._ptList.toArray(io.COORDINATE_ARRAY_TYPE)},io.prototype.setPrecisionModel=function(t){this._precisionModel=t},io.prototype.addPt=function(t){var n=new B(t);if(this._precisionModel.makePrecise(n),this.isRedundant(n))return null;this._ptList.add(n)},io.prototype.revere=function(){},io.prototype.addPts=function(t,n){if(n)for(var l=0;l<t.length;l++)this.addPt(t[l]);else for(var c=t.length-1;c>=0;c--)this.addPt(t[c])},io.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var n=this._ptList.get(this._ptList.size()-1);return t.distance(n)<this._minimimVertexDistance},io.prototype.toString=function(){return new ht().createLineString(this.getCoordinates()).toString()},io.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new B(this._ptList.get(0)),n=this._ptList.get(this._ptList.size()-1);if(t.equals(n))return null;this._ptList.add(t)},io.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},io.prototype.interfaces_=function(){return[]},io.prototype.getClass=function(){return io},mu.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(io,mu);var Et=function(){},bs={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Et.prototype.interfaces_=function(){return[]},Et.prototype.getClass=function(){return Et},Et.toDegrees=function(t){return 180*t/Math.PI},Et.normalize=function(t){for(;t>Math.PI;)t-=Et.PI_TIMES_2;for(;t<=-Math.PI;)t+=Et.PI_TIMES_2;return t},Et.angle=function(){if(arguments.length===1){var t=arguments[0];return Math.atan2(t.y,t.x)}if(arguments.length===2){var n=arguments[0],l=arguments[1],c=l.x-n.x,d=l.y-n.y;return Math.atan2(d,c)}},Et.isAcute=function(t,n,l){var c=t.x-n.x,d=t.y-n.y;return c*(l.x-n.x)+d*(l.y-n.y)>0},Et.isObtuse=function(t,n,l){var c=t.x-n.x,d=t.y-n.y;return c*(l.x-n.x)+d*(l.y-n.y)<0},Et.interiorAngle=function(t,n,l){var c=Et.angle(n,t),d=Et.angle(n,l);return Math.abs(d-c)},Et.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Et.PI_TIMES_2;t>=Et.PI_TIMES_2&&(t=0)}else{for(;t>=Et.PI_TIMES_2;)t-=Et.PI_TIMES_2;t<0&&(t=0)}return t},Et.angleBetween=function(t,n,l){var c=Et.angle(n,t),d=Et.angle(n,l);return Et.diff(c,d)},Et.diff=function(t,n){var l=null;return(l=t<n?n-t:t-n)>Math.PI&&(l=2*Math.PI-l),l},Et.toRadians=function(t){return t*Math.PI/180},Et.getTurn=function(t,n){var l=Math.sin(n-t);return l>0?Et.COUNTERCLOCKWISE:l<0?Et.CLOCKWISE:Et.NONE},Et.angleBetweenOriented=function(t,n,l){var c=Et.angle(n,t),d=Et.angle(n,l)-c;return d<=-Math.PI?d+Et.PI_TIMES_2:d>Math.PI?d-Et.PI_TIMES_2:d},bs.PI_TIMES_2.get=function(){return 2*Math.PI},bs.PI_OVER_2.get=function(){return Math.PI/2},bs.PI_OVER_4.get=function(){return Math.PI/4},bs.COUNTERCLOCKWISE.get=function(){return Le.COUNTERCLOCKWISE},bs.CLOCKWISE.get=function(){return Le.CLOCKWISE},bs.NONE.get=function(){return Le.COLLINEAR},Object.defineProperties(Et,bs);var vi=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Ye,this._seg1=new Ye,this._offset0=new Ye,this._offset1=new Ye,this._side=0,this._hasNarrowConcaveAngle=!1;var n=arguments[0],l=arguments[1],c=arguments[2];this._precisionModel=n,this._bufParams=l,this._li=new uo,this._filletAngleQuantum=Math.PI/2/l.getQuadrantSegments(),l.getQuadrantSegments()>=8&&l.getJoinStyle()===Nt.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(c)},nl={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};vi.prototype.addNextSegment=function(t,n){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var l=Le.computeOrientation(this._s0,this._s1,this._s2),c=l===Le.CLOCKWISE&&this._side===Me.LEFT||l===Le.COUNTERCLOCKWISE&&this._side===Me.RIGHT;l===0?this.addCollinear(n):c?this.addOutsideTurn(l,n):this.addInsideTurn(l,n)},vi.prototype.addLineEndCap=function(t,n){var l=new Ye(t,n),c=new Ye;this.computeOffsetSegment(l,Me.LEFT,this._distance,c);var d=new Ye;this.computeOffsetSegment(l,Me.RIGHT,this._distance,d);var _=n.x-t.x,x=n.y-t.y,M=Math.atan2(x,_);switch(this._bufParams.getEndCapStyle()){case Nt.CAP_ROUND:this._segList.addPt(c.p1),this.addFilletArc(n,M+Math.PI/2,M-Math.PI/2,Le.CLOCKWISE,this._distance),this._segList.addPt(d.p1);break;case Nt.CAP_FLAT:this._segList.addPt(c.p1),this._segList.addPt(d.p1);break;case Nt.CAP_SQUARE:var V=new B;V.x=Math.abs(this._distance)*Math.cos(M),V.y=Math.abs(this._distance)*Math.sin(M);var Q=new B(c.p1.x+V.x,c.p1.y+V.y),ce=new B(d.p1.x+V.x,d.p1.y+V.y);this._segList.addPt(Q),this._segList.addPt(ce)}},vi.prototype.getCoordinates=function(){return this._segList.getCoordinates()},vi.prototype.addMitreJoin=function(t,n,l,c){var d=!0,_=null;try{_=Bi.intersection(n.p0,n.p1,l.p0,l.p1),(c<=0?1:_.distance(t)/Math.abs(c))>this._bufParams.getMitreLimit()&&(d=!1)}catch(x){if(!(x instanceof Qi))throw x;_=new B(0,0),d=!1}d?this._segList.addPt(_):this.addLimitedMitreJoin(n,l,c,this._bufParams.getMitreLimit())},vi.prototype.addFilletCorner=function(t,n,l,c,d){var _=n.x-t.x,x=n.y-t.y,M=Math.atan2(x,_),V=l.x-t.x,Q=l.y-t.y,ce=Math.atan2(Q,V);c===Le.CLOCKWISE?M<=ce&&(M+=2*Math.PI):M>=ce&&(M-=2*Math.PI),this._segList.addPt(n),this.addFilletArc(t,M,ce,c,d),this._segList.addPt(l)},vi.prototype.addOutsideTurn=function(t,n){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*vi.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Nt.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Nt.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(n&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},vi.prototype.createSquare=function(t){this._segList.addPt(new B(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new B(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new B(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new B(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},vi.prototype.addSegments=function(t,n){this._segList.addPts(t,n)},vi.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},vi.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},vi.prototype.initSideSegments=function(t,n,l){this._s1=t,this._s2=n,this._side=l,this._seg1.setCoordinates(t,n),this.computeOffsetSegment(this._seg1,l,this._distance,this._offset1)},vi.prototype.addLimitedMitreJoin=function(t,n,l,c){var d=this._seg0.p1,_=Et.angle(d,this._seg0.p0),x=Et.angleBetweenOriented(this._seg0.p0,d,this._seg1.p1)/2,M=Et.normalize(_+x),V=Et.normalize(M+Math.PI),Q=c*l,ce=l-Q*Math.abs(Math.sin(x)),he=d.x+Q*Math.cos(V),ke=d.y+Q*Math.sin(V),De=new B(he,ke),$e=new Ye(d,De),ot=$e.pointAlongOffset(1,ce),Ni=$e.pointAlongOffset(1,-ce);this._side===Me.LEFT?(this._segList.addPt(ot),this._segList.addPt(Ni)):(this._segList.addPt(Ni),this._segList.addPt(ot))},vi.prototype.computeOffsetSegment=function(t,n,l,c){var d=n===Me.LEFT?1:-1,_=t.p1.x-t.p0.x,x=t.p1.y-t.p0.y,M=Math.sqrt(_*_+x*x),V=d*l*_/M,Q=d*l*x/M;c.p0.x=t.p0.x-Q,c.p0.y=t.p0.y+V,c.p1.x=t.p1.x-Q,c.p1.y=t.p1.y+V},vi.prototype.addFilletArc=function(t,n,l,c,d){var _=c===Le.CLOCKWISE?-1:1,x=Math.abs(n-l),M=Math.trunc(x/this._filletAngleQuantum+.5);if(M<1)return null;for(var V=x/M,Q=0,ce=new B;Q<x;){var he=n+_*Q;ce.x=t.x+d*Math.cos(he),ce.y=t.y+d*Math.sin(he),this._segList.addPt(ce),Q+=V}},vi.prototype.addInsideTurn=function(t,n){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*vi.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var l=new B((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(l);var c=new B((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(c)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},vi.prototype.createCircle=function(t){var n=new B(t.x+this._distance,t.y);this._segList.addPt(n),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},vi.prototype.addBevelJoin=function(t,n){this._segList.addPt(t.p1),this._segList.addPt(n.p0)},vi.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new io,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*vi.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},vi.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Nt.JOIN_BEVEL||this._bufParams.getJoinStyle()===Nt.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Le.CLOCKWISE,this._distance))},vi.prototype.closeRing=function(){this._segList.closeRing()},vi.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},vi.prototype.interfaces_=function(){return[]},vi.prototype.getClass=function(){return vi},nl.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return .001},nl.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return .001},nl.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},nl.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(vi,nl);var qn=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],n=arguments[1];this._precisionModel=t,this._bufParams=n};qn.prototype.getOffsetCurve=function(t,n){if(this._distance=n,n===0)return null;var l=n<0,c=Math.abs(n),d=this.getSegGen(c);t.length<=1?this.computePointCurve(t[0],d):this.computeOffsetCurve(t,l,d);var _=d.getCoordinates();return l&&xe.reverse(_),_},qn.prototype.computeSingleSidedBufferCurve=function(t,n,l){var c=this.simplifyTolerance(this._distance);if(n){l.addSegments(t,!0);var d=an.simplify(t,-c),_=d.length-1;l.initSideSegments(d[_],d[_-1],Me.LEFT),l.addFirstSegment();for(var x=_-2;x>=0;x--)l.addNextSegment(d[x],!0)}else{l.addSegments(t,!1);var M=an.simplify(t,c),V=M.length-1;l.initSideSegments(M[0],M[1],Me.LEFT),l.addFirstSegment();for(var Q=2;Q<=V;Q++)l.addNextSegment(M[Q],!0)}l.addLastSegment(),l.closeRing()},qn.prototype.computeRingBufferCurve=function(t,n,l){var c=this.simplifyTolerance(this._distance);n===Me.RIGHT&&(c=-c);var d=an.simplify(t,c),_=d.length-1;l.initSideSegments(d[_-1],d[0],n);for(var x=1;x<=_;x++){var M=x!==1;l.addNextSegment(d[x],M)}l.closeRing()},qn.prototype.computeLineBufferCurve=function(t,n){var l=this.simplifyTolerance(this._distance),c=an.simplify(t,l),d=c.length-1;n.initSideSegments(c[0],c[1],Me.LEFT);for(var _=2;_<=d;_++)n.addNextSegment(c[_],!0);n.addLastSegment(),n.addLineEndCap(c[d-1],c[d]);var x=an.simplify(t,-l),M=x.length-1;n.initSideSegments(x[M],x[M-1],Me.LEFT);for(var V=M-2;V>=0;V--)n.addNextSegment(x[V],!0);n.addLastSegment(),n.addLineEndCap(x[1],x[0]),n.closeRing()},qn.prototype.computePointCurve=function(t,n){switch(this._bufParams.getEndCapStyle()){case Nt.CAP_ROUND:n.createCircle(t);break;case Nt.CAP_SQUARE:n.createSquare(t)}},qn.prototype.getLineCurve=function(t,n){if(this._distance=n,n<0&&!this._bufParams.isSingleSided()||n===0)return null;var l=Math.abs(n),c=this.getSegGen(l);if(t.length<=1)this.computePointCurve(t[0],c);else if(this._bufParams.isSingleSided()){var d=n<0;this.computeSingleSidedBufferCurve(t,d,c)}else this.computeLineBufferCurve(t,c);return c.getCoordinates()},qn.prototype.getBufferParameters=function(){return this._bufParams},qn.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},qn.prototype.getRingCurve=function(t,n,l){if(this._distance=l,t.length<=2)return this.getLineCurve(t,l);if(l===0)return qn.copyCoordinates(t);var c=this.getSegGen(l);return this.computeRingBufferCurve(t,n,c),c.getCoordinates()},qn.prototype.computeOffsetCurve=function(t,n,l){var c=this.simplifyTolerance(this._distance);if(n){var d=an.simplify(t,-c),_=d.length-1;l.initSideSegments(d[_],d[_-1],Me.LEFT),l.addFirstSegment();for(var x=_-2;x>=0;x--)l.addNextSegment(d[x],!0)}else{var M=an.simplify(t,c),V=M.length-1;l.initSideSegments(M[0],M[1],Me.LEFT),l.addFirstSegment();for(var Q=2;Q<=V;Q++)l.addNextSegment(M[Q],!0)}l.addLastSegment()},qn.prototype.getSegGen=function(t){return new vi(this._precisionModel,this._bufParams,t)},qn.prototype.interfaces_=function(){return[]},qn.prototype.getClass=function(){return qn},qn.copyCoordinates=function(t){for(var n=new Array(t.length).fill(null),l=0;l<n.length;l++)n[l]=new B(t[l]);return n};var vr=function(){this._subgraphs=null,this._seg=new Ye,this._cga=new Le;var t=arguments[0];this._subgraphs=t},gu={DepthSegment:{configurable:!0}};vr.prototype.findStabbedSegments=function(){if(arguments.length===1){for(var t=arguments[0],n=new ue,l=this._subgraphs.iterator();l.hasNext();){var c=l.next(),d=c.getEnvelope();t.y<d.getMinY()||t.y>d.getMaxY()||this.findStabbedSegments(t,c.getDirectedEdges(),n)}return n}if(arguments.length===3){if(Ie(arguments[2],me)&&arguments[0]instanceof B&&arguments[1]instanceof il){for(var _=arguments[0],x=arguments[1],M=arguments[2],V=x.getEdge().getCoordinates(),Q=0;Q<V.length-1;Q++)if(this._seg.p0=V[Q],this._seg.p1=V[Q+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<_.x)&&!(this._seg.isHorizontal()||_.y<this._seg.p0.y||_.y>this._seg.p1.y||Le.computeOrientation(this._seg.p0,this._seg.p1,_)===Le.RIGHT)){var ce=x.getDepth(Me.LEFT);this._seg.p0.equals(V[Q])||(ce=x.getDepth(Me.RIGHT));var he=new Fs(this._seg,ce);M.add(he)}}else if(Ie(arguments[2],me)&&arguments[0]instanceof B&&Ie(arguments[1],me))for(var ke=arguments[0],De=arguments[1],$e=arguments[2],ot=De.iterator();ot.hasNext();){var Ni=ot.next();Ni.isForward()&&this.findStabbedSegments(ke,Ni,$e)}}},vr.prototype.getDepth=function(t){var n=this.findStabbedSegments(t);return n.size()===0?0:To.min(n)._leftDepth},vr.prototype.interfaces_=function(){return[]},vr.prototype.getClass=function(){return vr},gu.DepthSegment.get=function(){return Fs},Object.defineProperties(vr,gu);var Fs=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],n=arguments[1];this._upwardSeg=new Ye(t),this._leftDepth=n};Fs.prototype.compareTo=function(t){var n=t;if(this._upwardSeg.minX()>=n._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=n._upwardSeg.minX())return-1;var l=this._upwardSeg.orientationIndex(n._upwardSeg);return l!==0||(l=-1*n._upwardSeg.orientationIndex(this._upwardSeg))!=0?l:this._upwardSeg.compareTo(n._upwardSeg)},Fs.prototype.compareX=function(t,n){var l=t.p0.compareTo(n.p0);return l!==0?l:t.p1.compareTo(n.p1)},Fs.prototype.toString=function(){return this._upwardSeg.toString()},Fs.prototype.interfaces_=function(){return[ee]},Fs.prototype.getClass=function(){return Fs};var Kt=function(t,n,l){this.p0=t||null,this.p1=n||null,this.p2=l||null};Kt.prototype.area=function(){return Kt.area(this.p0,this.p1,this.p2)},Kt.prototype.signedArea=function(){return Kt.signedArea(this.p0,this.p1,this.p2)},Kt.prototype.interpolateZ=function(t){if(t===null)throw new F("Supplied point is null.");return Kt.interpolateZ(t,this.p0,this.p1,this.p2)},Kt.prototype.longestSideLength=function(){return Kt.longestSideLength(this.p0,this.p1,this.p2)},Kt.prototype.isAcute=function(){return Kt.isAcute(this.p0,this.p1,this.p2)},Kt.prototype.circumcentre=function(){return Kt.circumcentre(this.p0,this.p1,this.p2)},Kt.prototype.area3D=function(){return Kt.area3D(this.p0,this.p1,this.p2)},Kt.prototype.centroid=function(){return Kt.centroid(this.p0,this.p1,this.p2)},Kt.prototype.inCentre=function(){return Kt.inCentre(this.p0,this.p1,this.p2)},Kt.prototype.interfaces_=function(){return[]},Kt.prototype.getClass=function(){return Kt},Kt.area=function(t,n,l){return Math.abs(((l.x-t.x)*(n.y-t.y)-(n.x-t.x)*(l.y-t.y))/2)},Kt.signedArea=function(t,n,l){return((l.x-t.x)*(n.y-t.y)-(n.x-t.x)*(l.y-t.y))/2},Kt.det=function(t,n,l,c){return t*c-n*l},Kt.interpolateZ=function(t,n,l,c){var d=n.x,_=n.y,x=l.x-d,M=c.x-d,V=l.y-_,Q=c.y-_,ce=x*Q-M*V,he=t.x-d,ke=t.y-_,De=(Q*he-M*ke)/ce,$e=(-V*he+x*ke)/ce;return n.z+De*(l.z-n.z)+$e*(c.z-n.z)},Kt.longestSideLength=function(t,n,l){var c=t.distance(n),d=n.distance(l),_=l.distance(t),x=c;return d>x&&(x=d),_>x&&(x=_),x},Kt.isAcute=function(t,n,l){return!!Et.isAcute(t,n,l)&&!!Et.isAcute(n,l,t)&&!!Et.isAcute(l,t,n)},Kt.circumcentre=function(t,n,l){var c=l.x,d=l.y,_=t.x-c,x=t.y-d,M=n.x-c,V=n.y-d,Q=2*Kt.det(_,x,M,V),ce=Kt.det(x,_*_+x*x,V,M*M+V*V),he=Kt.det(_,_*_+x*x,M,M*M+V*V);return new B(c-ce/Q,d+he/Q)},Kt.perpendicularBisector=function(t,n){var l=n.x-t.x,c=n.y-t.y,d=new Bi(t.x+l/2,t.y+c/2,1),_=new Bi(t.x-c+l/2,t.y+l+c/2,1);return new Bi(d,_)},Kt.angleBisector=function(t,n,l){var c=n.distance(t),d=c/(c+n.distance(l)),_=l.x-t.x,x=l.y-t.y;return new B(t.x+d*_,t.y+d*x)},Kt.area3D=function(t,n,l){var c=n.x-t.x,d=n.y-t.y,_=n.z-t.z,x=l.x-t.x,M=l.y-t.y,V=l.z-t.z,Q=d*V-_*M,ce=_*x-c*V,he=c*M-d*x,ke=Q*Q+ce*ce+he*he,De=Math.sqrt(ke)/2;return De},Kt.centroid=function(t,n,l){var c=(t.x+n.x+l.x)/3,d=(t.y+n.y+l.y)/3;return new B(c,d)},Kt.inCentre=function(t,n,l){var c=n.distance(l),d=t.distance(l),_=t.distance(n),x=c+d+_,M=(c*t.x+d*n.x+_*l.x)/x,V=(c*t.y+d*n.y+_*l.y)/x;return new B(M,V)};var qr=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new ue;var t=arguments[0],n=arguments[1],l=arguments[2];this._inputGeom=t,this._distance=n,this._curveBuilder=l};qr.prototype.addPoint=function(t){if(this._distance<=0)return null;var n=t.getCoordinates(),l=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(l,W.EXTERIOR,W.INTERIOR)},qr.prototype.addPolygon=function(t){var n=this._distance,l=Me.LEFT;this._distance<0&&(n=-this._distance,l=Me.RIGHT);var c=t.getExteriorRing(),d=xe.removeRepeatedPoints(c.getCoordinates());if(this._distance<0&&this.isErodedCompletely(c,this._distance)||this._distance<=0&&d.length<3)return null;this.addPolygonRing(d,n,l,W.EXTERIOR,W.INTERIOR);for(var _=0;_<t.getNumInteriorRing();_++){var x=t.getInteriorRingN(_),M=xe.removeRepeatedPoints(x.getCoordinates());this._distance>0&&this.isErodedCompletely(x,-this._distance)||this.addPolygonRing(M,n,Me.opposite(l),W.INTERIOR,W.EXTERIOR)}},qr.prototype.isTriangleErodedCompletely=function(t,n){var l=new Kt(t[0],t[1],t[2]),c=l.inCentre();return Le.distancePointLine(c,l.p0,l.p1)<Math.abs(n)},qr.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var n=xe.removeRepeatedPoints(t.getCoordinates()),l=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(l,W.EXTERIOR,W.INTERIOR)},qr.prototype.addCurve=function(t,n,l){if(t===null||t.length<2)return null;var c=new fn(t,new Ft(0,W.BOUNDARY,n,l));this._curveList.add(c)},qr.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},qr.prototype.addPolygonRing=function(t,n,l,c,d){if(n===0&&t.length<es.MINIMUM_VALID_SIZE)return null;var _=c,x=d;t.length>=es.MINIMUM_VALID_SIZE&&Le.isCCW(t)&&(_=d,x=c,l=Me.opposite(l));var M=this._curveBuilder.getRingCurve(t,l,n);this.addCurve(M,_,x)},qr.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Tn?this.addPolygon(t):t instanceof sn?this.addLineString(t):t instanceof Br?this.addPoint(t):t instanceof ka?this.addCollection(t):t instanceof to?this.addCollection(t):t instanceof Io?this.addCollection(t):t instanceof Ri&&this.addCollection(t)},qr.prototype.isErodedCompletely=function(t,n){var l=t.getCoordinates();if(l.length<4)return n<0;if(l.length===4)return this.isTriangleErodedCompletely(l,n);var c=t.getEnvelopeInternal(),d=Math.min(c.getHeight(),c.getWidth());return n<0&&2*Math.abs(n)>d},qr.prototype.addCollection=function(t){for(var n=0;n<t.getNumGeometries();n++){var l=t.getGeometryN(n);this.add(l)}},qr.prototype.interfaces_=function(){return[]},qr.prototype.getClass=function(){return qr};var Xs=function(){};Xs.prototype.locate=function(t){},Xs.prototype.interfaces_=function(){return[]},Xs.prototype.getClass=function(){return Xs};var rs=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};rs.prototype.next=function(){if(this._atStart)return this._atStart=!1,rs.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new e;var t=this._parent.getGeometryN(this._index++);return t instanceof Ri?(this._subcollectionIterator=new rs(t),this._subcollectionIterator.next()):t},rs.prototype.remove=function(){throw new Error(this.getClass().getName())},rs.prototype.hasNext=function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},rs.prototype.interfaces_=function(){return[be]},rs.prototype.getClass=function(){return rs},rs.isAtomic=function(t){return!(t instanceof Ri)};var no=function(){this._geom=null;var t=arguments[0];this._geom=t};no.prototype.locate=function(t){return no.locate(t,this._geom)},no.prototype.interfaces_=function(){return[Xs]},no.prototype.getClass=function(){return no},no.isPointInRing=function(t,n){return!!n.getEnvelopeInternal().intersects(t)&&Le.isPointInRing(t,n.getCoordinates())},no.containsPointInPolygon=function(t,n){if(n.isEmpty())return!1;var l=n.getExteriorRing();if(!no.isPointInRing(t,l))return!1;for(var c=0;c<n.getNumInteriorRing();c++){var d=n.getInteriorRingN(c);if(no.isPointInRing(t,d))return!1}return!0},no.containsPoint=function(t,n){if(n instanceof Tn)return no.containsPointInPolygon(t,n);if(n instanceof Ri)for(var l=new rs(n);l.hasNext();){var c=l.next();if(c!==n&&no.containsPoint(t,c))return!0}return!1},no.locate=function(t,n){return n.isEmpty()?W.EXTERIOR:no.containsPoint(t,n)?W.INTERIOR:W.EXTERIOR};var ir=function(){this._edgeMap=new N,this._edgeList=null,this._ptInAreaLocation=[W.NONE,W.NONE]};ir.prototype.getNextCW=function(t){this.getEdges();var n=this._edgeList.indexOf(t),l=n-1;return n===0&&(l=this._edgeList.size()-1),this._edgeList.get(l)},ir.prototype.propagateSideLabels=function(t){for(var n=W.NONE,l=this.iterator();l.hasNext();){var c=l.next().getLabel();c.isArea(t)&&c.getLocation(t,Me.LEFT)!==W.NONE&&(n=c.getLocation(t,Me.LEFT))}if(n===W.NONE)return null;for(var d=n,_=this.iterator();_.hasNext();){var x=_.next(),M=x.getLabel();if(M.getLocation(t,Me.ON)===W.NONE&&M.setLocation(t,Me.ON,d),M.isArea(t)){var V=M.getLocation(t,Me.LEFT),Q=M.getLocation(t,Me.RIGHT);if(Q!==W.NONE){if(Q!==d)throw new zo("side location conflict",x.getCoordinate());V===W.NONE&&at.shouldNeverReachHere("found single null side (at "+x.getCoordinate()+")"),d=V}else at.isTrue(M.getLocation(t,Me.LEFT)===W.NONE,"found single null side"),M.setLocation(t,Me.RIGHT,d),M.setLocation(t,Me.LEFT,d)}}},ir.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},ir.prototype.print=function(t){qt.out.println("EdgeEndStar:   "+this.getCoordinate());for(var n=this.iterator();n.hasNext();)n.next().print(t)},ir.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},ir.prototype.checkAreaLabelsConsistent=function(t){var n=this.getEdges();if(n.size()<=0)return!0;var l=n.size()-1,c=n.get(l).getLabel().getLocation(t,Me.LEFT);at.isTrue(c!==W.NONE,"Found unlabelled area edge");for(var d=c,_=this.iterator();_.hasNext();){var x=_.next().getLabel();at.isTrue(x.isArea(t),"Found non-area edge");var M=x.getLocation(t,Me.LEFT),V=x.getLocation(t,Me.RIGHT);if(M===V||V!==d)return!1;d=M}return!0},ir.prototype.findIndex=function(t){this.iterator();for(var n=0;n<this._edgeList.size();n++)if(this._edgeList.get(n)===t)return n;return-1},ir.prototype.iterator=function(){return this.getEdges().iterator()},ir.prototype.getEdges=function(){return this._edgeList===null&&(this._edgeList=new ue(this._edgeMap.values())),this._edgeList},ir.prototype.getLocation=function(t,n,l){return this._ptInAreaLocation[t]===W.NONE&&(this._ptInAreaLocation[t]=no.locate(n,l[t].getGeometry())),this._ptInAreaLocation[t]},ir.prototype.toString=function(){var t=new zt;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append(`
`);for(var n=this.iterator();n.hasNext();){var l=n.next();t.append(l),t.append(`
`)}return t.toString()},ir.prototype.computeEdgeEndLabels=function(t){for(var n=this.iterator();n.hasNext();)n.next().computeLabel(t)},ir.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var n=[!1,!1],l=this.iterator();l.hasNext();)for(var c=l.next().getLabel(),d=0;d<2;d++)c.isLine(d)&&c.getLocation(d)===W.BOUNDARY&&(n[d]=!0);for(var _=this.iterator();_.hasNext();)for(var x=_.next(),M=x.getLabel(),V=0;V<2;V++)if(M.isAnyNull(V)){var Q=W.NONE;if(n[V])Q=W.EXTERIOR;else{var ce=x.getCoordinate();Q=this.getLocation(V,ce,t)}M.setAllLocationsIfNull(V,Q)}},ir.prototype.getDegree=function(){return this._edgeMap.size()},ir.prototype.insertEdgeEnd=function(t,n){this._edgeMap.put(t,n),this._edgeList=null},ir.prototype.interfaces_=function(){return[]},ir.prototype.getClass=function(){return ir};var bp=function(t){function n(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var l=null,c=null,d=this._SCANNING_FOR_INCOMING,_=0;_<this._resultAreaEdgeList.size();_++){var x=this._resultAreaEdgeList.get(_),M=x.getSym();if(x.getLabel().isArea())switch(l===null&&x.isInResult()&&(l=x),d){case this._SCANNING_FOR_INCOMING:if(!M.isInResult())continue;c=M,d=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!x.isInResult())continue;c.setNext(x),d=this._SCANNING_FOR_INCOMING}}if(d===this._LINKING_TO_OUTGOING){if(l===null)throw new zo("no outgoing dirEdge found",this.getCoordinate());at.isTrue(l.isInResult(),"unable to link last incoming dirEdge"),c.setNext(l)}},n.prototype.insert=function(l){var c=l;this.insertEdgeEnd(c,c)},n.prototype.getRightmostEdge=function(){var l=this.getEdges(),c=l.size();if(c<1)return null;var d=l.get(0);if(c===1)return d;var _=l.get(c-1),x=d.getQuadrant(),M=_.getQuadrant();return Li.isNorthern(x)&&Li.isNorthern(M)?d:Li.isNorthern(x)||Li.isNorthern(M)?d.getDy()!==0?d:_.getDy()!==0?_:(at.shouldNeverReachHere("found two horizontal edges incident on node"),null):_},n.prototype.print=function(l){qt.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var c=this.iterator();c.hasNext();){var d=c.next();l.print("out "),d.print(l),l.println(),l.print("in "),d.getSym().print(l),l.println()}},n.prototype.getResultAreaEdges=function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new ue;for(var l=this.iterator();l.hasNext();){var c=l.next();(c.isInResult()||c.getSym().isInResult())&&this._resultAreaEdgeList.add(c)}return this._resultAreaEdgeList},n.prototype.updateLabelling=function(l){for(var c=this.iterator();c.hasNext();){var d=c.next().getLabel();d.setAllLocationsIfNull(0,l.getLocation(0)),d.setAllLocationsIfNull(1,l.getLocation(1))}},n.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var l=null,c=null,d=this._edgeList.size()-1;d>=0;d--){var _=this._edgeList.get(d),x=_.getSym();c===null&&(c=x),l!==null&&x.setNext(l),l=_}c.setNext(l)},n.prototype.computeDepths=function(){if(arguments.length===1){var l=arguments[0],c=this.findIndex(l),d=l.getDepth(Me.LEFT),_=l.getDepth(Me.RIGHT),x=this.computeDepths(c+1,this._edgeList.size(),d);if(this.computeDepths(0,c,x)!==_)throw new zo("depth mismatch at "+l.getCoordinate())}else if(arguments.length===3){for(var M=arguments[0],V=arguments[1],Q=arguments[2],ce=M;ce<V;ce++){var he=this._edgeList.get(ce);he.setEdgeDepths(Me.RIGHT,Q),Q=he.getDepth(Me.LEFT)}return Q}},n.prototype.mergeSymLabels=function(){for(var l=this.iterator();l.hasNext();){var c=l.next();c.getLabel().merge(c.getSym().getLabel())}},n.prototype.linkMinimalDirectedEdges=function(l){for(var c=null,d=null,_=this._SCANNING_FOR_INCOMING,x=this._resultAreaEdgeList.size()-1;x>=0;x--){var M=this._resultAreaEdgeList.get(x),V=M.getSym();switch(c===null&&M.getEdgeRing()===l&&(c=M),_){case this._SCANNING_FOR_INCOMING:if(V.getEdgeRing()!==l)continue;d=V,_=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(M.getEdgeRing()!==l)continue;d.setNextMin(M),_=this._SCANNING_FOR_INCOMING}}_===this._LINKING_TO_OUTGOING&&(at.isTrue(c!==null,"found null for first outgoing dirEdge"),at.isTrue(c.getEdgeRing()===l,"unable to link last incoming dirEdge"),d.setNextMin(c))},n.prototype.getOutgoingDegree=function(){if(arguments.length===0){for(var l=0,c=this.iterator();c.hasNext();)c.next().isInResult()&&l++;return l}if(arguments.length===1){for(var d=arguments[0],_=0,x=this.iterator();x.hasNext();)x.next().getEdgeRing()===d&&_++;return _}},n.prototype.getLabel=function(){return this._label},n.prototype.findCoveredLineEdges=function(){for(var l=W.NONE,c=this.iterator();c.hasNext();){var d=c.next(),_=d.getSym();if(!d.isLineEdge()){if(d.isInResult()){l=W.INTERIOR;break}if(_.isInResult()){l=W.EXTERIOR;break}}}if(l===W.NONE)return null;for(var x=l,M=this.iterator();M.hasNext();){var V=M.next(),Q=V.getSym();V.isLineEdge()?V.getEdge().setCovered(x===W.INTERIOR):(V.isInResult()&&(x=W.EXTERIOR),Q.isInResult()&&(x=W.INTERIOR))}},n.prototype.computeLabelling=function(l){t.prototype.computeLabelling.call(this,l),this._label=new Ft(W.NONE);for(var c=this.iterator();c.hasNext();)for(var d=c.next().getEdge().getLabel(),_=0;_<2;_++){var x=d.getLocation(_);x!==W.INTERIOR&&x!==W.BOUNDARY||this._label.setLocation(_,W.INTERIOR)}},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(ir),qo=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.createNode=function(l){return new So(l,new bp)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(Ho),ho=function t(){this._pts=null,this._orientation=null;var n=arguments[0];this._pts=n,this._orientation=t.orientation(n)};ho.prototype.compareTo=function(t){var n=t;return ho.compareOriented(this._pts,this._orientation,n._pts,n._orientation)},ho.prototype.interfaces_=function(){return[ee]},ho.prototype.getClass=function(){return ho},ho.orientation=function(t){return xe.increasingDirection(t)===1},ho.compareOriented=function(t,n,l,c){for(var d=n?1:-1,_=c?1:-1,x=n?t.length:-1,M=c?l.length:-1,V=n?0:t.length-1,Q=c?0:l.length-1;;){var ce=t[V].compareTo(l[Q]);if(ce!==0)return ce;var he=(V+=d)===x,ke=(Q+=_)===M;if(he&&!ke)return-1;if(!he&&ke)return 1;if(he&&ke)return 0}};var Mo=function(){this._edges=new ue,this._ocaMap=new N};Mo.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var n=0;n<this._edges.size();n++){var l=this._edges.get(n);n>0&&t.print(","),t.print("(");for(var c=l.getCoordinates(),d=0;d<c.length;d++)d>0&&t.print(","),t.print(c[d].x+" "+c[d].y);t.println(")")}t.print(")  ")},Mo.prototype.addAll=function(t){for(var n=t.iterator();n.hasNext();)this.add(n.next())},Mo.prototype.findEdgeIndex=function(t){for(var n=0;n<this._edges.size();n++)if(this._edges.get(n).equals(t))return n;return-1},Mo.prototype.iterator=function(){return this._edges.iterator()},Mo.prototype.getEdges=function(){return this._edges},Mo.prototype.get=function(t){return this._edges.get(t)},Mo.prototype.findEqualEdge=function(t){var n=new ho(t.getCoordinates());return this._ocaMap.get(n)},Mo.prototype.add=function(t){this._edges.add(t);var n=new ho(t.getCoordinates());this._ocaMap.put(n,t)},Mo.prototype.interfaces_=function(){return[]},Mo.prototype.getClass=function(){return Mo};var Gr=function(){};Gr.prototype.processIntersections=function(t,n,l,c){},Gr.prototype.isDone=function(){},Gr.prototype.interfaces_=function(){return[]},Gr.prototype.getClass=function(){return Gr};var ro=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};ro.prototype.isTrivialIntersection=function(t,n,l,c){if(t===l&&this._li.getIntersectionNum()===1){if(ro.isAdjacentSegments(n,c))return!0;if(t.isClosed()){var d=t.size()-1;if(n===0&&c===d||c===0&&n===d)return!0}}return!1},ro.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},ro.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},ro.prototype.getLineIntersector=function(){return this._li},ro.prototype.hasProperIntersection=function(){return this._hasProper},ro.prototype.processIntersections=function(t,n,l,c){if(t===l&&n===c)return null;this.numTests++;var d=t.getCoordinates()[n],_=t.getCoordinates()[n+1],x=l.getCoordinates()[c],M=l.getCoordinates()[c+1];this._li.computeIntersection(d,_,x,M),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,n,l,c)||(this._hasIntersection=!0,t.addIntersections(this._li,n,0),l.addIntersections(this._li,c,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},ro.prototype.hasIntersection=function(){return this._hasIntersection},ro.prototype.isDone=function(){return!1},ro.prototype.hasInteriorIntersection=function(){return this._hasInterior},ro.prototype.interfaces_=function(){return[Gr]},ro.prototype.getClass=function(){return ro},ro.isAdjacentSegments=function(t,n){return Math.abs(t-n)===1};var Or=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],n=arguments[1],l=arguments[2];this.coord=new B(t),this.segmentIndex=n,this.dist=l};Or.prototype.getSegmentIndex=function(){return this.segmentIndex},Or.prototype.getCoordinate=function(){return this.coord},Or.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Or.prototype.compareTo=function(t){var n=t;return this.compare(n.segmentIndex,n.dist)},Or.prototype.isEndPoint=function(t){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===t},Or.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Or.prototype.getDistance=function(){return this.dist},Or.prototype.compare=function(t,n){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<n?-1:this.dist>n?1:0},Or.prototype.interfaces_=function(){return[ee]},Or.prototype.getClass=function(){return Or};var os=function(){this._nodeMap=new N,this.edge=null;var t=arguments[0];this.edge=t};os.prototype.print=function(t){t.println("Intersections:");for(var n=this.iterator();n.hasNext();)n.next().print(t)},os.prototype.iterator=function(){return this._nodeMap.values().iterator()},os.prototype.addSplitEdges=function(t){this.addEndpoints();for(var n=this.iterator(),l=n.next();n.hasNext();){var c=n.next(),d=this.createSplitEdge(l,c);t.add(d),l=c}},os.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},os.prototype.createSplitEdge=function(t,n){var l=n.segmentIndex-t.segmentIndex+2,c=this.edge.pts[n.segmentIndex],d=n.dist>0||!n.coord.equals2D(c);d||l--;var _=new Array(l).fill(null),x=0;_[x++]=new B(t.coord);for(var M=t.segmentIndex+1;M<=n.segmentIndex;M++)_[x++]=this.edge.pts[M];return d&&(_[x]=n.coord),new as(_,new Ft(this.edge._label))},os.prototype.add=function(t,n,l){var c=new Or(t,n,l),d=this._nodeMap.get(c);return d!==null?d:(this._nodeMap.put(c,c),c)},os.prototype.isIntersection=function(t){for(var n=this.iterator();n.hasNext();)if(n.next().coord.equals(t))return!0;return!1},os.prototype.interfaces_=function(){return[]},os.prototype.getClass=function(){return os};var Go=function(){};Go.prototype.getChainStartIndices=function(t){var n=0,l=new ue;l.add(new ve(n));do{var c=this.findChainEnd(t,n);l.add(new ve(c)),n=c}while(n<t.length-1);return Go.toIntArray(l)},Go.prototype.findChainEnd=function(t,n){for(var l=Li.quadrant(t[n],t[n+1]),c=n+1;c<t.length&&Li.quadrant(t[c-1],t[c])===l;)c++;return c-1},Go.prototype.interfaces_=function(){return[]},Go.prototype.getClass=function(){return Go},Go.toIntArray=function(t){for(var n=new Array(t.size()).fill(null),l=0;l<n.length;l++)n[l]=t.get(l).intValue();return n};var ss=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new ze,this.env2=new ze;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var n=new Go;this.startIndex=n.getChainStartIndices(this.pts)};ss.prototype.getCoordinates=function(){return this.pts},ss.prototype.getMaxX=function(t){var n=this.pts[this.startIndex[t]].x,l=this.pts[this.startIndex[t+1]].x;return n>l?n:l},ss.prototype.getMinX=function(t){var n=this.pts[this.startIndex[t]].x,l=this.pts[this.startIndex[t+1]].x;return n<l?n:l},ss.prototype.computeIntersectsForChain=function(){if(arguments.length===4){var t=arguments[0],n=arguments[1],l=arguments[2],c=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],n,n.startIndex[l],n.startIndex[l+1],c)}else if(arguments.length===6){var d=arguments[0],_=arguments[1],x=arguments[2],M=arguments[3],V=arguments[4],Q=arguments[5],ce=this.pts[d],he=this.pts[_],ke=x.pts[M],De=x.pts[V];if(_-d==1&&V-M==1)return Q.addIntersections(this.e,d,x.e,M),null;if(this.env1.init(ce,he),this.env2.init(ke,De),!this.env1.intersects(this.env2))return null;var $e=Math.trunc((d+_)/2),ot=Math.trunc((M+V)/2);d<$e&&(M<ot&&this.computeIntersectsForChain(d,$e,x,M,ot,Q),ot<V&&this.computeIntersectsForChain(d,$e,x,ot,V,Q)),$e<_&&(M<ot&&this.computeIntersectsForChain($e,_,x,M,ot,Q),ot<V&&this.computeIntersectsForChain($e,_,x,ot,V,Q))}},ss.prototype.getStartIndexes=function(){return this.startIndex},ss.prototype.computeIntersects=function(t,n){for(var l=0;l<this.startIndex.length-1;l++)for(var c=0;c<t.startIndex.length-1;c++)this.computeIntersectsForChain(l,t,c,n)},ss.prototype.interfaces_=function(){return[]},ss.prototype.getClass=function(){return ss};var On=function t(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var n=0;n<2;n++)for(var l=0;l<3;l++)this._depth[n][l]=t.NULL_VALUE},ec={NULL_VALUE:{configurable:!0}};On.prototype.getDepth=function(t,n){return this._depth[t][n]},On.prototype.setDepth=function(t,n,l){this._depth[t][n]=l},On.prototype.isNull=function(){if(arguments.length===0){for(var t=0;t<2;t++)for(var n=0;n<3;n++)if(this._depth[t][n]!==On.NULL_VALUE)return!1;return!0}if(arguments.length===1){var l=arguments[0];return this._depth[l][1]===On.NULL_VALUE}if(arguments.length===2){var c=arguments[0],d=arguments[1];return this._depth[c][d]===On.NULL_VALUE}},On.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var n=this._depth[t][1];this._depth[t][2]<n&&(n=this._depth[t][2]),n<0&&(n=0);for(var l=1;l<3;l++){var c=0;this._depth[t][l]>n&&(c=1),this._depth[t][l]=c}}},On.prototype.getDelta=function(t){return this._depth[t][Me.RIGHT]-this._depth[t][Me.LEFT]},On.prototype.getLocation=function(t,n){return this._depth[t][n]<=0?W.EXTERIOR:W.INTERIOR},On.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},On.prototype.add=function(){if(arguments.length===1)for(var t=arguments[0],n=0;n<2;n++)for(var l=1;l<3;l++){var c=t.getLocation(n,l);c!==W.EXTERIOR&&c!==W.INTERIOR||(this.isNull(n,l)?this._depth[n][l]=On.depthAtLocation(c):this._depth[n][l]+=On.depthAtLocation(c))}else if(arguments.length===3){var d=arguments[0],_=arguments[1];arguments[2]===W.INTERIOR&&this._depth[d][_]++}},On.prototype.interfaces_=function(){return[]},On.prototype.getClass=function(){return On},On.depthAtLocation=function(t){return t===W.EXTERIOR?0:t===W.INTERIOR?1:On.NULL_VALUE},ec.NULL_VALUE.get=function(){return-1},Object.defineProperties(On,ec);var as=function(t){function n(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new os(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new On,this._depthDelta=0,arguments.length===1){var l=arguments[0];n.call(this,l,null)}else if(arguments.length===2){var c=arguments[0],d=arguments[1];this.pts=c,this._label=d}}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.getDepth=function(){return this._depth},n.prototype.getCollapsedEdge=function(){var l=new Array(2).fill(null);return l[0]=this.pts[0],l[1]=this.pts[1],new n(l,Ft.toLineLabel(this._label))},n.prototype.isIsolated=function(){return this._isIsolated},n.prototype.getCoordinates=function(){return this.pts},n.prototype.setIsolated=function(l){this._isIsolated=l},n.prototype.setName=function(l){this._name=l},n.prototype.equals=function(l){if(!(l instanceof n))return!1;var c=l;if(this.pts.length!==c.pts.length)return!1;for(var d=!0,_=!0,x=this.pts.length,M=0;M<this.pts.length;M++)if(this.pts[M].equals2D(c.pts[M])||(d=!1),this.pts[M].equals2D(c.pts[--x])||(_=!1),!d&&!_)return!1;return!0},n.prototype.getCoordinate=function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var l=arguments[0];return this.pts[l]}},n.prototype.print=function(l){l.print("edge "+this._name+": "),l.print("LINESTRING (");for(var c=0;c<this.pts.length;c++)c>0&&l.print(","),l.print(this.pts[c].x+" "+this.pts[c].y);l.print(")  "+this._label+" "+this._depthDelta)},n.prototype.computeIM=function(l){n.updateIM(this._label,l)},n.prototype.isCollapsed=function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])},n.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},n.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},n.prototype.getDepthDelta=function(){return this._depthDelta},n.prototype.getNumPoints=function(){return this.pts.length},n.prototype.printReverse=function(l){l.print("edge "+this._name+": ");for(var c=this.pts.length-1;c>=0;c--)l.print(this.pts[c]+" ");l.println("")},n.prototype.getMonotoneChainEdge=function(){return this._mce===null&&(this._mce=new ss(this)),this._mce},n.prototype.getEnvelope=function(){if(this._env===null){this._env=new ze;for(var l=0;l<this.pts.length;l++)this._env.expandToInclude(this.pts[l])}return this._env},n.prototype.addIntersection=function(l,c,d,_){var x=new B(l.getIntersection(_)),M=c,V=l.getEdgeDistance(d,_),Q=M+1;if(Q<this.pts.length){var ce=this.pts[Q];x.equals2D(ce)&&(M=Q,V=0)}this.eiList.add(x,M,V)},n.prototype.toString=function(){var l=new zt;l.append("edge "+this._name+": "),l.append("LINESTRING (");for(var c=0;c<this.pts.length;c++)c>0&&l.append(","),l.append(this.pts[c].x+" "+this.pts[c].y);return l.append(")  "+this._label+" "+this._depthDelta),l.toString()},n.prototype.isPointwiseEqual=function(l){if(this.pts.length!==l.pts.length)return!1;for(var c=0;c<this.pts.length;c++)if(!this.pts[c].equals2D(l.pts[c]))return!1;return!0},n.prototype.setDepthDelta=function(l){this._depthDelta=l},n.prototype.getEdgeIntersectionList=function(){return this.eiList},n.prototype.addIntersections=function(l,c,d){for(var _=0;_<l.getIntersectionNum();_++)this.addIntersection(l,c,d,_)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n.updateIM=function(){if(arguments.length!==2)return t.prototype.updateIM.apply(this,arguments);var l=arguments[0],c=arguments[1];c.setAtLeastIfValid(l.getLocation(0,Me.ON),l.getLocation(1,Me.ON),1),l.isArea()&&(c.setAtLeastIfValid(l.getLocation(0,Me.LEFT),l.getLocation(1,Me.LEFT),2),c.setAtLeastIfValid(l.getLocation(0,Me.RIGHT),l.getLocation(1,Me.RIGHT),2))},n}(lt),Gn=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Mo,this._bufParams=t||null};Gn.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},Gn.prototype.insertUniqueEdge=function(t){var n=this._edgeList.findEqualEdge(t);if(n!==null){var l=n.getLabel(),c=t.getLabel();n.isPointwiseEqual(t)||(c=new Ft(t.getLabel())).flip(),l.merge(c);var d=Gn.depthDelta(c),_=n.getDepthDelta()+d;n.setDepthDelta(_)}else this._edgeList.add(t),t.setDepthDelta(Gn.depthDelta(t.getLabel()))},Gn.prototype.buildSubgraphs=function(t,n){for(var l=new ue,c=t.iterator();c.hasNext();){var d=c.next(),_=d.getRightmostCoordinate(),x=new vr(l).getDepth(_);d.computeDepth(x),d.findResultEdges(),l.add(d),n.add(d.getDirectedEdges(),d.getNodes())}},Gn.prototype.createSubgraphs=function(t){for(var n=new ue,l=t.getNodes().iterator();l.hasNext();){var c=l.next();if(!c.isVisited()){var d=new er;d.create(c),n.add(d)}}return To.sort(n,To.reverseOrder()),n},Gn.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Gn.prototype.getNoder=function(t){if(this._workingNoder!==null)return this._workingNoder;var n=new du,l=new uo;return l.setPrecisionModel(t),n.setSegmentIntersector(new ro(l)),n},Gn.prototype.buffer=function(t,n){var l=this._workingPrecisionModel;l===null&&(l=t.getPrecisionModel()),this._geomFact=t.getFactory();var c=new qn(l,this._bufParams),d=new qr(t,n,c).getCurves();if(d.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(d,l),this._graph=new Ui(new qo),this._graph.addEdges(this._edgeList.getEdges());var _=this.createSubgraphs(this._graph),x=new tr(this._geomFact);this.buildSubgraphs(_,x);var M=x.getPolygons();return M.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(M)},Gn.prototype.computeNodedEdges=function(t,n){var l=this.getNoder(n);l.computeNodes(t);for(var c=l.getNodedSubstrings().iterator();c.hasNext();){var d=c.next(),_=d.getCoordinates();if(_.length!==2||!_[0].equals2D(_[1])){var x=d.getData(),M=new as(d.getCoordinates(),new Ft(x));this.insertUniqueEdge(M)}}},Gn.prototype.setNoder=function(t){this._workingNoder=t},Gn.prototype.interfaces_=function(){return[]},Gn.prototype.getClass=function(){return Gn},Gn.depthDelta=function(t){var n=t.getLocation(0,Me.LEFT),l=t.getLocation(0,Me.RIGHT);return n===W.INTERIOR&&l===W.EXTERIOR?1:n===W.EXTERIOR&&l===W.INTERIOR?-1:0},Gn.convertSegStrings=function(t){for(var n=new ht,l=new ue;t.hasNext();){var c=t.next(),d=n.createLineString(c.getCoordinates());l.add(d)}return n.buildGeometry(l)};var Ns=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var t=arguments[0],n=arguments[1];this._noder=t,this._scaleFactor=n,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(arguments.length===4){var l=arguments[0],c=arguments[1],d=arguments[2],_=arguments[3];this._noder=l,this._scaleFactor=c,this._offsetX=d,this._offsetY=_,this._isScaled=!this.isIntegerPrecision()}};Ns.prototype.rescale=function(){if(Ie(arguments[0],ae))for(var t=arguments[0].iterator();t.hasNext();){var n=t.next();this.rescale(n.getCoordinates())}else if(arguments[0]instanceof Array){for(var l=arguments[0],c=0;c<l.length;c++)l[c].x=l[c].x/this._scaleFactor+this._offsetX,l[c].y=l[c].y/this._scaleFactor+this._offsetY;l.length===2&&l[0].equals2D(l[1])&&qt.out.println(l)}},Ns.prototype.scale=function(){if(Ie(arguments[0],ae)){for(var t=arguments[0],n=new ue,l=t.iterator();l.hasNext();){var c=l.next();n.add(new fn(this.scale(c.getCoordinates()),c.getData()))}return n}if(arguments[0]instanceof Array){for(var d=arguments[0],_=new Array(d.length).fill(null),x=0;x<d.length;x++)_[x]=new B(Math.round((d[x].x-this._offsetX)*this._scaleFactor),Math.round((d[x].y-this._offsetY)*this._scaleFactor),d[x].z);return xe.removeRepeatedPoints(_)}},Ns.prototype.isIntegerPrecision=function(){return this._scaleFactor===1},Ns.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},Ns.prototype.computeNodes=function(t){var n=t;this._isScaled&&(n=this.scale(t)),this._noder.computeNodes(n)},Ns.prototype.interfaces_=function(){return[Rs]},Ns.prototype.getClass=function(){return Ns};var fo=function(){this._li=new uo,this._segStrings=null;var t=arguments[0];this._segStrings=t},tc={fact:{configurable:!0}};fo.prototype.checkEndPtVertexIntersections=function(){if(arguments.length===0)for(var t=this._segStrings.iterator();t.hasNext();){var n=t.next().getCoordinates();this.checkEndPtVertexIntersections(n[0],this._segStrings),this.checkEndPtVertexIntersections(n[n.length-1],this._segStrings)}else if(arguments.length===2){for(var l=arguments[0],c=arguments[1].iterator();c.hasNext();)for(var d=c.next().getCoordinates(),_=1;_<d.length-1;_++)if(d[_].equals(l))throw new ur("found endpt/interior pt intersection at index "+_+" :pt "+l)}},fo.prototype.checkInteriorIntersections=function(){if(arguments.length===0)for(var t=this._segStrings.iterator();t.hasNext();)for(var n=t.next(),l=this._segStrings.iterator();l.hasNext();){var c=l.next();this.checkInteriorIntersections(n,c)}else if(arguments.length===2)for(var d=arguments[0],_=arguments[1],x=d.getCoordinates(),M=_.getCoordinates(),V=0;V<x.length-1;V++)for(var Q=0;Q<M.length-1;Q++)this.checkInteriorIntersections(d,V,_,Q);else if(arguments.length===4){var ce=arguments[0],he=arguments[1],ke=arguments[2],De=arguments[3];if(ce===ke&&he===De)return null;var $e=ce.getCoordinates()[he],ot=ce.getCoordinates()[he+1],Ni=ke.getCoordinates()[De],An=ke.getCoordinates()[De+1];if(this._li.computeIntersection($e,ot,Ni,An),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,$e,ot)||this.hasInteriorIntersection(this._li,Ni,An)))throw new ur("found non-noded intersection at "+$e+"-"+ot+" and "+Ni+"-"+An)}},fo.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},fo.prototype.checkCollapses=function(){if(arguments.length===0)for(var t=this._segStrings.iterator();t.hasNext();){var n=t.next();this.checkCollapses(n)}else if(arguments.length===1)for(var l=arguments[0].getCoordinates(),c=0;c<l.length-2;c++)this.checkCollapse(l[c],l[c+1],l[c+2])},fo.prototype.hasInteriorIntersection=function(t,n,l){for(var c=0;c<t.getIntersectionNum();c++){var d=t.getIntersection(c);if(!d.equals(n)&&!d.equals(l))return!0}return!1},fo.prototype.checkCollapse=function(t,n,l){if(t.equals(l))throw new ur("found non-noded collapse at "+fo.fact.createLineString([t,n,l]))},fo.prototype.interfaces_=function(){return[]},fo.prototype.getClass=function(){return fo},tc.fact.get=function(){return new ht},Object.defineProperties(fo,tc);var mn=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],n=arguments[1],l=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=n,this._li=l,n<=0)throw new F("Scale factor must be non-zero");n!==1&&(this._pt=new B(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new B,this._p1Scaled=new B),this.initCorners(this._pt)},ic={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};mn.prototype.intersectsScaled=function(t,n){var l=Math.min(t.x,n.x),c=Math.max(t.x,n.x),d=Math.min(t.y,n.y),_=Math.max(t.y,n.y),x=this._maxx<l||this._minx>c||this._maxy<d||this._miny>_;if(x)return!1;var M=this.intersectsToleranceSquare(t,n);return at.isTrue(!(x&&M),"Found bad envelope test"),M},mn.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new B(this._maxx,this._maxy),this._corner[1]=new B(this._minx,this._maxy),this._corner[2]=new B(this._minx,this._miny),this._corner[3]=new B(this._maxx,this._miny)},mn.prototype.intersects=function(t,n){return this._scaleFactor===1?this.intersectsScaled(t,n):(this.copyScaled(t,this._p0Scaled),this.copyScaled(n,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},mn.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},mn.prototype.getCoordinate=function(){return this._originalPt},mn.prototype.copyScaled=function(t,n){n.x=this.scale(t.x),n.y=this.scale(t.y)},mn.prototype.getSafeEnvelope=function(){if(this._safeEnv===null){var t=mn.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new ze(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},mn.prototype.intersectsPixelClosure=function(t,n){return this._li.computeIntersection(t,n,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,n,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,n,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,n,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},mn.prototype.intersectsToleranceSquare=function(t,n){var l=!1,c=!1;return this._li.computeIntersection(t,n,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(t,n,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(l=!0),this._li.computeIntersection(t,n,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(c=!0),this._li.computeIntersection(t,n,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!l||!c)||!!t.equals(this._pt)||!!n.equals(this._pt))))},mn.prototype.addSnappedNode=function(t,n){var l=t.getCoordinate(n),c=t.getCoordinate(n+1);return!!this.intersects(l,c)&&(t.addIntersection(this.getCoordinate(),n),!0)},mn.prototype.interfaces_=function(){return[]},mn.prototype.getClass=function(){return mn},ic.SAFE_ENV_EXPANSION_FACTOR.get=function(){return .75},Object.defineProperties(mn,ic);var ws=function(){this.tempEnv1=new ze,this.selectedSegment=new Ye};ws.prototype.select=function(){if(arguments.length!==1){if(arguments.length===2){var t=arguments[0],n=arguments[1];t.getLineSegment(n,this.selectedSegment),this.select(this.selectedSegment)}}},ws.prototype.interfaces_=function(){return[]},ws.prototype.getClass=function(){return ws};var Aa=function(){this._index=null;var t=arguments[0];this._index=t},Cs={HotPixelSnapAction:{configurable:!0}};Aa.prototype.snap=function(){if(arguments.length===1){var t=arguments[0];return this.snap(t,null,-1)}if(arguments.length===3){var n=arguments[0],l=arguments[1],c=arguments[2],d=n.getSafeEnvelope(),_=new rl(n,l,c);return this._index.query(d,{interfaces_:function(){return[ys]},visitItem:function(x){x.select(d,_)}}),_.isNodeAdded()}},Aa.prototype.interfaces_=function(){return[]},Aa.prototype.getClass=function(){return Aa},Cs.HotPixelSnapAction.get=function(){return rl},Object.defineProperties(Aa,Cs);var rl=function(t){function n(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var l=arguments[0],c=arguments[1],d=arguments[2];this._hotPixel=l,this._parentEdge=c,this._hotPixelVertexIndex=d}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.isNodeAdded=function(){return this._isNodeAdded},n.prototype.select=function(){if(arguments.length!==2)return t.prototype.select.apply(this,arguments);var l=arguments[0],c=arguments[1],d=l.getContext();if(this._parentEdge!==null&&d===this._parentEdge&&c===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(d,c)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(ws),$s=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new ue};$s.prototype.processIntersections=function(t,n,l,c){if(t===l&&n===c)return null;var d=t.getCoordinates()[n],_=t.getCoordinates()[n+1],x=l.getCoordinates()[c],M=l.getCoordinates()[c+1];if(this._li.computeIntersection(d,_,x,M),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var V=0;V<this._li.getIntersectionNum();V++)this._interiorIntersections.add(this._li.getIntersection(V));t.addIntersections(this._li,n,0),l.addIntersections(this._li,c,1)}},$s.prototype.isDone=function(){return!1},$s.prototype.getInteriorIntersections=function(){return this._interiorIntersections},$s.prototype.interfaces_=function(){return[Gr]},$s.prototype.getClass=function(){return $s};var Oo=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new uo,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};Oo.prototype.checkCorrectness=function(t){var n=fn.getNodedSubstrings(t),l=new fo(n);try{l.checkValid()}catch(c){if(!(c instanceof Yi))throw c;c.printStackTrace()}},Oo.prototype.getNodedSubstrings=function(){return fn.getNodedSubstrings(this._nodedSegStrings)},Oo.prototype.snapRound=function(t,n){var l=this.findInteriorIntersections(t,n);this.computeIntersectionSnaps(l),this.computeVertexSnaps(t)},Oo.prototype.findInteriorIntersections=function(t,n){var l=new $s(n);return this._noder.setSegmentIntersector(l),this._noder.computeNodes(t),l.getInteriorIntersections()},Oo.prototype.computeVertexSnaps=function(){if(Ie(arguments[0],ae))for(var t=arguments[0].iterator();t.hasNext();){var n=t.next();this.computeVertexSnaps(n)}else if(arguments[0]instanceof fn)for(var l=arguments[0],c=l.getCoordinates(),d=0;d<c.length;d++){var _=new mn(c[d],this._scaleFactor,this._li);this._pointSnapper.snap(_,l,d)&&l.addIntersection(c[d],d)}},Oo.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new du,this._pointSnapper=new Aa(this._noder.getIndex()),this.snapRound(t,this._li)},Oo.prototype.computeIntersectionSnaps=function(t){for(var n=t.iterator();n.hasNext();){var l=n.next(),c=new mn(l,this._scaleFactor,this._li);this._pointSnapper.snap(c)}},Oo.prototype.interfaces_=function(){return[Rs]},Oo.prototype.getClass=function(){return Oo};var Ln=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Nt,this._resultGeometry=null,this._saveException=null,arguments.length===1){var t=arguments[0];this._argGeom=t}else if(arguments.length===2){var n=arguments[0],l=arguments[1];this._argGeom=n,this._bufParams=l}},Qs={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Ln.prototype.bufferFixedPrecision=function(t){var n=new Ns(new Oo(new Ze(1)),t.getScale()),l=new Gn(this._bufParams);l.setWorkingPrecisionModel(t),l.setNoder(n),this._resultGeometry=l.buffer(this._argGeom,this._distance)},Ln.prototype.bufferReducedPrecision=function(){var t=this;if(arguments.length===0){for(var n=Ln.MAX_PRECISION_DIGITS;n>=0;n--){try{t.bufferReducedPrecision(n)}catch(_){if(!(_ instanceof zo))throw _;t._saveException=_}if(t._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var l=arguments[0],c=Ln.precisionScaleFactor(this._argGeom,this._distance,l),d=new Ze(c);this.bufferFixedPrecision(d)}},Ln.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===Ze.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},Ln.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},Ln.prototype.bufferOriginalPrecision=function(){try{var t=new Gn(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(n){if(!(n instanceof ur))throw n;this._saveException=n}},Ln.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},Ln.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},Ln.prototype.interfaces_=function(){return[]},Ln.prototype.getClass=function(){return Ln},Ln.bufferOp=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];return new Ln(t).getResultGeometry(n)}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof rt&&typeof arguments[1]=="number"){var l=arguments[0],c=arguments[1],d=arguments[2],_=new Ln(l);return _.setQuadrantSegments(d),_.getResultGeometry(c)}if(arguments[2]instanceof Nt&&arguments[0]instanceof rt&&typeof arguments[1]=="number"){var x=arguments[0],M=arguments[1],V=arguments[2];return new Ln(x,V).getResultGeometry(M)}}else if(arguments.length===4){var Q=arguments[0],ce=arguments[1],he=arguments[2],ke=arguments[3],De=new Ln(Q);return De.setQuadrantSegments(he),De.setEndCapStyle(ke),De.getResultGeometry(ce)}},Ln.precisionScaleFactor=function(t,n,l){var c=t.getEnvelopeInternal(),d=ct.max(Math.abs(c.getMaxX()),Math.abs(c.getMaxY()),Math.abs(c.getMinX()),Math.abs(c.getMinY()))+2*(n>0?n:0),_=l-Math.trunc(Math.log(d)/Math.log(10)+1);return Math.pow(10,_)},Qs.CAP_ROUND.get=function(){return Nt.CAP_ROUND},Qs.CAP_BUTT.get=function(){return Nt.CAP_FLAT},Qs.CAP_FLAT.get=function(){return Nt.CAP_FLAT},Qs.CAP_SQUARE.get=function(){return Nt.CAP_SQUARE},Qs.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Ln,Qs);var Un=function(){this._pt=[new B,new B],this._distance=R.NaN,this._isNull=!0};Un.prototype.getCoordinates=function(){return this._pt},Un.prototype.getCoordinate=function(t){return this._pt[t]},Un.prototype.setMinimum=function(){if(arguments.length===1){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(arguments.length===2){var n=arguments[0],l=arguments[1];if(this._isNull)return this.initialize(n,l),null;var c=n.distance(l);c<this._distance&&this.initialize(n,l,c)}},Un.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var t=arguments[0],n=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(n),this._distance=t.distance(n),this._isNull=!1}else if(arguments.length===3){var l=arguments[0],c=arguments[1],d=arguments[2];this._pt[0].setCoordinate(l),this._pt[1].setCoordinate(c),this._distance=d,this._isNull=!1}},Un.prototype.getDistance=function(){return this._distance},Un.prototype.setMaximum=function(){if(arguments.length===1){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(arguments.length===2){var n=arguments[0],l=arguments[1];if(this._isNull)return this.initialize(n,l),null;var c=n.distance(l);c>this._distance&&this.initialize(n,l,c)}},Un.prototype.interfaces_=function(){return[]},Un.prototype.getClass=function(){return Un};var Ur=function(){};Ur.prototype.interfaces_=function(){return[]},Ur.prototype.getClass=function(){return Ur},Ur.computeDistance=function(){if(arguments[2]instanceof Un&&arguments[0]instanceof sn&&arguments[1]instanceof B)for(var t=arguments[0],n=arguments[1],l=arguments[2],c=t.getCoordinates(),d=new Ye,_=0;_<c.length-1;_++){d.setCoordinates(c[_],c[_+1]);var x=d.closestPoint(n);l.setMinimum(x,n)}else if(arguments[2]instanceof Un&&arguments[0]instanceof Tn&&arguments[1]instanceof B){var M=arguments[0],V=arguments[1],Q=arguments[2];Ur.computeDistance(M.getExteriorRing(),V,Q);for(var ce=0;ce<M.getNumInteriorRing();ce++)Ur.computeDistance(M.getInteriorRingN(ce),V,Q)}else if(arguments[2]instanceof Un&&arguments[0]instanceof rt&&arguments[1]instanceof B){var he=arguments[0],ke=arguments[1],De=arguments[2];if(he instanceof sn)Ur.computeDistance(he,ke,De);else if(he instanceof Tn)Ur.computeDistance(he,ke,De);else if(he instanceof Ri)for(var $e=he,ot=0;ot<$e.getNumGeometries();ot++){var Ni=$e.getGeometryN(ot);Ur.computeDistance(Ni,ke,De)}else De.setMinimum(he.getCoordinate(),ke)}else if(arguments[2]instanceof Un&&arguments[0]instanceof Ye&&arguments[1]instanceof B){var An=arguments[0],jr=arguments[1],qs=arguments[2],wa=An.closestPoint(jr);qs.setMinimum(wa,jr)}};var ls=function(t){this._maxPtDist=new Un,this._inputGeom=t||null},ol={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};ls.prototype.computeMaxMidpointDistance=function(t){var n=new As(this._inputGeom);t.apply(n),this._maxPtDist.setMaximum(n.getMaxPointDistance())},ls.prototype.computeMaxVertexDistance=function(t){var n=new Js(this._inputGeom);t.apply(n),this._maxPtDist.setMaximum(n.getMaxPointDistance())},ls.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},ls.prototype.getDistancePoints=function(){return this._maxPtDist},ls.prototype.interfaces_=function(){return[]},ls.prototype.getClass=function(){return ls},ol.MaxPointDistanceFilter.get=function(){return Js},ol.MaxMidpointDistanceFilter.get=function(){return As},Object.defineProperties(ls,ol);var Js=function(t){this._maxPtDist=new Un,this._minPtDist=new Un,this._geom=t||null};Js.prototype.filter=function(t){this._minPtDist.initialize(),Ur.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Js.prototype.getMaxPointDistance=function(){return this._maxPtDist},Js.prototype.interfaces_=function(){return[oe]},Js.prototype.getClass=function(){return Js};var As=function(t){this._maxPtDist=new Un,this._minPtDist=new Un,this._geom=t||null};As.prototype.filter=function(t,n){if(n===0)return null;var l=t.getCoordinate(n-1),c=t.getCoordinate(n),d=new B((l.x+c.x)/2,(l.y+c.y)/2);this._minPtDist.initialize(),Ur.computeDistance(this._geom,d,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},As.prototype.isDone=function(){return!1},As.prototype.isGeometryChanged=function(){return!1},As.prototype.getMaxPointDistance=function(){return this._maxPtDist},As.prototype.interfaces_=function(){return[rn]},As.prototype.getClass=function(){return As};var Lo=function(t){this._comps=t||null};Lo.prototype.filter=function(t){t instanceof Tn&&this._comps.add(t)},Lo.prototype.interfaces_=function(){return[nn]},Lo.prototype.getClass=function(){return Lo},Lo.getPolygons=function(){if(arguments.length===1){var t=arguments[0];return Lo.getPolygons(t,new ue)}if(arguments.length===2){var n=arguments[0],l=arguments[1];return n instanceof Tn?l.add(n):n instanceof Ri&&n.apply(new Lo(l)),l}};var nr=function(){if(this._lines=null,this._isForcedToLineString=!1,arguments.length===1){var t=arguments[0];this._lines=t}else if(arguments.length===2){var n=arguments[0],l=arguments[1];this._lines=n,this._isForcedToLineString=l}};nr.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof es){var n=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(n),null}t instanceof sn&&this._lines.add(t)},nr.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},nr.prototype.interfaces_=function(){return[Jo]},nr.prototype.getClass=function(){return nr},nr.getGeometry=function(){if(arguments.length===1){var t=arguments[0];return t.getFactory().buildGeometry(nr.getLines(t))}if(arguments.length===2){var n=arguments[0],l=arguments[1];return n.getFactory().buildGeometry(nr.getLines(n,l))}},nr.getLines=function(){if(arguments.length===1){var t=arguments[0];return nr.getLines(t,!1)}if(arguments.length===2){if(Ie(arguments[0],ae)&&Ie(arguments[1],ae)){for(var n=arguments[0],l=arguments[1],c=n.iterator();c.hasNext();){var d=c.next();nr.getLines(d,l)}return l}if(arguments[0]instanceof rt&&typeof arguments[1]=="boolean"){var _=arguments[0],x=arguments[1],M=new ue;return _.apply(new nr(M,x)),M}if(arguments[0]instanceof rt&&Ie(arguments[1],ae)){var V=arguments[0],Q=arguments[1];return V instanceof sn?Q.add(V):V.apply(new nr(Q)),Q}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&Ie(arguments[0],ae)&&Ie(arguments[1],ae)){for(var ce=arguments[0],he=arguments[1],ke=arguments[2],De=ce.iterator();De.hasNext();){var $e=De.next();nr.getLines($e,he,ke)}return he}if(typeof arguments[2]=="boolean"&&arguments[0]instanceof rt&&Ie(arguments[1],ae)){var ot=arguments[0],Ni=arguments[1],An=arguments[2];return ot.apply(new nr(Ni,An)),Ni}}};var mo=function(){if(this._boundaryRule=C.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];if(t===null)throw new F("Rule must be non-null");this._boundaryRule=t}}};mo.prototype.locateInternal=function(){if(arguments[0]instanceof B&&arguments[1]instanceof Tn){var t=arguments[0],n=arguments[1];if(n.isEmpty())return W.EXTERIOR;var l=n.getExteriorRing(),c=this.locateInPolygonRing(t,l);if(c===W.EXTERIOR)return W.EXTERIOR;if(c===W.BOUNDARY)return W.BOUNDARY;for(var d=0;d<n.getNumInteriorRing();d++){var _=n.getInteriorRingN(d),x=this.locateInPolygonRing(t,_);if(x===W.INTERIOR)return W.EXTERIOR;if(x===W.BOUNDARY)return W.BOUNDARY}return W.INTERIOR}if(arguments[0]instanceof B&&arguments[1]instanceof sn){var M=arguments[0],V=arguments[1];if(!V.getEnvelopeInternal().intersects(M))return W.EXTERIOR;var Q=V.getCoordinates();return V.isClosed()||!M.equals(Q[0])&&!M.equals(Q[Q.length-1])?Le.isOnLine(M,Q)?W.INTERIOR:W.EXTERIOR:W.BOUNDARY}if(arguments[0]instanceof B&&arguments[1]instanceof Br){var ce=arguments[0];return arguments[1].getCoordinate().equals2D(ce)?W.INTERIOR:W.EXTERIOR}},mo.prototype.locateInPolygonRing=function(t,n){return n.getEnvelopeInternal().intersects(t)?Le.locatePointInRing(t,n.getCoordinates()):W.EXTERIOR},mo.prototype.intersects=function(t,n){return this.locate(t,n)!==W.EXTERIOR},mo.prototype.updateLocationInfo=function(t){t===W.INTERIOR&&(this._isIn=!0),t===W.BOUNDARY&&this._numBoundaries++},mo.prototype.computeLocation=function(t,n){if(n instanceof Br&&this.updateLocationInfo(this.locateInternal(t,n)),n instanceof sn)this.updateLocationInfo(this.locateInternal(t,n));else if(n instanceof Tn)this.updateLocationInfo(this.locateInternal(t,n));else if(n instanceof to)for(var l=n,c=0;c<l.getNumGeometries();c++){var d=l.getGeometryN(c);this.updateLocationInfo(this.locateInternal(t,d))}else if(n instanceof Io)for(var _=n,x=0;x<_.getNumGeometries();x++){var M=_.getGeometryN(x);this.updateLocationInfo(this.locateInternal(t,M))}else if(n instanceof Ri)for(var V=new rs(n);V.hasNext();){var Q=V.next();Q!==n&&this.computeLocation(t,Q)}},mo.prototype.locate=function(t,n){return n.isEmpty()?W.EXTERIOR:n instanceof sn?this.locateInternal(t,n):n instanceof Tn?this.locateInternal(t,n):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,n),this._boundaryRule.isInBoundary(this._numBoundaries)?W.BOUNDARY:this._numBoundaries>0||this._isIn?W.INTERIOR:W.EXTERIOR)},mo.prototype.interfaces_=function(){return[]},mo.prototype.getClass=function(){return mo};var xr=function t(){if(this._component=null,this._segIndex=null,this._pt=null,arguments.length===2){var n=arguments[0],l=arguments[1];t.call(this,n,t.INSIDE_AREA,l)}else if(arguments.length===3){var c=arguments[0],d=arguments[1],_=arguments[2];this._component=c,this._segIndex=d,this._pt=_}},_u={INSIDE_AREA:{configurable:!0}};xr.prototype.isInsideArea=function(){return this._segIndex===xr.INSIDE_AREA},xr.prototype.getCoordinate=function(){return this._pt},xr.prototype.getGeometryComponent=function(){return this._component},xr.prototype.getSegmentIndex=function(){return this._segIndex},xr.prototype.interfaces_=function(){return[]},xr.prototype.getClass=function(){return xr},_u.INSIDE_AREA.get=function(){return-1},Object.defineProperties(xr,_u);var Vs=function(t){this._pts=t||null};Vs.prototype.filter=function(t){t instanceof Br&&this._pts.add(t)},Vs.prototype.interfaces_=function(){return[nn]},Vs.prototype.getClass=function(){return Vs},Vs.getPoints=function(){if(arguments.length===1){var t=arguments[0];return t instanceof Br?To.singletonList(t):Vs.getPoints(t,new ue)}if(arguments.length===2){var n=arguments[0],l=arguments[1];return n instanceof Br?l.add(n):n instanceof Ri&&n.apply(new Vs(l)),l}};var Kr=function(){this._locations=null;var t=arguments[0];this._locations=t};Kr.prototype.filter=function(t){(t instanceof Br||t instanceof sn||t instanceof Tn)&&this._locations.add(new xr(t,0,t.getCoordinate()))},Kr.prototype.interfaces_=function(){return[nn]},Kr.prototype.getClass=function(){return Kr},Kr.getLocations=function(t){var n=new ue;return t.apply(new Kr(n)),n};var Pn=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new mo,this._minDistanceLocation=null,this._minDistance=R.MAX_VALUE,arguments.length===2){var t=arguments[0],n=arguments[1];this._geom=[t,n],this._terminateDistance=0}else if(arguments.length===3){var l=arguments[0],c=arguments[1],d=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=l,this._geom[1]=c,this._terminateDistance=d}};Pn.prototype.computeContainmentDistance=function(){if(arguments.length===0){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(arguments.length===2){var n=arguments[0],l=arguments[1],c=1-n,d=Lo.getPolygons(this._geom[n]);if(d.size()>0){var _=Kr.getLocations(this._geom[c]);if(this.computeContainmentDistance(_,d,l),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[c]=l[0],this._minDistanceLocation[n]=l[1],null}}else if(arguments.length===3){if(arguments[2]instanceof Array&&Ie(arguments[0],me)&&Ie(arguments[1],me)){for(var x=arguments[0],M=arguments[1],V=arguments[2],Q=0;Q<x.size();Q++)for(var ce=x.get(Q),he=0;he<M.size();he++)if(this.computeContainmentDistance(ce,M.get(he),V),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof xr&&arguments[1]instanceof Tn){var ke=arguments[0],De=arguments[1],$e=arguments[2],ot=ke.getCoordinate();if(W.EXTERIOR!==this._ptLocator.locate(ot,De))return this._minDistance=0,$e[0]=ke,$e[1]=new xr(De,ot),null}}},Pn.prototype.computeMinDistanceLinesPoints=function(t,n,l){for(var c=0;c<t.size();c++)for(var d=t.get(c),_=0;_<n.size();_++){var x=n.get(_);if(this.computeMinDistance(d,x,l),this._minDistance<=this._terminateDistance)return null}},Pn.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),n=nr.getLines(this._geom[0]),l=nr.getLines(this._geom[1]),c=Vs.getPoints(this._geom[0]),d=Vs.getPoints(this._geom[1]);return this.computeMinDistanceLines(n,l,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,d,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(l,c,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(c,d,t),void this.updateMinDistance(t,!1))))},Pn.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Pn.prototype.updateMinDistance=function(t,n){if(t[0]===null)return null;n?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Pn.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Pn.prototype.computeMinDistance=function(){if(arguments.length===0){if(this._minDistanceLocation!==null||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2]instanceof Array&&arguments[0]instanceof sn&&arguments[1]instanceof Br){var t=arguments[0],n=arguments[1],l=arguments[2];if(t.getEnvelopeInternal().distance(n.getEnvelopeInternal())>this._minDistance)return null;for(var c=t.getCoordinates(),d=n.getCoordinate(),_=0;_<c.length-1;_++){var x=Le.distancePointLine(d,c[_],c[_+1]);if(x<this._minDistance){this._minDistance=x;var M=new Ye(c[_],c[_+1]).closestPoint(d);l[0]=new xr(t,_,M),l[1]=new xr(n,0,d)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof sn&&arguments[1]instanceof sn){var V=arguments[0],Q=arguments[1],ce=arguments[2];if(V.getEnvelopeInternal().distance(Q.getEnvelopeInternal())>this._minDistance)return null;for(var he=V.getCoordinates(),ke=Q.getCoordinates(),De=0;De<he.length-1;De++)for(var $e=0;$e<ke.length-1;$e++){var ot=Le.distanceLineLine(he[De],he[De+1],ke[$e],ke[$e+1]);if(ot<this._minDistance){this._minDistance=ot;var Ni=new Ye(he[De],he[De+1]),An=new Ye(ke[$e],ke[$e+1]),jr=Ni.closestPoints(An);ce[0]=new xr(V,De,jr[0]),ce[1]=new xr(Q,$e,jr[1])}if(this._minDistance<=this._terminateDistance)return null}}}},Pn.prototype.computeMinDistancePoints=function(t,n,l){for(var c=0;c<t.size();c++)for(var d=t.get(c),_=0;_<n.size();_++){var x=n.get(_),M=d.getCoordinate().distance(x.getCoordinate());if(M<this._minDistance&&(this._minDistance=M,l[0]=new xr(d,0,d.getCoordinate()),l[1]=new xr(x,0,x.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Pn.prototype.distance=function(){if(this._geom[0]===null||this._geom[1]===null)throw new F("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Pn.prototype.computeMinDistanceLines=function(t,n,l){for(var c=0;c<t.size();c++)for(var d=t.get(c),_=0;_<n.size();_++){var x=n.get(_);if(this.computeMinDistance(d,x,l),this._minDistance<=this._terminateDistance)return null}},Pn.prototype.interfaces_=function(){return[]},Pn.prototype.getClass=function(){return Pn},Pn.distance=function(t,n){return new Pn(t,n).distance()},Pn.isWithinDistance=function(t,n,l){return new Pn(t,n,l).distance()<=l},Pn.nearestPoints=function(t,n){return new Pn(t,n).nearestPoints()};var dr=function(){this._pt=[new B,new B],this._distance=R.NaN,this._isNull=!0};dr.prototype.getCoordinates=function(){return this._pt},dr.prototype.getCoordinate=function(t){return this._pt[t]},dr.prototype.setMinimum=function(){if(arguments.length===1){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(arguments.length===2){var n=arguments[0],l=arguments[1];if(this._isNull)return this.initialize(n,l),null;var c=n.distance(l);c<this._distance&&this.initialize(n,l,c)}},dr.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var t=arguments[0],n=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(n),this._distance=t.distance(n),this._isNull=!1}else if(arguments.length===3){var l=arguments[0],c=arguments[1],d=arguments[2];this._pt[0].setCoordinate(l),this._pt[1].setCoordinate(c),this._distance=d,this._isNull=!1}},dr.prototype.toString=function(){return ji.toLineString(this._pt[0],this._pt[1])},dr.prototype.getDistance=function(){return this._distance},dr.prototype.setMaximum=function(){if(arguments.length===1){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(arguments.length===2){var n=arguments[0],l=arguments[1];if(this._isNull)return this.initialize(n,l),null;var c=n.distance(l);c>this._distance&&this.initialize(n,l,c)}},dr.prototype.interfaces_=function(){return[]},dr.prototype.getClass=function(){return dr};var oo=function(){};oo.prototype.interfaces_=function(){return[]},oo.prototype.getClass=function(){return oo},oo.computeDistance=function(){if(arguments[2]instanceof dr&&arguments[0]instanceof sn&&arguments[1]instanceof B)for(var t=arguments[0],n=arguments[1],l=arguments[2],c=new Ye,d=t.getCoordinates(),_=0;_<d.length-1;_++){c.setCoordinates(d[_],d[_+1]);var x=c.closestPoint(n);l.setMinimum(x,n)}else if(arguments[2]instanceof dr&&arguments[0]instanceof Tn&&arguments[1]instanceof B){var M=arguments[0],V=arguments[1],Q=arguments[2];oo.computeDistance(M.getExteriorRing(),V,Q);for(var ce=0;ce<M.getNumInteriorRing();ce++)oo.computeDistance(M.getInteriorRingN(ce),V,Q)}else if(arguments[2]instanceof dr&&arguments[0]instanceof rt&&arguments[1]instanceof B){var he=arguments[0],ke=arguments[1],De=arguments[2];if(he instanceof sn)oo.computeDistance(he,ke,De);else if(he instanceof Tn)oo.computeDistance(he,ke,De);else if(he instanceof Ri)for(var $e=he,ot=0;ot<$e.getNumGeometries();ot++){var Ni=$e.getGeometryN(ot);oo.computeDistance(Ni,ke,De)}else De.setMinimum(he.getCoordinate(),ke)}else if(arguments[2]instanceof dr&&arguments[0]instanceof Ye&&arguments[1]instanceof B){var An=arguments[0],jr=arguments[1],qs=arguments[2],wa=An.closestPoint(jr);qs.setMinimum(wa,jr)}};var go=function(){this._g0=null,this._g1=null,this._ptDist=new dr,this._densifyFrac=0;var t=arguments[0],n=arguments[1];this._g0=t,this._g1=n},Pl={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};go.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},go.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new F("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},go.prototype.compute=function(t,n){this.computeOrientedDistance(t,n,this._ptDist),this.computeOrientedDistance(n,t,this._ptDist)},go.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},go.prototype.computeOrientedDistance=function(t,n,l){var c=new xa(n);if(t.apply(c),l.setMaximum(c.getMaxPointDistance()),this._densifyFrac>0){var d=new Po(n,this._densifyFrac);t.apply(d),l.setMaximum(d.getMaxPointDistance())}},go.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},go.prototype.interfaces_=function(){return[]},go.prototype.getClass=function(){return go},go.distance=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];return new go(t,n).distance()}if(arguments.length===3){var l=arguments[0],c=arguments[1],d=arguments[2],_=new go(l,c);return _.setDensifyFraction(d),_.distance()}},Pl.MaxPointDistanceFilter.get=function(){return xa},Pl.MaxDensifiedByFractionDistanceFilter.get=function(){return Po},Object.defineProperties(go,Pl);var xa=function(){this._maxPtDist=new dr,this._minPtDist=new dr,this._euclideanDist=new oo,this._geom=null;var t=arguments[0];this._geom=t};xa.prototype.filter=function(t){this._minPtDist.initialize(),oo.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},xa.prototype.getMaxPointDistance=function(){return this._maxPtDist},xa.prototype.interfaces_=function(){return[oe]},xa.prototype.getClass=function(){return xa};var Po=function(){this._maxPtDist=new dr,this._minPtDist=new dr,this._geom=null,this._numSubSegs=0;var t=arguments[0],n=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/n))};Po.prototype.filter=function(t,n){if(n===0)return null;for(var l=t.getCoordinate(n-1),c=t.getCoordinate(n),d=(c.x-l.x)/this._numSubSegs,_=(c.y-l.y)/this._numSubSegs,x=0;x<this._numSubSegs;x++){var M=l.x+x*d,V=l.y+x*_,Q=new B(M,V);this._minPtDist.initialize(),oo.computeDistance(this._geom,Q,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Po.prototype.isDone=function(){return!1},Po.prototype.isGeometryChanged=function(){return!1},Po.prototype.getMaxPointDistance=function(){return this._maxPtDist},Po.prototype.interfaces_=function(){return[rn]},Po.prototype.getClass=function(){return Po};var Zr=function(t,n,l){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=n||null,this._result=l||null},ea={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Zr.prototype.checkMaximumDistance=function(t,n,l){var c=new go(n,t);if(c.setDensifyFraction(.25),this._maxDistanceFound=c.orientedDistance(),this._maxDistanceFound>l){this._isValid=!1;var d=c.getCoordinates();this._errorLocation=d[1],this._errorIndicator=t.getFactory().createLineString(d),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+ji.toLineString(d[0],d[1])+")"}},Zr.prototype.isValid=function(){var t=Math.abs(this._bufDistance),n=Zr.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-n,this._maxValidDistance=t+n,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Zr.VERBOSE&&qt.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Zr.prototype.checkNegativeValid=function(){if(!(this._input instanceof Tn||this._input instanceof Io||this._input instanceof Ri))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},Zr.prototype.getErrorIndicator=function(){return this._errorIndicator},Zr.prototype.checkMinimumDistance=function(t,n,l){var c=new Pn(t,n,l);if(this._minDistanceFound=c.distance(),this._minDistanceFound<l){this._isValid=!1;var d=c.nearestPoints();this._errorLocation=c.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(d),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+ji.toLineString(d[0],d[1])+" )"}},Zr.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},Zr.prototype.getErrorLocation=function(){return this._errorLocation},Zr.prototype.getPolygonLines=function(t){for(var n=new ue,l=new nr(n),c=Lo.getPolygons(t).iterator();c.hasNext();)c.next().apply(l);return t.getFactory().buildGeometry(n)},Zr.prototype.getErrorMessage=function(){return this._errMsg},Zr.prototype.interfaces_=function(){return[]},Zr.prototype.getClass=function(){return Zr},ea.VERBOSE.get=function(){return!1},ea.MAX_DISTANCE_DIFF_FRAC.get=function(){return .012},Object.defineProperties(Zr,ea);var Kn=function(t,n,l){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=n||null,this._result=l||null},kl={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Kn.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Kn.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*Kn.MAX_ENV_DIFF_FRAC;t===0&&(t=.001);var n=new ze(this._input.getEnvelopeInternal());n.expandBy(this._distance);var l=new ze(this._result.getEnvelopeInternal());l.expandBy(t),l.contains(n)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(l)),this.report("Envelope")},Kn.prototype.checkDistance=function(){var t=new Zr(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},Kn.prototype.checkArea=function(){var t=this._input.getArea(),n=this._result.getArea();this._distance>0&&t>n&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<n&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Kn.prototype.checkPolygonal=function(){this._result instanceof Tn||this._result instanceof Io||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Kn.prototype.getErrorIndicator=function(){return this._errorIndicator},Kn.prototype.getErrorLocation=function(){return this._errorLocation},Kn.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Kn.prototype.report=function(t){if(!Kn.VERBOSE)return null;qt.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},Kn.prototype.getErrorMessage=function(){return this._errorMsg},Kn.prototype.interfaces_=function(){return[]},Kn.prototype.getClass=function(){return Kn},Kn.isValidMsg=function(t,n,l){var c=new Kn(t,n,l);return c.isValid()?null:c.getErrorMessage()},Kn.isValid=function(t,n,l){return!!new Kn(t,n,l).isValid()},kl.VERBOSE.get=function(){return!1},kl.MAX_ENV_DIFF_FRAC.get=function(){return .012},Object.defineProperties(Kn,kl);var Uo=function(){this._pts=null,this._data=null;var t=arguments[0],n=arguments[1];this._pts=t,this._data=n};Uo.prototype.getCoordinates=function(){return this._pts},Uo.prototype.size=function(){return this._pts.length},Uo.prototype.getCoordinate=function(t){return this._pts[t]},Uo.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Uo.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:ga.octant(this.getCoordinate(t),this.getCoordinate(t+1))},Uo.prototype.setData=function(t){this._data=t},Uo.prototype.getData=function(){return this._data},Uo.prototype.toString=function(){return ji.toLineString(new bt(this._pts))},Uo.prototype.interfaces_=function(){return[ns]},Uo.prototype.getClass=function(){return Uo};var Ki=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new ue,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};Ki.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Ki.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},Ki.prototype.getIntersectionSegments=function(){return this._intSegments},Ki.prototype.count=function(){return this._intersectionCount},Ki.prototype.getIntersections=function(){return this._intersections},Ki.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Ki.prototype.setKeepIntersections=function(t){this._keepIntersections=t},Ki.prototype.processIntersections=function(t,n,l,c){if(!this._findAllIntersections&&this.hasIntersection()||t===l&&n===c||this._isCheckEndSegmentsOnly&&!(this.isEndSegment(t,n)||this.isEndSegment(l,c)))return null;var d=t.getCoordinates()[n],_=t.getCoordinates()[n+1],x=l.getCoordinates()[c],M=l.getCoordinates()[c+1];this._li.computeIntersection(d,_,x,M),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=d,this._intSegments[1]=_,this._intSegments[2]=x,this._intSegments[3]=M,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Ki.prototype.isEndSegment=function(t,n){return n===0||n>=t.size()-2},Ki.prototype.hasIntersection=function(){return this._interiorIntersection!==null},Ki.prototype.isDone=function(){return!this._findAllIntersections&&this._interiorIntersection!==null},Ki.prototype.interfaces_=function(){return[Gr]},Ki.prototype.getClass=function(){return Ki},Ki.createAllIntersectionsFinder=function(t){var n=new Ki(t);return n.setFindAllIntersections(!0),n},Ki.createAnyIntersectionFinder=function(t){return new Ki(t)},Ki.createIntersectionCounter=function(t){var n=new Ki(t);return n.setFindAllIntersections(!0),n.setKeepIntersections(!1),n};var _o=function(){this._li=new uo,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};_o.prototype.execute=function(){if(this._segInt!==null)return null;this.checkInteriorIntersections()},_o.prototype.getIntersections=function(){return this._segInt.getIntersections()},_o.prototype.isValid=function(){return this.execute(),this._isValid},_o.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},_o.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Ki(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new du;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},_o.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new zo(this.getErrorMessage(),this._segInt.getInteriorIntersection())},_o.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+ji.toLineString(t[0],t[1])+" and "+ji.toLineString(t[2],t[3])},_o.prototype.interfaces_=function(){return[]},_o.prototype.getClass=function(){return _o},_o.computeIntersections=function(t){var n=new _o(t);return n.setFindAllIntersections(!0),n.isValid(),n.getIntersections()};var Bs=function t(){this._nv=null;var n=arguments[0];this._nv=new _o(t.toSegmentStrings(n))};Bs.prototype.checkValid=function(){this._nv.checkValid()},Bs.prototype.interfaces_=function(){return[]},Bs.prototype.getClass=function(){return Bs},Bs.toSegmentStrings=function(t){for(var n=new ue,l=t.iterator();l.hasNext();){var c=l.next();n.add(new Uo(c.getCoordinates(),c))}return n},Bs.checkValid=function(t){new Bs(t).checkValid()};var us=function(t){this._mapOp=t};us.prototype.map=function(t){for(var n=new ue,l=0;l<t.getNumGeometries();l++){var c=this._mapOp.map(t.getGeometryN(l));c.isEmpty()||n.add(c)}return t.getFactory().createGeometryCollection(ht.toGeometryArray(n))},us.prototype.interfaces_=function(){return[]},us.prototype.getClass=function(){return us},us.map=function(t,n){return new us(n).map(t)};var Ko=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new ue,this._resultLineList=new ue;var t=arguments[0],n=arguments[1],l=arguments[2];this._op=t,this._geometryFactory=n,this._ptLocator=l};Ko.prototype.collectLines=function(t){for(var n=this._op.getGraph().getEdgeEnds().iterator();n.hasNext();){var l=n.next();this.collectLineEdge(l,t,this._lineEdgesList),this.collectBoundaryTouchEdge(l,t,this._lineEdgesList)}},Ko.prototype.labelIsolatedLine=function(t,n){var l=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(n));t.getLabel().setLocation(n,l)},Ko.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Ko.prototype.collectLineEdge=function(t,n,l){var c=t.getLabel(),d=t.getEdge();t.isLineEdge()&&(t.isVisited()||!mt.isResultOfOp(c,n)||d.isCovered()||(l.add(d),t.setVisitedEdge(!0)))},Ko.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var n=this._op.getGraph().getEdgeEnds().iterator();n.hasNext();){var l=n.next(),c=l.getEdge();if(l.isLineEdge()&&!c.isCoveredSet()){var d=this._op.isCoveredByA(l.getCoordinate());c.setCovered(d)}}},Ko.prototype.labelIsolatedLines=function(t){for(var n=t.iterator();n.hasNext();){var l=n.next(),c=l.getLabel();l.isIsolated()&&(c.isNull(0)?this.labelIsolatedLine(l,0):this.labelIsolatedLine(l,1))}},Ko.prototype.buildLines=function(t){for(var n=this._lineEdgesList.iterator();n.hasNext();){var l=n.next(),c=this._geometryFactory.createLineString(l.getCoordinates());this._resultLineList.add(c),l.setInResult(!0)}},Ko.prototype.collectBoundaryTouchEdge=function(t,n,l){var c=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(at.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(mt.isResultOfOp(c,n)&&n===mt.INTERSECTION&&(l.add(t.getEdge()),t.setVisitedEdge(!0))))},Ko.prototype.interfaces_=function(){return[]},Ko.prototype.getClass=function(){return Ko};var Is=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new ue;var t=arguments[0],n=arguments[1];this._op=t,this._geometryFactory=n};Is.prototype.filterCoveredNodeToPoint=function(t){var n=t.getCoordinate();if(!this._op.isCoveredByLA(n)){var l=this._geometryFactory.createPoint(n);this._resultPointList.add(l)}},Is.prototype.extractNonCoveredResultNodes=function(t){for(var n=this._op.getGraph().getNodes().iterator();n.hasNext();){var l=n.next();if(!l.isInResult()&&!l.isIncidentEdgeInResult()&&(l.getEdges().getDegree()===0||t===mt.INTERSECTION)){var c=l.getLabel();mt.isResultOfOp(c,t)&&this.filterCoveredNodeToPoint(l)}}},Is.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Is.prototype.interfaces_=function(){return[]},Is.prototype.getClass=function(){return Is};var Zn=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Zn.prototype.transformPoint=function(t,n){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Zn.prototype.transformPolygon=function(t,n){var l=!0,c=this.transformLinearRing(t.getExteriorRing(),t);c!==null&&c instanceof es&&!c.isEmpty()||(l=!1);for(var d=new ue,_=0;_<t.getNumInteriorRing();_++){var x=this.transformLinearRing(t.getInteriorRingN(_),t);x===null||x.isEmpty()||(x instanceof es||(l=!1),d.add(x))}if(l)return this._factory.createPolygon(c,d.toArray([]));var M=new ue;return c!==null&&M.add(c),M.addAll(d),this._factory.buildGeometry(M)},Zn.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Zn.prototype.getInputGeometry=function(){return this._inputGeom},Zn.prototype.transformMultiLineString=function(t,n){for(var l=new ue,c=0;c<t.getNumGeometries();c++){var d=this.transformLineString(t.getGeometryN(c),t);d!==null&&(d.isEmpty()||l.add(d))}return this._factory.buildGeometry(l)},Zn.prototype.transformCoordinates=function(t,n){return this.copy(t)},Zn.prototype.transformLineString=function(t,n){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Zn.prototype.transformMultiPoint=function(t,n){for(var l=new ue,c=0;c<t.getNumGeometries();c++){var d=this.transformPoint(t.getGeometryN(c),t);d!==null&&(d.isEmpty()||l.add(d))}return this._factory.buildGeometry(l)},Zn.prototype.transformMultiPolygon=function(t,n){for(var l=new ue,c=0;c<t.getNumGeometries();c++){var d=this.transformPolygon(t.getGeometryN(c),t);d!==null&&(d.isEmpty()||l.add(d))}return this._factory.buildGeometry(l)},Zn.prototype.copy=function(t){return t.copy()},Zn.prototype.transformGeometryCollection=function(t,n){for(var l=new ue,c=0;c<t.getNumGeometries();c++){var d=this.transform(t.getGeometryN(c));d!==null&&(this._pruneEmptyGeometry&&d.isEmpty()||l.add(d))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(ht.toGeometryArray(l)):this._factory.buildGeometry(l)},Zn.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Br)return this.transformPoint(t,null);if(t instanceof ka)return this.transformMultiPoint(t,null);if(t instanceof es)return this.transformLinearRing(t,null);if(t instanceof sn)return this.transformLineString(t,null);if(t instanceof to)return this.transformMultiLineString(t,null);if(t instanceof Tn)return this.transformPolygon(t,null);if(t instanceof Io)return this.transformMultiPolygon(t,null);if(t instanceof Ri)return this.transformGeometryCollection(t,null);throw new F("Unknown Geometry subtype: "+t.getClass().getName())},Zn.prototype.transformLinearRing=function(t,n){var l=this.transformCoordinates(t.getCoordinateSequence(),t);if(l===null)return this._factory.createLinearRing(null);var c=l.size();return c>0&&c<4&&!this._preserveType?this._factory.createLineString(l):this._factory.createLinearRing(l)},Zn.prototype.interfaces_=function(){return[]},Zn.prototype.getClass=function(){return Zn};var Zo=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Ye,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof sn&&typeof arguments[1]=="number"){var n=arguments[0],l=arguments[1];t.call(this,n.getCoordinates(),l)}else if(arguments[0]instanceof Array&&typeof arguments[1]=="number"){var c=arguments[0],d=arguments[1];this._srcPts=c,this._isClosed=t.isClosed(c),this._snapTolerance=d}};Zo.prototype.snapVertices=function(t,n){for(var l=this._isClosed?t.size()-1:t.size(),c=0;c<l;c++){var d=t.get(c),_=this.findSnapForVertex(d,n);_!==null&&(t.set(c,new B(_)),c===0&&this._isClosed&&t.set(t.size()-1,new B(_)))}},Zo.prototype.findSnapForVertex=function(t,n){for(var l=0;l<n.length;l++){if(t.equals2D(n[l]))return null;if(t.distance(n[l])<this._snapTolerance)return n[l]}return null},Zo.prototype.snapTo=function(t){var n=new Ce(this._srcPts);return this.snapVertices(n,t),this.snapSegments(n,t),n.toCoordinateArray()},Zo.prototype.snapSegments=function(t,n){if(n.length===0)return null;var l=n.length;n[0].equals2D(n[n.length-1])&&(l=n.length-1);for(var c=0;c<l;c++){var d=n[c],_=this.findSegmentIndexToSnap(d,t);_>=0&&t.add(_+1,new B(d),!1)}},Zo.prototype.findSegmentIndexToSnap=function(t,n){for(var l=R.MAX_VALUE,c=-1,d=0;d<n.size()-1;d++){if(this._seg.p0=n.get(d),this._seg.p1=n.get(d+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var _=this._seg.distance(t);_<this._snapTolerance&&_<l&&(l=_,c=d)}return c},Zo.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Zo.prototype.interfaces_=function(){return[]},Zo.prototype.getClass=function(){return Zo},Zo.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var ln=function(t){this._srcGeom=t||null},nc={SNAP_PRECISION_FACTOR:{configurable:!0}};ln.prototype.snapTo=function(t,n){var l=this.extractTargetCoordinates(t);return new yu(n,l).transform(this._srcGeom)},ln.prototype.snapToSelf=function(t,n){var l=this.extractTargetCoordinates(this._srcGeom),c=new yu(t,l,!0).transform(this._srcGeom),d=c;return n&&Ie(d,Ps)&&(d=c.buffer(0)),d},ln.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},ln.prototype.extractTargetCoordinates=function(t){for(var n=new Y,l=t.getCoordinates(),c=0;c<l.length;c++)n.add(l[c]);return n.toArray(new Array(0).fill(null))},ln.prototype.computeMinimumSegmentLength=function(t){for(var n=R.MAX_VALUE,l=0;l<t.length-1;l++){var c=t[l].distance(t[l+1]);c<n&&(n=c)}return n},ln.prototype.interfaces_=function(){return[]},ln.prototype.getClass=function(){return ln},ln.snap=function(t,n,l){var c=new Array(2).fill(null),d=new ln(t);c[0]=d.snapTo(n,l);var _=new ln(n);return c[1]=_.snapTo(c[0],l),c},ln.computeOverlaySnapTolerance=function(){if(arguments.length===1){var t=arguments[0],n=ln.computeSizeBasedSnapTolerance(t),l=t.getPrecisionModel();if(l.getType()===Ze.FIXED){var c=1/l.getScale()*2/1.415;c>n&&(n=c)}return n}if(arguments.length===2){var d=arguments[0],_=arguments[1];return Math.min(ln.computeOverlaySnapTolerance(d),ln.computeOverlaySnapTolerance(_))}},ln.computeSizeBasedSnapTolerance=function(t){var n=t.getEnvelopeInternal();return Math.min(n.getHeight(),n.getWidth())*ln.SNAP_PRECISION_FACTOR},ln.snapToSelf=function(t,n,l){return new ln(t).snapToSelf(n,l)},nc.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(ln,nc);var yu=function(t){function n(l,c,d){t.call(this),this._snapTolerance=l||null,this._snapPts=c||null,this._isSelfSnap=d!==void 0&&d}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.snapLine=function(l,c){var d=new Zo(l,this._snapTolerance);return d.setAllowSnappingToSourceVertices(this._isSelfSnap),d.snapTo(c)},n.prototype.transformCoordinates=function(l,c){var d=l.toCoordinateArray(),_=this.snapLine(d,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(_)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(Zn),fr=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};fr.prototype.getCommon=function(){return R.longBitsToDouble(this._commonBits)},fr.prototype.add=function(t){var n=R.doubleToLongBits(t);if(this._isFirst)return this._commonBits=n,this._commonSignExp=fr.signExpBits(this._commonBits),this._isFirst=!1,null;if(fr.signExpBits(n)!==this._commonSignExp)return this._commonBits=0,null;this._commonMantissaBitsCount=fr.numCommonMostSigMantissaBits(this._commonBits,n),this._commonBits=fr.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))},fr.prototype.toString=function(){if(arguments.length===1){var t=arguments[0],n=R.longBitsToDouble(t),l="0000000000000000000000000000000000000000000000000000000000000000"+R.toBinaryString(t),c=l.substring(l.length-64);return c.substring(0,1)+"  "+c.substring(1,12)+"(exp) "+c.substring(12)+" [ "+n+" ]"}},fr.prototype.interfaces_=function(){return[]},fr.prototype.getClass=function(){return fr},fr.getBit=function(t,n){return t&1<<n?1:0},fr.signExpBits=function(t){return t>>52},fr.zeroLowerBits=function(t,n){return t&~((1<<n)-1)},fr.numCommonMostSigMantissaBits=function(t,n){for(var l=0,c=52;c>=0;c--){if(fr.getBit(t,c)!==fr.getBit(n,c))return l;l++}return 52};var Ss=function(){this._commonCoord=null,this._ccFilter=new ta},Dl={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Ss.prototype.addCommonBits=function(t){var n=new zs(this._commonCoord);t.apply(n),t.geometryChanged()},Ss.prototype.removeCommonBits=function(t){if(this._commonCoord.x===0&&this._commonCoord.y===0)return t;var n=new B(this._commonCoord);n.x=-n.x,n.y=-n.y;var l=new zs(n);return t.apply(l),t.geometryChanged(),t},Ss.prototype.getCommonCoordinate=function(){return this._commonCoord},Ss.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Ss.prototype.interfaces_=function(){return[]},Ss.prototype.getClass=function(){return Ss},Dl.CommonCoordinateFilter.get=function(){return ta},Dl.Translater.get=function(){return zs},Object.defineProperties(Ss,Dl);var ta=function(){this._commonBitsX=new fr,this._commonBitsY=new fr};ta.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},ta.prototype.getCommonCoordinate=function(){return new B(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},ta.prototype.interfaces_=function(){return[oe]},ta.prototype.getClass=function(){return ta};var zs=function(){this.trans=null;var t=arguments[0];this.trans=t};zs.prototype.filter=function(t,n){var l=t.getOrdinate(n,0)+this.trans.x,c=t.getOrdinate(n,1)+this.trans.y;t.setOrdinate(n,0,l),t.setOrdinate(n,1,c)},zs.prototype.isDone=function(){return!1},zs.prototype.isGeometryChanged=function(){return!0},zs.prototype.interfaces_=function(){return[rn]},zs.prototype.getClass=function(){return zs};var Nn=function(t,n){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=n,this.computeSnapTolerance()};Nn.prototype.selfSnap=function(t){return new ln(t).snapTo(t,this._snapTolerance)},Nn.prototype.removeCommonBits=function(t){this._cbr=new Ss,this._cbr.add(t[0]),this._cbr.add(t[1]);var n=new Array(2).fill(null);return n[0]=this._cbr.removeCommonBits(t[0].copy()),n[1]=this._cbr.removeCommonBits(t[1].copy()),n},Nn.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},Nn.prototype.getResultGeometry=function(t){var n=this.snap(this._geom),l=mt.overlayOp(n[0],n[1],t);return this.prepareResult(l)},Nn.prototype.checkValid=function(t){t.isValid()||qt.out.println("Snapped geometry is invalid")},Nn.prototype.computeSnapTolerance=function(){this._snapTolerance=ln.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},Nn.prototype.snap=function(t){var n=this.removeCommonBits(t);return ln.snap(n[0],n[1],this._snapTolerance)},Nn.prototype.interfaces_=function(){return[]},Nn.prototype.getClass=function(){return Nn},Nn.overlayOp=function(t,n,l){return new Nn(t,n).getResultGeometry(l)},Nn.union=function(t,n){return Nn.overlayOp(t,n,mt.UNION)},Nn.intersection=function(t,n){return Nn.overlayOp(t,n,mt.INTERSECTION)},Nn.symDifference=function(t,n){return Nn.overlayOp(t,n,mt.SYMDIFFERENCE)},Nn.difference=function(t,n){return Nn.overlayOp(t,n,mt.DIFFERENCE)};var mr=function(t,n){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=n};mr.prototype.getResultGeometry=function(t){var n=null,l=!1,c=null;try{n=mt.overlayOp(this._geom[0],this._geom[1],t),l=!0}catch(d){if(!(d instanceof ur))throw d;c=d}if(!l)try{n=Nn.overlayOp(this._geom[0],this._geom[1],t)}catch(d){throw d instanceof ur?c:d}return n},mr.prototype.interfaces_=function(){return[]},mr.prototype.getClass=function(){return mr},mr.overlayOp=function(t,n,l){return new mr(t,n).getResultGeometry(l)},mr.union=function(t,n){return mr.overlayOp(t,n,mt.UNION)},mr.intersection=function(t,n){return mr.overlayOp(t,n,mt.INTERSECTION)},mr.symDifference=function(t,n){return mr.overlayOp(t,n,mt.SYMDIFFERENCE)},mr.difference=function(t,n){return mr.overlayOp(t,n,mt.DIFFERENCE)};var sl=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],n=arguments[1];this.mce=t,this.chainIndex=n};sl.prototype.computeIntersections=function(t,n){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,n)},sl.prototype.interfaces_=function(){return[]},sl.prototype.getClass=function(){return sl};var a=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,arguments.length===2){var n=arguments[0],l=arguments[1];this._eventType=t.DELETE,this._xValue=n,this._insertEvent=l}else if(arguments.length===3){var c=arguments[0],d=arguments[1],_=arguments[2];this._eventType=t.INSERT,this._label=c,this._xValue=d,this._obj=_}},p={INSERT:{configurable:!0},DELETE:{configurable:!0}};a.prototype.isDelete=function(){return this._eventType===a.DELETE},a.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},a.prototype.getObject=function(){return this._obj},a.prototype.compareTo=function(t){var n=t;return this._xValue<n._xValue?-1:this._xValue>n._xValue?1:this._eventType<n._eventType?-1:this._eventType>n._eventType?1:0},a.prototype.getInsertEvent=function(){return this._insertEvent},a.prototype.isInsert=function(){return this._eventType===a.INSERT},a.prototype.isSameLabel=function(t){return this._label!==null&&this._label===t._label},a.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},a.prototype.interfaces_=function(){return[ee]},a.prototype.getClass=function(){return a},p.INSERT.get=function(){return 1},p.DELETE.get=function(){return 2},Object.defineProperties(a,p);var m=function(){};m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m};var v=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],n=arguments[1],l=arguments[2];this._li=t,this._includeProper=n,this._recordIsolated=l};v.prototype.isTrivialIntersection=function(t,n,l,c){if(t===l&&this._li.getIntersectionNum()===1){if(v.isAdjacentSegments(n,c))return!0;if(t.isClosed()){var d=t.getNumPoints()-1;if(n===0&&c===d||c===0&&n===d)return!0}}return!1},v.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},v.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},v.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},v.prototype.isBoundaryPointInternal=function(t,n){for(var l=n.iterator();l.hasNext();){var c=l.next().getCoordinate();if(t.isIntersection(c))return!0}return!1},v.prototype.hasProperIntersection=function(){return this._hasProper},v.prototype.hasIntersection=function(){return this._hasIntersection},v.prototype.isDone=function(){return this._isDone},v.prototype.isBoundaryPoint=function(t,n){return n!==null&&(!!this.isBoundaryPointInternal(t,n[0])||!!this.isBoundaryPointInternal(t,n[1]))},v.prototype.setBoundaryNodes=function(t,n){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=n},v.prototype.addIntersections=function(t,n,l,c){if(t===l&&n===c)return null;this.numTests++;var d=t.getCoordinates()[n],_=t.getCoordinates()[n+1],x=l.getCoordinates()[c],M=l.getCoordinates()[c+1];this._li.computeIntersection(d,_,x,M),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),l.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,n,l,c)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,n,0),l.addIntersections(this._li,c,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},v.prototype.interfaces_=function(){return[]},v.prototype.getClass=function(){return v},v.isAdjacentSegments=function(t,n){return Math.abs(t-n)===1};var b=function(t){function n(){t.call(this),this.events=new ue,this.nOverlaps=null}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.prepareEvents=function(){To.sort(this.events);for(var l=0;l<this.events.size();l++){var c=this.events.get(l);c.isDelete()&&c.getInsertEvent().setDeleteEventIndex(l)}},n.prototype.computeIntersections=function(){if(arguments.length===1){var l=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var c=0;c<this.events.size();c++){var d=this.events.get(c);if(d.isInsert()&&this.processOverlaps(c,d.getDeleteEventIndex(),d,l),l.isDone())break}}else if(arguments.length===3){if(arguments[2]instanceof v&&Ie(arguments[0],me)&&Ie(arguments[1],me)){var _=arguments[0],x=arguments[1],M=arguments[2];this.addEdges(_,_),this.addEdges(x,x),this.computeIntersections(M)}else if(typeof arguments[2]=="boolean"&&Ie(arguments[0],me)&&arguments[1]instanceof v){var V=arguments[0],Q=arguments[1];arguments[2]?this.addEdges(V,null):this.addEdges(V),this.computeIntersections(Q)}}},n.prototype.addEdge=function(l,c){for(var d=l.getMonotoneChainEdge(),_=d.getStartIndexes(),x=0;x<_.length-1;x++){var M=new sl(d,x),V=new a(c,d.getMinX(x),M);this.events.add(V),this.events.add(new a(d.getMaxX(x),V))}},n.prototype.processOverlaps=function(l,c,d,_){for(var x=d.getObject(),M=l;M<c;M++){var V=this.events.get(M);if(V.isInsert()){var Q=V.getObject();d.isSameLabel(V)||(x.computeIntersections(Q,_),this.nOverlaps++)}}},n.prototype.addEdges=function(){if(arguments.length===1)for(var l=arguments[0].iterator();l.hasNext();){var c=l.next();this.addEdge(c,c)}else if(arguments.length===2)for(var d=arguments[0],_=arguments[1],x=d.iterator();x.hasNext();){var M=x.next();this.addEdge(M,_)}},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(m),k=function(){this._min=R.POSITIVE_INFINITY,this._max=R.NEGATIVE_INFINITY},J={NodeComparator:{configurable:!0}};k.prototype.getMin=function(){return this._min},k.prototype.intersects=function(t,n){return!(this._min>n||this._max<t)},k.prototype.getMax=function(){return this._max},k.prototype.toString=function(){return ji.toLineString(new B(this._min,0),new B(this._max,0))},k.prototype.interfaces_=function(){return[]},k.prototype.getClass=function(){return k},J.NodeComparator.get=function(){return le},Object.defineProperties(k,J);var le=function(){};le.prototype.compare=function(t,n){var l=t,c=n,d=(l._min+l._max)/2,_=(c._min+c._max)/2;return d<_?-1:d>_?1:0},le.prototype.interfaces_=function(){return[se]},le.prototype.getClass=function(){return le};var fe=function(t){function n(){t.call(this),this._item=null;var l=arguments[0],c=arguments[1],d=arguments[2];this._min=l,this._max=c,this._item=d}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.query=function(l,c,d){if(!this.intersects(l,c))return null;d.visitItem(this._item)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(k),Ee=function(t){function n(){t.call(this),this._node1=null,this._node2=null;var l=arguments[0],c=arguments[1];this._node1=l,this._node2=c,this.buildExtent(this._node1,this._node2)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.buildExtent=function(l,c){this._min=Math.min(l._min,c._min),this._max=Math.max(l._max,c._max)},n.prototype.query=function(l,c,d){if(!this.intersects(l,c))return null;this._node1!==null&&this._node1.query(l,c,d),this._node2!==null&&this._node2.query(l,c,d)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(k),He=function(){this._leaves=new ue,this._root=null,this._level=0};He.prototype.buildTree=function(){To.sort(this._leaves,new k.NodeComparator);for(var t=this._leaves,n=null,l=new ue;;){if(this.buildLevel(t,l),l.size()===1)return l.get(0);n=t,t=l,l=n}},He.prototype.insert=function(t,n,l){if(this._root!==null)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new fe(t,n,l))},He.prototype.query=function(t,n,l){this.init(),this._root.query(t,n,l)},He.prototype.buildRoot=function(){if(this._root!==null)return null;this._root=this.buildTree()},He.prototype.printNode=function(t){qt.out.println(ji.toLineString(new B(t._min,this._level),new B(t._max,this._level)))},He.prototype.init=function(){if(this._root!==null)return null;this.buildRoot()},He.prototype.buildLevel=function(t,n){this._level++,n.clear();for(var l=0;l<t.size();l+=2){var c=t.get(l);if((l+1<t.size()?t.get(l):null)===null)n.add(c);else{var d=new Ee(t.get(l),t.get(l+1));n.add(d)}}},He.prototype.interfaces_=function(){return[]},He.prototype.getClass=function(){return He};var ft=function(){this._items=new ue};ft.prototype.visitItem=function(t){this._items.add(t)},ft.prototype.getItems=function(){return this._items},ft.prototype.interfaces_=function(){return[ys]},ft.prototype.getClass=function(){return ft};var St=function(){this._index=null;var t=arguments[0];if(!Ie(t,Ps))throw new F("Argument must be Polygonal");this._index=new gr(t)},Lr={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};St.prototype.locate=function(t){var n=new Qn(t),l=new kn(n);return this._index.query(t.y,t.y,l),n.getLocation()},St.prototype.interfaces_=function(){return[Xs]},St.prototype.getClass=function(){return St},Lr.SegmentVisitor.get=function(){return kn},Lr.IntervalIndexedGeometry.get=function(){return gr},Object.defineProperties(St,Lr);var kn=function(){this._counter=null;var t=arguments[0];this._counter=t};kn.prototype.visitItem=function(t){var n=t;this._counter.countSegment(n.getCoordinate(0),n.getCoordinate(1))},kn.prototype.interfaces_=function(){return[ys]},kn.prototype.getClass=function(){return kn};var gr=function(){this._index=new He;var t=arguments[0];this.init(t)};gr.prototype.init=function(t){for(var n=nr.getLines(t).iterator();n.hasNext();){var l=n.next().getCoordinates();this.addLine(l)}},gr.prototype.addLine=function(t){for(var n=1;n<t.length;n++){var l=new Ye(t[n-1],t[n]),c=Math.min(l.p0.y,l.p1.y),d=Math.max(l.p0.y,l.p1.y);this._index.insert(c,d,l)}},gr.prototype.query=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1],l=new ft;return this._index.query(t,n,l),l.getItems()}if(arguments.length===3){var c=arguments[0],d=arguments[1],_=arguments[2];this._index.query(c,d,_)}},gr.prototype.interfaces_=function(){return[]},gr.prototype.getClass=function(){return gr};var br=function(t){function n(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new El,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new mo,arguments.length===2){var l=arguments[0],c=arguments[1],d=C.OGC_SFS_BOUNDARY_RULE;this._argIndex=l,this._parentGeom=c,this._boundaryNodeRule=d,c!==null&&this.add(c)}else if(arguments.length===3){var _=arguments[0],x=arguments[1],M=arguments[2];this._argIndex=_,this._parentGeom=x,this._boundaryNodeRule=M,x!==null&&this.add(x)}}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.insertBoundaryPoint=function(l,c){var d=this._nodes.addNode(c).getLabel(),_=1;W.NONE,d.getLocation(l,Me.ON)===W.BOUNDARY&&_++;var x=n.determineBoundary(this._boundaryNodeRule,_);d.setLocation(l,x)},n.prototype.computeSelfNodes=function(){if(arguments.length===2){var l=arguments[0],c=arguments[1];return this.computeSelfNodes(l,c,!1)}if(arguments.length===3){var d=arguments[0],_=arguments[1],x=arguments[2],M=new v(d,!0,!1);M.setIsDoneIfProperInt(x);var V=this.createEdgeSetIntersector(),Q=this._parentGeom instanceof es||this._parentGeom instanceof Tn||this._parentGeom instanceof Io,ce=_||!Q;return V.computeIntersections(this._edges,M,ce),this.addSelfIntersectionNodes(this._argIndex),M}},n.prototype.computeSplitEdges=function(l){for(var c=this._edges.iterator();c.hasNext();)c.next().eiList.addSplitEdges(l)},n.prototype.computeEdgeIntersections=function(l,c,d){var _=new v(c,d,!0);return _.setBoundaryNodes(this.getBoundaryNodes(),l.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,l._edges,_),_},n.prototype.getGeometry=function(){return this._parentGeom},n.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},n.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},n.prototype.addPoint=function(){if(arguments[0]instanceof Br){var l=arguments[0].getCoordinate();this.insertPoint(this._argIndex,l,W.INTERIOR)}else if(arguments[0]instanceof B){var c=arguments[0];this.insertPoint(this._argIndex,c,W.INTERIOR)}},n.prototype.addPolygon=function(l){this.addPolygonRing(l.getExteriorRing(),W.EXTERIOR,W.INTERIOR);for(var c=0;c<l.getNumInteriorRing();c++){var d=l.getInteriorRingN(c);this.addPolygonRing(d,W.INTERIOR,W.EXTERIOR)}},n.prototype.addEdge=function(l){this.insertEdge(l);var c=l.getCoordinates();this.insertPoint(this._argIndex,c[0],W.BOUNDARY),this.insertPoint(this._argIndex,c[c.length-1],W.BOUNDARY)},n.prototype.addLineString=function(l){var c=xe.removeRepeatedPoints(l.getCoordinates());if(c.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=c[0],null;var d=new as(c,new Ft(this._argIndex,W.INTERIOR));this._lineEdgeMap.put(l,d),this.insertEdge(d),at.isTrue(c.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,c[0]),this.insertBoundaryPoint(this._argIndex,c[c.length-1])},n.prototype.getInvalidPoint=function(){return this._invalidPoint},n.prototype.getBoundaryPoints=function(){for(var l=this.getBoundaryNodes(),c=new Array(l.size()).fill(null),d=0,_=l.iterator();_.hasNext();){var x=_.next();c[d++]=x.getCoordinate().copy()}return c},n.prototype.getBoundaryNodes=function(){return this._boundaryNodes===null&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},n.prototype.addSelfIntersectionNode=function(l,c,d){if(this.isBoundaryNode(l,c))return null;d===W.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(l,c):this.insertPoint(l,c,d)},n.prototype.addPolygonRing=function(l,c,d){if(l.isEmpty())return null;var _=xe.removeRepeatedPoints(l.getCoordinates());if(_.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=_[0],null;var x=c,M=d;Le.isCCW(_)&&(x=d,M=c);var V=new as(_,new Ft(this._argIndex,W.BOUNDARY,x,M));this._lineEdgeMap.put(l,V),this.insertEdge(V),this.insertPoint(this._argIndex,_[0],W.BOUNDARY)},n.prototype.insertPoint=function(l,c,d){var _=this._nodes.addNode(c),x=_.getLabel();x===null?_._label=new Ft(l,d):x.setLocation(l,d)},n.prototype.createEdgeSetIntersector=function(){return new b},n.prototype.addSelfIntersectionNodes=function(l){for(var c=this._edges.iterator();c.hasNext();)for(var d=c.next(),_=d.getLabel().getLocation(l),x=d.eiList.iterator();x.hasNext();){var M=x.next();this.addSelfIntersectionNode(l,M.coord,_)}},n.prototype.add=function(){if(arguments.length!==1)return t.prototype.add.apply(this,arguments);var l=arguments[0];if(l.isEmpty())return null;if(l instanceof Io&&(this._useBoundaryDeterminationRule=!1),l instanceof Tn)this.addPolygon(l);else if(l instanceof sn)this.addLineString(l);else if(l instanceof Br)this.addPoint(l);else if(l instanceof ka)this.addCollection(l);else if(l instanceof to)this.addCollection(l);else if(l instanceof Io)this.addCollection(l);else{if(!(l instanceof Ri))throw new Error(l.getClass().getName());this.addCollection(l)}},n.prototype.addCollection=function(l){for(var c=0;c<l.getNumGeometries();c++){var d=l.getGeometryN(c);this.add(d)}},n.prototype.locate=function(l){return Ie(this._parentGeom,Ps)&&this._parentGeom.getNumGeometries()>50?(this._areaPtLocator===null&&(this._areaPtLocator=new St(this._parentGeom)),this._areaPtLocator.locate(l)):this._ptLocator.locate(l,this._parentGeom)},n.prototype.findEdge=function(){if(arguments.length===1){var l=arguments[0];return this._lineEdgeMap.get(l)}return t.prototype.findEdge.apply(this,arguments)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n.determineBoundary=function(l,c){return l.isInBoundary(c)?W.BOUNDARY:W.INTERIOR},n}(Ui),cs=function(){if(this._li=new uo,this._resultPrecisionModel=null,this._arg=null,arguments.length===1){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new br(0,t)}else if(arguments.length===2){var n=arguments[0],l=arguments[1],c=C.OGC_SFS_BOUNDARY_RULE;n.getPrecisionModel().compareTo(l.getPrecisionModel())>=0?this.setComputationPrecision(n.getPrecisionModel()):this.setComputationPrecision(l.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new br(0,n,c),this._arg[1]=new br(1,l,c)}else if(arguments.length===3){var d=arguments[0],_=arguments[1],x=arguments[2];d.getPrecisionModel().compareTo(_.getPrecisionModel())>=0?this.setComputationPrecision(d.getPrecisionModel()):this.setComputationPrecision(_.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new br(0,d,x),this._arg[1]=new br(1,_,x)}};cs.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},cs.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},cs.prototype.interfaces_=function(){return[]},cs.prototype.getClass=function(){return cs};var ia=function(){};ia.prototype.interfaces_=function(){return[]},ia.prototype.getClass=function(){return ia},ia.map=function(){if(arguments[0]instanceof rt&&Ie(arguments[1],ia.MapOp)){for(var t=arguments[0],n=arguments[1],l=new ue,c=0;c<t.getNumGeometries();c++){var d=n.map(t.getGeometryN(c));d!==null&&l.add(d)}return t.getFactory().buildGeometry(l)}if(Ie(arguments[0],ae)&&Ie(arguments[1],ia.MapOp)){for(var _=arguments[0],x=arguments[1],M=new ue,V=_.iterator();V.hasNext();){var Q=V.next(),ce=x.map(Q);ce!==null&&M.add(ce)}return M}},ia.MapOp=function(){};var mt=function(t){function n(){var l=arguments[0],c=arguments[1];t.call(this,l,c),this._ptLocator=new mo,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Mo,this._resultPolyList=new ue,this._resultLineList=new ue,this._resultPointList=new ue,this._graph=new Ui(new qo),this._geomFact=l.getFactory()}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.insertUniqueEdge=function(l){var c=this._edgeList.findEqualEdge(l);if(c!==null){var d=c.getLabel(),_=l.getLabel();c.isPointwiseEqual(l)||(_=new Ft(l.getLabel())).flip();var x=c.getDepth();x.isNull()&&x.add(d),x.add(_),d.merge(_)}else this._edgeList.add(l)},n.prototype.getGraph=function(){return this._graph},n.prototype.cancelDuplicateResultEdges=function(){for(var l=this._graph.getEdgeEnds().iterator();l.hasNext();){var c=l.next(),d=c.getSym();c.isInResult()&&d.isInResult()&&(c.setInResult(!1),d.setInResult(!1))}},n.prototype.isCoveredByLA=function(l){return!!this.isCovered(l,this._resultLineList)||!!this.isCovered(l,this._resultPolyList)},n.prototype.computeGeometry=function(l,c,d,_){var x=new ue;return x.addAll(l),x.addAll(c),x.addAll(d),x.isEmpty()?n.createEmptyResult(_,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(x)},n.prototype.mergeSymLabels=function(){for(var l=this._graph.getNodes().iterator();l.hasNext();)l.next().getEdges().mergeSymLabels()},n.prototype.isCovered=function(l,c){for(var d=c.iterator();d.hasNext();){var _=d.next();if(this._ptLocator.locate(l,_)!==W.EXTERIOR)return!0}return!1},n.prototype.replaceCollapsedEdges=function(){for(var l=new ue,c=this._edgeList.iterator();c.hasNext();){var d=c.next();d.isCollapsed()&&(c.remove(),l.add(d.getCollapsedEdge()))}this._edgeList.addAll(l)},n.prototype.updateNodeLabelling=function(){for(var l=this._graph.getNodes().iterator();l.hasNext();){var c=l.next(),d=c.getEdges().getLabel();c.getLabel().merge(d)}},n.prototype.getResultGeometry=function(l){return this.computeOverlay(l),this._resultGeom},n.prototype.insertUniqueEdges=function(l){for(var c=l.iterator();c.hasNext();){var d=c.next();this.insertUniqueEdge(d)}},n.prototype.computeOverlay=function(l){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var c=new ue;this._arg[0].computeSplitEdges(c),this._arg[1].computeSplitEdges(c),this.insertUniqueEdges(c),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Bs.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(l),this.cancelDuplicateResultEdges();var d=new tr(this._geomFact);d.add(this._graph),this._resultPolyList=d.getPolygons();var _=new Ko(this,this._geomFact,this._ptLocator);this._resultLineList=_.build(l);var x=new Is(this,this._geomFact,this._ptLocator);this._resultPointList=x.build(l),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,l)},n.prototype.labelIncompleteNode=function(l,c){var d=this._ptLocator.locate(l.getCoordinate(),this._arg[c].getGeometry());l.getLabel().setLocation(c,d)},n.prototype.copyPoints=function(l){for(var c=this._arg[l].getNodeIterator();c.hasNext();){var d=c.next();this._graph.addNode(d.getCoordinate()).setLabel(l,d.getLabel().getLocation(l))}},n.prototype.findResultAreaEdges=function(l){for(var c=this._graph.getEdgeEnds().iterator();c.hasNext();){var d=c.next(),_=d.getLabel();_.isArea()&&!d.isInteriorAreaEdge()&&n.isResultOfOp(_.getLocation(0,Me.RIGHT),_.getLocation(1,Me.RIGHT),l)&&d.setInResult(!0)}},n.prototype.computeLabelsFromDepths=function(){for(var l=this._edgeList.iterator();l.hasNext();){var c=l.next(),d=c.getLabel(),_=c.getDepth();if(!_.isNull()){_.normalize();for(var x=0;x<2;x++)d.isNull(x)||!d.isArea()||_.isNull(x)||(_.getDelta(x)===0?d.toLine(x):(at.isTrue(!_.isNull(x,Me.LEFT),"depth of LEFT side has not been initialized"),d.setLocation(x,Me.LEFT,_.getLocation(x,Me.LEFT)),at.isTrue(!_.isNull(x,Me.RIGHT),"depth of RIGHT side has not been initialized"),d.setLocation(x,Me.RIGHT,_.getLocation(x,Me.RIGHT))))}}},n.prototype.computeLabelling=function(){for(var l=this._graph.getNodes().iterator();l.hasNext();)l.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},n.prototype.labelIncompleteNodes=function(){for(var l=this._graph.getNodes().iterator();l.hasNext();){var c=l.next(),d=c.getLabel();c.isIsolated()&&(d.isNull(0)?this.labelIncompleteNode(c,0):this.labelIncompleteNode(c,1)),c.getEdges().updateLabelling(d)}},n.prototype.isCoveredByA=function(l){return!!this.isCovered(l,this._resultPolyList)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(cs);mt.overlayOp=function(t,n,l){return new mt(t,n).getResultGeometry(l)},mt.intersection=function(t,n){if(t.isEmpty()||n.isEmpty())return mt.createEmptyResult(mt.INTERSECTION,t,n,t.getFactory());if(t.isGeometryCollection()){var l=n;return us.map(t,{interfaces_:function(){return[ia.MapOp]},map:function(c){return c.intersection(l)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(n),mr.overlayOp(t,n,mt.INTERSECTION)},mt.symDifference=function(t,n){if(t.isEmpty()||n.isEmpty()){if(t.isEmpty()&&n.isEmpty())return mt.createEmptyResult(mt.SYMDIFFERENCE,t,n,t.getFactory());if(t.isEmpty())return n.copy();if(n.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(n),mr.overlayOp(t,n,mt.SYMDIFFERENCE)},mt.resultDimension=function(t,n,l){var c=n.getDimension(),d=l.getDimension(),_=-1;switch(t){case mt.INTERSECTION:_=Math.min(c,d);break;case mt.UNION:_=Math.max(c,d);break;case mt.DIFFERENCE:_=c;break;case mt.SYMDIFFERENCE:_=Math.max(c,d)}return _},mt.createEmptyResult=function(t,n,l,c){var d=null;switch(mt.resultDimension(t,n,l)){case-1:d=c.createGeometryCollection(new Array(0).fill(null));break;case 0:d=c.createPoint();break;case 1:d=c.createLineString();break;case 2:d=c.createPolygon()}return d},mt.difference=function(t,n){return t.isEmpty()?mt.createEmptyResult(mt.DIFFERENCE,t,n,t.getFactory()):n.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(n),mr.overlayOp(t,n,mt.DIFFERENCE))},mt.isResultOfOp=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1],l=t.getLocation(0),c=t.getLocation(1);return mt.isResultOfOp(l,c,n)}if(arguments.length===3){var d=arguments[0],_=arguments[1],x=arguments[2];switch(d===W.BOUNDARY&&(d=W.INTERIOR),_===W.BOUNDARY&&(_=W.INTERIOR),x){case mt.INTERSECTION:return d===W.INTERIOR&&_===W.INTERIOR;case mt.UNION:return d===W.INTERIOR||_===W.INTERIOR;case mt.DIFFERENCE:return d===W.INTERIOR&&_!==W.INTERIOR;case mt.SYMDIFFERENCE:return d===W.INTERIOR&&_!==W.INTERIOR||d!==W.INTERIOR&&_===W.INTERIOR}return!1}},mt.INTERSECTION=1,mt.UNION=2,mt.DIFFERENCE=3,mt.SYMDIFFERENCE=4;var Hs=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new mo,this._seg=new Ye;var t=arguments[0],n=arguments[1];this._g=t,this._boundaryDistanceTolerance=n,this._linework=this.extractLinework(t)};Hs.prototype.isWithinToleranceOfBoundary=function(t){for(var n=0;n<this._linework.getNumGeometries();n++)for(var l=this._linework.getGeometryN(n).getCoordinateSequence(),c=0;c<l.size()-1;c++)if(l.getCoordinate(c,this._seg.p0),l.getCoordinate(c+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},Hs.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?W.BOUNDARY:this._ptLocator.locate(t,this._g)},Hs.prototype.extractLinework=function(t){var n=new ba;t.apply(n);var l=n.getLinework(),c=ht.toLineStringArray(l);return t.getFactory().createMultiLineString(c)},Hs.prototype.interfaces_=function(){return[]},Hs.prototype.getClass=function(){return Hs};var ba=function(){this._linework=null,this._linework=new ue};ba.prototype.getLinework=function(){return this._linework},ba.prototype.filter=function(t){if(t instanceof Tn){var n=t;this._linework.add(n.getExteriorRing());for(var l=0;l<n.getNumInteriorRing();l++)this._linework.add(n.getInteriorRingN(l))}},ba.prototype.interfaces_=function(){return[nn]},ba.prototype.getClass=function(){return ba};var na=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};na.prototype.extractPoints=function(t,n,l){for(var c=t.getCoordinates(),d=0;d<c.length-1;d++)this.computeOffsetPoints(c[d],c[d+1],n,l)},na.prototype.setSidesToGenerate=function(t,n){this._doLeft=t,this._doRight=n},na.prototype.getPoints=function(t){for(var n=new ue,l=nr.getLines(this._g).iterator();l.hasNext();){var c=l.next();this.extractPoints(c,t,n)}return n},na.prototype.computeOffsetPoints=function(t,n,l,c){var d=n.x-t.x,_=n.y-t.y,x=Math.sqrt(d*d+_*_),M=l*d/x,V=l*_/x,Q=(n.x+t.x)/2,ce=(n.y+t.y)/2;if(this._doLeft){var he=new B(Q-V,ce+M);c.add(he)}if(this._doRight){var ke=new B(Q+V,ce-M);c.add(ke)}},na.prototype.interfaces_=function(){return[]},na.prototype.getClass=function(){return na};var Yr=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new ue;var n=arguments[0],l=arguments[1],c=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(n,l),this._geom=[n,l,c],this._locFinder=[new Hs(this._geom[0],this._boundaryDistanceTolerance),new Hs(this._geom[1],this._boundaryDistanceTolerance),new Hs(this._geom[2],this._boundaryDistanceTolerance)]},Yn={TOLERANCE:{configurable:!0}};Yr.prototype.reportResult=function(t,n,l){qt.out.println("Overlay result invalid - A:"+W.toLocationSymbol(n[0])+" B:"+W.toLocationSymbol(n[1])+" expected:"+(l?"i":"e")+" actual:"+W.toLocationSymbol(n[2]))},Yr.prototype.isValid=function(t){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var n=this.checkValid(t);return n},Yr.prototype.checkValid=function(){if(arguments.length===1){for(var t=arguments[0],n=0;n<this._testCoords.size();n++){var l=this._testCoords.get(n);if(!this.checkValid(t,l))return this._invalidLocation=l,!1}return!0}if(arguments.length===2){var c=arguments[0],d=arguments[1];return this._location[0]=this._locFinder[0].getLocation(d),this._location[1]=this._locFinder[1].getLocation(d),this._location[2]=this._locFinder[2].getLocation(d),!!Yr.hasLocation(this._location,W.BOUNDARY)||this.isValidResult(c,this._location)}},Yr.prototype.addTestPts=function(t){var n=new na(t);this._testCoords.addAll(n.getPoints(5*this._boundaryDistanceTolerance))},Yr.prototype.isValidResult=function(t,n){var l=mt.isResultOfOp(n[0],n[1],t),c=!(l^n[2]===W.INTERIOR);return c||this.reportResult(t,n,l),c},Yr.prototype.getInvalidLocation=function(){return this._invalidLocation},Yr.prototype.interfaces_=function(){return[]},Yr.prototype.getClass=function(){return Yr},Yr.hasLocation=function(t,n){for(var l=0;l<3;l++)if(t[l]===n)return!0;return!1},Yr.computeBoundaryDistanceTolerance=function(t,n){return Math.min(ln.computeSizeBasedSnapTolerance(t),ln.computeSizeBasedSnapTolerance(n))},Yr.isValid=function(t,n,l,c){return new Yr(t,n,c).isValid(l)},Yn.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Yr,Yn);var wr=function t(n){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(n),this._inputGeoms=n};wr.prototype.extractElements=function(t,n){if(t===null)return null;for(var l=0;l<t.getNumGeometries();l++){var c=t.getGeometryN(l);this._skipEmpty&&c.isEmpty()||n.add(c)}},wr.prototype.combine=function(){for(var t=new ue,n=this._inputGeoms.iterator();n.hasNext();){var l=n.next();this.extractElements(l,t)}return t.size()===0?this._geomFactory!==null?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},wr.prototype.interfaces_=function(){return[]},wr.prototype.getClass=function(){return wr},wr.combine=function(){if(arguments.length===1){var t=arguments[0];return new wr(t).combine()}if(arguments.length===2){var n=arguments[0],l=arguments[1];return new wr(wr.createList(n,l)).combine()}if(arguments.length===3){var c=arguments[0],d=arguments[1],_=arguments[2];return new wr(wr.createList(c,d,_)).combine()}},wr.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},wr.createList=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1],l=new ue;return l.add(t),l.add(n),l}if(arguments.length===3){var c=arguments[0],d=arguments[1],_=arguments[2],x=new ue;return x.add(c),x.add(d),x.add(_),x}};var vn=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,this._inputPolys===null&&(this._inputPolys=new ue)},rc={STRTREE_NODE_CAPACITY:{configurable:!0}};vn.prototype.reduceToGeometries=function(t){for(var n=new ue,l=t.iterator();l.hasNext();){var c=l.next(),d=null;Ie(c,me)?d=this.unionTree(c):c instanceof rt&&(d=c),n.add(d)}return n},vn.prototype.extractByEnvelope=function(t,n,l){for(var c=new ue,d=0;d<n.getNumGeometries();d++){var _=n.getGeometryN(d);_.getEnvelopeInternal().intersects(t)?c.add(_):l.add(_)}return this._geomFactory.buildGeometry(c)},vn.prototype.unionOptimized=function(t,n){var l=t.getEnvelopeInternal(),c=n.getEnvelopeInternal();if(!l.intersects(c))return wr.combine(t,n);if(t.getNumGeometries()<=1&&n.getNumGeometries()<=1)return this.unionActual(t,n);var d=l.intersection(c);return this.unionUsingEnvelopeIntersection(t,n,d)},vn.prototype.union=function(){if(this._inputPolys===null)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new hu(vn.STRTREE_NODE_CAPACITY),n=this._inputPolys.iterator();n.hasNext();){var l=n.next();t.insert(l.getEnvelopeInternal(),l)}this._inputPolys=null;var c=t.itemsTree();return this.unionTree(c)},vn.prototype.binaryUnion=function(){if(arguments.length===1){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(arguments.length===3){var n=arguments[0],l=arguments[1],c=arguments[2];if(c-l<=1){var d=vn.getGeometry(n,l);return this.unionSafe(d,null)}if(c-l==2)return this.unionSafe(vn.getGeometry(n,l),vn.getGeometry(n,l+1));var _=Math.trunc((c+l)/2),x=this.binaryUnion(n,l,_),M=this.binaryUnion(n,_,c);return this.unionSafe(x,M)}},vn.prototype.repeatedUnion=function(t){for(var n=null,l=t.iterator();l.hasNext();){var c=l.next();n=n===null?c.copy():n.union(c)}return n},vn.prototype.unionSafe=function(t,n){return t===null&&n===null?null:t===null?n.copy():n===null?t.copy():this.unionOptimized(t,n)},vn.prototype.unionActual=function(t,n){return vn.restrictToPolygons(t.union(n))},vn.prototype.unionTree=function(t){var n=this.reduceToGeometries(t);return this.binaryUnion(n)},vn.prototype.unionUsingEnvelopeIntersection=function(t,n,l){var c=new ue,d=this.extractByEnvelope(l,t,c),_=this.extractByEnvelope(l,n,c),x=this.unionActual(d,_);return c.add(x),wr.combine(c)},vn.prototype.bufferUnion=function(){if(arguments.length===1){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(arguments.length===2){var n=arguments[0],l=arguments[1];return n.getFactory().createGeometryCollection([n,l]).buffer(0)}},vn.prototype.interfaces_=function(){return[]},vn.prototype.getClass=function(){return vn},vn.restrictToPolygons=function(t){if(Ie(t,Ps))return t;var n=Lo.getPolygons(t);return n.size()===1?n.get(0):t.getFactory().createMultiPolygon(ht.toPolygonArray(n))},vn.getGeometry=function(t,n){return n>=t.size()?null:t.get(n)},vn.union=function(t){return new vn(t).union()},rc.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(vn,rc);var al=function(){};al.prototype.interfaces_=function(){return[]},al.prototype.getClass=function(){return al},al.union=function(t,n){if(t.isEmpty()||n.isEmpty()){if(t.isEmpty()&&n.isEmpty())return mt.createEmptyResult(mt.UNION,t,n,t.getFactory());if(t.isEmpty())return n.copy();if(n.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(n),mr.overlayOp(t,n,mt.UNION)},i.GeoJSONReader=ha,i.GeoJSONWriter=Fa,i.OverlayOp=mt,i.UnionOp=al,i.BufferOp=Ln,Object.defineProperty(i,"__esModule",{value:!0})})});var uu=rr(tf());var Dr=63710088e-1,nf={centimeters:Dr*100,centimetres:Dr*100,degrees:Dr/111325,feet:Dr*3.28084,inches:Dr*39.37,kilometers:Dr/1e3,kilometres:Dr/1e3,meters:Dr,metres:Dr,miles:Dr/1609.344,millimeters:Dr*1e3,millimetres:Dr*1e3,nauticalmiles:Dr/1852,radians:1,yards:Dr*1.0936},hL={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/Dr,yards:1.0936133};function Rr(i,s,o){o===void 0&&(o={});var e={type:"Feature"};return(o.id===0||o.id)&&(e.id=o.id),o.bbox&&(e.bbox=o.bbox),e.properties=s||{},e.geometry=i,e}function xi(i,s,o){if(o===void 0&&(o={}),!i)throw new Error("coordinates is required");if(!Array.isArray(i))throw new Error("coordinates must be an Array");if(i.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ra(i[0])||!ra(i[1]))throw new Error("coordinates must contain numbers");var e={type:"Point",coordinates:i};return Rr(e,s,o)}function Bn(i,s,o){o===void 0&&(o={});for(var e=0,r=i;e<r.length;e++){var u=r[e];if(u.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var h=0;h<u[u.length-1].length;h++)if(u[u.length-1][h]!==u[0][h])throw new Error("First and last Position are not equivalent.")}var g={type:"Polygon",coordinates:i};return Rr(g,s,o)}function Cn(i,s,o){if(o===void 0&&(o={}),i.length<2)throw new Error("coordinates must be an array of two or more positions");var e={type:"LineString",coordinates:i};return Rr(e,s,o)}function bi(i,s){s===void 0&&(s={});var o={type:"FeatureCollection"};return s.id&&(o.id=s.id),s.bbox&&(o.bbox=s.bbox),o.features=i,o}function Pp(i,s,o){o===void 0&&(o={});var e={type:"MultiPoint",coordinates:i};return Rr(e,s,o)}function xu(i,s){s===void 0&&(s="kilometers");var o=nf[s];if(!o)throw new Error(s+" units is invalid");return i*o}function bu(i,s){s===void 0&&(s="kilometers");var o=nf[s];if(!o)throw new Error(s+" units is invalid");return i/o}function ul(i){var s=i%(2*Math.PI);return s*180/Math.PI}function $r(i){var s=i%360;return s*Math.PI/180}function cl(i,s,o){if(s===void 0&&(s="kilometers"),o===void 0&&(o="kilometers"),!(i>=0))throw new Error("length must be a positive number");return xu(bu(i,s),o)}function ra(i){return!isNaN(i)&&i!==null&&!Array.isArray(i)}function Mr(i,s,o){if(i!==null)for(var e,r,u,h,g,y,w,D=0,N=0,A,Y=i.type,X=Y==="FeatureCollection",j=Y==="Feature",E=X?i.features.length:1,O=0;O<E;O++){w=X?i.features[O].geometry:j?i.geometry:i,A=w?w.type==="GeometryCollection":!1,g=A?w.geometries.length:1;for(var F=0;F<g;F++){var R=0,Z=0;if(h=A?w.geometries[F]:w,h!==null){y=h.coordinates;var ee=h.type;switch(D=o&&(ee==="Polygon"||ee==="MultiPolygon")?1:0,ee){case null:break;case"Point":if(s(y,N,O,R,Z)===!1)return!1;N++,R++;break;case"LineString":case"MultiPoint":for(e=0;e<y.length;e++){if(s(y[e],N,O,R,Z)===!1)return!1;N++,ee==="MultiPoint"&&R++}ee==="LineString"&&R++;break;case"Polygon":case"MultiLineString":for(e=0;e<y.length;e++){for(r=0;r<y[e].length-D;r++){if(s(y[e][r],N,O,R,Z)===!1)return!1;N++}ee==="MultiLineString"&&R++,ee==="Polygon"&&Z++}ee==="Polygon"&&R++;break;case"MultiPolygon":for(e=0;e<y.length;e++){for(Z=0,r=0;r<y[e].length;r++){for(u=0;u<y[e][r].length-D;u++){if(s(y[e][r][u],N,O,R,Z)===!1)return!1;N++}Z++}R++}break;case"GeometryCollection":for(e=0;e<h.geometries.length;e++)if(Mr(h.geometries[e],s,o)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function rf(i,s,o,e){var r=o;return Mr(i,function(u,h,g,y,w){h===0&&o===void 0?r=u:r=s(r,u,h,g,y,w)},e),r}function In(i,s){if(i.type==="Feature")s(i,0);else if(i.type==="FeatureCollection")for(var o=0;o<i.features.length&&s(i.features[o],o)!==!1;o++);}function Ua(i,s){var o,e,r,u,h,g,y,w,D,N,A=0,Y=i.type==="FeatureCollection",X=i.type==="Feature",j=Y?i.features.length:1;for(o=0;o<j;o++){for(g=Y?i.features[o].geometry:X?i.geometry:i,w=Y?i.features[o].properties:X?i.properties:{},D=Y?i.features[o].bbox:X?i.bbox:void 0,N=Y?i.features[o].id:X?i.id:void 0,y=g?g.type==="GeometryCollection":!1,h=y?g.geometries.length:1,r=0;r<h;r++){if(u=y?g.geometries[r]:g,u===null){if(s(null,A,w,D,N)===!1)return!1;continue}switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(s(u,A,w,D,N)===!1)return!1;break}case"GeometryCollection":{for(e=0;e<u.geometries.length;e++)if(s(u.geometries[e],A,w,D,N)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}A++}}function xo(i,s){Ua(i,function(o,e,r,u,h){var g=o===null?null:o.type;switch(g){case null:case"Point":case"LineString":case"Polygon":return s(Rr(o,r,{bbox:u,id:h}),e,0)===!1?!1:void 0}var y;switch(g){case"MultiPoint":y="Point";break;case"MultiLineString":y="LineString";break;case"MultiPolygon":y="Polygon";break}for(var w=0;w<o.coordinates.length;w++){var D=o.coordinates[w],N={type:y,coordinates:D};if(s(Rr(N,r),e,w)===!1)return!1}})}function wu(i,s){xo(i,function(o,e,r){var u=0;if(o.geometry){var h=o.geometry.type;if(!(h==="Point"||h==="MultiPoint")){var g,y=0,w=0,D=0;if(Mr(o,function(N,A,Y,X,j){if(g===void 0||e>y||X>w||j>D){g=N,y=e,w=X,D=j,u=0;return}var E=Cn([g,N],o.properties);if(s(E,e,r,j,u)===!1)return!1;u++,g=N})===!1)return!1}}})}function of(i,s,o){var e=o,r=!1;return wu(i,function(u,h,g,y,w){r===!1&&o===void 0?e=u:e=s(e,u,h,g,y,w),r=!0}),e}function kp(i){var s=[1/0,1/0,-1/0,-1/0];return Mr(i,function(o){s[0]>o[0]&&(s[0]=o[0]),s[1]>o[1]&&(s[1]=o[1]),s[2]<o[0]&&(s[2]=o[0]),s[3]<o[1]&&(s[3]=o[1])}),s}kp.default=kp;var Ro=kp;function zn(i){if(!i)throw new Error("coord is required");if(!Array.isArray(i)){if(i.type==="Feature"&&i.geometry!==null&&i.geometry.type==="Point")return i.geometry.coordinates;if(i.type==="Point")return i.coordinates}if(Array.isArray(i)&&i.length>=2&&!Array.isArray(i[0])&&!Array.isArray(i[1]))return i;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function _n(i){if(Array.isArray(i))return i;if(i.type==="Feature"){if(i.geometry!==null)return i.geometry.coordinates}else if(i.coordinates)return i.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Cu(i,s,o){if(!i)throw new Error("No feature passed");if(!o)throw new Error(".featureOf() requires a name");if(!i||i.type!=="Feature"||!i.geometry)throw new Error("Invalid input to "+o+", Feature with geometry required");if(!i.geometry||i.geometry.type!==s)throw new Error("Invalid input to "+o+": must be a "+s+", given "+i.geometry.type)}function ao(i){return i.type==="Feature"?i.geometry:i}function gs(i,s){return i.type==="FeatureCollection"?"FeatureCollection":i.type==="GeometryCollection"?"GeometryCollection":i.type==="Feature"&&i.geometry!==null?i.geometry.type:i.type}var by=rr(gc(),1);var ky=rr(Sf(),1);function Qr(i,s,o){if(o===void 0&&(o={}),!i)throw new Error("point is required");if(!s)throw new Error("polygon is required");var e=zn(i),r=ao(s),u=r.type,h=s.bbox,g=r.coordinates;if(h&&Dy(e,h)===!1)return!1;u==="Polygon"&&(g=[g]);for(var y=!1,w=0;w<g.length&&!y;w++)if(Tf(e,g[w][0],o.ignoreBoundary)){for(var D=!1,N=1;N<g[w].length&&!D;)Tf(e,g[w][N],!o.ignoreBoundary)&&(D=!0),N++;D||(y=!0)}return y}function Tf(i,s,o){var e=!1;s[0][0]===s[s.length-1][0]&&s[0][1]===s[s.length-1][1]&&(s=s.slice(0,s.length-1));for(var r=0,u=s.length-1;r<s.length;u=r++){var h=s[r][0],g=s[r][1],y=s[u][0],w=s[u][1],D=i[1]*(h-y)+g*(y-i[0])+w*(i[0]-h)===0&&(h-i[0])*(y-i[0])<=0&&(g-i[1])*(w-i[1])<=0;if(D)return!o;var N=g>i[1]!=w>i[1]&&i[0]<(y-h)*(i[1]-g)/(w-g)+h;N&&(e=!e)}return e}function Dy(i,s){return s[0]<=i[0]&&s[1]<=i[1]&&s[2]>=i[0]&&s[3]>=i[1]}function Ry(i,s,o){o===void 0&&(o={});var e=zn(i),r=zn(s),u=$r(r[1]-e[1]),h=$r(r[0]-e[0]),g=$r(e[1]),y=$r(r[1]),w=Math.pow(Math.sin(u/2),2)+Math.pow(Math.sin(h/2),2)*Math.cos(g)*Math.cos(y);return xu(2*Math.atan2(Math.sqrt(w),Math.sqrt(1-w)),o.units)}var Dn=Ry;var Mf=new ArrayBuffer(16),HP=new Float64Array(Mf),qP=new Uint32Array(Mf);var Wy=rr(Zp(),1);var fk=function(){function i(s){this.points=s.points||[],this.duration=s.duration||1e4,this.sharpness=s.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=s.stepLength||60,this.length=this.points.length,this.delay=0;for(var o=0;o<this.length;o++)this.points[o].z=this.points[o].z||0;for(var o=0;o<this.length-1;o++){var e=this.points[o],r=this.points[o+1];this.centers.push({x:(e.x+r.x)/2,y:(e.y+r.y)/2,z:(e.z+r.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(var o=0;o<this.centers.length-1;o++){var u=this.points[o+1].x-(this.centers[o].x+this.centers[o+1].x)/2,h=this.points[o+1].y-(this.centers[o].y+this.centers[o+1].y)/2,g=this.points[o+1].z-(this.centers[o].y+this.centers[o+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[o+1].x+this.sharpness*(this.centers[o].x+u),y:(1-this.sharpness)*this.points[o+1].y+this.sharpness*(this.centers[o].y+h),z:(1-this.sharpness)*this.points[o+1].z+this.sharpness*(this.centers[o].z+g)},{x:(1-this.sharpness)*this.points[o+1].x+this.sharpness*(this.centers[o+1].x+u),y:(1-this.sharpness)*this.points[o+1].y+this.sharpness*(this.centers[o+1].y+h),z:(1-this.sharpness)*this.points[o+1].z+this.sharpness*(this.centers[o+1].z+g)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return i.prototype.cacheSteps=function(s){var o=[],e=this.pos(0);o.push(0);for(var r=0;r<this.duration;r+=10){var u=this.pos(r),h=Math.sqrt((u.x-e.x)*(u.x-e.x)+(u.y-e.y)*(u.y-e.y)+(u.z-e.z)*(u.z-e.z));h>s&&(o.push(r),e=u)}return o},i.prototype.vector=function(s){var o=this.pos(s+10),e=this.pos(s-10);return{angle:180*Math.atan2(o.y-e.y,o.x-e.x)/3.14,speed:Math.sqrt((e.x-o.x)*(e.x-o.x)+(e.y-o.y)*(e.y-o.y)+(e.z-o.z)*(e.z-o.z))}},i.prototype.pos=function(s){var o=s-this.delay;o<0&&(o=0),o>this.duration&&(o=this.duration-1);var e=o/this.duration;if(e>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*e),u=(this.length-1)*e-r;return Xy(u,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])},i}();function Xy(i,s,o,e,r){var u=$y(i),h={x:r.x*u[0]+e.x*u[1]+o.x*u[2]+s.x*u[3],y:r.y*u[0]+e.y*u[1]+o.y*u[2]+s.y*u[3],z:r.z*u[0]+e.z*u[1]+o.z*u[2]+s.z*u[3]};return h}function $y(i){var s=i*i,o=s*i;return[o,3*s*(1-i),3*i*(1-i)*(1-i),(1-i)*(1-i)*(1-i)]}function Eu(i,s){s===void 0&&(s={});var o=Number(i[0]),e=Number(i[1]),r=Number(i[2]),u=Number(i[3]);if(i.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var h=[o,e],g=[o,u],y=[r,u],w=[r,e];return Bn([[h,w,y,g,h]],s.properties,{bbox:i,id:s.id})}function Qy(i){return Eu(Ro(i))}var Yp=Qy;function oa(i,s,o,e){e===void 0&&(e={});var r=zn(i),u=$r(r[0]),h=$r(r[1]),g=$r(o),y=bu(s,e.units),w=Math.asin(Math.sin(h)*Math.cos(y)+Math.cos(h)*Math.sin(y)*Math.cos(g)),D=u+Math.atan2(Math.sin(g)*Math.sin(y)*Math.cos(h),Math.cos(y)-Math.sin(h)*Math.sin(w)),N=ul(D),A=ul(w);return xi([N,A],e.properties)}function Ma(i,s,o){if(o===void 0&&(o={}),o.final===!0)return Jy(i,s);var e=zn(i),r=zn(s),u=$r(e[0]),h=$r(r[0]),g=$r(e[1]),y=$r(r[1]),w=Math.sin(h-u)*Math.cos(y),D=Math.cos(g)*Math.sin(y)-Math.sin(g)*Math.cos(y)*Math.cos(h-u);return ul(Math.atan2(w,D))}function Jy(i,s){var o=Ma(s,i);return o=(o+180)%360,o}var g1=rr(Vf(),1);function _1(i){if(!i)throw new Error("geojson is required");var s=[];return xo(i,function(o){y1(o,s)}),bi(s)}function y1(i,s){var o=[],e=i.geometry;if(e!==null){switch(e.type){case"Polygon":o=_n(e);break;case"LineString":o=[_n(e)]}o.forEach(function(r){var u=v1(r,i.properties);u.forEach(function(h){h.id=s.length,s.push(h)})})}}function v1(i,s){var o=[];return i.reduce(function(e,r){var u=Cn([e,r],s);return u.bbox=x1(e,r),o.push(u),r}),o}function x1(i,s){var o=i[0],e=i[1],r=s[0],u=s[1],h=o<r?o:r,g=e<u?e:u,y=o>r?o:r,w=e>u?e:u;return[h,g,y,w]}var hl=_1;var tm=rr(Dc(),1);function Y1(i,s){var o={},e=[];if(i.type==="LineString"&&(i=Rr(i)),s.type==="LineString"&&(s=Rr(s)),i.type==="Feature"&&s.type==="Feature"&&i.geometry!==null&&s.geometry!==null&&i.geometry.type==="LineString"&&s.geometry.type==="LineString"&&i.geometry.coordinates.length===2&&s.geometry.coordinates.length===2){var r=em(i,s);return r&&e.push(r),bi(e)}var u=(0,tm.default)();return u.load(hl(s)),In(hl(i),function(h){In(u.search(h),function(g){var y=em(h,g);if(y){var w=_n(y).join(",");o[w]||(o[w]=!0,e.push(y))}})}),bi(e)}function em(i,s){var o=_n(i),e=_n(s);if(o.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(e.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var r=o[0][0],u=o[0][1],h=o[1][0],g=o[1][1],y=e[0][0],w=e[0][1],D=e[1][0],N=e[1][1],A=(N-w)*(h-r)-(D-y)*(g-u),Y=(D-y)*(u-w)-(N-w)*(r-y),X=(h-r)*(u-w)-(g-u)*(r-y);if(A===0)return null;var j=Y/A,E=X/A;if(j>=0&&j<=1&&E>=0&&E<=1){var O=r+j*(h-r),F=u+j*(g-u);return xi([O,F])}return null}var dl=Y1;function j1(i,s,o){o===void 0&&(o={});var e=xi([1/0,1/0],{dist:1/0}),r=0;return xo(i,function(u){for(var h=_n(u),g=0;g<h.length-1;g++){var y=xi(h[g]);y.properties.dist=Dn(s,y,o);var w=xi(h[g+1]);w.properties.dist=Dn(s,w,o);var D=Dn(y,w,o),N=Math.max(y.properties.dist,w.properties.dist),A=Ma(y,w),Y=oa(s,N,A+90,o),X=oa(s,N,A-90,o),j=dl(Cn([Y.geometry.coordinates,X.geometry.coordinates]),Cn([y.geometry.coordinates,w.geometry.coordinates])),E=null;j.features.length>0&&(E=j.features[0],E.properties.dist=Dn(s,E,o),E.properties.location=r+Dn(y,E,o)),y.properties.dist<e.properties.dist&&(e=y,e.properties.index=g,e.properties.location=r),w.properties.dist<e.properties.dist&&(e=w,e.properties.index=g+1,e.properties.location=r+D),E&&E.properties.dist<e.properties.dist&&(e=E,e.properties.index=g),r+=D}}),e}var fl=j1;function W1(i,s,o){o===void 0&&(o={});var e=zn(i),r=zn(s);r[0]+=r[0]-e[0]>180?-360:e[0]-r[0]>180?360:0;var u=X1(e,r),h=cl(u,"meters",o.units);return h}function X1(i,s,o){o=o===void 0?Dr:Number(o);var e=o,r=i[1]*Math.PI/180,u=s[1]*Math.PI/180,h=u-r,g=Math.abs(s[0]-i[0])*Math.PI/180;g>Math.PI&&(g-=2*Math.PI);var y=Math.log(Math.tan(u/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),w=Math.abs(y)>1e-11?h/y:Math.cos(r),D=Math.sqrt(h*h+w*w*g*g),N=D*e;return N}var ku=W1;function $1(i,s,o){if(o===void 0&&(o={}),o.method||(o.method="geodesic"),o.units||(o.units="kilometers"),!i)throw new Error("pt is required");if(Array.isArray(i)?i=xi(i):i.type==="Point"?i=Rr(i):Cu(i,"Point","point"),!s)throw new Error("line is required");Array.isArray(s)?s=Cn(s):s.type==="LineString"?s=Rr(s):Cu(s,"LineString","line");var e=1/0,r=i.geometry.coordinates;return wu(s,function(u){var h=u.geometry.coordinates[0],g=u.geometry.coordinates[1],y=Q1(r,h,g,o);y<e&&(e=y)}),cl(e,"degrees",o.units)}function Q1(i,s,o,e){var r=[o[0]-s[0],o[1]-s[1]],u=[i[0]-s[0],i[1]-s[1]],h=im(u,r);if(h<=0)return ch(i,s,{method:e.method,units:"degrees"});var g=im(r,r);if(g<=h)return ch(i,o,{method:e.method,units:"degrees"});var y=h/g,w=[s[0]+y*r[0],s[1]+y*r[1]];return ch(i,w,{method:e.method,units:"degrees"})}function im(i,s){return i[0]*s[0]+i[1]*s[1]}function ch(i,s,o){return o.method==="planar"?ku(i,s,o):Dn(i,s,o)}var Rc=$1;var J1=rr(gc(),1);function aa(i,s){return s===void 0&&(s={}),of(i,function(o,e){var r=e.geometry.coordinates;return o+Dn(r[0],r[1],s)},0)}function ev(i,s,o){var e=_n(o);if(gs(o)!=="LineString")throw new Error("line must be a LineString");var r=fl(o,i),u=fl(o,s),h;r.properties.index<=u.properties.index?h=[r,u]:h=[u,r];for(var g=[h[0].geometry.coordinates],y=h[0].properties.index+1;y<h[1].properties.index+1;y++)g.push(e[y]);return g.push(h[1].geometry.coordinates),Cn(g,o.properties)}var Kl=ev;var nv=rr(Zp(),1);var rm=Math.PI/180,om=180/Math.PI,Du=function(i,s){this.lon=i,this.lat=s,this.x=rm*i,this.y=rm*s};Du.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)};Du.prototype.antipode=function(){var i=-1*this.lat,s=this.lon<0?180+this.lon:(180-this.lon)*-1;return new Du(s,i)};var sm=function(){this.coords=[],this.length=0};sm.prototype.move_to=function(i){this.length++,this.coords.push(i)};var mh=function(i){this.properties=i||{},this.geometries=[]};mh.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(this.geometries.length===1)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var i=[],s=0;s<this.geometries.length;s++)i.push(this.geometries[s].coords);return{geometry:{type:"MultiLineString",coordinates:i},type:"Feature",properties:this.properties}};mh.prototype.wkt=function(){for(var i="",s="LINESTRING(",o=function(u){s+=u[0]+" "+u[1]+","},e=0;e<this.geometries.length;e++){if(this.geometries[e].coords.length===0)return"LINESTRING(empty)";var r=this.geometries[e].coords;r.forEach(o),i+=s.substring(0,s.length-1)+")"}return i};var am=function(i,s,o){if(!i||i.x===void 0||i.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!s||s.x===void 0||s.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new Du(i.x,i.y),this.end=new Du(s.x,s.y),this.properties=o||{};var e=this.start.x-this.end.x,r=this.start.y-this.end.y,u=Math.pow(Math.sin(r/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(e/2),2);if(this.g=2*Math.asin(Math.sqrt(u)),this.g===Math.PI)throw new Error("it appears "+i.view()+" and "+s.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+i+" and "+s)};am.prototype.interpolate=function(i){var s=Math.sin((1-i)*this.g)/Math.sin(this.g),o=Math.sin(i*this.g)/Math.sin(this.g),e=s*Math.cos(this.start.y)*Math.cos(this.start.x)+o*Math.cos(this.end.y)*Math.cos(this.end.x),r=s*Math.cos(this.start.y)*Math.sin(this.start.x)+o*Math.cos(this.end.y)*Math.sin(this.end.x),u=s*Math.sin(this.start.y)+o*Math.sin(this.end.y),h=om*Math.atan2(u,Math.sqrt(Math.pow(e,2)+Math.pow(r,2))),g=om*Math.atan2(r,e);return[g,h]};am.prototype.Arc=function(i,s){var o=[];if(!i||i<=2)o.push([this.start.lon,this.start.lat]),o.push([this.end.lon,this.end.lat]);else for(var e=1/(i-1),r=0;r<i;++r){var u=e*r,h=this.interpolate(u);o.push(h)}for(var g=!1,y=0,w=s&&s.offset?s.offset:10,D=180-w,N=-180+w,A=360-w,Y=1;Y<o.length;++Y){var X=o[Y-1][0],j=o[Y][0],E=Math.abs(j-X);E>A&&(j>D&&X<N||X>D&&j<N)?g=!0:E>y&&(y=E)}var O=[];if(g&&y<w){var F=[];O.push(F);for(var R=0;R<o.length;++R){var Z=parseFloat(o[R][0]);if(R>0&&Math.abs(Z-o[R-1][0])>A){var ee=parseFloat(o[R-1][0]),re=parseFloat(o[R-1][1]),se=parseFloat(o[R][0]),B=parseFloat(o[R][1]);if(ee>-180&&ee<N&&se===180&&R+1<o.length&&o[R-1][0]>-180&&o[R-1][0]<N){F.push([-180,o[R][1]]),R++,F.push([o[R][0],o[R][1]]);continue}else if(ee>D&&ee<180&&se===-180&&R+1<o.length&&o[R-1][0]>D&&o[R-1][0]<180){F.push([180,o[R][1]]),R++,F.push([o[R][0],o[R][1]]);continue}if(ee<N&&se>D){var _e=ee;ee=se,se=_e;var Te=re;re=B,B=Te}if(ee>D&&se<N&&(se+=360),ee<=180&&se>=180&&ee<se){var Pe=(180-ee)/(se-ee),W=Pe*B+(1-Pe)*re;F.push([o[R-1][0]>D?180:-180,W]),F=[],F.push([o[R-1][0]>D?-180:180,W]),O.push(F)}else F=[],O.push(F);F.push([Z,o[R][1]])}else F.push([o[R][0],o[R][1]])}}else{var Bt=[];O.push(Bt);for(var Ie=0;Ie<o.length;++Ie)Bt.push([o[Ie][0],o[Ie][1]])}for(var ct=new mh(this.properties),Be=0;Be<O.length;++Be){var zt=new sm;ct.geometries.push(zt);for(var ve=O[Be],Ae=0;Ae<ve.length;++Ae)zt.move_to(ve[Ae])}return ct};var sv=rr(Dc(),1);var Bx=rr(Dc(),1);var zx=rr(Ah(),1);var Gx=rr(gc(),1);var Wt=[],Xt=[],$t=[],Qt=[],Jt=[],ei=[],ti=[],ii=[],ni=[],ri=[],oi=[],si=[],ai=[],li=[],ui=[],ci=[],pi=[],hi=[],di=[],fi=[],mi=[],gi=[],_i=[],yi=[];ti[85]=ri[85]=-1;ii[85]=oi[85]=0;ni[85]=si[85]=1;di[85]=gi[85]=1;fi[85]=_i[85]=0;mi[85]=yi[85]=1;Wt[85]=Qt[85]=0;Xt[85]=Jt[85]=-1;$t[85]=ui[85]=0;ci[85]=ai[85]=0;pi[85]=li[85]=1;ei[85]=hi[85]=1;gi[1]=gi[169]=0;_i[1]=_i[169]=-1;yi[1]=yi[169]=0;ai[1]=ai[169]=-1;li[1]=li[169]=0;ui[1]=ui[169]=0;ri[4]=ri[166]=0;oi[4]=oi[166]=-1;si[4]=si[166]=1;ci[4]=ci[166]=1;pi[4]=pi[166]=0;hi[4]=hi[166]=0;ti[16]=ti[154]=0;ii[16]=ii[154]=1;ni[16]=ni[154]=1;Qt[16]=Qt[154]=1;Jt[16]=Jt[154]=0;ei[16]=ei[154]=1;di[64]=di[106]=0;fi[64]=fi[106]=1;mi[64]=mi[106]=0;Wt[64]=Wt[106]=-1;Xt[64]=Xt[106]=0;$t[64]=$t[106]=1;di[2]=di[168]=0;fi[2]=fi[168]=-1;mi[2]=mi[168]=1;gi[2]=gi[168]=0;_i[2]=_i[168]=-1;yi[2]=yi[168]=0;ai[2]=ai[168]=-1;li[2]=li[168]=0;ui[2]=ui[168]=0;ci[2]=ci[168]=-1;pi[2]=pi[168]=0;hi[2]=hi[168]=1;ti[8]=ti[162]=0;ii[8]=ii[162]=-1;ni[8]=ni[162]=0;ri[8]=ri[162]=0;oi[8]=oi[162]=-1;si[8]=si[162]=1;ai[8]=ai[162]=1;li[8]=li[162]=0;ui[8]=ui[162]=1;ci[8]=ci[162]=1;pi[8]=pi[162]=0;hi[8]=hi[162]=0;ti[32]=ti[138]=0;ii[32]=ii[138]=1;ni[32]=ni[138]=1;ri[32]=ri[138]=0;oi[32]=oi[138]=1;si[32]=si[138]=0;Wt[32]=Wt[138]=1;Xt[32]=Xt[138]=0;$t[32]=$t[138]=0;Qt[32]=Qt[138]=1;Jt[32]=Jt[138]=0;ei[32]=ei[138]=1;gi[128]=gi[42]=0;_i[128]=_i[42]=1;yi[128]=yi[42]=1;di[128]=di[42]=0;fi[128]=fi[42]=1;mi[128]=mi[42]=0;Wt[128]=Wt[42]=-1;Xt[128]=Xt[42]=0;$t[128]=$t[42]=1;Qt[128]=Qt[42]=-1;Jt[128]=Jt[42]=0;ei[128]=ei[42]=0;ri[5]=ri[165]=-1;oi[5]=oi[165]=0;si[5]=si[165]=0;gi[5]=gi[165]=1;_i[5]=_i[165]=0;yi[5]=yi[165]=0;ci[20]=ci[150]=0;pi[20]=pi[150]=1;hi[20]=hi[150]=1;Qt[20]=Qt[150]=0;Jt[20]=Jt[150]=-1;ei[20]=ei[150]=1;ti[80]=ti[90]=-1;ii[80]=ii[90]=0;ni[80]=ni[90]=1;di[80]=di[90]=1;fi[80]=fi[90]=0;mi[80]=mi[90]=1;ai[65]=ai[105]=0;li[65]=li[105]=1;ui[65]=ui[105]=0;Wt[65]=Wt[105]=0;Xt[65]=Xt[105]=-1;$t[65]=$t[105]=0;ti[160]=ti[10]=-1;ii[160]=ii[10]=0;ni[160]=ni[10]=1;ri[160]=ri[10]=-1;oi[160]=oi[10]=0;si[160]=si[10]=0;gi[160]=gi[10]=1;_i[160]=_i[10]=0;yi[160]=yi[10]=0;di[160]=di[10]=1;fi[160]=fi[10]=0;mi[160]=mi[10]=1;ci[130]=ci[40]=0;pi[130]=pi[40]=1;hi[130]=hi[40]=1;ai[130]=ai[40]=0;li[130]=li[40]=1;ui[130]=ui[40]=0;Wt[130]=Wt[40]=0;Xt[130]=Xt[40]=-1;$t[130]=$t[40]=0;Qt[130]=Qt[40]=0;Jt[130]=Jt[40]=-1;ei[130]=ei[40]=1;ri[37]=ri[133]=0;oi[37]=oi[133]=1;si[37]=si[133]=1;gi[37]=gi[133]=0;_i[37]=_i[133]=1;yi[37]=yi[133]=0;Wt[37]=Wt[133]=-1;Xt[37]=Xt[133]=0;$t[37]=$t[133]=0;Qt[37]=Qt[133]=1;Jt[37]=Jt[133]=0;ei[37]=ei[133]=0;ci[148]=ci[22]=-1;pi[148]=pi[22]=0;hi[148]=hi[22]=0;gi[148]=gi[22]=0;_i[148]=_i[22]=-1;yi[148]=yi[22]=1;di[148]=di[22]=0;fi[148]=fi[22]=1;mi[148]=mi[22]=1;Qt[148]=Qt[22]=-1;Jt[148]=Jt[22]=0;ei[148]=ei[22]=1;ti[82]=ti[88]=0;ii[82]=ii[88]=-1;ni[82]=ni[88]=1;ci[82]=ci[88]=1;pi[82]=pi[88]=0;hi[82]=hi[88]=1;ai[82]=ai[88]=-1;li[82]=li[88]=0;ui[82]=ui[88]=1;di[82]=di[88]=0;fi[82]=fi[88]=-1;mi[82]=mi[88]=0;ti[73]=ti[97]=0;ii[73]=ii[97]=1;ni[73]=ni[97]=0;ri[73]=ri[97]=0;oi[73]=oi[97]=-1;si[73]=si[97]=0;ai[73]=ai[97]=1;li[73]=li[97]=0;ui[73]=ui[97]=0;Wt[73]=Wt[97]=1;Xt[73]=Xt[97]=0;$t[73]=$t[97]=1;ti[145]=ti[25]=0;ii[145]=ii[25]=-1;ni[145]=ni[25]=0;ai[145]=ai[25]=1;li[145]=li[25]=0;ui[145]=ui[25]=1;gi[145]=gi[25]=0;_i[145]=_i[25]=1;yi[145]=yi[25]=1;Qt[145]=Qt[25]=-1;Jt[145]=Jt[25]=0;ei[145]=ei[25]=0;ri[70]=ri[100]=0;oi[70]=oi[100]=1;si[70]=si[100]=0;ci[70]=ci[100]=-1;pi[70]=pi[100]=0;hi[70]=hi[100]=1;di[70]=di[100]=0;fi[70]=fi[100]=-1;mi[70]=mi[100]=1;Wt[70]=Wt[100]=1;Xt[70]=Xt[100]=0;$t[70]=$t[100]=0;ri[101]=ri[69]=0;oi[101]=oi[69]=1;si[101]=si[69]=0;Wt[101]=Wt[69]=1;Xt[101]=Xt[69]=0;$t[101]=$t[69]=0;gi[149]=gi[21]=0;_i[149]=_i[21]=1;yi[149]=yi[21]=1;Qt[149]=Qt[21]=-1;Jt[149]=Jt[21]=0;ei[149]=ei[21]=0;ci[86]=ci[84]=-1;pi[86]=pi[84]=0;hi[86]=hi[84]=1;di[86]=di[84]=0;fi[86]=fi[84]=-1;mi[86]=mi[84]=1;ti[89]=ti[81]=0;ii[89]=ii[81]=-1;ni[89]=ni[81]=0;ai[89]=ai[81]=1;li[89]=li[81]=0;ui[89]=ui[81]=1;ti[96]=ti[74]=0;ii[96]=ii[74]=1;ni[96]=ni[74]=0;ri[96]=ri[74]=-1;oi[96]=oi[74]=0;si[96]=si[74]=1;di[96]=di[74]=1;fi[96]=fi[74]=0;mi[96]=mi[74]=0;Wt[96]=Wt[74]=1;Xt[96]=Xt[74]=0;$t[96]=$t[74]=1;ti[24]=ti[146]=0;ii[24]=ii[146]=-1;ni[24]=ni[146]=1;ci[24]=ci[146]=1;pi[24]=pi[146]=0;hi[24]=hi[146]=1;ai[24]=ai[146]=0;li[24]=li[146]=1;ui[24]=ui[146]=1;Qt[24]=Qt[146]=0;Jt[24]=Jt[146]=-1;ei[24]=ei[146]=0;ri[6]=ri[164]=-1;oi[6]=oi[164]=0;si[6]=si[164]=1;ci[6]=ci[164]=-1;pi[6]=pi[164]=0;hi[6]=hi[164]=0;gi[6]=gi[164]=0;_i[6]=_i[164]=-1;yi[6]=yi[164]=1;di[6]=di[164]=1;fi[6]=fi[164]=0;mi[6]=mi[164]=0;ai[129]=ai[41]=0;li[129]=li[41]=1;ui[129]=ui[41]=1;gi[129]=gi[41]=0;_i[129]=_i[41]=1;yi[129]=yi[41]=0;Wt[129]=Wt[41]=-1;Xt[129]=Xt[41]=0;$t[129]=$t[41]=0;Qt[129]=Qt[41]=0;Jt[129]=Jt[41]=-1;ei[129]=ei[41]=0;ci[66]=ci[104]=0;pi[66]=pi[104]=1;hi[66]=hi[104]=0;ai[66]=ai[104]=-1;li[66]=li[104]=0;ui[66]=ui[104]=1;di[66]=di[104]=0;fi[66]=fi[104]=-1;mi[66]=mi[104]=0;Wt[66]=Wt[104]=0;Xt[66]=Xt[104]=-1;$t[66]=$t[104]=1;ti[144]=ti[26]=-1;ii[144]=ii[26]=0;ni[144]=ni[26]=0;gi[144]=gi[26]=1;_i[144]=_i[26]=0;yi[144]=yi[26]=1;di[144]=di[26]=0;fi[144]=fi[26]=1;mi[144]=mi[26]=1;Qt[144]=Qt[26]=-1;Jt[144]=Jt[26]=0;ei[144]=ei[26]=1;ri[36]=ri[134]=0;oi[36]=oi[134]=1;si[36]=si[134]=1;ci[36]=ci[134]=0;pi[36]=pi[134]=1;hi[36]=hi[134]=0;Wt[36]=Wt[134]=0;Xt[36]=Xt[134]=-1;$t[36]=$t[134]=1;Qt[36]=Qt[134]=1;Jt[36]=Jt[134]=0;ei[36]=ei[134]=0;ti[9]=ti[161]=-1;ii[9]=ii[161]=0;ni[9]=ni[161]=0;ri[9]=ri[161]=0;oi[9]=oi[161]=-1;si[9]=si[161]=0;ai[9]=ai[161]=1;li[9]=li[161]=0;ui[9]=ui[161]=0;gi[9]=gi[161]=1;_i[9]=_i[161]=0;yi[9]=yi[161]=1;ti[136]=0;ii[136]=1;ni[136]=1;ri[136]=0;oi[136]=1;si[136]=0;ci[136]=-1;pi[136]=0;hi[136]=1;ai[136]=-1;li[136]=0;ui[136]=0;gi[136]=0;_i[136]=-1;yi[136]=0;di[136]=0;fi[136]=-1;mi[136]=1;Wt[136]=1;Xt[136]=0;$t[136]=0;Qt[136]=1;Jt[136]=0;ei[136]=1;ti[34]=0;ii[34]=-1;ni[34]=0;ri[34]=0;oi[34]=-1;si[34]=1;ci[34]=1;pi[34]=0;hi[34]=0;ai[34]=1;li[34]=0;ui[34]=1;gi[34]=0;_i[34]=1;yi[34]=1;di[34]=0;fi[34]=1;mi[34]=0;Wt[34]=-1;Xt[34]=0;$t[34]=1;Qt[34]=-1;Jt[34]=0;ei[34]=0;ti[35]=0;ii[35]=1;ni[35]=1;ri[35]=0;oi[35]=-1;si[35]=1;ci[35]=1;pi[35]=0;hi[35]=0;ai[35]=-1;li[35]=0;ui[35]=0;gi[35]=0;_i[35]=-1;yi[35]=0;di[35]=0;fi[35]=1;mi[35]=0;Wt[35]=-1;Xt[35]=0;$t[35]=1;Qt[35]=1;Jt[35]=0;ei[35]=1;ti[153]=0;ii[153]=1;ni[153]=1;ai[153]=-1;li[153]=0;ui[153]=0;gi[153]=0;_i[153]=-1;yi[153]=0;Qt[153]=1;Jt[153]=0;ei[153]=1;ri[102]=0;oi[102]=-1;si[102]=1;ci[102]=1;pi[102]=0;hi[102]=0;di[102]=0;fi[102]=1;mi[102]=0;Wt[102]=-1;Xt[102]=0;$t[102]=1;ti[155]=0;ii[155]=-1;ni[155]=0;ai[155]=1;li[155]=0;ui[155]=1;gi[155]=0;_i[155]=1;yi[155]=1;Qt[155]=-1;Jt[155]=0;ei[155]=0;ri[103]=0;oi[103]=1;si[103]=0;ci[103]=-1;pi[103]=0;hi[103]=1;di[103]=0;fi[103]=-1;mi[103]=1;Wt[103]=1;Xt[103]=0;$t[103]=0;ti[152]=0;ii[152]=1;ni[152]=1;ci[152]=-1;pi[152]=0;hi[152]=1;ai[152]=-1;li[152]=0;ui[152]=0;gi[152]=0;_i[152]=-1;yi[152]=0;di[152]=0;fi[152]=-1;mi[152]=1;Qt[152]=1;Jt[152]=0;ei[152]=1;ti[156]=0;ii[156]=-1;ni[156]=1;ci[156]=1;pi[156]=0;hi[156]=1;ai[156]=-1;li[156]=0;ui[156]=0;gi[156]=0;_i[156]=-1;yi[156]=0;di[156]=0;fi[156]=1;mi[156]=1;Qt[156]=-1;Jt[156]=0;ei[156]=1;ti[137]=0;ii[137]=1;ni[137]=1;ri[137]=0;oi[137]=1;si[137]=0;ai[137]=-1;li[137]=0;ui[137]=0;gi[137]=0;_i[137]=-1;yi[137]=0;Wt[137]=1;Xt[137]=0;$t[137]=0;Qt[137]=1;Jt[137]=0;ei[137]=1;ti[139]=0;ii[139]=1;ni[139]=1;ri[139]=0;oi[139]=-1;si[139]=0;ai[139]=1;li[139]=0;ui[139]=0;gi[139]=0;_i[139]=1;yi[139]=0;Wt[139]=-1;Xt[139]=0;$t[139]=0;Qt[139]=1;Jt[139]=0;ei[139]=1;ti[98]=0;ii[98]=-1;ni[98]=0;ri[98]=0;oi[98]=-1;si[98]=1;ci[98]=1;pi[98]=0;hi[98]=0;ai[98]=1;li[98]=0;ui[98]=1;di[98]=0;fi[98]=1;mi[98]=0;Wt[98]=-1;Xt[98]=0;$t[98]=1;ti[99]=0;ii[99]=1;ni[99]=0;ri[99]=0;oi[99]=-1;si[99]=1;ci[99]=1;pi[99]=0;hi[99]=0;ai[99]=-1;li[99]=0;ui[99]=1;di[99]=0;fi[99]=-1;mi[99]=0;Wt[99]=1;Xt[99]=0;$t[99]=1;ri[38]=0;oi[38]=-1;si[38]=1;ci[38]=1;pi[38]=0;hi[38]=0;gi[38]=0;_i[38]=1;yi[38]=1;di[38]=0;fi[38]=1;mi[38]=0;Wt[38]=-1;Xt[38]=0;$t[38]=1;Qt[38]=-1;Jt[38]=0;ei[38]=0;ri[39]=0;oi[39]=1;si[39]=1;ci[39]=-1;pi[39]=0;hi[39]=0;gi[39]=0;_i[39]=-1;yi[39]=1;di[39]=0;fi[39]=1;mi[39]=0;Wt[39]=-1;Xt[39]=0;$t[39]=1;Qt[39]=1;Jt[39]=0;ei[39]=0;var Vh=function(i){return[[i.bottomleft,0],[0,0],[0,i.leftbottom]]},Bh=function(i){return[[1,i.rightbottom],[1,0],[i.bottomright,0]]},zh=function(i){return[[i.topright,1],[1,1],[1,i.righttop]]},Hh=function(i){return[[0,i.lefttop],[0,1],[i.topleft,1]]},qh=function(i){return[[i.bottomright,0],[i.bottomleft,0],[0,i.leftbottom],[0,i.lefttop]]},Gh=function(i){return[[i.bottomright,0],[i.bottomleft,0],[1,i.righttop],[1,i.rightbottom]]},Uh=function(i){return[[1,i.righttop],[1,i.rightbottom],[i.topleft,1],[i.topright,1]]},Kh=function(i){return[[0,i.leftbottom],[0,i.lefttop],[i.topleft,1],[i.topright,1]]},Ux=function(i){return[[0,0],[0,i.leftbottom],[1,i.rightbottom],[1,0]]},Kx=function(i){return[[1,0],[i.bottomright,0],[i.topright,1],[1,1]]},Zx=function(i){return[[1,1],[1,i.righttop],[0,i.lefttop],[0,1]]},Yx=function(i){return[[i.bottomleft,0],[0,0],[0,1],[i.topleft,1]]},jx=function(i){return[[1,i.righttop],[1,i.rightbottom],[0,i.leftbottom],[0,i.lefttop]]},Wx=function(i){return[[i.topleft,1],[i.topright,1],[i.bottomright,0],[i.bottomleft,0]]},Xx=function(){return[[0,0],[0,1],[1,1],[1,0]]},$x=function(i){return[[1,i.rightbottom],[1,0],[0,0],[0,1],[i.topleft,1]]},Qx=function(i){return[[i.topright,1],[1,1],[1,0],[0,0],[0,i.leftbottom]]},Jx=function(i){return[[1,0],[i.bottomright,0],[0,i.lefttop],[0,1],[1,1]]},eb=function(i){return[[1,1],[1,i.righttop],[i.bottomleft,0],[0,0],[0,1]]},tb=function(i){return[[1,i.righttop],[1,i.rightbottom],[0,i.lefttop],[0,1],[i.topleft,1]]},ib=function(i){return[[1,1],[1,i.righttop],[i.bottomright,0],[i.bottomleft,0],[i.topright,1]]},nb=function(i){return[[1,i.rightbottom],[1,0],[i.bottomright,0],[0,i.leftbottom],[0,i.lefttop]]},rb=function(i){return[[i.topright,1],[i.bottomleft,0],[0,0],[0,i.leftbottom],[i.topleft,1]]},ob=function(i){return[[i.bottomright,0],[i.bottomleft,0],[0,i.lefttop],[0,1],[i.topleft,1]]},sb=function(i){return[[1,1],[1,i.righttop],[0,i.leftbottom],[0,i.lefttop],[i.topright,1]]},ab=function(i){return[[1,i.rightbottom],[1,0],[i.bottomright,0],[i.topleft,1],[i.topright,1]]},lb=function(i){return[[1,i.righttop],[1,i.rightbottom],[i.bottomleft,0],[0,0],[0,i.leftbottom]]},ub=function(i){return[[1,i.rightbottom],[1,0],[0,0],[0,i.leftbottom],[i.topleft,1],[i.topright,1]]},cb=function(i){return[[1,1],[1,0],[i.bottomright,0],[0,i.leftbottom],[0,i.lefttop],[i.topright,1]]},pb=function(i){return[[1,1],[1,i.righttop],[i.bottomright,0],[i.bottomleft,0],[0,i.lefttop],[0,1]]},hb=function(i){return[[1,i.righttop],[1,i.rightbottom],[i.bottomleft,0],[0,0],[0,1],[i.topleft,1]]},db=function(i){return[[1,1],[1,i.righttop],[i.bottomleft,0],[0,0],[0,i.leftbottom],[i.topright,1]]},fb=function(i){return[[1,i.rightbottom],[1,0],[i.bottomright,0],[0,i.lefttop],[0,1],[i.topleft,1]]},mb=function(i){return[[1,i.righttop],[1,i.rightbottom],[i.bottomright,0],[i.bottomleft,0],[0,i.leftbottom],[0,i.lefttop],[i.topleft,1],[i.topright,1]]},gb=function(i){return[[1,1],[1,i.righttop],[i.bottomleft,0],[0,0],[0,i.leftbottom],[i.topright,1]]},_b=function(i){return[[1,i.rightbottom],[1,0],[i.bottomright,0],[0,i.lefttop],[0,1],[i.topleft,1]]},yb=function(i){return[[1,1],[1,i.righttop],[i.bottomright,0],[i.bottomleft,0],[0,i.leftbottom],[0,i.lefttop],[i.topright,1]]},vb=function(i){return[[1,i.righttop],[1,i.rightbottom],[i.bottomleft,0],[0,0],[0,i.leftbottom],[i.topleft,1],[i.topright,1]]},xb=function(i){return[[1,i.righttop],[1,i.rightbottom],[i.bottomright,0],[i.bottomleft,0],[0,i.lefttop],[0,1],[i.topleft,1]]},bb=function(i){return[[1,i.rightbottom],[1,0],[i.bottomright,0],[0,i.leftbottom],[0,i.lefttop],[i.topleft,1],[i.topright,1]]},wi=[],Ci=[],Ii=[],Si=[],Ti=[],Ei=[],Mi=[],Oi=[];Si[1]=Ti[1]=18;Si[169]=Ti[169]=18;Ii[4]=Ci[4]=12;Ii[166]=Ci[166]=12;wi[16]=Oi[16]=4;wi[154]=Oi[154]=4;Ei[64]=Mi[64]=22;Ei[106]=Mi[106]=22;Ii[2]=Ei[2]=17;Si[2]=Ti[2]=18;Ii[168]=Ei[168]=17;Si[168]=Ti[168]=18;wi[8]=Si[8]=9;Ci[8]=Ii[8]=12;wi[162]=Si[162]=9;Ci[162]=Ii[162]=12;wi[32]=Oi[32]=4;Ci[32]=Mi[32]=1;wi[138]=Oi[138]=4;Ci[138]=Mi[138]=1;Ti[128]=Oi[128]=21;Ei[128]=Mi[128]=22;Ti[42]=Oi[42]=21;Ei[42]=Mi[42]=22;Ci[5]=Ti[5]=14;Ci[165]=Ti[165]=14;Ii[20]=Oi[20]=6;Ii[150]=Oi[150]=6;wi[80]=Ei[80]=11;wi[90]=Ei[90]=11;Si[65]=Mi[65]=3;Si[105]=Mi[105]=3;wi[160]=Ei[160]=11;Ci[160]=Ti[160]=14;wi[10]=Ei[10]=11;Ci[10]=Ti[10]=14;Ii[130]=Oi[130]=6;Si[130]=Mi[130]=3;Ii[40]=Oi[40]=6;Si[40]=Mi[40]=3;Ci[101]=Mi[101]=1;Ci[69]=Mi[69]=1;Ti[149]=Oi[149]=21;Ti[21]=Oi[21]=21;Ii[86]=Ei[86]=17;Ii[84]=Ei[84]=17;wi[89]=Si[89]=9;wi[81]=Si[81]=9;wi[96]=Mi[96]=0;Ci[96]=Ei[96]=15;wi[74]=Mi[74]=0;Ci[74]=Ei[74]=15;wi[24]=Ii[24]=8;Si[24]=Oi[24]=7;wi[146]=Ii[146]=8;Si[146]=Oi[146]=7;Ci[6]=Ei[6]=15;Ii[6]=Ti[6]=16;Ci[164]=Ei[164]=15;Ii[164]=Ti[164]=16;Si[129]=Oi[129]=7;Ti[129]=Mi[129]=20;Si[41]=Oi[41]=7;Ti[41]=Mi[41]=20;Ii[66]=Mi[66]=2;Si[66]=Ei[66]=19;Ii[104]=Mi[104]=2;Si[104]=Ei[104]=19;wi[144]=Ti[144]=10;Ei[144]=Oi[144]=23;wi[26]=Ti[26]=10;Ei[26]=Oi[26]=23;Ci[36]=Oi[36]=5;Ii[36]=Mi[36]=2;Ci[134]=Oi[134]=5;Ii[134]=Mi[134]=2;wi[9]=Ti[9]=10;Ci[9]=Si[9]=13;wi[161]=Ti[161]=10;Ci[161]=Si[161]=13;Ci[37]=Oi[37]=5;Ti[37]=Mi[37]=20;Ci[133]=Oi[133]=5;Ti[133]=Mi[133]=20;Ii[148]=Ti[148]=16;Ei[148]=Oi[148]=23;Ii[22]=Ti[22]=16;Ei[22]=Oi[22]=23;wi[82]=Ii[82]=8;Si[82]=Ei[82]=19;wi[88]=Ii[88]=8;Si[88]=Ei[88]=19;wi[73]=Mi[73]=0;Ci[73]=Si[73]=13;wi[97]=Mi[97]=0;Ci[97]=Si[97]=13;wi[145]=Si[145]=9;Ti[145]=Oi[145]=21;wi[25]=Si[25]=9;Ti[25]=Oi[25]=21;Ci[70]=Mi[70]=1;Ii[70]=Ei[70]=17;Ci[100]=Mi[100]=1;Ii[100]=Ei[100]=17;wi[34]=Si[34]=9;Ci[34]=Ii[34]=12;Ti[34]=Oi[34]=21;Ei[34]=Mi[34]=22;wi[136]=Oi[136]=4;Ci[136]=Mi[136]=1;Ii[136]=Ei[136]=17;Si[136]=Ti[136]=18;wi[35]=Oi[35]=4;Ci[35]=Ii[35]=12;Si[35]=Ti[35]=18;Ei[35]=Mi[35]=22;wi[153]=Oi[153]=4;Si[153]=Ti[153]=18;Ci[102]=Ii[102]=12;Ei[102]=Mi[102]=22;wi[155]=Si[155]=9;Ti[155]=Oi[155]=23;Ci[103]=Mi[103]=1;Ii[103]=Ei[103]=17;wi[152]=Oi[152]=4;Ii[152]=Ei[152]=17;Si[152]=Ti[152]=18;wi[156]=Ii[156]=8;Si[156]=Ti[156]=18;Ei[156]=Oi[156]=23;wi[137]=Oi[137]=4;Ci[137]=Mi[137]=1;Si[137]=Ti[137]=18;wi[139]=Oi[139]=4;Ci[139]=Si[139]=13;Ti[139]=Mi[139]=20;wi[98]=Si[98]=9;Ci[98]=Ii[98]=12;Ei[98]=Mi[98]=22;wi[99]=Mi[99]=0;Ci[99]=Ii[99]=12;Si[99]=Ei[99]=19;Ci[38]=Ii[38]=12;Ti[38]=Oi[38]=21;Ei[38]=Mi[38]=22;Ci[39]=Oi[39]=5;Ii[39]=Ti[39]=16;Ei[39]=Mi[39]=22;var Ue=[];Ue[1]=Ue[169]=Vh;Ue[4]=Ue[166]=Bh;Ue[16]=Ue[154]=zh;Ue[64]=Ue[106]=Hh;Ue[168]=Ue[2]=qh;Ue[162]=Ue[8]=Gh;Ue[138]=Ue[32]=Uh;Ue[42]=Ue[128]=Kh;Ue[5]=Ue[165]=Ux;Ue[20]=Ue[150]=Kx;Ue[80]=Ue[90]=Zx;Ue[65]=Ue[105]=Yx;Ue[160]=Ue[10]=jx;Ue[130]=Ue[40]=Wx;Ue[85]=Xx;Ue[101]=Ue[69]=$x;Ue[149]=Ue[21]=Qx;Ue[86]=Ue[84]=Jx;Ue[89]=Ue[81]=eb;Ue[96]=Ue[74]=tb;Ue[24]=Ue[146]=ib;Ue[6]=Ue[164]=nb;Ue[129]=Ue[41]=rb;Ue[66]=Ue[104]=ob;Ue[144]=Ue[26]=sb;Ue[36]=Ue[134]=ab;Ue[9]=Ue[161]=lb;Ue[37]=Ue[133]=ub;Ue[148]=Ue[22]=cb;Ue[82]=Ue[88]=pb;Ue[73]=Ue[97]=hb;Ue[145]=Ue[25]=db;Ue[70]=Ue[100]=fb;Ue[34]=function(i){return[Kh(i),Gh(i)]};Ue[35]=mb;Ue[136]=function(i){return[Uh(i),qh(i)]};Ue[153]=function(i){return[zh(i),Vh(i)]};Ue[102]=function(i){return[Bh(i),Hh(i)]};Ue[155]=gb;Ue[103]=_b;Ue[152]=function(i){return[zh(i),qh(i)]};Ue[156]=yb;Ue[137]=function(i){return[Uh(i),Vh(i)]};Ue[139]=vb;Ue[98]=function(i){return[Gh(i),Hh(i)]};Ue[99]=xb;Ue[38]=function(i){return[Bh(i),Kh(i)]};Ue[39]=bb;function Cb(i){return(i>0)-(i<0)||+i}function Jl(i,s,o){var e=s[0]-i[0],r=s[1]-i[1],u=o[0]-s[0],h=o[1]-s[1];return Cb(e*h-u*r)}function d0(i,s){var o=i.geometry.coordinates[0].map(function(h){return h[0]}),e=i.geometry.coordinates[0].map(function(h){return h[1]}),r=s.geometry.coordinates[0].map(function(h){return h[0]}),u=s.geometry.coordinates[0].map(function(h){return h[1]});return Math.max.apply(null,o)===Math.max.apply(null,r)&&Math.max.apply(null,e)===Math.max.apply(null,u)&&Math.min.apply(null,o)===Math.min.apply(null,r)&&Math.min.apply(null,e)===Math.min.apply(null,u)}function Zh(i,s){return s.geometry.coordinates[0].every(function(o){return Qr(xi(o),i)})}function f0(i,s){return i[0]===s[0]&&i[1]===s[1]}var Ib=function(){function i(s){this.id=i.buildId(s),this.coordinates=s,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return i.buildId=function(s){return s.join(",")},i.prototype.removeInnerEdge=function(s){this.innerEdges=this.innerEdges.filter(function(o){return o.from.id!==s.from.id})},i.prototype.removeOuterEdge=function(s){this.outerEdges=this.outerEdges.filter(function(o){return o.to.id!==s.to.id})},i.prototype.addOuterEdge=function(s){this.outerEdges.push(s),this.outerEdgesSorted=!1},i.prototype.sortOuterEdges=function(){var s=this;this.outerEdgesSorted||(this.outerEdges.sort(function(o,e){var r=o.to,u=e.to;if(r.coordinates[0]-s.coordinates[0]>=0&&u.coordinates[0]-s.coordinates[0]<0)return 1;if(r.coordinates[0]-s.coordinates[0]<0&&u.coordinates[0]-s.coordinates[0]>=0)return-1;if(r.coordinates[0]-s.coordinates[0]===0&&u.coordinates[0]-s.coordinates[0]===0)return r.coordinates[1]-s.coordinates[1]>=0||u.coordinates[1]-s.coordinates[1]>=0?r.coordinates[1]-u.coordinates[1]:u.coordinates[1]-r.coordinates[1];var h=Jl(s.coordinates,r.coordinates,u.coordinates);if(h<0)return 1;if(h>0)return-1;var g=Math.pow(r.coordinates[0]-s.coordinates[0],2)+Math.pow(r.coordinates[1]-s.coordinates[1],2),y=Math.pow(u.coordinates[0]-s.coordinates[0],2)+Math.pow(u.coordinates[1]-s.coordinates[1],2);return g-y}),this.outerEdgesSorted=!0)},i.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},i.prototype.getOuterEdge=function(s){return this.sortOuterEdges(),this.outerEdges[s]},i.prototype.addInnerEdge=function(s){this.innerEdges.push(s)},i}(),Yh=Ib;var Sb=function(){function i(s,o){this.from=s,this.to=o,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return i.prototype.getSymetric=function(){return this.symetric||(this.symetric=new i(this.to,this.from),this.symetric.symetric=this),this.symetric},i.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},i.prototype.isEqual=function(s){return this.from.id===s.from.id&&this.to.id===s.to.id},i.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},i.prototype.toLineString=function(){return Cn([this.from.coordinates,this.to.coordinates])},i.prototype.compareTo=function(s){return Jl(s.from.coordinates,s.to.coordinates,this.to.coordinates)},i}(),m0=Sb;var Tb=function(){function i(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return i.prototype.push=function(s){this.edges.push(s),this.polygon=this.envelope=void 0},i.prototype.get=function(s){return this.edges[s]},Object.defineProperty(i.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),i.prototype.forEach=function(s){this.edges.forEach(s)},i.prototype.map=function(s){return this.edges.map(s)},i.prototype.some=function(s){return this.edges.some(s)},i.prototype.isValid=function(){return!0},i.prototype.isHole=function(){var s=this,o=this.edges.reduce(function(h,g,y){return g.from.coordinates[1]>s.edges[h].from.coordinates[1]&&(h=y),h},0),e=(o===0?this.length:o)-1,r=(o+1)%this.length,u=Jl(this.edges[e].from.coordinates,this.edges[o].from.coordinates,this.edges[r].from.coordinates);return u===0?this.edges[e].from.coordinates[0]>this.edges[r].from.coordinates[0]:u>0},i.prototype.toMultiPoint=function(){return Pp(this.edges.map(function(s){return s.from.coordinates}))},i.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var s=this.edges.map(function(o){return o.from.coordinates});return s.push(this.edges[0].from.coordinates),this.polygon=Bn([s])},i.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=Yp(this.toPolygon())},i.findEdgeRingContaining=function(s,o){var e=s.getEnvelope(),r,u;return o.forEach(function(h){var g=h.getEnvelope();if(u&&(r=u.getEnvelope()),!d0(g,e)&&Zh(g,e)){for(var y=s.map(function(X){return X.from.coordinates}),w=void 0,D=function(X){h.some(function(j){return f0(X,j.from.coordinates)})||(w=X)},N=0,A=y;N<A.length;N++){var Y=A[N];D(Y)}w&&h.inside(xi(w))&&(!u||Zh(r,g))&&(u=h)}}),u},i.prototype.inside=function(s){return Qr(s,this.toPolygon())},i}(),jh=Tb;function Eb(i){if(!i)throw new Error("No geojson passed");if(i.type!=="FeatureCollection"&&i.type!=="GeometryCollection"&&i.type!=="MultiLineString"&&i.type!=="LineString"&&i.type!=="Feature")throw new Error("Invalid input type '"+i.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}var iN=function(){function i(){this.edges=[],this.nodes={}}return i.fromGeoJson=function(s){Eb(s);var o=new i;return xo(s,function(e){Cu(e,"LineString","Graph::fromGeoJson"),rf(e,function(r,u){if(r){var h=o.getNode(r),g=o.getNode(u);o.addEdge(h,g)}return u})}),o},i.prototype.getNode=function(s){var o=Yh.buildId(s),e=this.nodes[o];return e||(e=this.nodes[o]=new Yh(s)),e},i.prototype.addEdge=function(s,o){var e=new m0(s,o),r=e.getSymetric();this.edges.push(e),this.edges.push(r)},i.prototype.deleteDangles=function(){var s=this;Object.keys(this.nodes).map(function(o){return s.nodes[o]}).forEach(function(o){return s._removeIfDangle(o)})},i.prototype._removeIfDangle=function(s){var o=this;if(s.innerEdges.length<=1){var e=s.getOuterEdges().map(function(r){return r.to});this.removeNode(s),e.forEach(function(r){return o._removeIfDangle(r)})}},i.prototype.deleteCutEdges=function(){var s=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(o){o.label===o.symetric.label&&(s.removeEdge(o.symetric),s.removeEdge(o))})},i.prototype._computeNextCWEdges=function(s){var o=this;typeof s>"u"?Object.keys(this.nodes).forEach(function(e){return o._computeNextCWEdges(o.nodes[e])}):s.getOuterEdges().forEach(function(e,r){s.getOuterEdge((r===0?s.getOuterEdges().length:r)-1).symetric.next=e})},i.prototype._computeNextCCWEdges=function(s,o){for(var e=s.getOuterEdges(),r,u,h=e.length-1;h>=0;--h){var g=e[h],y=g.symetric,w=void 0,D=void 0;g.label===o&&(w=g),y.label===o&&(D=y),!(!w||!D)&&(D&&(u=D),w&&(u&&(u.next=w,u=void 0),r||(r=w)))}u&&(u.next=r)},i.prototype._findLabeledEdgeRings=function(){var s=[],o=0;return this.edges.forEach(function(e){if(!(e.label>=0)){s.push(e);var r=e;do r.label=o,r=r.next;while(!e.isEqual(r));o++}}),s},i.prototype.getEdgeRings=function(){var s=this;this._computeNextCWEdges(),this.edges.forEach(function(e){e.label=void 0}),this._findLabeledEdgeRings().forEach(function(e){s._findIntersectionNodes(e).forEach(function(r){s._computeNextCCWEdges(r,e.label)})});var o=[];return this.edges.forEach(function(e){e.ring||o.push(s._findEdgeRing(e))}),o},i.prototype._findIntersectionNodes=function(s){var o=[],e=s,r=function(){var u=0;e.from.getOuterEdges().forEach(function(h){h.label===s.label&&++u}),u>1&&o.push(e.from),e=e.next};do r();while(!s.isEqual(e));return o},i.prototype._findEdgeRing=function(s){var o=s,e=new jh;do e.push(o),o.ring=e,o=o.next;while(!s.isEqual(o));return e},i.prototype.removeNode=function(s){var o=this;s.getOuterEdges().forEach(function(e){return o.removeEdge(e)}),s.innerEdges.forEach(function(e){return o.removeEdge(e)}),delete this.nodes[s.id]},i.prototype.removeEdge=function(s){this.edges=this.edges.filter(function(o){return!o.isEqual(s)}),s.deleteEdge()},i}();var Pb=rr(Wh(),1);var kb=rr(Wh(),1);var Rb=rr(I0(),1);var Hb=rr(R0(),1);function N0(i){for(var s=i,o=[];s.parent;)o.unshift(s),s=s.parent;return o}function Gb(){return new A0(function(i){return i.f})}var Jh={search:function(i,s,o,e){i.cleanDirty(),e=e||{};var r=e.heuristic||Jh.heuristics.manhattan,u=e.closest||!1,h=Gb(),g=s;for(s.h=r(s,o),h.push(s);h.size()>0;){var y=h.pop();if(y===o)return N0(y);y.closed=!0;for(var w=i.neighbors(y),D=0,N=w.length;D<N;++D){var A=w[D];if(!(A.closed||A.isWall())){var Y=y.g+A.getCost(y),X=A.visited;(!X||Y<A.g)&&(A.visited=!0,A.parent=y,A.h=A.h||r(A,o),A.g=Y,A.f=A.g+A.h,i.markDirty(A),u&&(A.h<g.h||A.h===g.h&&A.g<g.g)&&(g=A),X?h.rescoreElement(A):h.push(A))}}}return u?N0(g):[]},heuristics:{manhattan:function(i,s){var o=Math.abs(s.x-i.x),e=Math.abs(s.y-i.y);return o+e},diagonal:function(i,s){var o=1,e=Math.sqrt(2),r=Math.abs(s.x-i.x),u=Math.abs(s.y-i.y);return o*(r+u)+(e-2*o)*Math.min(r,u)}},cleanNode:function(i){i.f=0,i.g=0,i.h=0,i.visited=!1,i.closed=!1,i.parent=null}};function Bu(i,s){s=s||{},this.nodes=[],this.diagonal=!!s.diagonal,this.grid=[];for(var o=0;o<i.length;o++){this.grid[o]=[];for(var e=0,r=i[o];e<r.length;e++){var u=new np(o,e,r[e]);this.grid[o][e]=u,this.nodes.push(u)}}this.init()}Bu.prototype.init=function(){this.dirtyNodes=[];for(var i=0;i<this.nodes.length;i++)Jh.cleanNode(this.nodes[i])};Bu.prototype.cleanDirty=function(){for(var i=0;i<this.dirtyNodes.length;i++)Jh.cleanNode(this.dirtyNodes[i]);this.dirtyNodes=[]};Bu.prototype.markDirty=function(i){this.dirtyNodes.push(i)};Bu.prototype.neighbors=function(i){var s=[],o=i.x,e=i.y,r=this.grid;return r[o-1]&&r[o-1][e]&&s.push(r[o-1][e]),r[o+1]&&r[o+1][e]&&s.push(r[o+1][e]),r[o]&&r[o][e-1]&&s.push(r[o][e-1]),r[o]&&r[o][e+1]&&s.push(r[o][e+1]),this.diagonal&&(r[o-1]&&r[o-1][e-1]&&s.push(r[o-1][e-1]),r[o+1]&&r[o+1][e-1]&&s.push(r[o+1][e-1]),r[o-1]&&r[o-1][e+1]&&s.push(r[o-1][e+1]),r[o+1]&&r[o+1][e+1]&&s.push(r[o+1][e+1])),s};Bu.prototype.toString=function(){for(var i=[],s=this.grid,o,e,r,u,h=0,g=s.length;h<g;h++){for(o=[],e=s[h],r=0,u=e.length;r<u;r++)o.push(e[r].weight);i.push(o.join(" "))}return i.join(`
`)};function np(i,s,o){this.x=i,this.y=s,this.weight=o}np.prototype.toString=function(){return"["+this.x+" "+this.y+"]"};np.prototype.getCost=function(i){return i&&i.x!==this.x&&i.y!==this.y?this.weight*1.41421:this.weight};np.prototype.isWall=function(){return this.weight===0};function A0(i){this.content=[],this.scoreFunction=i}A0.prototype={push:function(i){this.content.push(i),this.sinkDown(this.content.length-1)},pop:function(){var i=this.content[0],s=this.content.pop();return this.content.length>0&&(this.content[0]=s,this.bubbleUp(0)),i},remove:function(i){var s=this.content.indexOf(i),o=this.content.pop();s!==this.content.length-1&&(this.content[s]=o,this.scoreFunction(o)<this.scoreFunction(i)?this.sinkDown(s):this.bubbleUp(s))},size:function(){return this.content.length},rescoreElement:function(i){this.sinkDown(this.content.indexOf(i))},sinkDown:function(i){for(var s=this.content[i];i>0;){var o=(i+1>>1)-1,e=this.content[o];if(this.scoreFunction(s)<this.scoreFunction(e))this.content[o]=s,this.content[i]=e,i=o;else break}},bubbleUp:function(i){for(var s=this.content.length,o=this.content[i],e=this.scoreFunction(o);;){var r=i+1<<1,u=r-1,h=null,g;if(u<s){var y=this.content[u];g=this.scoreFunction(y),g<e&&(h=u)}if(r<s){var w=this.content[r],D=this.scoreFunction(w);D<(h===null?e:g)&&(h=r)}if(h!==null)this.content[i]=this.content[h],this.content[h]=o,i=h;else break}}};function ed(){this._=null}function tu(i){i.U=i.C=i.L=i.R=i.P=i.N=null}ed.prototype={constructor:ed,insert:function(i,s){var o,e,r;if(i){if(s.P=i,s.N=i.N,i.N&&(i.N.P=s),i.N=s,i.R){for(i=i.R;i.L;)i=i.L;i.L=s}else i.R=s;o=i}else this._?(i=V0(this._),s.P=null,s.N=i,i.P=i.L=s,o=i):(s.P=s.N=null,this._=s,o=null);for(s.L=s.R=null,s.U=o,s.C=!0,i=s;o&&o.C;)e=o.U,o===e.L?(r=e.R,r&&r.C?(o.C=r.C=!1,e.C=!0,i=e):(i===o.R&&(zu(this,o),i=o,o=i.U),o.C=!1,e.C=!0,Hu(this,e))):(r=e.L,r&&r.C?(o.C=r.C=!1,e.C=!0,i=e):(i===o.L&&(Hu(this,o),i=o,o=i.U),o.C=!1,e.C=!0,zu(this,e))),o=i.U;this._.C=!1},remove:function(i){i.N&&(i.N.P=i.P),i.P&&(i.P.N=i.N),i.N=i.P=null;var s=i.U,o,e=i.L,r=i.R,u,h;if(e?r?u=V0(r):u=e:u=r,s?s.L===i?s.L=u:s.R=u:this._=u,e&&r?(h=u.C,u.C=i.C,u.L=e,e.U=u,u!==r?(s=u.U,u.U=i.U,i=u.R,s.L=i,u.R=r,r.U=u):(u.U=s,s=u,i=u.R)):(h=i.C,i=u),i&&(i.U=s),!h){if(i&&i.C){i.C=!1;return}do{if(i===this._)break;if(i===s.L){if(o=s.R,o.C&&(o.C=!1,s.C=!0,zu(this,s),o=s.R),o.L&&o.L.C||o.R&&o.R.C){(!o.R||!o.R.C)&&(o.L.C=!1,o.C=!0,Hu(this,o),o=s.R),o.C=s.C,s.C=o.R.C=!1,zu(this,s),i=this._;break}}else if(o=s.L,o.C&&(o.C=!1,s.C=!0,Hu(this,s),o=s.L),o.L&&o.L.C||o.R&&o.R.C){(!o.L||!o.L.C)&&(o.R.C=!1,o.C=!0,zu(this,o),o=s.L),o.C=s.C,s.C=o.L.C=!1,Hu(this,s),i=this._;break}o.C=!0,i=s,s=s.U}while(!i.C);i&&(i.C=!1)}}};function zu(i,s){var o=s,e=s.R,r=o.U;r?r.L===o?r.L=e:r.R=e:i._=e,e.U=r,o.U=e,o.R=e.L,o.R&&(o.R.U=o),e.L=o}function Hu(i,s){var o=s,e=s.L,r=o.U;r?r.L===o?r.L=e:r.R=e:i._=e,e.U=r,o.U=e,o.L=e.R,o.L&&(o.L.U=o),e.R=o}function V0(i){for(;i.L;)i=i.L;return i}var td=ed;function iu(i,s,o,e){var r=[null,null],u=eo.push(r)-1;return r.left=i,r.right=s,o&&qu(r,i,s,o),e&&qu(r,s,i,e),Fo[i.index].halfedges.push(u),Fo[s.index].halfedges.push(u),r}function nu(i,s,o){var e=[s,o];return e.left=i,e}function qu(i,s,o,e){!i[0]&&!i[1]?(i[0]=e,i.left=s,i.right=o):i.left===o?i[1]=e:i[0]=e}function Ub(i,s,o,e,r){var u=i[0],h=i[1],g=u[0],y=u[1],w=h[0],D=h[1],N=0,A=1,Y=w-g,X=D-y,j;if(j=s-g,!(!Y&&j>0)){if(j/=Y,Y<0){if(j<N)return;j<A&&(A=j)}else if(Y>0){if(j>A)return;j>N&&(N=j)}if(j=e-g,!(!Y&&j<0)){if(j/=Y,Y<0){if(j>A)return;j>N&&(N=j)}else if(Y>0){if(j<N)return;j<A&&(A=j)}if(j=o-y,!(!X&&j>0)){if(j/=X,X<0){if(j<N)return;j<A&&(A=j)}else if(X>0){if(j>A)return;j>N&&(N=j)}if(j=r-y,!(!X&&j<0)){if(j/=X,X<0){if(j>A)return;j>N&&(N=j)}else if(X>0){if(j<N)return;j<A&&(A=j)}return!(N>0)&&!(A<1)||(N>0&&(i[0]=[g+N*Y,y+N*X]),A<1&&(i[1]=[g+A*Y,y+A*X])),!0}}}}}function Kb(i,s,o,e,r){var u=i[1];if(u)return!0;var h=i[0],g=i.left,y=i.right,w=g[0],D=g[1],N=y[0],A=y[1],Y=(w+N)/2,X=(D+A)/2,j,E;if(A===D){if(Y<s||Y>=e)return;if(w>N){if(!h)h=[Y,o];else if(h[1]>=r)return;u=[Y,r]}else{if(!h)h=[Y,r];else if(h[1]<o)return;u=[Y,o]}}else if(j=(w-N)/(A-D),E=X-j*Y,j<-1||j>1)if(w>N){if(!h)h=[(o-E)/j,o];else if(h[1]>=r)return;u=[(r-E)/j,r]}else{if(!h)h=[(r-E)/j,r];else if(h[1]<o)return;u=[(o-E)/j,o]}else if(D<A){if(!h)h=[s,j*s+E];else if(h[0]>=e)return;u=[e,j*e+E]}else{if(!h)h=[e,j*e+E];else if(h[0]<s)return;u=[s,j*s+E]}return i[0]=h,i[1]=u,!0}function B0(i,s,o,e){for(var r=eo.length,u;r--;)(!Kb(u=eo[r],i,s,o,e)||!Ub(u,i,s,o,e)||!(Math.abs(u[0][0]-u[1][0])>pn||Math.abs(u[0][1]-u[1][1])>pn))&&delete eo[r]}function z0(i){return Fo[i.index]={site:i,halfedges:[]}}function Zb(i,s){var o=i.site,e=s.left,r=s.right;return o===r&&(r=e,e=o),r?Math.atan2(r[1]-e[1],r[0]-e[0]):(o===e?(e=s[1],r=s[0]):(e=s[0],r=s[1]),Math.atan2(e[0]-r[0],r[1]-e[1]))}function id(i,s){return s[+(s.left!==i.site)]}function Yb(i,s){return s[+(s.left===i.site)]}function H0(){for(var i=0,s=Fo.length,o,e,r,u;i<s;++i)if((o=Fo[i])&&(u=(e=o.halfedges).length)){var h=new Array(u),g=new Array(u);for(r=0;r<u;++r)h[r]=r,g[r]=Zb(o,eo[e[r]]);for(h.sort(function(y,w){return g[w]-g[y]}),r=0;r<u;++r)g[r]=e[h[r]];for(r=0;r<u;++r)e[r]=g[r]}}function q0(i,s,o,e){var r=Fo.length,u,h,g,y,w,D,N,A,Y,X,j,E,O=!0;for(u=0;u<r;++u)if(h=Fo[u]){for(g=h.site,w=h.halfedges,y=w.length;y--;)eo[w[y]]||w.splice(y,1);for(y=0,D=w.length;y<D;)X=Yb(h,eo[w[y]]),j=X[0],E=X[1],N=id(h,eo[w[++y%D]]),A=N[0],Y=N[1],(Math.abs(j-A)>pn||Math.abs(E-Y)>pn)&&(w.splice(y,0,eo.push(nu(g,X,Math.abs(j-i)<pn&&e-E>pn?[i,Math.abs(A-i)<pn?Y:e]:Math.abs(E-e)<pn&&o-j>pn?[Math.abs(Y-e)<pn?A:o,e]:Math.abs(j-o)<pn&&E-s>pn?[o,Math.abs(A-o)<pn?Y:s]:Math.abs(E-s)<pn&&j-i>pn?[Math.abs(Y-s)<pn?A:i,s]:null))-1),++D);D&&(O=!1)}if(O){var F,R,Z,ee=1/0;for(u=0,O=null;u<r;++u)(h=Fo[u])&&(g=h.site,F=g[0]-i,R=g[1]-s,Z=F*F+R*R,Z<ee&&(ee=Z,O=h));if(O){var re=[i,s],se=[i,e],B=[o,e],_e=[o,s];O.halfedges.push(eo.push(nu(g=O.site,re,se))-1,eo.push(nu(g,se,B))-1,eo.push(nu(g,B,_e))-1,eo.push(nu(g,_e,re))-1)}}for(u=0;u<r;++u)(h=Fo[u])&&(h.halfedges.length||delete Fo[u])}var G0=[],rp;function jb(){tu(this),this.x=this.y=this.arc=this.site=this.cy=null}function yl(i){var s=i.P,o=i.N;if(!(!s||!o)){var e=s.site,r=i.site,u=o.site;if(e!==u){var h=r[0],g=r[1],y=e[0]-h,w=e[1]-g,D=u[0]-h,N=u[1]-g,A=2*(y*N-w*D);if(!(A>=-U0)){var Y=y*y+w*w,X=D*D+N*N,j=(N*Y-w*X)/A,E=(y*X-D*Y)/A,O=G0.pop()||new jb;O.arc=i,O.site=r,O.x=j+h,O.y=(O.cy=E+g)+Math.sqrt(j*j+E*E),i.circle=O;for(var F=null,R=ru._;R;)if(O.y<R.y||O.y===R.y&&O.x<=R.x)if(R.L)R=R.L;else{F=R.P;break}else if(R.R)R=R.R;else{F=R;break}ru.insert(F,O),F||(rp=O)}}}}function vl(i){var s=i.circle;s&&(s.P||(rp=s.N),ru.remove(s),G0.push(s),tu(s),i.circle=null)}var Z0=[];function Wb(){tu(this),this.edge=this.site=this.circle=null}function K0(i){var s=Z0.pop()||new Wb;return s.site=i,s}function nd(i){vl(i),xl.remove(i),Z0.push(i),tu(i)}function Y0(i){var s=i.circle,o=s.x,e=s.cy,r=[o,e],u=i.P,h=i.N,g=[i];nd(i);for(var y=u;y.circle&&Math.abs(o-y.circle.x)<pn&&Math.abs(e-y.circle.cy)<pn;)u=y.P,g.unshift(y),nd(y),y=u;g.unshift(y),vl(y);for(var w=h;w.circle&&Math.abs(o-w.circle.x)<pn&&Math.abs(e-w.circle.cy)<pn;)h=w.N,g.push(w),nd(w),w=h;g.push(w),vl(w);var D=g.length,N;for(N=1;N<D;++N)w=g[N],y=g[N-1],qu(w.edge,y.site,w.site,r);y=g[0],w=g[D-1],w.edge=iu(y.site,w.site,null,r),yl(y),yl(w)}function j0(i){for(var s=i[0],o=i[1],e,r,u,h,g=xl._;g;)if(u=W0(g,o)-s,u>pn)g=g.L;else if(h=s-Xb(g,o),h>pn){if(!g.R){e=g;break}g=g.R}else{u>-pn?(e=g.P,r=g):h>-pn?(e=g,r=g.N):e=r=g;break}z0(i);var y=K0(i);if(xl.insert(e,y),!(!e&&!r)){if(e===r){vl(e),r=K0(e.site),xl.insert(y,r),y.edge=r.edge=iu(e.site,y.site),yl(e),yl(r);return}if(!r){y.edge=iu(e.site,y.site);return}vl(e),vl(r);var w=e.site,D=w[0],N=w[1],A=i[0]-D,Y=i[1]-N,X=r.site,j=X[0]-D,E=X[1]-N,O=2*(A*E-Y*j),F=A*A+Y*Y,R=j*j+E*E,Z=[(E*F-Y*R)/O+D,(A*R-j*F)/O+N];qu(r.edge,w,X,Z),y.edge=iu(w,i,null,Z),r.edge=iu(i,X,null,Z),yl(e),yl(r)}}function W0(i,s){var o=i.site,e=o[0],r=o[1],u=r-s;if(!u)return e;var h=i.P;if(!h)return-1/0;o=h.site;var g=o[0],y=o[1],w=y-s;if(!w)return g;var D=g-e,N=1/u-1/w,A=D/w;return N?(-A+Math.sqrt(A*A-2*N*(D*D/(-2*w)-y+w/2+r-u/2)))/N+e:(e+g)/2}function Xb(i,s){var o=i.N;if(o)return W0(o,s);var e=i.site;return e[1]===s?e[0]:1/0}var pn=1e-6,U0=1e-12,xl,Fo,ru,eo;function $b(i,s,o){return(i[0]-o[0])*(s[1]-i[1])-(i[0]-s[0])*(o[1]-i[1])}function Qb(i,s){return s[1]-i[1]||s[0]-i[0]}function op(i,s){var o=i.sort(Qb).pop(),e,r,u;for(eo=[],Fo=new Array(i.length),xl=new td,ru=new td;;)if(u=rp,o&&(!u||o[1]<u.y||o[1]===u.y&&o[0]<u.x))(o[0]!==e||o[1]!==r)&&(j0(o),e=o[0],r=o[1]),o=i.pop();else if(u)Y0(u.arc);else break;if(H0(),s){var h=+s[0][0],g=+s[0][1],y=+s[1][0],w=+s[1][1];B0(h,g,y,w),q0(h,g,y,w)}this.edges=eo,this.cells=Fo,xl=ru=eo=Fo=null}op.prototype={constructor:op,polygons:function(){var i=this.edges;return this.cells.map(function(s){var o=s.halfedges.map(function(e){return id(s,i[e])});return o.data=s.site.data,o})},triangles:function(){var i=[],s=this.edges;return this.cells.forEach(function(o,e){if(g=(u=o.halfedges).length)for(var r=o.site,u,h=-1,g,y,w=s[u[g-1]],D=w.left===r?w.right:w.left;++h<g;)y=D,w=s[u[h]],D=w.left===r?w.right:w.left,y&&D&&e<y.index&&e<D.index&&$b(r,y,D)<0&&i.push([r.data,y.data,D.data])}),i},links:function(){return this.edges.filter(function(i){return i.right}).map(function(i){return{source:i.left.data,target:i.right.data}})},find:function(i,s,o){for(var e=this,r,u=e._found||0,h=e.cells.length,g;!(g=e.cells[u]);)if(++u>=h)return null;var y=i-g.site[0],w=s-g.site[1],D=y*y+w*w;do g=e.cells[r=u],u=null,g.halfedges.forEach(function(N){var A=e.edges[N],Y=A.left;if(!((Y===g.site||!Y)&&!(Y=A.right))){var X=i-Y[0],j=s-Y[1],E=X*X+j*j;E<D&&(D=E,u=Y.index)}});while(u!==null);return e._found=r,o==null||D<=o*o?g.site:null}};var sw=rr(ou(),1);var yd=rr(J0(),1);function Wo(){return new lp}function lp(){this.reset()}lp.prototype={constructor:lp,reset:function(){this.s=this.t=0},add:function(i){e_(ap,i,this.t),e_(this,ap.s,this.s),this.s?this.t+=ap.t:this.s=ap.t},valueOf:function(){return this.s}};var ap=new lp;function e_(i,s,o){var e=i.s=s+o,r=e-s,u=e-r;i.t=s-u+(o-r)}var qi=1e-6;var $i=Math.PI,Nr=$i/2,up=$i/4,ca=$i*2,bl=180/$i,Xo=$i/180,sr=Math.abs,Ks=Math.atan,$o=Math.atan2,Di=Math.cos;var cp=Math.exp;var Gu=Math.log;var Zt=Math.sin;var lo=Math.sqrt,Uu=Math.tan;function sd(i){return i>1?0:i<-1?$i:Math.acos(i)}function No(i){return i>1?Nr:i<-1?-Nr:Math.asin(i)}function Zs(){}var aw=Wo(),X7=Wo();function wl(i){var s=i[0],o=i[1],e=Di(o);return[e*Di(s),e*Zt(s),Zt(o)]}function Ku(i,s){return[i[1]*s[2]-i[2]*s[1],i[2]*s[0]-i[0]*s[2],i[0]*s[1]-i[1]*s[0]]}function Zu(i){var s=lo(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);i[0]/=s,i[1]/=s,i[2]/=s}var s9=Wo();function i_(i,s){return[i>$i?i-ca:i<-$i?i+ca:i,s]}i_.invert=i_;function ad(){var i=[],s;return{point:function(o,e){s.push([o,e])},lineStart:function(){i.push(s=[])},lineEnd:Zs,rejoin:function(){i.length>1&&i.push(i.pop().concat(i.shift()))},result:function(){var o=i;return i=[],s=null,o}}}function ld(i,s){return sr(i[0]-s[0])<qi&&sr(i[1]-s[1])<qi}function pp(i,s,o,e){this.x=i,this.z=s,this.o=o,this.e=e,this.v=!1,this.n=this.p=null}function ud(i,s,o,e,r){var u=[],h=[],g,y;if(i.forEach(function(X){if(!((j=X.length-1)<=0)){var j,E=X[0],O=X[j],F;if(ld(E,O)){for(r.lineStart(),g=0;g<j;++g)r.point((E=X[g])[0],E[1]);r.lineEnd();return}u.push(F=new pp(E,X,null,!0)),h.push(F.o=new pp(E,null,F,!1)),u.push(F=new pp(O,X,null,!1)),h.push(F.o=new pp(O,null,F,!0))}}),!!u.length){for(h.sort(s),n_(u),n_(h),g=0,y=h.length;g<y;++g)h[g].e=o=!o;for(var w=u[0],D,N;;){for(var A=w,Y=!0;A.v;)if((A=A.n)===w)return;D=A.z,r.lineStart();do{if(A.v=A.o.v=!0,A.e){if(Y)for(g=0,y=D.length;g<y;++g)r.point((N=D[g])[0],N[1]);else e(A.x,A.n.x,1,r);A=A.n}else{if(Y)for(D=A.p.z,g=D.length-1;g>=0;--g)r.point((N=D[g])[0],N[1]);else e(A.x,A.p.x,-1,r);A=A.p}A=A.o,D=A.z,Y=!Y}while(!A.v);r.lineEnd()}}}function n_(i){if(s=i.length){for(var s,o=0,e=i[0],r;++o<s;)e.n=r=i[o],r.p=e,e=r;e.n=r=i[0],r.p=e}}function Wa(i,s){return i<s?-1:i>s?1:i>=s?0:NaN}function cd(i){return i.length===1&&(i=cw(i)),{left:function(s,o,e,r){for(e==null&&(e=0),r==null&&(r=s.length);e<r;){var u=e+r>>>1;i(s[u],o)<0?e=u+1:r=u}return e},right:function(s,o,e,r){for(e==null&&(e=0),r==null&&(r=s.length);e<r;){var u=e+r>>>1;i(s[u],o)>0?r=u:e=u+1}return e}}}function cw(i){return function(s,o){return Wa(i(s),o)}}var r_=cd(Wa),pw=r_.right,hw=r_.left;var o_=Array.prototype,fw=o_.slice,mw=o_.map;var Q9=Math.sqrt(50),J9=Math.sqrt(10),e8=Math.sqrt(2);function dp(i){for(var s=i.length,o,e=-1,r=0,u,h;++e<s;)r+=i[e].length;for(u=new Array(r);--s>=0;)for(h=i[s],o=h.length;--o>=0;)u[--r]=h[o];return u}var Cw=1e9,AV=-Cw;var pd=Wo();function hd(i,s){var o=s[0],e=s[1],r=[Zt(o),-Di(o),0],u=0,h=0;pd.reset();for(var g=0,y=i.length;g<y;++g)if(D=(w=i[g]).length)for(var w,D,N=w[D-1],A=N[0],Y=N[1]/2+up,X=Zt(Y),j=Di(Y),E=0;E<D;++E,A=F,X=Z,j=ee,N=O){var O=w[E],F=O[0],R=O[1]/2+up,Z=Zt(R),ee=Di(R),re=F-A,se=re>=0?1:-1,B=se*re,_e=B>$i,Te=X*Z;if(pd.add($o(Te*se*Zt(B),j*ee+Te*Di(B))),u+=_e?re+se*ca:re,_e^A>=o^F>=o){var Pe=Ku(wl(N),wl(O));Zu(Pe);var W=Ku(r,Pe);Zu(W);var Bt=(_e^re>=0?-1:1)*No(W[2]);(e>Bt||e===Bt&&(Pe[0]||Pe[1]))&&(h+=_e^re>=0?1:-1)}}return(u<-qi||u<qi&&pd<-qi)^h&1}var YV=Wo();var hB=Wo(),dB=Wo();var Tw=1/0;var gB=-Tw;function dd(i){this._context=i}dd.prototype={_radius:4.5,pointRadius:function(i){return this._radius=i,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(i,s){switch(this._point){case 0:{this._context.moveTo(i,s),this._point=1;break}case 1:{this._context.lineTo(i,s);break}default:{this._context.moveTo(i+this._radius,s),this._context.arc(i,s,this._radius,0,ca);break}}},result:Zs};var TB=Wo();function fd(){this._string=[]}fd.prototype={_radius:4.5,_circle:l_(4.5),pointRadius:function(i){return(i=+i)!==this._radius&&(this._radius=i,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(i,s){switch(this._point){case 0:{this._string.push("M",i,",",s),this._point=1;break}case 1:{this._string.push("L",i,",",s);break}default:{this._circle==null&&(this._circle=l_(this._radius)),this._string.push("M",i,",",s,this._circle);break}}},result:function(){if(this._string.length){var i=this._string.join("");return this._string=[],i}else return null}};function l_(i){return"m0,"+i+"a"+i+","+i+" 0 1,1 0,"+-2*i+"a"+i+","+i+" 0 1,1 0,"+2*i+"z"}function md(i,s,o,e){return function(r,u){var h=s(u),g=r.invert(e[0],e[1]),y=ad(),w=s(y),D=!1,N,A,Y,X={point:j,lineStart:O,lineEnd:F,polygonStart:function(){X.point=R,X.lineStart=Z,X.lineEnd=ee,A=[],N=[]},polygonEnd:function(){X.point=j,X.lineStart=O,X.lineEnd=F,A=dp(A);var re=hd(N,g);A.length?(D||(u.polygonStart(),D=!0),ud(A,Ow,re,o,u)):re&&(D||(u.polygonStart(),D=!0),u.lineStart(),o(null,null,1,u),u.lineEnd()),D&&(u.polygonEnd(),D=!1),A=N=null},sphere:function(){u.polygonStart(),u.lineStart(),o(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function j(re,se){var B=r(re,se);i(re=B[0],se=B[1])&&u.point(re,se)}function E(re,se){var B=r(re,se);h.point(B[0],B[1])}function O(){X.point=E,h.lineStart()}function F(){X.point=j,h.lineEnd()}function R(re,se){Y.push([re,se]);var B=r(re,se);w.point(B[0],B[1])}function Z(){w.lineStart(),Y=[]}function ee(){R(Y[0][0],Y[0][1]),w.lineEnd();var re=w.clean(),se=y.result(),B,_e=se.length,Te,Pe,W;if(Y.pop(),N.push(Y),Y=null,!!_e){if(re&1){if(Pe=se[0],(Te=Pe.length-1)>0){for(D||(u.polygonStart(),D=!0),u.lineStart(),B=0;B<Te;++B)u.point((W=Pe[B])[0],W[1]);u.lineEnd()}return}_e>1&&re&2&&se.push(se.pop().concat(se.shift())),A.push(se.filter(Mw))}}return X}}function Mw(i){return i.length>1}function Ow(i,s){return((i=i.x)[0]<0?i[1]-Nr-qi:Nr-i[1])-((s=s.x)[0]<0?s[1]-Nr-qi:Nr-s[1])}var Lw=md(function(){return!0},Pw,Dw,[-$i,-Nr]);function Pw(i){var s=NaN,o=NaN,e=NaN,r;return{lineStart:function(){i.lineStart(),r=1},point:function(u,h){var g=u>0?$i:-$i,y=sr(u-s);sr(y-$i)<qi?(i.point(s,o=(o+h)/2>0?Nr:-Nr),i.point(e,o),i.lineEnd(),i.lineStart(),i.point(g,o),i.point(u,o),r=0):e!==g&&y>=$i&&(sr(s-e)<qi&&(s-=e*qi),sr(u-g)<qi&&(u-=g*qi),o=kw(s,o,u,h),i.point(e,o),i.lineEnd(),i.lineStart(),i.point(g,o),r=0),i.point(s=u,o=h),e=g},lineEnd:function(){i.lineEnd(),s=o=NaN},clean:function(){return 2-r}}}function kw(i,s,o,e){var r,u,h=Zt(i-o);return sr(h)>qi?Ks((Zt(s)*(u=Di(e))*Zt(o)-Zt(e)*(r=Di(s))*Zt(i))/(r*u*h)):(s+e)/2}function Dw(i,s,o,e){var r;if(i==null)r=o*Nr,e.point(-$i,r),e.point(0,r),e.point($i,r),e.point($i,0),e.point($i,-r),e.point(0,-r),e.point(-$i,-r),e.point(-$i,0),e.point(-$i,r);else if(sr(i[0]-s[0])>qi){var u=i[0]<s[0]?$i:-$i;r=o*u/2,e.point(-u,r),e.point(0,r),e.point(u,r)}else e.point(s[0],s[1])}function fp(i){return function(s){var o=new gd;for(var e in i)o[e]=i[e];return o.stream=s,o}}function gd(){}gd.prototype={constructor:gd,point:function(i,s){this.stream.point(i,s)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var dz=Di(30*Xo);var Ez=fp({point:function(i,s){this.stream.point(i*Xo,s*Xo)}});function mp(i){return function(s,o){var e=Di(s),r=Di(o),u=i(e*r);return[u*r*Zt(s),u*Zt(o)]}}function pa(i){return function(s,o){var e=lo(s*s+o*o),r=i(e),u=Zt(r),h=Di(r);return[$o(s*u,e*h),No(e&&o*u/e)]}}var m_=mp(function(i){return lo(2/(1+i))});m_.invert=pa(function(i){return 2*No(i/2)});var g_=mp(function(i){return(i=sd(i))&&i/Zt(i)});g_.invert=pa(function(i){return i});function _d(i,s){return[i,Gu(Uu((Nr+s)/2))]}_d.invert=function(i,s){return[i,2*Ks(cp(s))-Nr]};function gp(i,s){return[i,s]}gp.invert=gp;function __(i,s){var o=Di(s),e=Di(i)*o;return[o*Zt(i)/e,Zt(s)/e]}__.invert=pa(Ks);function y_(i,s){var o=s*s,e=o*o;return[i*(.8707-.131979*o+e*(-.013791+e*(.003971*o-.001529*e))),s*(1.007226+o*(.015085+e*(-.044475+.028874*o-.005916*e)))]}y_.invert=function(i,s){var o=s,e=25,r;do{var u=o*o,h=u*u;o-=r=(o*(1.007226+u*(.015085+h*(-.044475+.028874*u-.005916*h)))-s)/(1.007226+u*(.015085*3+h*(-.044475*7+.028874*9*u-.005916*11*h)))}while(sr(r)>qi&&--e>0);return[i/(.8707+(u=o*o)*(-.131979+u*(-.013791+u*u*u*(.003971-.001529*u)))),o]};function v_(i,s){return[Di(s)*Zt(i),Zt(s)]}v_.invert=pa(No);function x_(i,s){var o=Di(s),e=1+Di(i)*o;return[o*Zt(i)/e,Zt(s)/e]}x_.invert=pa(function(i){return 2*Ks(i)});function b_(i,s){return[Gu(Uu((Nr+s)/2)),-i]}b_.invert=function(i,s){return[-s,2*Ks(cp(i))-Nr]};var Bw=rr(ou(),1);var zw=rr(ou(),1);var qw=rr(ou(),1);var Gw=rr(ou(),1);var Jw=["overlay"],eC=["content"],tC=["*"],iC=(i,s,o,e,r,u,h,g,y,w,D,N,A,Y)=>({"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":i,"p-overlay-center":s,"p-overlay-top":o,"p-overlay-top-start":e,"p-overlay-top-end":r,"p-overlay-bottom":u,"p-overlay-bottom-start":h,"p-overlay-bottom-end":g,"p-overlay-left":y,"p-overlay-left-start":w,"p-overlay-left-end":D,"p-overlay-right":N,"p-overlay-right-start":A,"p-overlay-right-end":Y}),nC=(i,s,o)=>({showTransitionParams:i,hideTransitionParams:s,transform:o}),rC=i=>({value:"visible",params:i}),oC=i=>({mode:i}),sC=i=>({$implicit:i});function aC(i,s){i&1&&it(0)}function lC(i,s){if(i&1){let o=We();H(0,"div",3,1),Oe("click",function(r){te(o);let u=T(2);return ie(u.onOverlayContentClick(r))})("@overlayContentAnimation.start",function(r){te(o);let u=T(2);return ie(u.onOverlayContentAnimationStart(r))})("@overlayContentAnimation.done",function(r){te(o);let u=T(2);return ie(u.onOverlayContentAnimationDone(r))}),Do(2),K(3,aC,1,0,"ng-container",4),U()}if(i&2){let o=T(2);Re(o.contentStyleClass),I("ngStyle",o.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",nt(11,rC,Vn(7,nC,o.showTransitionOptions,o.hideTransitionOptions,o.transformOptions[o.modal?o.overlayResponsiveDirection:"default"]))),S(3),I("ngTemplateOutlet",o.contentTemplate)("ngTemplateOutletContext",nt(15,sC,nt(13,oC,o.overlayMode)))}}function uC(i,s){if(i&1){let o=We();H(0,"div",3,0),Oe("click",function(){te(o);let r=T();return ie(r.onOverlayClick())}),K(2,lC,4,17,"div",2),U()}if(i&2){let o=T();Re(o.styleClass),I("ngStyle",o.style)("ngClass",Tp(5,iC,[o.modal,o.modal&&o.overlayResponsiveDirection==="center",o.modal&&o.overlayResponsiveDirection==="top",o.modal&&o.overlayResponsiveDirection==="top-start",o.modal&&o.overlayResponsiveDirection==="top-end",o.modal&&o.overlayResponsiveDirection==="bottom",o.modal&&o.overlayResponsiveDirection==="bottom-start",o.modal&&o.overlayResponsiveDirection==="bottom-end",o.modal&&o.overlayResponsiveDirection==="left",o.modal&&o.overlayResponsiveDirection==="left-start",o.modal&&o.overlayResponsiveDirection==="left-end",o.modal&&o.overlayResponsiveDirection==="right",o.modal&&o.overlayResponsiveDirection==="right-start",o.modal&&o.overlayResponsiveDirection==="right-end"])),S(2),I("ngIf",o.visible)}}var cC={provide:Er,useExisting:Ir(()=>Cl),multi:!0},pC=Nl([fs({transform:"{{transform}}",opacity:0}),Gs("{{showTransitionParams}}")]),hC=Nl([Gs("{{hideTransitionParams}}",fs({transform:"{{transform}}",opacity:0}))]),Cl=(()=>{let s=class s{constructor(e,r,u,h,g,y,w,D){f(this,"document");f(this,"platformId");f(this,"el");f(this,"renderer");f(this,"config");f(this,"overlayService");f(this,"cd");f(this,"zone");f(this,"visibleChange",new qe);f(this,"onBeforeShow",new qe);f(this,"onShow",new qe);f(this,"onBeforeHide",new qe);f(this,"onHide",new qe);f(this,"onAnimationStart",new qe);f(this,"onAnimationDone",new qe);f(this,"templates");f(this,"overlayViewChild");f(this,"contentViewChild");f(this,"contentTemplate");f(this,"_visible",!1);f(this,"_mode");f(this,"_style");f(this,"_styleClass");f(this,"_contentStyle");f(this,"_contentStyleClass");f(this,"_target");f(this,"_appendTo");f(this,"_autoZIndex");f(this,"_baseZIndex");f(this,"_showTransitionOptions");f(this,"_hideTransitionOptions");f(this,"_listener");f(this,"_responsive");f(this,"_options");f(this,"modalVisible",!1);f(this,"isOverlayClicked",!1);f(this,"isOverlayContentClicked",!1);f(this,"scrollHandler");f(this,"documentClickListener");f(this,"documentResizeListener");f(this,"documentKeyboardListener");f(this,"window");f(this,"transformOptions",{default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"});this.document=e,this.platformId=r,this.el=u,this.renderer=h,this.config=g,this.overlayService=y,this.cd=w,this.zone=D,this.window=this.document.defaultView}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(e){this._mode=e}get style(){return Ve.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(e){this._style=e}get styleClass(){return Ve.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(e){this._styleClass=e}get contentStyle(){return Ve.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(e){this._contentStyle=e}get contentStyleClass(){return Ve.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(e){this._contentStyleClass=e}get target(){let e=this._target||this.overlayOptions?.target;return e===void 0?"@prev":e}set target(e){this._target=e}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(e){this._appendTo=e}get autoZIndex(){let e=this._autoZIndex||this.overlayOptions?.autoZIndex;return e===void 0?!0:e}set autoZIndex(e){this._autoZIndex=e}get baseZIndex(){let e=this._baseZIndex||this.overlayOptions?.baseZIndex;return e===void 0?0:e}set baseZIndex(e){this._baseZIndex=e}get showTransitionOptions(){let e=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return e===void 0?".12s cubic-bezier(0, 0, 0.2, 1)":e}set showTransitionOptions(e){this._showTransitionOptions=e}get hideTransitionOptions(){let e=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return e===void 0?".1s linear":e}set hideTransitionOptions(e){this._hideTransitionOptions=e}get listener(){return this._listener||this.overlayOptions?.listener}set listener(e){this._listener=e}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(e){this._responsive=e}get options(){return this._options}set options(e){this._options=e}get modal(){if(Ba(this.platformId))return this.mode==="modal"||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return Cr(Cr({},this.config?.overlayOptions),this.options)}get overlayResponsiveOptions(){return Cr(Cr({},this.overlayOptions?.responsive),this.responsive)}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return ge.getTargetElement(this.target,this.el?.nativeElement)}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}show(e,r=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),r&&ge.focus(this.targetEl),this.modal&&ge.addClass(this.document?.body,"p-overflow-hidden")}hide(e,r=!1){if(this.visible)this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),r&&ge.focus(this.targetEl),this.modal&&ge.removeClass(this.document?.body,"p-overflow-hidden");else return}alignOverlay(){!this.modal&&ge.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(e){this._visible=e,this.visibleChange.emit(e)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(e){this.overlayService.add({originalEvent:e,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(e){switch(e.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&Ta.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),ge.appendOverlay(this.overlayEl,this.appendTo==="body"?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&ge.addClass(this.overlayEl,"p-component-overlay-leave");break}this.handleEvents("onAnimationStart",e)}onOverlayContentAnimationDone(e){let r=this.overlayEl||e.element.parentElement;switch(e.toState){case"visible":this.visible&&this.show(r,!0),this.bindListeners();break;case"void":if(!this.visible){this.hide(r,!0),this.modalVisible=!1,this.unbindListeners(),ge.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Ta.clear(r),this.cd.markForCheck();break}}this.handleEvents("onAnimationDone",e)}handleEvents(e,r){this[e].emit(r),this.options&&this.options[e]&&this.options[e](r),this.config?.overlayOptions&&(this.config?.overlayOptions)[e]&&(this.config?.overlayOptions)[e](r)}bindListeners(){this.unbindListeners(),this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new hc(this.targetEl,e=>{(this.listener?this.listener(e,{type:"scroll",mode:this.overlayMode,valid:!0}):!0)&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",e=>{let u=!(this.targetEl&&(this.targetEl.isSameNode(e.target)||!this.isOverlayClicked&&this.targetEl.contains(e.target)))&&!this.isOverlayContentClicked;(this.listener?this.listener(e,{type:"outside",mode:this.overlayMode,valid:e.which!==3&&u}):u)&&this.hide(e),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",e=>{(this.listener?this.listener(e,{type:"resize",mode:this.overlayMode,valid:!ge.isTouchDevice()}):!ge.isTouchDevice())&&this.hide(e,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",e=>{if(this.overlayOptions.hideOnEscape===!1||e.code!=="Escape")return;(this.listener?this.listener(e,{type:"keydown",mode:this.overlayMode,valid:!ge.isTouchDevice()}):!ge.isTouchDevice())&&this.zone.run(()=>{this.hide(e,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(ge.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Ta.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}};f(s,"\u0275fac",function(r){return new(r||s)(Ge(ds),Ge(sc),Ge(Sr),Ge(yo),Ge(so),Ge(za),Ge(Xi),Ge(ps))}),f(s,"\u0275cmp",je({type:s,selectors:[["p-overlay"]],contentQueries:function(r,u,h){if(r&1&&Gi(h,Pi,4),r&2){let g;Je(g=et())&&(u.templates=g)}},viewQuery:function(r,u){if(r&1&&(Ct(Jw,5),Ct(eC,5)),r&2){let h;Je(h=et())&&(u.overlayViewChild=h.first),Je(h=et())&&(u.contentViewChild=h.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[jn([cC])],ngContentSelectors:tC,decls:1,vars:1,consts:[["overlay",""],["content",""],[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"click","ngStyle","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,u){r&1&&(hs(),K(0,uC,3,20,"div",2)),r&2&&I("ngIf",u.modalVisible)},dependencies:[xn,un,wn,bn],styles:[`@layer primeng{.p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}}
`],encapsulation:2,data:{animation:[vu("overlayContentAnimation",[Ea(":enter",[dc(pC)]),Ea(":leave",[dc(hC)])])]},changeDetection:0}));let i=s;return i})(),La=(()=>{let s=class s{};f(s,"\u0275fac",function(r){return new(r||s)}),f(s,"\u0275mod",Vt({type:s})),f(s,"\u0275inj",At({imports:[kt,wt,wt]}));let i=s;return i})();var dC=["element"],fC=["content"],mC=["*"],gC=(i,s,o)=>({"p-scroller":!0,"p-scroller-inline":i,"p-both-scroll":s,"p-horizontal-scroll":o}),xd=(i,s)=>({$implicit:i,options:s}),_C=i=>({"p-scroller-loading":i}),yC=i=>({"p-component-overlay":i}),vC=i=>({numCols:i}),C_=i=>({options:i}),xC=()=>({styleClass:"p-scroller-loading-icon"}),bC=(i,s)=>({rows:i,columns:s});function wC(i,s){i&1&&it(0)}function CC(i,s){if(i&1&&(Fe(0),K(1,wC,1,0,"ng-container",10),Ne()),i&2){let o=T(2);S(),I("ngTemplateOutlet",o.contentTemplate)("ngTemplateOutletContext",Hi(2,xd,o.loadedItems,o.getContentOptions()))}}function IC(i,s){i&1&&it(0)}function SC(i,s){if(i&1&&(Fe(0),K(1,IC,1,0,"ng-container",10),Ne()),i&2){let o=s.$implicit,e=s.index,r=T(3);S(),I("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",Hi(2,xd,o,r.getOptions(e)))}}function TC(i,s){if(i&1&&(H(0,"div",11,3),K(2,SC,2,5,"ng-container",12),U()),i&2){let o=T(2);I("ngClass",nt(5,_C,o.d_loading))("ngStyle",o.contentStyle),ne("data-pc-section","content"),S(2),I("ngForOf",o.loadedItems)("ngForTrackBy",o._trackBy||o.index)}}function EC(i,s){if(i&1&&ye(0,"div",13),i&2){let o=T(2);I("ngStyle",o.spacerStyle),ne("data-pc-section","spacer")}}function MC(i,s){i&1&&it(0)}function OC(i,s){if(i&1&&(Fe(0),K(1,MC,1,0,"ng-container",10),Ne()),i&2){let o=s.index,e=T(4);S(),I("ngTemplateOutlet",e.loaderTemplate)("ngTemplateOutletContext",nt(4,C_,e.getLoaderOptions(o,e.both&&nt(2,vC,e._numItemsInViewport.cols))))}}function LC(i,s){if(i&1&&(Fe(0),K(1,OC,2,6,"ng-container",15),Ne()),i&2){let o=T(3);S(),I("ngForOf",o.loaderArr)}}function PC(i,s){i&1&&it(0)}function kC(i,s){if(i&1&&(Fe(0),K(1,PC,1,0,"ng-container",10),Ne()),i&2){let o=T(4);S(),I("ngTemplateOutlet",o.loaderIconTemplate)("ngTemplateOutletContext",nt(3,C_,Yo(2,xC)))}}function DC(i,s){i&1&&ye(0,"SpinnerIcon",16),i&2&&(I("styleClass","p-scroller-loading-icon pi-spin"),ne("data-pc-section","loadingIcon"))}function RC(i,s){if(i&1&&K(0,kC,2,5,"ng-container",6)(1,DC,1,2,"ng-template",null,5,Tr),i&2){let o=Zi(2),e=T(3);I("ngIf",e.loaderIconTemplate)("ngIfElse",o)}}function FC(i,s){if(i&1&&(H(0,"div",14),K(1,LC,2,1,"ng-container",6)(2,RC,3,2,"ng-template",null,4,Tr),U()),i&2){let o=Zi(3),e=T(2);I("ngClass",nt(4,yC,!e.loaderTemplate)),ne("data-pc-section","loader"),S(),I("ngIf",e.loaderTemplate)("ngIfElse",o)}}function NC(i,s){if(i&1){let o=We();Fe(0),H(1,"div",7,1),Oe("scroll",function(r){te(o);let u=T();return ie(u.onContainerScroll(r))}),K(3,CC,2,5,"ng-container",6)(4,TC,3,7,"ng-template",null,2,Tr)(6,EC,1,2,"div",8)(7,FC,4,6,"div",9),U(),Ne()}if(i&2){let o=Zi(5),e=T();S(),Re(e._styleClass),I("ngStyle",e._style)("ngClass",Vn(12,gC,e.inline,e.both,e.horizontal)),ne("id",e._id)("tabindex",e.tabindex)("data-pc-name","scroller")("data-pc-section","root"),S(2),I("ngIf",e.contentTemplate)("ngIfElse",o),S(3),I("ngIf",e._showSpacer),S(),I("ngIf",!e.loaderDisabled&&e._showLoader&&e.d_loading)}}function AC(i,s){i&1&&it(0)}function VC(i,s){if(i&1&&(Fe(0),K(1,AC,1,0,"ng-container",10),Ne()),i&2){let o=T(2);S(),I("ngTemplateOutlet",o.contentTemplate)("ngTemplateOutletContext",Hi(5,xd,o.items,Hi(2,bC,o._items,o.loadedColumns)))}}function BC(i,s){if(i&1&&(Do(0),K(1,VC,2,8,"ng-container",17)),i&2){let o=T();S(),I("ngIf",o.contentTemplate)}}var au=(()=>{let s=class s{constructor(e,r,u,h,g){f(this,"document");f(this,"platformId");f(this,"renderer");f(this,"cd");f(this,"zone");f(this,"onLazyLoad",new qe);f(this,"onScroll",new qe);f(this,"onScrollIndexChange",new qe);f(this,"elementViewChild");f(this,"contentViewChild");f(this,"templates");f(this,"_id");f(this,"_style");f(this,"_styleClass");f(this,"_tabindex",0);f(this,"_items");f(this,"_itemSize",0);f(this,"_scrollHeight");f(this,"_scrollWidth");f(this,"_orientation","vertical");f(this,"_step",0);f(this,"_delay",0);f(this,"_resizeDelay",10);f(this,"_appendOnly",!1);f(this,"_inline",!1);f(this,"_lazy",!1);f(this,"_disabled",!1);f(this,"_loaderDisabled",!1);f(this,"_columns");f(this,"_showSpacer",!0);f(this,"_showLoader",!1);f(this,"_numToleratedItems");f(this,"_loading");f(this,"_autoSize",!1);f(this,"_trackBy");f(this,"_options");f(this,"d_loading",!1);f(this,"d_numToleratedItems");f(this,"contentEl");f(this,"contentTemplate");f(this,"itemTemplate");f(this,"loaderTemplate");f(this,"loaderIconTemplate");f(this,"first",0);f(this,"last",0);f(this,"page",0);f(this,"isRangeChanged",!1);f(this,"numItemsInViewport",0);f(this,"lastScrollPos",0);f(this,"lazyLoadState",{});f(this,"loaderArr",[]);f(this,"spacerStyle",{});f(this,"contentStyle",{});f(this,"scrollTimeout");f(this,"resizeTimeout");f(this,"initialized",!1);f(this,"windowResizeListener");f(this,"defaultWidth");f(this,"defaultHeight");f(this,"defaultContentWidth");f(this,"defaultContentHeight");this.document=e,this.platformId=r,this.renderer=u,this.cd=h,this.zone=g}get id(){return this._id}set id(e){this._id=e}get style(){return this._style}set style(e){this._style=e}get styleClass(){return this._styleClass}set styleClass(e){this._styleClass=e}get tabindex(){return this._tabindex}set tabindex(e){this._tabindex=e}get items(){return this._items}set items(e){this._items=e}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e}get scrollWidth(){return this._scrollWidth}set scrollWidth(e){this._scrollWidth=e}get orientation(){return this._orientation}set orientation(e){this._orientation=e}get step(){return this._step}set step(e){this._step=e}get delay(){return this._delay}set delay(e){this._delay=e}get resizeDelay(){return this._resizeDelay}set resizeDelay(e){this._resizeDelay=e}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=e}get inline(){return this._inline}set inline(e){this._inline=e}get lazy(){return this._lazy}set lazy(e){this._lazy=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(e){this._loaderDisabled=e}get columns(){return this._columns}set columns(e){this._columns=e}get showSpacer(){return this._showSpacer}set showSpacer(e){this._showSpacer=e}get showLoader(){return this._showLoader}set showLoader(e){this._showLoader=e}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(e){this._numToleratedItems=e}get loading(){return this._loading}set loading(e){this._loading=e}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e}get trackBy(){return this._trackBy}set trackBy(e){this._trackBy=e}get options(){return this._options}set options(e){this._options=e,e&&typeof e=="object"&&Object.entries(e).forEach(([r,u])=>this[`_${r}`]!==u&&(this[`_${r}`]=u))}get vertical(){return this._orientation==="vertical"}get horizontal(){return this._orientation==="horizontal"}get both(){return this._orientation==="both"}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(e=>this._columns?e:e.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}ngOnInit(){this.setInitialState()}ngOnChanges(e){let r=!1;if(e.loading){let{previousValue:u,currentValue:h}=e.loading;this.lazy&&u!==h&&h!==this.d_loading&&(this.d_loading=h,r=!0)}if(e.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),e.numToleratedItems){let{previousValue:u,currentValue:h}=e.numToleratedItems;u!==h&&h!==this.d_numToleratedItems&&(this.d_numToleratedItems=h)}if(e.options){let{previousValue:u,currentValue:h}=e.options;this.lazy&&u?.loading!==h?.loading&&h?.loading!==this.d_loading&&(this.d_loading=h.loading,r=!0),u?.numToleratedItems!==h?.numToleratedItems&&h?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=h.numToleratedItems)}this.initialized&&!r&&(e.items?.previousValue?.length!==e.items?.currentValue?.length||e.itemSize||e.scrollHeight||e.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"item":this.itemTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"loadericon":this.loaderIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}ngAfterViewInit(){Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){Ba(this.platformId)&&!this.initialized&&ge.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.calculateAutoSize(),this.defaultWidth=ge.getWidth(this.elementViewChild?.nativeElement),this.defaultHeight=ge.getHeight(this.elementViewChild?.nativeElement),this.defaultContentWidth=ge.getWidth(this.contentEl),this.defaultContentHeight=ge.getHeight(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(e){this.contentEl=e||this.contentViewChild?.nativeElement||ge.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this._step||1))}isPageChanged(e){return this._step?this.page!==this.getPageByFirst(e??this.first):!0}scrollTo(e){this.elementViewChild?.nativeElement?.scrollTo(e)}scrollToIndex(e,r="auto"){if(this.both?e.every(h=>h>-1):e>-1){let h=this.first,{scrollTop:g=0,scrollLeft:y=0}=this.elementViewChild?.nativeElement,{numToleratedItems:w}=this.calculateNumItems(),D=this.getContentPosition(),N=this.itemSize,A=(F=0,R)=>F<=R?0:F,Y=(F,R,Z)=>F*R+Z,X=(F=0,R=0)=>this.scrollTo({left:F,top:R,behavior:r}),j=this.both?{rows:0,cols:0}:0,E=!1,O=!1;this.both?(j={rows:A(e[0],w[0]),cols:A(e[1],w[1])},X(Y(j.cols,N[1],D.left),Y(j.rows,N[0],D.top)),O=this.lastScrollPos.top!==g||this.lastScrollPos.left!==y,E=j.rows!==h.rows||j.cols!==h.cols):(j=A(e,w),this.horizontal?X(Y(j,N,D.left),g):X(y,Y(j,N,D.top)),O=this.lastScrollPos!==(this.horizontal?y:g),E=j!==h),this.isRangeChanged=E,O&&(this.first=j)}}scrollInView(e,r,u="auto"){if(r){let{first:h,viewport:g}=this.getRenderedRange(),y=(N=0,A=0)=>this.scrollTo({left:N,top:A,behavior:u}),w=r==="to-start",D=r==="to-end";if(w){if(this.both)g.first.rows-h.rows>e[0]?y(g.first.cols*this._itemSize[1],(g.first.rows-1)*this._itemSize[0]):g.first.cols-h.cols>e[1]&&y((g.first.cols-1)*this._itemSize[1],g.first.rows*this._itemSize[0]);else if(g.first-h>e){let N=(g.first-1)*this._itemSize;this.horizontal?y(N,0):y(0,N)}}else if(D){if(this.both)g.last.rows-h.rows<=e[0]+1?y(g.first.cols*this._itemSize[1],(g.first.rows+1)*this._itemSize[0]):g.last.cols-h.cols<=e[1]+1&&y((g.first.cols+1)*this._itemSize[1],g.first.rows*this._itemSize[0]);else if(g.last-h<=e+1){let N=(g.first+1)*this._itemSize;this.horizontal?y(N,0):y(0,N)}}}else this.scrollToIndex(e,u)}getRenderedRange(){let e=(h,g)=>g||h?Math.floor(h/(g||h)):0,r=this.first,u=0;if(this.elementViewChild?.nativeElement){let{scrollTop:h,scrollLeft:g}=this.elementViewChild.nativeElement;if(this.both)r={rows:e(h,this._itemSize[0]),cols:e(g,this._itemSize[1])},u={rows:r.rows+this.numItemsInViewport.rows,cols:r.cols+this.numItemsInViewport.cols};else{let y=this.horizontal?g:h;r=e(y,this._itemSize),u=r+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:r,last:u}}}calculateNumItems(){let e=this.getContentPosition(),r=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-e.left:0)||0,u=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-e.top:0)||0,h=(D,N)=>N||D?Math.ceil(D/(N||D)):0,g=D=>Math.ceil(D/2),y=this.both?{rows:h(u,this._itemSize[0]),cols:h(r,this._itemSize[1])}:h(this.horizontal?r:u,this._itemSize),w=this.d_numToleratedItems||(this.both?[g(y.rows),g(y.cols)]:g(y));return{numItemsInViewport:y,numToleratedItems:w}}calculateOptions(){let{numItemsInViewport:e,numToleratedItems:r}=this.calculateNumItems(),u=(y,w,D,N=!1)=>this.getLast(y+w+(y<D?2:3)*D,N),h=this.first,g=this.both?{rows:u(this.first.rows,e.rows,r[0]),cols:u(this.first.cols,e.cols,r[1],!0)}:u(this.first,e,r);this.last=g,this.numItemsInViewport=e,this.d_numToleratedItems=r,this.showLoader&&(this.loaderArr=this.both?Array.from({length:e.rows}).map(()=>Array.from({length:e.cols})):Array.from({length:e})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:h.cols}:0:h,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";let[e,r]=[ge.getWidth(this.contentEl),ge.getHeight(this.contentEl)];e!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),r!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");let[u,h]=[ge.getWidth(this.elementViewChild.nativeElement),ge.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=u<this.defaultWidth?u+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=h<this.defaultHeight?h+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(e=0,r=!1){return this._items?Math.min(r?(this._columns||this._items[0]).length:this._items.length,e):0}getContentPosition(){if(this.contentEl){let e=getComputedStyle(this.contentEl),r=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),u=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),h=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),g=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:r,right:u,top:h,bottom:g,x:r+u,y:h+g}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){let e=this.elementViewChild.nativeElement.parentElement.parentElement,r=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||e.offsetWidth}px`,u=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||e.offsetHeight}px`,h=(g,y)=>this.elementViewChild.nativeElement.style[g]=y;this.both||this.horizontal?(h("height",u),h("width",r)):h("height",u)}}setSpacerSize(){if(this._scrollHeight!=="100%"&&this._items){let e=this.getContentPosition(),r=(u,h,g,y=0)=>this.spacerStyle=Ts(Cr({},this.spacerStyle),{[`${u}`]:(h||[]).length*g+y+"px"});this.both?(r("height",this._items,this._itemSize[0],e.y),r("width",this._columns||this._items[1],this._itemSize[1],e.x)):this.horizontal?r("width",this._columns||this._items,this._itemSize,e.x):r("height",this._items,this._itemSize,e.y)}}setContentPosition(e){if(this.contentEl&&!this._appendOnly){let r=e?e.first:this.first,u=(g,y)=>g*y,h=(g=0,y=0)=>this.contentStyle=Ts(Cr({},this.contentStyle),{transform:`translate3d(${g}px, ${y}px, 0)`});if(this.both)h(u(r.cols,this._itemSize[1]),u(r.rows,this._itemSize[0]));else{let g=u(r,this._itemSize);this.horizontal?h(g,0):h(0,g)}}}onScrollPositionChange(e){let r=e.target,u=this.getContentPosition(),h=(O,F)=>O?O>F?O-F:O:0,g=(O,F)=>F||O?Math.floor(O/(F||O)):0,y=(O,F,R,Z,ee,re)=>O<=ee?ee:re?R-Z-ee:F+ee-1,w=(O,F,R,Z,ee,re,se)=>O<=re?0:Math.max(0,se?O<F?R:O-re:O>F?R:O-2*re),D=(O,F,R,Z,ee,re=!1)=>{let se=F+Z+2*ee;return O>=ee&&(se+=ee+1),this.getLast(se,re)},N=h(r.scrollTop,u.top),A=h(r.scrollLeft,u.left),Y=this.both?{rows:0,cols:0}:0,X=this.last,j=!1,E=this.lastScrollPos;if(this.both){let O=this.lastScrollPos.top<=N,F=this.lastScrollPos.left<=A;if(!this._appendOnly||this._appendOnly&&(O||F)){let R={rows:g(N,this._itemSize[0]),cols:g(A,this._itemSize[1])},Z={rows:y(R.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],O),cols:y(R.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],F)};Y={rows:w(R.rows,Z.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],O),cols:w(R.cols,Z.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],F)},X={rows:D(R.rows,Y.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:D(R.cols,Y.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},j=Y.rows!==this.first.rows||X.rows!==this.last.rows||Y.cols!==this.first.cols||X.cols!==this.last.cols||this.isRangeChanged,E={top:N,left:A}}}else{let O=this.horizontal?A:N,F=this.lastScrollPos<=O;if(!this._appendOnly||this._appendOnly&&F){let R=g(O,this._itemSize),Z=y(R,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,F);Y=w(R,Z,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,F),X=D(R,Y,this.last,this.numItemsInViewport,this.d_numToleratedItems),j=Y!==this.first||X!==this.last||this.isRangeChanged,E=O}}return{first:Y,last:X,isRangeChanged:j,scrollPos:E}}onScrollChange(e){let{first:r,last:u,isRangeChanged:h,scrollPos:g}=this.onScrollPositionChange(e);if(h){let y={first:r,last:u};if(this.setContentPosition(y),this.first=r,this.last=u,this.lastScrollPos=g,this.handleEvents("onScrollIndexChange",y),this._lazy&&this.isPageChanged(r)){let w={first:this._step?Math.min(this.getPageByFirst(r)*this._step,this.items.length-this._step):r,last:Math.min(this._step?(this.getPageByFirst(r)+1)*this._step:u,this.items.length)};(this.lazyLoadState.first!==w.first||this.lazyLoadState.last!==w.last)&&this.handleEvents("onLazyLoad",w),this.lazyLoadState=w}}}onContainerScroll(e){if(this.handleEvents("onScroll",{originalEvent:e}),this._delay&&this.isPageChanged()){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){let{isRangeChanged:r}=this.onScrollPositionChange(e);(r||(this._step?this.isPageChanged():!1))&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&(!this._lazy||this._loading===void 0)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(e)}bindResizeListener(){Ba(this.platformId)&&(this.windowResizeListener||this.zone.runOutsideAngular(()=>{let e=this.document.defaultView,r=ge.isTouchDevice()?"orientationchange":"resize";this.windowResizeListener=this.renderer.listen(e,r,this.onWindowResize.bind(this))}))}unbindResizeListener(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(ge.isVisible(this.elementViewChild?.nativeElement)){let[e,r]=[ge.getWidth(this.elementViewChild?.nativeElement),ge.getHeight(this.elementViewChild?.nativeElement)],[u,h]=[e!==this.defaultWidth,r!==this.defaultHeight];(this.both?u||h:this.horizontal?u:this.vertical?h:!1)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=e,this.defaultHeight=r,this.defaultContentWidth=ge.getWidth(this.contentEl),this.defaultContentHeight=ge.getHeight(this.contentEl),this.init(),this.calculateAutoSize()})}},this._resizeDelay)}handleEvents(e,r){return this.options&&this.options[e]?this.options[e](r):this[e].emit(r)}getContentOptions(){return{contentStyleClass:`p-scroller-content ${this.d_loading?"p-scroller-loading":""}`,items:this.loadedItems,getItemOptions:e=>this.getOptions(e),loading:this.d_loading,getLoaderOptions:(e,r)=>this.getLoaderOptions(e,r),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(e){let r=(this._items||[]).length,u=this.both?this.first.rows+e:this.first+e;return{index:u,count:r,first:u===0,last:u===r-1,even:u%2===0,odd:u%2!==0}}getLoaderOptions(e,r){let u=this.loaderArr.length;return Cr({index:e,count:u,first:e===0,last:e===u-1,even:e%2===0,odd:e%2!==0},r)}};f(s,"\u0275fac",function(r){return new(r||s)(Ge(ds),Ge(sc),Ge(yo),Ge(Xi),Ge(ps))}),f(s,"\u0275cmp",je({type:s,selectors:[["p-scroller"]],contentQueries:function(r,u,h){if(r&1&&Gi(h,Pi,4),r&2){let g;Je(g=et())&&(u.templates=g)}},viewQuery:function(r,u){if(r&1&&(Ct(dC,5),Ct(fC,5)),r&2){let h;Je(h=et())&&(u.elementViewChild=h.first),Je(h=et())&&(u.contentViewChild=h.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[Rl],ngContentSelectors:mC,decls:3,vars:2,consts:[["disabledContainer",""],["element",""],["buildInContent",""],["content",""],["buildInLoader",""],["buildInLoaderIcon",""],[4,"ngIf","ngIfElse"],[3,"scroll","ngStyle","ngClass"],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"styleClass"],[4,"ngIf"]],template:function(r,u){if(r&1&&(hs(),K(0,NC,8,16,"ng-container",6)(1,BC,2,1,"ng-template",null,0,Tr)),r&2){let h=Zi(2);I("ngIf",!u._disabled)("ngIfElse",h)}},dependencies:()=>[xn,jo,un,wn,bn,Ha],styles:[`@layer primeng{p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{scale:2}.p-scroller-inline .p-scroller-content{position:static}}
`],encapsulation:2}));let i=s;return i})(),Os=(()=>{let s=class s{};f(s,"\u0275fac",function(r){return new(r||s)}),f(s,"\u0275mod",Vt({type:s})),f(s,"\u0275inj",At({imports:[kt,wt,Ha,wt]}));let i=s;return i})();var lu=(()=>{let s=class s extends Dt{constructor(){super(...arguments);f(this,"pathId")}ngOnInit(){this.pathId="url(#"+cn()+")"}};f(s,"\u0275fac",(()=>{let r;return function(h){return(r||(r=Ot(s)))(h||s)}})()),f(s,"\u0275cmp",je({type:s,selectors:[["SearchIcon"]],standalone:!0,features:[Lt,Pt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(u,h){u&1&&(ut(),H(0,"svg",0)(1,"g"),ye(2,"path",1),U(),H(3,"defs")(4,"clipPath",2),ye(5,"rect",3),U()()()),u&2&&(Re(h.getClassNames()),ne("aria-label",h.ariaLabel)("aria-hidden",h.ariaHidden)("role",h.role),S(),ne("clip-path",h.pathId),S(3),I("id",h.pathId))},encapsulation:2}));let i=s;return i})();var Qo=(()=>{let s=class s extends Dt{};f(s,"\u0275fac",(()=>{let e;return function(u){return(e||(e=Ot(s)))(u||s)}})()),f(s,"\u0275cmp",je({type:s,selectors:[["ChevronDownIcon"]],standalone:!0,features:[Lt,Pt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(r,u){r&1&&(ut(),H(0,"svg",0),ye(1,"path",1),U()),r&2&&(Re(u.getClassNames()),ne("aria-label",u.ariaLabel)("aria-hidden",u.ariaHidden)("role",u.role))},encapsulation:2}));let i=s;return i})();var I_=(()=>{let s=class s extends Dt{};f(s,"\u0275fac",(()=>{let e;return function(u){return(e||(e=Ot(s)))(u||s)}})()),f(s,"\u0275cmp",je({type:s,selectors:[["MinusIcon"]],standalone:!0,features:[Lt,Pt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z","fill","currentColor"]],template:function(r,u){r&1&&(ut(),H(0,"svg",0),ye(1,"path",1),U()),r&2&&(Re(u.getClassNames()),ne("aria-label",u.ariaLabel)("aria-hidden",u.ariaHidden)("role",u.role))},dependencies:[kt],encapsulation:2}));let i=s;return i})();var ju=i=>({height:i}),HC=(i,s)=>({"p-multiselect-item":!0,"p-disabled":i,"p-focus":s}),qC=i=>({"p-variant-filled":i}),GC=i=>({"p-highlight":i}),_p=i=>({$implicit:i});function UC(i,s){i&1&&ye(0,"CheckIcon",7),i&2&&(I("styleClass","p-checkbox-icon"),ne("aria-hidden",!0))}function KC(i,s){}function ZC(i,s){i&1&&K(0,KC,0,0,"ng-template")}function YC(i,s){if(i&1&&(H(0,"span",8),K(1,ZC,1,0,null,9),U()),i&2){let o=T(2);ne("aria-hidden",!0),S(),I("ngTemplateOutlet",o.checkIconTemplate)}}function jC(i,s){}function WC(i,s){i&1&&K(0,jC,0,0,"ng-template")}function XC(i,s){if(i&1&&(H(0,"span",8),K(1,WC,1,0,null,4),U()),i&2){let o=T(2);ne("aria-hidden",!0),S(),I("ngTemplateOutlet",o.itemCheckboxIconTemplate)("ngTemplateOutletContext",nt(3,_p,o.selected))}}function $C(i,s){if(i&1&&(Fe(0),K(1,UC,1,2,"CheckIcon",5)(2,YC,2,2,"span",6)(3,XC,2,5,"span",6),Ne()),i&2){let o=T();S(),I("ngIf",!o.checkIconTemplate&&!o.itemCheckboxIconTemplate),S(),I("ngIf",o.checkIconTemplate),S(),I("ngIf",o.itemCheckboxIconTemplate)}}function QC(i,s){if(i&1&&(H(0,"span"),Xe(1),U()),i&2){let o,e=T();S(),It((o=e.label)!==null&&o!==void 0?o:"empty")}}function JC(i,s){i&1&&it(0)}var e2=["container"],t2=["overlay"],i2=["filterInput"],n2=["focusInput"],r2=["items"],o2=["scroller"],s2=["lastHiddenFocusableEl"],a2=["firstHiddenFocusableEl"],l2=["headerCheckbox"],u2=[[["p-header"]],[["p-footer"]]],c2=["p-header","p-footer"],p2=(i,s)=>({$implicit:i,removeChip:s}),h2=i=>({"p-disabled":i}),d2=i=>({"max-height":i}),S_=i=>({options:i}),f2=(i,s)=>({"p-variant-filled":i,"p-checkbox-disabled":s}),m2=(i,s,o)=>({"p-highlight":i,"p-focus":s,"p-disabled":o}),g2=(i,s)=>({$implicit:i,partialSelected:s}),T_=(i,s)=>({$implicit:i,options:s}),_2=()=>({});function y2(i,s){if(i&1&&(Fe(0),Xe(1),Ne()),i&2){let o=T(2);S(),It(o.label()||"empty")}}function v2(i,s){if(i&1){let o=We();H(0,"TimesCircleIcon",31),Oe("click",function(){te(o);let r=T(2).$implicit,u=T(3);return ie(u.removeOption(r,u.event))}),U()}if(i&2){let o=T(2).$implicit,e=T(3);I("ngClass",nt(4,h2,e.isOptionDisabled(o)))("styleClass","p-multiselect-token-icon"),ne("data-pc-section","clearicon")("aria-hidden",!0)}}function x2(i,s){i&1&&it(0)}function b2(i,s){if(i&1){let o=We();H(0,"span",32),Oe("click",function(){te(o);let r=T(2).$implicit,u=T(3);return ie(u.removeOption(r,u.event))}),K(1,x2,1,0,"ng-container",33),U()}if(i&2){let o=T(5);ne("data-pc-section","clearicon")("aria-hidden",!0),S(),I("ngTemplateOutlet",o.removeTokenIconTemplate)}}function w2(i,s){if(i&1&&(Fe(0),K(1,v2,1,6,"TimesCircleIcon",29)(2,b2,2,3,"span",30),Ne()),i&2){let o=T(4);S(),I("ngIf",!o.removeTokenIconTemplate),S(),I("ngIf",o.removeTokenIconTemplate)}}function C2(i,s){if(i&1&&(H(0,"div",27,4)(2,"span",28),Xe(3),U(),K(4,w2,3,2,"ng-container",20),U()),i&2){let o=s.$implicit,e=T(3);S(3),It(e.getLabelByValue(o)),S(),I("ngIf",!e.disabled)}}function I2(i,s){if(i&1&&(Fe(0),Xe(1),Ne()),i&2){let o=T(3);S(),It(o.placeholder()||o.defaultLabel||"empty")}}function S2(i,s){if(i&1&&(Fe(0),K(1,C2,5,2,"div",26)(2,I2,2,1,"ng-container",20),Ne()),i&2){let o=T(2);S(),I("ngForOf",o.chipSelectedItems()),S(),I("ngIf",!o.modelValue()||o.modelValue().length===0)}}function T2(i,s){if(i&1&&(Fe(0),K(1,y2,2,1,"ng-container",20)(2,S2,3,2,"ng-container",20),Ne()),i&2){let o=T();S(),I("ngIf",o.display==="comma"),S(),I("ngIf",o.display==="chip")}}function E2(i,s){i&1&&it(0)}function M2(i,s){if(i&1){let o=We();H(0,"TimesIcon",36),Oe("click",function(r){te(o);let u=T(2);return ie(u.clear(r))}),U()}i&2&&(I("styleClass","p-multiselect-clear-icon"),ne("data-pc-section","clearicon")("aria-hidden",!0))}function O2(i,s){}function L2(i,s){i&1&&K(0,O2,0,0,"ng-template")}function P2(i,s){if(i&1){let o=We();H(0,"span",37),Oe("click",function(r){te(o);let u=T(2);return ie(u.clear(r))}),K(1,L2,1,0,null,33),U()}if(i&2){let o=T(2);ne("data-pc-section","clearicon")("aria-hidden",!0),S(),I("ngTemplateOutlet",o.clearIconTemplate)}}function k2(i,s){if(i&1&&(Fe(0),K(1,M2,1,3,"TimesIcon",34)(2,P2,2,3,"span",35),Ne()),i&2){let o=T();S(),I("ngIf",!o.clearIconTemplate),S(),I("ngIf",o.clearIconTemplate)}}function D2(i,s){i&1&&it(0)}function R2(i,s){if(i&1&&(Fe(0),K(1,D2,1,0,"ng-container",33),Ne()),i&2){let o=T(2);S(),I("ngTemplateOutlet",o.loadingIconTemplate)}}function F2(i,s){if(i&1&&ye(0,"span",40),i&2){let o=T(3);I("ngClass","p-multiselect-trigger-icon pi-spin "+o.loadingIcon)}}function N2(i,s){i&1&&ye(0,"span",41),i&2&&Re("p-multiselect-trigger-icon pi pi-spinner pi-spin")}function A2(i,s){if(i&1&&(Fe(0),K(1,F2,1,1,"span",38)(2,N2,1,2,"span",39),Ne()),i&2){let o=T(2);S(),I("ngIf",o.loadingIcon),S(),I("ngIf",!o.loadingIcon)}}function V2(i,s){if(i&1&&(Fe(0),K(1,R2,2,1,"ng-container",20)(2,A2,3,2,"ng-container",20),Ne()),i&2){let o=T();S(),I("ngIf",o.loadingIconTemplate),S(),I("ngIf",!o.loadingIconTemplate)}}function B2(i,s){if(i&1&&ye(0,"span",45),i&2){let o=T(3);I("ngClass",o.dropdownIcon),ne("data-pc-section","triggericon")("aria-hidden",!0)}}function z2(i,s){i&1&&ye(0,"ChevronDownIcon",46),i&2&&(I("styleClass","p-multiselect-trigger-icon"),ne("data-pc-section","triggericon")("aria-hidden",!0))}function H2(i,s){if(i&1&&(Fe(0),K(1,B2,1,3,"span",43)(2,z2,1,3,"ChevronDownIcon",44),Ne()),i&2){let o=T(2);S(),I("ngIf",o.dropdownIcon),S(),I("ngIf",!o.dropdownIcon)}}function q2(i,s){}function G2(i,s){i&1&&K(0,q2,0,0,"ng-template")}function U2(i,s){if(i&1&&(H(0,"span",47),K(1,G2,1,0,null,33),U()),i&2){let o=T(2);ne("data-pc-section","triggericon")("aria-hidden",!0),S(),I("ngTemplateOutlet",o.dropdownIconTemplate)}}function K2(i,s){if(i&1&&K(0,H2,3,2,"ng-container",20)(1,U2,2,3,"span",42),i&2){let o=T();I("ngIf",!o.dropdownIconTemplate),S(),I("ngIf",o.dropdownIconTemplate)}}function Z2(i,s){i&1&&it(0)}function Y2(i,s){i&1&&it(0)}function j2(i,s){if(i&1&&(Fe(0),K(1,Y2,1,0,"ng-container",21),Ne()),i&2){let o=T(3);S(),I("ngTemplateOutlet",o.filterTemplate)("ngTemplateOutletContext",nt(2,S_,o.filterOptions))}}function W2(i,s){i&1&&ye(0,"CheckIcon",46),i&2&&(I("styleClass","p-checkbox-icon"),ne("aria-hidden",!0))}function X2(i,s){if(i&1&&(Fe(0),K(1,W2,1,2,"CheckIcon",44),Ne()),i&2){let o=T(6);S(),I("ngIf",o.allSelected())}}function $2(i,s){}function Q2(i,s){i&1&&K(0,$2,0,0,"ng-template")}function J2(i,s){if(i&1&&(H(0,"span",63),K(1,Q2,1,0,null,21),U()),i&2){let o=T(6);ne("aria-hidden",!0),S(),I("ngTemplateOutlet",o.checkIconTemplate)("ngTemplateOutletContext",nt(3,_p,o.allSelected()))}}function eI(i,s){}function tI(i,s){i&1&&K(0,eI,0,0,"ng-template")}function iI(i,s){if(i&1&&(H(0,"span",63),K(1,tI,1,0,null,21),U()),i&2){let o=T(6);ne("aria-hidden",!0),S(),I("ngTemplateOutlet",o.headerCheckboxIconTemplate)("ngTemplateOutletContext",Hi(3,g2,o.allSelected(),o.partialSelected()))}}function nI(i,s){if(i&1&&(Fe(0),K(1,X2,2,1,"ng-container",20)(2,J2,2,5,"span",62)(3,iI,2,6,"span",62),Ne()),i&2){let o=T(5);S(),I("ngIf",!o.checkIconTemplate&&!o.headerCheckboxIconTemplate),S(),I("ngIf",o.checkIconTemplate),S(),I("ngIf",o.headerCheckboxIconTemplate)}}function rI(i,s){if(i&1){let o=We();H(0,"div",59),Oe("click",function(r){te(o);let u=T(4);return ie(u.onToggleAll(r))})("keydown",function(r){te(o);let u=T(4);return ie(u.onHeaderCheckboxKeyDown(r))}),H(1,"div",16)(2,"input",60,9),Oe("focus",function(){te(o);let r=T(4);return ie(r.onHeaderCheckboxFocus())})("blur",function(){te(o);let r=T(4);return ie(r.onHeaderCheckboxBlur())}),U()(),H(4,"div",61),K(5,nI,4,3,"ng-container",20),U()()}if(i&2){let o=T(4);I("ngClass",Hi(10,f2,o.variant==="filled"||o.config.inputStyle()==="filled",o.disabled||o.toggleAllDisabled)),S(),ne("data-p-hidden-accessible",!0),S(),I("readonly",o.readonly)("disabled",o.disabled||o.toggleAllDisabled),ne("checked",o.allSelected())("aria-label",o.toggleAllAriaLabel),S(2),I("ngClass",Vn(13,m2,o.allSelected(),o.headerCheckboxFocus,o.disabled||o.toggleAllDisabled)),ne("aria-label",o.toggleAllAriaLabel)("aria-checked",o.allSelected()),S(),I("ngIf",o.allSelected()||o.partialSelected())}}function oI(i,s){i&1&&ye(0,"SearchIcon",46),i&2&&I("styleClass","p-multiselect-filter-icon")}function sI(i,s){}function aI(i,s){i&1&&K(0,sI,0,0,"ng-template")}function lI(i,s){if(i&1&&(H(0,"span",67),K(1,aI,1,0,null,33),U()),i&2){let o=T(5);S(),I("ngTemplateOutlet",o.filterIconTemplate)}}function uI(i,s){if(i&1){let o=We();H(0,"div",64)(1,"input",65,10),Oe("input",function(r){te(o);let u=T(4);return ie(u.onFilterInputChange(r))})("keydown",function(r){te(o);let u=T(4);return ie(u.onFilterKeyDown(r))})("click",function(r){te(o);let u=T(4);return ie(u.onInputClick(r))})("blur",function(r){te(o);let u=T(4);return ie(u.onFilterBlur(r))}),U(),K(3,oI,1,1,"SearchIcon",44)(4,lI,2,1,"span",66),U()}if(i&2){let o=T(4);S(),I("value",o._filterValue()||"")("disabled",o.disabled),ne("autocomplete",o.autocomplete)("placeholder",o.filterPlaceHolder)("aria-owns",o.id+"_list")("aria-activedescendant",o.focusedOptionId)("placeholder",o.filterPlaceHolder)("aria-label",o.ariaFilterLabel),S(2),I("ngIf",!o.filterIconTemplate),S(),I("ngIf",o.filterIconTemplate)}}function cI(i,s){i&1&&ye(0,"TimesIcon",46),i&2&&I("styleClass","p-multiselect-close-icon")}function pI(i,s){}function hI(i,s){i&1&&K(0,pI,0,0,"ng-template")}function dI(i,s){if(i&1&&(H(0,"span",68),K(1,hI,1,0,null,33),U()),i&2){let o=T(4);S(),I("ngTemplateOutlet",o.closeIconTemplate)}}function fI(i,s){if(i&1){let o=We();K(0,rI,6,17,"div",55)(1,uI,5,10,"div",56),H(2,"button",57),Oe("click",function(r){te(o);let u=T(3);return ie(u.close(r))}),K(3,cI,1,1,"TimesIcon",44)(4,dI,2,1,"span",58),U()}if(i&2){let o=T(3);I("ngIf",o.isSelectionAllDisabled()),S(),I("ngIf",o.filter),S(),ne("aria-label",o.closeAriaLabel),S(),I("ngIf",!o.closeIconTemplate),S(),I("ngIf",o.closeIconTemplate)}}function mI(i,s){if(i&1&&(H(0,"div",54),Do(1),K(2,Z2,1,0,"ng-container",33)(3,j2,2,4,"ng-container",23)(4,fI,5,5,"ng-template",null,8,Tr),U()),i&2){let o=Zi(5),e=T(2);S(2),I("ngTemplateOutlet",e.headerTemplate),S(),I("ngIf",e.filterTemplate)("ngIfElse",o)}}function gI(i,s){i&1&&it(0)}function _I(i,s){if(i&1&&K(0,gI,1,0,"ng-container",21),i&2){let o=s.$implicit,e=s.options;T(2);let r=Zi(8);I("ngTemplateOutlet",r)("ngTemplateOutletContext",Hi(2,T_,o,e))}}function yI(i,s){i&1&&it(0)}function vI(i,s){if(i&1&&K(0,yI,1,0,"ng-container",21),i&2){let o=s.options,e=T(4);I("ngTemplateOutlet",e.loaderTemplate)("ngTemplateOutletContext",nt(2,S_,o))}}function xI(i,s){i&1&&(Fe(0),K(1,vI,1,4,"ng-template",70),Ne())}function bI(i,s){if(i&1){let o=We();H(0,"p-scroller",69,11),Oe("onLazyLoad",function(r){te(o);let u=T(2);return ie(u.onLazyLoad.emit(r))}),K(2,_I,1,5,"ng-template",25)(3,xI,2,0,"ng-container",20),U()}if(i&2){let o=T(2);Va(nt(9,ju,o.scrollHeight)),I("items",o.visibleOptions())("itemSize",o.virtualScrollItemSize||o._itemSize)("autoSize",!0)("tabindex",-1)("lazy",o.lazy)("options",o.virtualScrollOptions),S(3),I("ngIf",o.loaderTemplate)}}function wI(i,s){i&1&&it(0)}function CI(i,s){if(i&1&&(Fe(0),K(1,wI,1,0,"ng-container",21),Ne()),i&2){T();let o=Zi(8),e=T();S(),I("ngTemplateOutlet",o)("ngTemplateOutletContext",Hi(3,T_,e.visibleOptions(),Yo(2,_2)))}}function II(i,s){if(i&1&&(H(0,"span"),Xe(1),U()),i&2){let o=T(2).$implicit,e=T(3);S(),It(e.getOptionGroupLabel(o.optionGroup))}}function SI(i,s){i&1&&it(0)}function TI(i,s){if(i&1&&(Fe(0),H(1,"li",74),K(2,II,2,1,"span",20)(3,SI,1,0,"ng-container",21),U(),Ne()),i&2){let o=T(),e=o.$implicit,r=o.index,u=T().options,h=T(2);S(),I("ngStyle",nt(5,ju,u.itemSize+"px")),ne("id",h.id+"_"+h.getOptionIndex(r,u)),S(),I("ngIf",!h.groupTemplate),S(),I("ngTemplateOutlet",h.groupTemplate)("ngTemplateOutletContext",nt(7,_p,e.optionGroup))}}function EI(i,s){if(i&1){let o=We();Fe(0),H(1,"p-multiSelectItem",75),Oe("onClick",function(r){te(o);let u=T().index,h=T().options,g=T(2);return ie(g.onOptionSelect(r,!1,g.getOptionIndex(u,h)))})("onMouseEnter",function(r){te(o);let u=T().index,h=T().options,g=T(2);return ie(g.onOptionMouseEnter(r,g.getOptionIndex(u,h)))}),U(),Ne()}if(i&2){let o=T(),e=o.$implicit,r=o.index,u=T().options,h=T(2);S(),I("id",h.id+"_"+h.getOptionIndex(r,u))("option",e)("selected",h.isSelected(e))("label",h.getOptionLabel(e))("disabled",h.isOptionDisabled(e))("template",h.itemTemplate)("checkIconTemplate",h.checkIconTemplate)("itemCheckboxIconTemplate",h.itemCheckboxIconTemplate)("itemSize",u.itemSize)("focused",h.focusedOptionIndex()===h.getOptionIndex(r,u))("ariaPosInset",h.getAriaPosInset(h.getOptionIndex(r,u)))("ariaSetSize",h.ariaSetSize)}}function MI(i,s){if(i&1&&K(0,TI,4,9,"ng-container",20)(1,EI,2,12,"ng-container",20),i&2){let o=s.$implicit,e=T(3);I("ngIf",e.isOptionGroup(o)),S(),I("ngIf",!e.isOptionGroup(o))}}function OI(i,s){if(i&1&&(Fe(0),Xe(1),Ne()),i&2){let o=T(4);S(),Wi(" ",o.emptyFilterMessageLabel," ")}}function LI(i,s){i&1&&it(0,null,13)}function PI(i,s){if(i&1&&(H(0,"li",76),K(1,OI,2,1,"ng-container",23)(2,LI,2,0,"ng-container",33),U()),i&2){let o=T().options,e=T(2);I("ngStyle",nt(4,ju,o.itemSize+"px")),S(),I("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),S(),I("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function kI(i,s){if(i&1&&(Fe(0),Xe(1),Ne()),i&2){let o=T(4);S(),Wi(" ",o.emptyMessageLabel," ")}}function DI(i,s){i&1&&it(0,null,14)}function RI(i,s){if(i&1&&(H(0,"li",76),K(1,kI,2,1,"ng-container",23)(2,DI,2,0,"ng-container",33),U()),i&2){let o=T().options,e=T(2);I("ngStyle",nt(4,ju,o.itemSize+"px")),S(),I("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),S(),I("ngTemplateOutlet",e.emptyTemplate)}}function FI(i,s){if(i&1&&(H(0,"ul",71,12),K(2,MI,2,2,"ng-template",72)(3,PI,3,6,"li",73)(4,RI,3,6,"li",73),U()),i&2){let o=s.$implicit,e=s.options,r=T(2);I("ngClass",e.contentStyleClass)("ngStyle",e.contentStyle),ne("aria-label",r.listLabel),S(2),I("ngForOf",o),S(),I("ngIf",r.hasFilter()&&r.isEmpty()),S(),I("ngIf",!r.hasFilter()&&r.isEmpty())}}function NI(i,s){i&1&&it(0)}function AI(i,s){if(i&1&&(H(0,"div",77),Do(1,1),K(2,NI,1,0,"ng-container",33),U()),i&2){let o=T(2);S(2),I("ngTemplateOutlet",o.footerTemplate)}}function VI(i,s){if(i&1){let o=We();H(0,"div",48)(1,"span",49,5),Oe("focus",function(r){te(o);let u=T();return ie(u.onFirstHiddenFocus(r))}),U(),K(3,mI,6,3,"div",50),H(4,"div",51),K(5,bI,4,11,"p-scroller",52)(6,CI,2,6,"ng-container",20)(7,FI,5,6,"ng-template",null,6,Tr),U(),K(9,AI,3,1,"div",53),H(10,"span",49,7),Oe("focus",function(r){te(o);let u=T();return ie(u.onLastHiddenFocus(r))}),U()()}if(i&2){let o=T();Re(o.panelStyleClass),I("ngClass","p-multiselect-panel p-component")("ngStyle",o.panelStyle),ne("id",o.id+"_list"),S(),ne("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),S(2),I("ngIf",o.showHeader),S(),I("ngStyle",nt(16,d2,o.virtualScroll?"auto":o.scrollHeight||"auto")),S(),I("ngIf",o.virtualScroll),S(),I("ngIf",!o.virtualScroll),S(3),I("ngIf",o.footerFacet||o.footerTemplate),S(),ne("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var BI={provide:Er,useExisting:Ir(()=>wd),multi:!0},zI=(()=>{let s=class s{constructor(e){f(this,"config");f(this,"id");f(this,"option");f(this,"selected");f(this,"label");f(this,"disabled");f(this,"itemSize");f(this,"focused");f(this,"ariaPosInset");f(this,"ariaSetSize");f(this,"template");f(this,"checkIconTemplate");f(this,"itemCheckboxIconTemplate");f(this,"onClick",new qe);f(this,"onMouseEnter",new qe);this.config=e}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option,selected:this.selected}),e.stopPropagation()}onOptionMouseEnter(e){this.onMouseEnter.emit({originalEvent:e,option:this.option,selected:this.selected})}};f(s,"\u0275fac",function(r){return new(r||s)(Ge(so))}),f(s,"\u0275cmp",je({type:s,selectors:[["p-multiSelectItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:[2,"selected","selected",we],label:"label",disabled:[2,"disabled","disabled",we],itemSize:[2,"itemSize","itemSize",Mt],focused:[2,"focused","focused",we],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkIconTemplate:"checkIconTemplate",itemCheckboxIconTemplate:"itemCheckboxIconTemplate"},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[gn],decls:6,vars:28,consts:[["pRipple","","role","option",1,"p-multiselect-item",3,"click","mouseenter","ngStyle","ngClass","id"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"]],template:function(r,u){r&1&&(H(0,"li",0),Oe("click",function(g){return u.onOptionClick(g)})("mouseenter",function(g){return u.onOptionMouseEnter(g)}),H(1,"div",1)(2,"div",2),K(3,$C,4,3,"ng-container",3),U()(),K(4,QC,2,1,"span",3)(5,JC,1,0,"ng-container",4),U()),r&2&&(I("ngStyle",nt(17,ju,u.itemSize+"px"))("ngClass",Hi(19,HC,u.disabled,u.focused))("id",u.id),ne("aria-label",u.label)("aria-setsize",u.ariaSetSize)("aria-posinset",u.ariaPosInset)("aria-selected",u.selected)("data-p-focused",u.focused)("data-p-highlight",u.selected)("data-p-disabled",u.disabled)("aria-checked",u.selected),S(),I("ngClass",nt(22,qC,u.config.inputStyle()==="filled")),S(),I("ngClass",nt(24,GC,u.selected)),S(),I("ngIf",u.selected),S(),I("ngIf",!u.template),S(),I("ngTemplateOutlet",u.template)("ngTemplateOutletContext",nt(26,_p,u.option)))},dependencies:()=>[xn,un,wn,bn,ms,vo],encapsulation:2}));let i=s;return i})(),wd=(()=>{let s=class s{constructor(e,r,u,h,g,y,w){f(this,"el");f(this,"renderer");f(this,"cd");f(this,"zone");f(this,"filterService");f(this,"config");f(this,"overlayService");f(this,"id");f(this,"ariaLabel");f(this,"style");f(this,"styleClass");f(this,"panelStyle");f(this,"panelStyleClass");f(this,"inputId");f(this,"disabled");f(this,"readonly");f(this,"group");f(this,"filter",!0);f(this,"filterPlaceHolder");f(this,"filterLocale");f(this,"overlayVisible");f(this,"tabindex",0);f(this,"variant","outlined");f(this,"appendTo");f(this,"dataKey");f(this,"name");f(this,"ariaLabelledBy");f(this,"selectionLimit");f(this,"selectedItemsLabel");f(this,"showToggleAll",!0);f(this,"emptyFilterMessage","");f(this,"emptyMessage","");f(this,"resetFilterOnHide",!1);f(this,"dropdownIcon");f(this,"optionLabel");f(this,"optionValue");f(this,"optionDisabled");f(this,"optionGroupLabel","label");f(this,"optionGroupChildren","items");f(this,"showHeader",!0);f(this,"filterBy");f(this,"scrollHeight","200px");f(this,"lazy",!1);f(this,"virtualScroll");f(this,"loading",!1);f(this,"virtualScrollItemSize");f(this,"loadingIcon");f(this,"virtualScrollOptions");f(this,"overlayOptions");f(this,"ariaFilterLabel");f(this,"filterMatchMode","contains");f(this,"tooltip","");f(this,"tooltipPosition","right");f(this,"tooltipPositionStyle","absolute");f(this,"tooltipStyleClass");f(this,"autofocusFilter",!0);f(this,"display","comma");f(this,"autocomplete","off");f(this,"showClear",!1);f(this,"autofocus");f(this,"focusOnHover",!1);f(this,"filterFields");f(this,"selectOnFocus",!1);f(this,"autoOptionFocus",!0);f(this,"onChange",new qe);f(this,"onFilter",new qe);f(this,"onFocus",new qe);f(this,"onBlur",new qe);f(this,"onClick",new qe);f(this,"onClear",new qe);f(this,"onPanelShow",new qe);f(this,"onPanelHide",new qe);f(this,"onLazyLoad",new qe);f(this,"onRemove",new qe);f(this,"onSelectAllChange",new qe);f(this,"containerViewChild");f(this,"overlayViewChild");f(this,"filterInputChild");f(this,"focusInputViewChild");f(this,"itemsViewChild");f(this,"scroller");f(this,"lastHiddenFocusableElementOnOverlay");f(this,"firstHiddenFocusableElementOnOverlay");f(this,"headerCheckboxViewChild");f(this,"footerFacet");f(this,"headerFacet");f(this,"templates");f(this,"searchValue");f(this,"searchTimeout");f(this,"_selectAll",null);f(this,"_autoZIndex");f(this,"_baseZIndex");f(this,"_showTransitionOptions");f(this,"_hideTransitionOptions");f(this,"_defaultLabel");f(this,"_placeholder",Pr(void 0));f(this,"_itemSize");f(this,"_selectionLimit");f(this,"_disableTooltip",!1);f(this,"value");f(this,"_filteredOptions");f(this,"onModelChange",()=>{});f(this,"onModelTouched",()=>{});f(this,"valuesAsString");f(this,"focus");f(this,"filtered");f(this,"itemTemplate");f(this,"groupTemplate");f(this,"loaderTemplate");f(this,"headerTemplate");f(this,"filterTemplate");f(this,"footerTemplate");f(this,"emptyFilterTemplate");f(this,"emptyTemplate");f(this,"selectedItemsTemplate");f(this,"checkIconTemplate");f(this,"loadingIconTemplate");f(this,"filterIconTemplate");f(this,"removeTokenIconTemplate");f(this,"closeIconTemplate");f(this,"clearIconTemplate");f(this,"dropdownIconTemplate");f(this,"itemCheckboxIconTemplate");f(this,"headerCheckboxIconTemplate");f(this,"headerCheckboxFocus");f(this,"filterOptions");f(this,"preventModelTouched");f(this,"preventDocumentDefault");f(this,"focused",!1);f(this,"itemsWrapper");f(this,"_displaySelectedLabel",!0);f(this,"_maxSelectedLabels",3);f(this,"modelValue",Pr(null));f(this,"_filterValue",Pr(null));f(this,"_options",Pr(null));f(this,"startRangeIndex",Pr(-1));f(this,"focusedOptionIndex",Pr(-1));f(this,"selectedOptions");f(this,"clickInProgress",!1);f(this,"visibleOptions",Es(()=>{let e=this.getAllVisibleAndNonVisibleOptions(),r=Ve.isArray(e)&&Ve.isObject(e[0]);if(this._filterValue()){let u;if(r?u=this.filterService.filter(e,this.searchFields(),this._filterValue(),this.filterMatchMode,this.filterLocale):u=e.filter(h=>h.toString().toLocaleLowerCase().includes(this._filterValue().toLocaleLowerCase())),this.group){let h=this.options||[],g=[];return h.forEach(y=>{let D=this.getOptionGroupChildren(y).filter(N=>u.includes(N));D.length>0&&g.push(Ts(Cr({},y),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...D]}))}),this.flatOptions(g)}return u}return e}));f(this,"label",Es(()=>{let e,r=this.modelValue();if(r&&r.length&&this.displaySelectedLabel){if(Ve.isNotEmpty(this.maxSelectedLabels)&&r.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(let u=0;u<r.length;u++)u!==0&&(e+=", "),e+=this.getLabelByValue(r[u])}else e=this.placeholder()||this.defaultLabel||"";return e}));f(this,"chipSelectedItems",Es(()=>Ve.isNotEmpty(this.maxSelectedLabels)&&this.modelValue()&&this.modelValue().length>this.maxSelectedLabels?this.modelValue().slice(0,this.maxSelectedLabels):this.modelValue()));this.el=e,this.renderer=r,this.cd=u,this.zone=h,this.filterService=g,this.config=y,this.overlayService=w,Fl(()=>{let D=this.modelValue(),N=this.visibleOptions();N&&Ve.isNotEmpty(N)&&(this.optionValue&&this.optionLabel&&D?this.selectedOptions=N.filter(A=>D.includes(A[this.optionLabel])||D.includes(A[this.optionValue])):this.selectedOptions=D,this.cd.markForCheck())})}set displaySelectedLabel(e){this._displaySelectedLabel=e}get displaySelectedLabel(){return this._displaySelectedLabel}set maxSelectedLabels(e){this._maxSelectedLabels=e}get maxSelectedLabels(){return this._maxSelectedLabels}get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}set defaultLabel(e){this._defaultLabel=e,console.warn("defaultLabel property is deprecated since 16.6.0, use placeholder instead")}get defaultLabel(){return this._defaultLabel}set placeholder(e){this._placeholder.set(e)}get placeholder(){return this._placeholder.asReadonly()}get options(){return this._options()}set options(e){Ve.deepEquals(this._options(),e)||this._options.set(e)}get filterValue(){return this._filterValue()}set filterValue(e){this._filterValue.set(e)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get selectAll(){return this._selectAll}set selectAll(e){this._selectAll=e}get containerClass(){return{"p-multiselect p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-multiselect-clearable":this.showClear&&!this.disabled,"p-multiselect-chip":this.display==="chip","p-focus":this.focused,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"}}get inputClass(){return{"p-multiselect-label p-inputtext":!0,"p-placeholder":(this.placeholder()||this.defaultLabel)&&(this.label()===this.placeholder()||this.label()===this.defaultLabel),"p-multiselect-label-empty":!this.selectedItemsTemplate&&(this.label()==="p-emptylabel"||this.label().length===0)}}get panelClass(){return{"p-multiselect-panel p-component":!0,"p-input-filled":this.config.inputStyle()==="filled","p-ripple-disabled":this.config.ripple===!1}}get labelClass(){return{"p-multiselect-label":!0,"p-placeholder":this.label()===this.placeholder()||this.label()===this.defaultLabel,"p-multiselect-label-empty":!this.placeholder()&&!this.defaultLabel&&(!this.modelValue()||this.modelValue().length===0)}}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Wn.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Wn.EMPTY_FILTER_MESSAGE)}get filled(){return typeof this.modelValue()=="string"?!!this.modelValue():Ve.isNotEmpty(this.modelValue())}get isVisibleClearIcon(){return this.modelValue()!=null&&this.modelValue()!==""&&Ve.isNotEmpty(this.modelValue())&&this.showClear&&!this.disabled&&this.filled}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}get listLabel(){return this.config.getTranslation(Wn.ARIA).listLabel}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}ngOnInit(){this.id=this.id||cn(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}maxSelectionLimitReached(){return Ve.isNotEmpty(this.selectionLimit)&&this.modelValue()&&this.modelValue().length===this.selectionLimit}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"selectedItems":this.selectedItemsTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"checkicon":this.checkIconTemplate=e.template,console.warn("checkicon is deprecated and will removed in v18. Use itemcheckboxicon or headercheckboxicon templates instead.");break;case"headercheckboxicon":this.headerCheckboxIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;case"removetokenicon":this.removeTokenIconTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;case"itemcheckboxicon":this.itemCheckboxIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}ngAfterViewInit(){this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild?.alignOverlay()},1)}),this.filtered=!1)}flatOptions(e){return(e||[]).reduce((r,u,h)=>{r.push({optionGroup:u,group:!0,index:h});let g=this.getOptionGroupChildren(u);return g&&g.forEach(y=>r.push(y)),r},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()){this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex());let e=this.getOptionValue(this.visibleOptions()[this.focusedOptionIndex()]);this.onOptionSelect({originalEvent:null,option:[e]})}}updateModel(e,r){this.value=e,this.onModelChange(e),this.modelValue.set(e)}onInputClick(e){e.stopPropagation(),e.preventDefault(),this.focusedOptionIndex.set(-1)}onOptionSelect(e,r=!1,u=-1){let{originalEvent:h,option:g}=e;if(this.disabled||this.isOptionDisabled(g))return;let y=this.isSelected(g),w=null;y?(w=this.modelValue().filter(D=>!Ve.equals(D,this.getOptionValue(g),this.equalityKey())),this.onRemove.emit({newValue:this.value,removed:this.getOptionValue(g)})):w=[...this.modelValue()||[],this.getOptionValue(g)],this.updateModel(w,h),u!==-1&&this.focusedOptionIndex.set(u),r&&ge.focus(this.focusInputViewChild?.nativeElement),this.onChange.emit({originalEvent:Ts(Cr({},e),{selected:!e.selected}),value:w,itemValue:g})}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}onOptionSelectRange(e,r=-1,u=-1){if(r===-1&&(r=this.findNearestSelectedOptionIndex(u,!0)),u===-1&&(u=this.findNearestSelectedOptionIndex(r)),r!==-1&&u!==-1){let h=Math.min(r,u),g=Math.max(r,u),y=this.visibleOptions().slice(h,g+1).filter(w=>this.isValidOption(w)).map(w=>this.getOptionValue(w));this.updateModel(y,e)}}searchFields(){return(this.filterBy||this.optionLabel||"label").split(",")}findNearestSelectedOptionIndex(e,r=!1){let u=-1;return this.hasSelectedOption()&&(r?(u=this.findPrevSelectedOptionIndex(e),u=u===-1?this.findNextSelectedOptionIndex(e):u):(u=this.findNextSelectedOptionIndex(e),u=u===-1?this.findPrevSelectedOptionIndex(e):u)),u>-1?u:e}findPrevSelectedOptionIndex(e){let r=this.hasSelectedOption()&&e>0?Ve.findLastIndex(this.visibleOptions().slice(0,e),u=>this.isValidSelectedOption(u)):-1;return r>-1?r:-1}findFirstFocusedOptionIndex(){let e=this.findFirstSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextSelectedOptionIndex(e){let r=this.hasSelectedOption()&&e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(u=>this.isValidSelectedOption(u)):-1;return r>-1?r+e+1:-1}equalityKey(){return this.optionValue?null:this.dataKey}hasSelectedOption(){return Ve.isNotEmpty(this.modelValue())}isSelectionAllDisabled(){return this.showToggleAll&&Ve.isEmpty(this.selectionLimit)}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isOptionGroup(e){return(this.group||this.optionGroupLabel)&&e.optionGroup&&e.group}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionDisabled(e){return this.maxSelectionLimitReached()&&!this.isSelected(e)?!0:this.optionDisabled?Ve.resolveFieldData(e,this.optionDisabled):e&&e.disabled!==void 0?e.disabled:!1}isSelected(e){let r=this.getOptionValue(e);return(this.modelValue()||[]).some(u=>Ve.equals(u,r,this.equalityKey()))}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}getOptionIndex(e,r){return this.virtualScrollerDisabled?e:r&&r.getItemOptions(e).index}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(r=>this.isOptionGroup(r)).length:e)+1}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}getLabelByValue(e){let u=(this.group?this.flatOptions(this._options()):this._options()||[]).find(h=>!this.isOptionGroup(h)&&Ve.equals(this.getOptionValue(h),e,this.equalityKey()));return u?this.getOptionLabel(u):null}getSelectedItemsLabel(){let e=/{(.*?)}/,r=this.selectedItemsLabel?this.selectedItemsLabel:this.config.getTranslation(Wn.SELECTION_MESSAGE);return e.test(r)?r.replace(r.match(e)[0],this.modelValue().length+""):r}getOptionLabel(e){return this.optionLabel?Ve.resolveFieldData(e,this.optionLabel):e&&e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?Ve.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}getOptionGroupLabel(e){return this.optionGroupLabel?Ve.resolveFieldData(e,this.optionGroupLabel):e&&e.label!=null?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?Ve.resolveFieldData(e,this.optionGroupChildren):e.items}onKeyDown(e){if(this.disabled){e.preventDefault();return}let r=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if(e.code==="KeyA"&&r){let u=this.visibleOptions().filter(h=>this.isValidOption(h)).map(h=>this.getOptionValue(h));this.updateModel(u,e),e.preventDefault();break}!r&&Ve.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e,e.key),e.preventDefault());break}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break;default:break}}onArrowLeftKey(e,r=!1){r&&this.focusedOptionIndex.set(-1)}onArrowDownKey(e){let r=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex(),r),this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault(),e.stopPropagation()}onArrowUpKey(e,r=!1){if(e.altKey&&!r)this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide(),e.preventDefault();else{let u=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,u,this.startRangeIndex()),this.changeFocusedOptionIndex(e,u),!this.overlayVisible&&this.show(),e.preventDefault()}e.stopPropagation()}onHomeKey(e,r=!1){let{currentTarget:u}=e;if(r){let h=u.value.length;u.setSelectionRange(0,e.shiftKey?h:0),this.focusedOptionIndex.set(-1)}else{let h=e.metaKey||e.ctrlKey,g=this.findFirstOptionIndex();e.shiftKey&&h&&this.onOptionSelectRange(e,g,this.startRangeIndex()),this.changeFocusedOptionIndex(e,g),!this.overlayVisible&&this.show()}e.preventDefault()}onEndKey(e,r=!1){let{currentTarget:u}=e;if(r){let h=u.value.length;u.setSelectionRange(e.shiftKey?0:h,h),this.focusedOptionIndex.set(-1)}else{let h=e.metaKey||e.ctrlKey,g=this.findLastFocusedOptionIndex();e.shiftKey&&h&&this.onOptionSelectRange(e,this.startRangeIndex(),g),this.changeFocusedOptionIndex(e,g),!this.overlayVisible&&this.show()}e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onEnterKey(e){this.overlayVisible?this.focusedOptionIndex()!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex()):this.onOptionSelect({originalEvent:e,option:this.visibleOptions()[this.focusedOptionIndex()]})):this.onArrowDownKey(e),e.preventDefault()}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onDeleteKey(e){this.showClear&&(this.clear(e),e.preventDefault())}onTabKey(e,r=!1){r||(this.overlayVisible&&this.hasFocusableElements()?(ge.focus(e.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),e.preventDefault()):(this.focusedOptionIndex()!==-1&&this.onOptionSelect({originalEvent:e,option:this.visibleOptions()[this.focusedOptionIndex()]}),this.overlayVisible&&this.hide(this.filter)))}onShiftKey(){this.startRangeIndex.set(this.focusedOptionIndex())}onContainerClick(e){if(!(this.disabled||this.loading||this.readonly||e.target.isSameNode(this.focusInputViewChild?.nativeElement))){if(e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')){e.preventDefault();return}else if(!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(e.target)){if(this.clickInProgress)return;this.clickInProgress=!0,setTimeout(()=>{this.clickInProgress=!1},150),this.overlayVisible?this.hide(!0):this.show(!0)}this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),this.onClick.emit(e),this.cd.detectChanges()}}onFirstHiddenFocus(e){let r=e.relatedTarget===this.focusInputViewChild?.nativeElement?ge.getFirstFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;ge.focus(r)}onInputFocus(e){this.focused=!0;let r=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(r),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit({originalEvent:e})}onInputBlur(e){this.focused=!1,this.onBlur.emit({originalEvent:e}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onFilterInputChange(e){let r=e.target.value;this._filterValue.set(r),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()})}onLastHiddenFocus(e){let r=e.relatedTarget===this.focusInputViewChild?.nativeElement?ge.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;ge.focus(r)}onOptionMouseEnter(e,r){this.focusOnHover&&this.changeFocusedOptionIndex(e,r)}onHeaderCheckboxKeyDown(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"Space":this.onToggleAll(e);break;case"Enter":this.onToggleAll(e);break;default:break}}onFilterBlur(e){this.focusedOptionIndex.set(-1)}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}onToggleAll(e){if(!(this.disabled||this.readonly)){if(this.selectAll!=null)this.onSelectAllChange.emit({originalEvent:e,checked:!this.allSelected()});else{let r=this.getAllVisibleAndNonVisibleOptions().filter(y=>this.isSelected(y)&&(this.optionDisabled?Ve.resolveFieldData(y,this.optionDisabled):y&&y.disabled!==void 0?y.disabled:!1)),u=this.allSelected()?this.visibleOptions().filter(y=>!this.isValidOption(y)&&this.isSelected(y)):this.visibleOptions().filter(y=>this.isSelected(y)||this.isValidOption(y)),h=[...r,...u].map(y=>this.getOptionValue(y)),g=[...new Set(h)];this.updateModel(g,e),(!g.length||g.length===this.getAllVisibleAndNonVisibleOptions().length)&&this.onSelectAllChange.emit({originalEvent:e,checked:!!g.length})}this.partialSelected()&&(this.selectedOptions=null,this.cd.markForCheck()),this.onChange.emit({originalEvent:e,value:this.value}),ge.focus(this.headerCheckboxViewChild?.nativeElement),this.headerCheckboxFocus=!0,e.preventDefault(),e.stopPropagation()}}changeFocusedOptionIndex(e,r){this.focusedOptionIndex()!==r&&(this.focusedOptionIndex.set(r),this.scrollInView())}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(e=-1){let r=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let u=ge.findSingle(this.itemsViewChild.nativeElement,`li[id="${r}"]`);u?u.scrollIntoView&&u.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}writeValue(e){this.value=e,!Ve.isEmpty(this.selectionLimit)&&Ve.isEmpty(this.value)?this.modelValue.set([]):this.modelValue.set(this.value),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}allSelected(){return this.selectAll!==null?this.selectAll:Ve.isNotEmpty(this.visibleOptions())&&this.visibleOptions().every(e=>this.isOptionGroup(e)||this.isOptionDisabled(e)||this.isSelected(e))}partialSelected(){return this.selectedOptions&&this.selectedOptions.length>0&&this.selectedOptions.length<this.options.length}show(e){this.overlayVisible=!0;let r=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(r),e&&ge.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}hide(e){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.overlayOptions?.mode==="modal"&&ge.unblockBodyScroll(),e&&ge.focus(this.focusInputViewChild?.nativeElement),this.onPanelHide.emit(),this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.itemsWrapper=ge.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-multiselect-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this._options()&&this._options().length)if(this.virtualScroll){let r=Ve.isNotEmpty(this.modelValue())?this.focusedOptionIndex():-1;r!==-1&&this.scroller?.scrollToIndex(r)}else{let r=ge.findSingle(this.itemsWrapper,'[data-p-highlight="true"]');r&&r.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit();case"void":this.itemsWrapper=null,this.onModelTouched();break}}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue.set(null),this._filteredOptions=null}close(e){this.hide(),e.preventDefault(),e.stopPropagation()}clear(e){this.value=null,this.updateModel(null,e),this.selectedOptions=null,this.onClear.emit(),this._disableTooltip=!0,e.stopPropagation()}labelContainerMouseLeave(){this._disableTooltip&&(this._disableTooltip=!1)}removeOption(e,r){let u=this.modelValue().filter(h=>!Ve.equals(h,e,this.equalityKey()));this.updateModel(u,r),this.onChange.emit({originalEvent:r,value:u,itemValue:e}),r&&r.stopPropagation()}findNextItem(e){let r=e.nextElementSibling;return r?ge.hasClass(r.children[0],"p-disabled")||ge.isHidden(r.children[0])||ge.hasClass(r,"p-multiselect-item-group")?this.findNextItem(r):r.children[0]:null}findPrevItem(e){let r=e.previousElementSibling;return r?ge.hasClass(r.children[0],"p-disabled")||ge.isHidden(r.children[0])||ge.hasClass(r,"p-multiselect-item-group")?this.findPrevItem(r):r.children[0]:null}findNextOptionIndex(e){let r=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(u=>this.isValidOption(u)):-1;return r>-1?r+e+1:e}findPrevOptionIndex(e){let r=e>0?Ve.findLastIndex(this.visibleOptions().slice(0,e),u=>this.isValidOption(u)):-1;return r>-1?r:e}findLastSelectedOptionIndex(){return this.hasSelectedOption()?Ve.findLastIndex(this.visibleOptions(),e=>this.isValidSelectedOption(e)):-1}findLastFocusedOptionIndex(){let e=this.findLastSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findLastOptionIndex(){return Ve.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}searchOptions(e,r){this.searchValue=(this.searchValue||"")+r;let u=-1,h=!1;return this.focusedOptionIndex()!==-1?(u=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(g=>this.isOptionMatched(g)),u=u===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(g=>this.isOptionMatched(g)):u+this.focusedOptionIndex()):u=this.visibleOptions().findIndex(g=>this.isOptionMatched(g)),u!==-1&&(h=!0),u===-1&&this.focusedOptionIndex()===-1&&(u=this.findFirstFocusedOptionIndex()),u!==-1&&this.changeFocusedOptionIndex(e,u),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),h}activateFilter(){if(this.hasFilter()&&this._options)if(this.group){let e=[];for(let r of this.options){let u=this.filterService.filter(this.getOptionGroupChildren(r),this.searchFields(),this.filterValue,this.filterMatchMode,this.filterLocale);u&&u.length&&e.push(Ts(Cr({},r),{[this.optionGroupChildren]:u}))}this._filteredOptions=e}else this._filteredOptions=this.filterService.filter(this.options,this.searchFields(),this.filterValue,this.filterMatchMode,this.filterLocale);else this._filteredOptions=null}hasFocusableElements(){return ge.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"])').length>0}hasFilter(){return this._filterValue()&&this._filterValue().trim().length>0}};f(s,"\u0275fac",function(r){return new(r||s)(Ge(Sr),Ge(yo),Ge(Xi),Ge(ps),Ge(uc),Ge(so),Ge(za))}),f(s,"\u0275cmp",je({type:s,selectors:[["p-multiSelect"]],contentQueries:function(r,u,h){if(r&1&&(Gi(h,Vd,5),Gi(h,Op,5),Gi(h,Pi,4)),r&2){let g;Je(g=et())&&(u.footerFacet=g.first),Je(g=et())&&(u.headerFacet=g.first),Je(g=et())&&(u.templates=g)}},viewQuery:function(r,u){if(r&1&&(Ct(e2,5),Ct(t2,5),Ct(i2,5),Ct(n2,5),Ct(r2,5),Ct(o2,5),Ct(s2,5),Ct(a2,5),Ct(l2,5)),r&2){let h;Je(h=et())&&(u.containerViewChild=h.first),Je(h=et())&&(u.overlayViewChild=h.first),Je(h=et())&&(u.filterInputChild=h.first),Je(h=et())&&(u.focusInputViewChild=h.first),Je(h=et())&&(u.itemsViewChild=h.first),Je(h=et())&&(u.scroller=h.first),Je(h=et())&&(u.lastHiddenFocusableElementOnOverlay=h.first),Je(h=et())&&(u.firstHiddenFocusableElementOnOverlay=h.first),Je(h=et())&&(u.headerCheckboxViewChild=h.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(r,u){r&2&&ko("p-inputwrapper-focus",u.focused||u.overlayVisible)("p-inputwrapper-filled",u.filled)},inputs:{id:"id",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:[2,"disabled","disabled",we],readonly:[2,"readonly","readonly",we],group:[2,"group","group",we],filter:[2,"filter","filter",we],filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:[2,"overlayVisible","overlayVisible",we],tabindex:[2,"tabindex","tabindex",Mt],variant:"variant",appendTo:"appendTo",dataKey:"dataKey",name:"name",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:[2,"selectionLimit","selectionLimit",e=>Mt(e,null)],selectedItemsLabel:"selectedItemsLabel",showToggleAll:[2,"showToggleAll","showToggleAll",we],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",we],dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:[2,"showHeader","showHeader",we],filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",we],virtualScroll:[2,"virtualScroll","virtualScroll",we],loading:[2,"loading","loading",we],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",Mt],loadingIcon:"loadingIcon",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:[2,"autofocusFilter","autofocusFilter",we],display:"display",autocomplete:"autocomplete",showClear:[2,"showClear","showClear",we],autofocus:[2,"autofocus","autofocus",we],autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue",itemSize:"itemSize",selectAll:"selectAll",focusOnHover:[2,"focusOnHover","focusOnHover",we],filterFields:"filterFields",selectOnFocus:[2,"selectOnFocus","selectOnFocus",we],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",we]},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad",onRemove:"onRemove",onSelectAllChange:"onSelectAllChange"},features:[jn([BI]),gn],ngContentSelectors:c2,decls:17,vars:44,consts:[["container",""],["focusInput",""],["elseBlock",""],["overlay",""],["token",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["headerCheckbox",""],["filterInput",""],["scroller",""],["items",""],["emptyFilter",""],["empty",""],[3,"click","ngClass","ngStyle"],[1,"p-hidden-accessible"],["role","combobox","pAutoFocus","",3,"focus","blur","keydown","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus"],[1,"p-multiselect-label-container",3,"mouseleave","pTooltip","tooltipDisabled","tooltipPosition","positionStyle","tooltipStyleClass"],[3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-multiselect-trigger"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],["class","p-multiselect-token",4,"ngFor","ngForOf"],[1,"p-multiselect-token"],[1,"p-multiselect-token-label"],[3,"ngClass","styleClass","click",4,"ngIf"],["class","p-multiselect-token-icon",3,"click",4,"ngIf"],[3,"click","ngClass","styleClass"],[1,"p-multiselect-token-icon",3,"click"],[4,"ngTemplateOutlet"],[3,"styleClass","click",4,"ngIf"],["class","p-multiselect-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-multiselect-clear-icon",3,"click"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-multiselect-trigger-icon",4,"ngIf"],["class","p-multiselect-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-multiselect-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-multiselect-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-items-wrapper",3,"ngStyle"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],["class","p-multiselect-footer",4,"ngIf"],[1,"p-multiselect-header"],["class","p-checkbox p-component",3,"ngClass","click","keydown",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],["type","button","pRipple","",1,"p-multiselect-close","p-link","p-button-icon-only",3,"click"],["class","p-multiselect-close-icon",4,"ngIf"],[1,"p-checkbox","p-component",3,"click","keydown","ngClass"],["type","checkbox",3,"focus","blur","readonly","disabled"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],["class","p-checkbox-icon",4,"ngIf"],[1,"p-checkbox-icon"],[1,"p-multiselect-filter-container"],["type","text","role","searchbox","role","searchbox",1,"p-multiselect-filter","p-inputtext","p-component",3,"input","keydown","click","blur","value","disabled"],["class","p-multiselect-filter-icon",4,"ngIf"],[1,"p-multiselect-filter-icon"],[1,"p-multiselect-close-icon"],[3,"onLazyLoad","items","itemSize","autoSize","tabindex","lazy","options"],["pTemplate","loader"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-items","p-component",3,"ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-multiselect-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-multiselect-item-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","selected","label","disabled","template","checkIconTemplate","itemCheckboxIconTemplate","itemSize","focused","ariaPosInset","ariaSetSize"],["role","option",1,"p-multiselect-empty-message",3,"ngStyle"],[1,"p-multiselect-footer"]],template:function(r,u){if(r&1){let h=We();hs(u2),H(0,"div",15,0),Oe("click",function(y){return te(h),ie(u.onContainerClick(y))}),H(2,"div",16)(3,"input",17,1),Oe("focus",function(y){return te(h),ie(u.onInputFocus(y))})("blur",function(y){return te(h),ie(u.onInputBlur(y))})("keydown",function(y){return te(h),ie(u.onKeyDown(y))}),U()(),H(5,"div",18),Oe("mouseleave",function(){return te(h),ie(u.labelContainerMouseLeave())}),H(6,"div",19),K(7,T2,3,2,"ng-container",20)(8,E2,1,0,"ng-container",21),U(),K(9,k2,3,2,"ng-container",20),U(),H(10,"div",22),K(11,V2,3,2,"ng-container",23)(12,K2,2,2,"ng-template",null,2,Tr),U(),H(14,"p-overlay",24,3),Sa("visibleChange",function(y){return te(h),Ia(u.overlayVisible,y)||(u.overlayVisible=y),ie(y)}),Oe("onAnimationStart",function(y){return te(h),ie(u.onOverlayAnimationStart(y))})("onHide",function(){return te(h),ie(u.hide())}),K(16,VI,12,18,"ng-template",25),U()()}if(r&2){let h,g=Zi(13);Re(u.styleClass),I("ngClass",u.containerClass)("ngStyle",u.style),ne("id",u.id),S(2),ne("data-p-hidden-accessible",!0),S(),I("pTooltip",u.tooltip)("tooltipPosition",u.tooltipPosition)("positionStyle",u.tooltipPositionStyle)("tooltipStyleClass",u.tooltipStyleClass)("autofocus",u.autofocus),ne("aria-disabled",u.disabled)("id",u.inputId)("aria-label",u.ariaLabel)("aria-labelledby",u.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",(h=u.overlayVisible)!==null&&h!==void 0?h:!1)("aria-controls",u.overlayVisible?u.id+"_list":null)("tabindex",u.disabled?-1:u.tabindex)("aria-activedescendant",u.focused?u.focusedOptionId:void 0)("value",u.label()||"empty"),S(2),I("pTooltip",u.tooltip)("tooltipDisabled",u._disableTooltip)("tooltipPosition",u.tooltipPosition)("positionStyle",u.tooltipPositionStyle)("tooltipStyleClass",u.tooltipStyleClass),S(),I("ngClass",u.labelClass),S(),I("ngIf",!u.selectedItemsTemplate),S(),I("ngTemplateOutlet",u.selectedItemsTemplate)("ngTemplateOutletContext",Hi(41,p2,u.selectedOptions,u.removeOption.bind(u))),S(),I("ngIf",u.isVisibleClearIcon),S(2),I("ngIf",u.loading)("ngIfElse",g),S(3),Ca("visible",u.overlayVisible),I("options",u.overlayOptions)("target","@parent")("appendTo",u.appendTo)("autoZIndex",u.autoZIndex)("baseZIndex",u.baseZIndex)("showTransitionOptions",u.showTransitionOptions)("hideTransitionOptions",u.hideTransitionOptions)}},dependencies:()=>[xn,jo,un,wn,bn,Cl,Pi,fc,ms,au,Xr,vo,lu,Al,or,Qo,zI],styles:[`@layer primeng{.p-multiselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-multiselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-multiselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer;display:flex}.p-multiselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-multiselect-label-empty{overflow:hidden;visibility:hidden}.p-multiselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-multiselect-token-icon{cursor:pointer}.p-multiselect-token-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100px}.p-multiselect-items-wrapper{overflow:auto}.p-multiselect-items{margin:0;padding:0;list-style-type:none}.p-multiselect-item{cursor:pointer;display:flex;align-items:center;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-multiselect-header{display:flex;align-items:center;justify-content:space-between}.p-multiselect-filter-container{position:relative;flex:1 1 auto}.p-multiselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-multiselect-filter-container .p-inputtext{width:100%}.p-multiselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative}.p-fluid .p-multiselect{display:flex}.p-multiselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-multiselect-clearable{position:relative}}
`],encapsulation:2,changeDetection:0}));let i=s;return i})(),E_=(()=>{let s=class s{};f(s,"\u0275fac",function(r){return new(r||s)}),f(s,"\u0275mod",Vt({type:s})),f(s,"\u0275inj",At({imports:[kt,La,wt,qa,Wr,Os,kr,vo,lu,Al,or,Qo,vo,I_,La,wt,Os]}));let i=s;return i})();var qI=["*"];function GI(i,s){i&1&&it(0)}function UI(i,s){if(i&1&&(H(0,"div",4),K(1,GI,1,0,"ng-container",5),U()),i&2){let o=T();ne("data-pc-section","start"),S(),I("ngTemplateOutlet",o.startTemplate)}}function KI(i,s){i&1&&it(0)}function ZI(i,s){if(i&1&&(H(0,"div",6),K(1,KI,1,0,"ng-container",5),U()),i&2){let o=T();ne("data-pc-section","center"),S(),I("ngTemplateOutlet",o.centerTemplate)}}function YI(i,s){i&1&&it(0)}function jI(i,s){if(i&1&&(H(0,"div",7),K(1,YI,1,0,"ng-container",5),U()),i&2){let o=T();ne("data-pc-section","end"),S(),I("ngTemplateOutlet",o.endTemplate)}}var M_=(()=>{let s=class s{constructor(e){f(this,"el");f(this,"style");f(this,"styleClass");f(this,"ariaLabelledBy");f(this,"templates");f(this,"startTemplate");f(this,"endTemplate");f(this,"centerTemplate");this.el=e}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"start":case"left":this.startTemplate=e.template;break;case"end":case"right":this.endTemplate=e.template;break;case"center":this.centerTemplate=e.template;break}})}};f(s,"\u0275fac",function(r){return new(r||s)(Ge(Sr))}),f(s,"\u0275cmp",je({type:s,selectors:[["p-toolbar"]],contentQueries:function(r,u,h){if(r&1&&Gi(h,Pi,4),r&2){let g;Je(g=et())&&(u.templates=g)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy"},ngContentSelectors:qI,decls:5,vars:9,consts:[["role","toolbar",3,"ngClass","ngStyle"],["class","p-toolbar-group-left p-toolbar-group-start",4,"ngIf"],["class","p-toolbar-group-center",4,"ngIf"],["class","p-toolbar-group-right p-toolbar-group-end",4,"ngIf"],[1,"p-toolbar-group-left","p-toolbar-group-start"],[4,"ngTemplateOutlet"],[1,"p-toolbar-group-center"],[1,"p-toolbar-group-right","p-toolbar-group-end"]],template:function(r,u){r&1&&(hs(),H(0,"div",0),Do(1),K(2,UI,2,2,"div",1)(3,ZI,2,2,"div",2)(4,jI,2,2,"div",3),U()),r&2&&(Re(u.styleClass),I("ngClass","p-toolbar p-component")("ngStyle",u.style),ne("aria-labelledby",u.ariaLabelledBy)("data-pc-name","toolbar"),S(2),I("ngIf",u.startTemplate),S(),I("ngIf",u.centerTemplate),S(),I("ngIf",u.endTemplate))},dependencies:[xn,un,wn,bn],styles:[`@layer primeng{.p-toolbar{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.p-toolbar-group-start,.p-toolbar-group-center,.p-toolbar-group-end,.p-toolbar-group-left,.p-toolbar-group-right{display:flex;align-items:center}}
`],encapsulation:2,changeDetection:0}));let i=s;return i})(),O_=(()=>{let s=class s{};f(s,"\u0275fac",function(r){return new(r||s)}),f(s,"\u0275mod",Vt({type:s})),f(s,"\u0275inj",At({imports:[kt,wt,wt]}));let i=s;return i})();function XI(i,s){if(i&1&&(ut(),H(0,"text",20),Xe(1),U()),i&2){let o=T(2).$implicit,e=T();ne("y",e.dir_y0+e.dir_yy+4),S(),It(e.tfl_routes_index[o].direction[0].stops[e.tfl_routes_index[o].direction[0].stops.length-1].name)}}function $I(i,s){if(i&1&&(ut(),H(0,"g"),ye(1,"line",23),H(2,"text",24),Xe(3),U(),ye(4,"rect",25),U()),i&2){let o=T().$implicit,e=T(3);S(),ne("y1",e.dir_y0+e.dir_yy*o.from_line_start)("y2",e.dir_y0+e.dir_yy*o.from_line_start),S(),ne("y",e.dir_y0+e.dir_yy*o.from_line_start-4),S(),Wi(" ",o.name.substring(0,20)+(o.name.length>20?"...":"")," "),S(),ne("y",e.dir_y0+e.dir_yy*o.from_line_start)}}function QI(i,s){if(i&1&&(ut(),H(0,"text",26),Xe(1),Ep(2,"number"),U()),i&2){let o=T().$implicit,e=T(2).$implicit,r=T();ne("y",r.dir_y0+r.dir_yy*o.from_line_start+4),S(),It(Mp(2,2,r.line_stops_prediction[e][o.id]/60,"1.0-0","en"))}}function JI(i,s){if(i&1&&(ut(),H(0,"g"),K(1,$I,5,5,"g",16),H(2,"circle",21)(3,"title"),Xe(4),U()(),K(5,QI,3,6,"text",22),U()),i&2){let o=s.$implicit,e=T(2).$implicit,r=T();S(),I("ngIf",r.qsi_points[e]&&r.qsi_points[e].direction[0].indexOf(o.id)!=-1),S(),ne("cy",r.dir_y0+r.dir_yy*o.from_line_start)("fill",r.qsi_points[e]&&r.qsi_points[e].direction[0].indexOf(o.id)!=-1?"#00c":"#fff"),S(2),It(o.name),S(),I("ngIf",r.line_stops_prediction[e]&&r.line_stops_prediction[e][o.id])}}function eS(i,s){if(i&1&&(ut(),H(0,"g")(1,"text",18),Xe(2),U(),K(3,XI,2,2,"text",19)(4,JI,6,5,"g",17),U()),i&2){let o=T().$implicit,e=T();S(),ne("y",e.dir_y0-12),S(),It(e.tfl_routes_index[o].direction[0].stops[0].name),S(),I("ngIf",!e.tfl_routes_index[o].direction[1]),S(),I("ngForOf",e.tfl_routes_index[o]==null||e.tfl_routes_index[o].direction[0]==null?null:e.tfl_routes_index[o].direction[0].stops)}}function tS(i,s){if(i&1&&(ut(),H(0,"g"),ye(1,"line",29),H(2,"text",30),Xe(3),U(),ye(4,"rect",31),U()),i&2){let o=T().$implicit,e=T(3);S(),ne("y1",e.dir_y0+e.dir_yy-e.dir_yy*o.from_line_start)("y2",e.dir_y0+e.dir_yy-e.dir_yy*o.from_line_start),S(),ne("y",e.dir_y0+e.dir_yy-e.dir_yy*o.from_line_start+12),S(),Wi(" ",o.name.substring(0,20)+(o.name.length>20?"...":"")," "),S(),ne("y",e.dir_y0+e.dir_yy-e.dir_yy*o.from_line_start-18)}}function iS(i,s){if(i&1&&(ut(),H(0,"text",32),Xe(1),Ep(2,"number"),U()),i&2){let o=T().$implicit,e=T(2).$implicit,r=T();ne("y",r.dir_y0+r.dir_yy-r.dir_yy*o.from_line_start+4),S(),It(Mp(2,2,r.line_stops_prediction[e][o.id]/60,"1.0-0","en"))}}function nS(i,s){if(i&1&&(ut(),H(0,"g"),K(1,tS,5,5,"g",16),H(2,"circle",27)(3,"title"),Xe(4),U()(),K(5,iS,3,6,"text",28),U()),i&2){let o=s.$implicit,e=T(2).$implicit,r=T();S(),I("ngIf",r.qsi_points[e]&&r.qsi_points[e].direction[1].indexOf(o.id)!=-1),S(),ne("cy",r.dir_y0+r.dir_yy-r.dir_yy*o.from_line_start)("fill",r.qsi_points[e]&&r.qsi_points[e].direction[1].indexOf(o.id)!=-1?"#00c":"#fff"),S(2),It(o.name),S(),I("ngIf",r.line_stops_prediction[e]&&r.line_stops_prediction[e][o.id])}}function rS(i,s){if(i&1&&(ut(),H(0,"g")(1,"text",18),Xe(2),U(),K(3,nS,6,5,"g",17),U()),i&2){let o=T().$implicit,e=T();S(),ne("y",e.dir_y0+e.dir_yy+20),S(),It(e.tfl_routes_index[o].direction[1].stops[0].name),S(),I("ngForOf",e.tfl_routes_index[o]==null||e.tfl_routes_index[o].direction[1]==null?null:e.tfl_routes_index[o].direction[1].stops)}}function oS(i,s){if(i&1&&(ut(),H(0,"g"),ye(1,"rect",37),H(2,"text",38),Xe(3),U()()),i&2){let o=T(2).$implicit,e=T(2);S(),ne("y",e.dir_y0+e.vehicles[o].pos*e.dir_yy),S(),ne("y",e.dir_y0+e.vehicles[o].pos*e.dir_yy+13),S(),Wi("",e.vehicles[o].seconds_ago,"`")}}function sS(i,s){if(i&1&&(ut(),H(0,"g"),ye(1,"line",33),K(2,oS,4,3,"g",16),H(3,"g",34),ye(4,"path",35),H(5,"title"),Xe(6),U()(),H(7,"text",36),Xe(8),U()()),i&2){let o=T().$implicit,e=T(2);S(),ne("y1",e.dir_y0+e.vehicles[o].pos*e.dir_yy)("y2",e.dir_y0+e.vehicles[o].pos*e.dir_yy),S(),I("ngIf",e.vehicles[o].pos<.99),S(),ne("transform","translate("+e.route_dir0_x+" "+(e.dir_y0+e.vehicles[o].pos*e.dir_yy)+")")("stroke",e.vehicles[o].seconds_ago<60?"#0c0":"#aaa"),S(3),It(e.vehicles[o].pos),S(),ne("y",e.dir_y0+e.vehicles[o].pos*e.dir_yy+4),S(),It(o)}}function aS(i,s){if(i&1&&(ut(),H(0,"g"),ye(1,"rect",42),H(2,"text",43),Xe(3),U()()),i&2){let o=T(2).$implicit,e=T(2);S(),ne("y",e.dir_y0+e.dir_yy-e.vehicles[o].pos*e.dir_yy-18),S(),ne("y",e.dir_y0+e.dir_yy-e.vehicles[o].pos*e.dir_yy-5),S(),Wi("",e.vehicles[o].seconds_ago,"`")}}function lS(i,s){if(i&1&&(ut(),H(0,"g"),ye(1,"line",39),K(2,aS,4,3,"g",16),H(3,"g",34),ye(4,"path",40),H(5,"title"),Xe(6),U()(),H(7,"text",41),Xe(8),U()()),i&2){let o=T().$implicit,e=T(2);S(),ne("y1",e.dir_y0+e.dir_yy-e.vehicles[o].pos*e.dir_yy)("y2",e.dir_y0+e.dir_yy-e.vehicles[o].pos*e.dir_yy),S(),I("ngIf",e.vehicles[o].pos<.99),S(),ne("transform","translate("+e.route_dir1_x+" "+(e.dir_y0+e.dir_yy-e.vehicles[o].pos*e.dir_yy)+")")("stroke",e.vehicles[o].seconds_ago<60?"#0c0":"#aaa"),S(3),It(e.vehicles[o].pos),S(),ne("y",e.dir_y0+e.dir_yy-e.vehicles[o].pos*e.dir_yy+4),S(),It(o)}}function uS(i,s){if(i&1&&(ut(),H(0,"g"),K(1,sS,9,8,"g",16)(2,lS,9,8,"g",16),U()),i&2){let o=s.$implicit,e=T(2);S(),I("ngIf",e.vehicles[o].on_route&&e.vehicles[o].dir==0),S(),I("ngIf",e.vehicles[o].on_route&&e.vehicles[o].dir==1)}}function cS(i,s){if(i&1&&(H(0,"div",9)(1,"div")(2,"div",10)(3,"div",11),Xe(4),U(),H(5,"div",12),Xe(6," EWT:"),ye(7,"br"),Xe(8," Vehicles: "),U()()(),H(9,"div"),ut(),H(10,"svg",13)(11,"style"),Xe(12," circle { stroke: #778; } circle:hover { r: 5; } .terminal_point { font-size: 15px; } text { font-size: 13px; } .qsi_ewt { width: 14%; height: 18px; stroke: #dde; fill: #fff; } .headway_dir0 { width: 5%; height: 18px; fill: #fff; } "),U(),ye(13,"line",14)(14,"line",15),K(15,eS,5,4,"g",16)(16,rS,4,3,"g",16)(17,uS,3,2,"g",17),U()()()),i&2){let o=s.$implicit,e=T();S(4),Wi(" ",o," "),S(9),ne("y1",e.dir_y0)("y2",e.dir_y0+e.dir_yy),S(),ne("y1",e.dir_y0)("y2",e.dir_y0+e.dir_yy),S(),I("ngIf",e.tfl_routes_index[o]&&e.tfl_routes_index[o].direction&&e.tfl_routes_index[o].direction[0]),S(),I("ngIf",e.tfl_routes_index[o]&&e.tfl_routes_index[o].direction&&e.tfl_routes_index[o].direction[1]),S(),I("ngForOf",e.vehicles_on_route[o])}}var L_=(()=>{let s=class s{constructor(e,r,u,h,g,y){f(this,"route");f(this,"cookieService");f(this,"http");f(this,"title");f(this,"confirmationService");f(this,"messageService");f(this,"map");f(this,"curDate",new Date);f(this,"curTS",Math.floor(new Date().valueOf()/1e3));f(this,"curDate_str","");f(this,"vehicles",{});f(this,"map_center",[51.5,0]);f(this,"satellite",!1);f(this,"tile_layer");f(this,"dir_y0",50);f(this,"dir_yy",110);f(this,"route_dir0_x",50);f(this,"route_dir1_x",150);f(this,"routes",[]);f(this,"routes_index",{});f(this,"sirivm_lines",[]);f(this,"vehicles_on_route",{});f(this,"active_routes",["249","319","N171"]);f(this,"tfl_routes",[]);f(this,"tfl_routes_index",{});f(this,"sirivm_line_refs",[]);f(this,"lines_on_map",{});f(this,"qsi_points",{});f(this,"line_stops_prediction",{});this.route=e,this.cookieService=r,this.http=u,this.title=h,this.confirmationService=g,this.messageService=y}ngOnInit(){this.curDate_str=this.curDate.getFullYear()+"-"+(this.curDate.getMonth()+1).toString().padStart(2,"0")+"-"+this.curDate.getDate().toString().padStart(2,"0"),this.cookieService.check("routes")&&(this.active_routes=JSON.parse(this.cookieService.get("routes"))),this.active_routes.sort(),this.cookieService.set("routes",JSON.stringify(this.active_routes),7),this.rootInit()}rootInit(){this.dir_yy=window.innerHeight-110-this.dir_y0-50,this.route_dir0_x=.47*window.innerWidth/2/this.active_routes.length,this.route_dir1_x=.53*window.innerWidth/2/this.active_routes.length,console.log("dir_yy",this.dir_yy),this.map=uu.default.map("map",{center:this.map_center,zoom:13,attributionControl:!1}),this.tile_layer=uu.default.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",{maxZoom:19,attribution:null}).addTo(this.map),this.getSiriVM(),this.getTfLLines(),this.getTfLLinesPredictions()}getGTFS(){this.http.get("https://functions.yandexcloud.net/d4e4j5e1vvflhjmdlf5g?get=routes").subscribe(e=>{console.log("routes",e);for(let r of e)this.routes_index[r.route_id]=r,this.routes.push(this.routes_index[r.route_id]);this.getGTFSRT()})}getGTFSRT(){this.http.get("https://functions.yandexcloud.net/d4eg5940hvs6j0q67g9m").subscribe(e=>{console.log("rt",e,this.curTS)})}getSiriVM(){this.http.get("https://functions.yandexcloud.net/d4er3felqnp8vqlcair4?routes="+this.active_routes.join(",")).subscribe(e=>{console.log(new Date().valueOf(),"sirivm",e,this.curTS),this.sirivm_lines=[...new Set(e.available_routes)],this.sirivm_line_refs=this.sirivm_lines.filter(r=>this.active_routes.indexOf(r.PublishedLineName)!=-1).map(r=>r.LineRef),this.getSiriVMapiRun()},e=>{console.error(e),setTimeout(()=>{this.getSiriVM()},1e4)})}getSiriVMapiRun(){this.getSiriVMapi(this.sirivm_line_refs[0]),setTimeout(()=>{this.getSiriVMapiRun()},1e4)}getSiriVMapi(e){console.log(new Date().valueOf(),"getSiriVMapi",e),this.http.get("https://functions.yandexcloud.net/d4eikqpo43j92s7kljs6?lineRef="+e).subscribe(r=>{console.log(new Date().valueOf(),"getSiriVMapi",e,r);let u=this.tfl_routes_index[r.avl_data[0].PublishedLineName];this.vehicles_on_route[r.avl_data[0].PublishedLineName]=[];for(let h of r.avl_data){this.vehicles[h.VehicleRef]||(this.vehicles[h.VehicleRef]={});let g=this.vehicles[h.VehicleRef],y=[];for(let N in u.direction)y.push(Rc(xi([h.Longitude,h.Latitude]),u.direction[N].lineString,{units:"meters"}));g.on_route=!1;let w=Math.floor(new Date(h.imkt).valueOf()/1e3),D=Math.floor(new Date().valueOf()/1e3-new Date(h.imkt).valueOf()/1e3);g.seconds_ago=D,D>20*19&&(D=20*19);for(let N of y)N<100&&D<300&&(this.vehicles_on_route[h.PublishedLineName].push(h.VehicleRef),g.on_route=!0);if(g.avl=h,g.avl_hist){if(g.on_route&&g.dir==0){let A=aa(Kl(u.direction[0].lineString.geometry.coordinates[0],xi([h.Longitude,h.Latitude]),u.direction[0].lineString),{units:"meters"})/u.direction[0].length;if(A==g.pos)continue;A>=g.pos?(g.avl_hist.push({dir_ind:0,pos:A,ts:w}),g.dir=0,g.pos=A):(g.dir=1,g.pos=0)}if(g.on_route&&g.dir==1){let A=aa(Kl(u.direction[1].lineString.geometry.coordinates[0],xi([h.Longitude,h.Latitude]),u.direction[1].lineString),{units:"meters"})/u.direction[1].length;if(A==g.pos)continue;A>=g.pos?(g.avl_hist.push({dir_ind:1,pos:A,ts:w}),g.dir=1,g.pos=A):(g.dir=0,g.pos=0)}}else{g.avl_hist=[];let A=aa(Kl(u.direction[0].lineString.geometry.coordinates[0],xi([h.Longitude,h.Latitude]),u.direction[0].lineString),{units:"meters"})/u.direction[0].length;g.avl_hist.push({dir_ind:0,pos:A,ts:w}),g.dir=0,g.pos=A}g.icon=uu.default.divIcon({className:"map-vehicle-icon",html:'<div style="position:absolute; margin-top:-12px; margin-left:-12px; background:#fff; opacity:'+(1-.05*D/20)+"; color:#000; font-weight:700; width:28px; height:28px; line-height:24px; text-align:center; border:red solid 2px; border-radius:0 50% 50% 50%; transform: rotate("+(45+h.bearing*1)+'deg); text-align:center; line-height:24px;"><span style="display:block; transform: rotate(-'+(45+h.bearing*1)+'deg);">'+h.PublishedLineName+"</span></div>"}),g.on_map?(g.on_map.setLatLng([h.Latitude,h.Longitude]),g.on_map.setIcon(g.icon),g.on_map.setTooltipContent(h.VehicleRef+"<br>"+h.imkt)):g.on_map=uu.default.marker([h.Latitude,h.Longitude],{icon:g.icon}).addTo(this.map).bindTooltip(h.VehicleRef+"<br>"+h.imkt,{direction:"right"}).on("click",N=>{console.log(g)})}console.log(this.vehicles_on_route,this.vehicles),this.sirivm_line_refs.indexOf(e)!=this.sirivm_line_refs.length-1&&this.getSiriVMapi(this.sirivm_line_refs[this.sirivm_line_refs.indexOf(e)+1])})}getTfLLines(){this.http.get("https://api.tfl.gov.uk/Line/Mode/bus").subscribe(e=>{console.log("getTfLLines",e),this.tfl_routes=e,this.tfl_routes.sort((r,u)=>r.name*1-u.name*1);for(let r of this.tfl_routes)this.tfl_routes_index[r.name]=r;for(let r of this.active_routes)this.getTfLLine(r)})}changeActiveRoutes(){console.log("changeActiveRoutes",this.active_routes),this.route_dir0_x=.47*window.innerWidth/2/this.active_routes.length,this.route_dir1_x=.53*window.innerWidth/2/this.active_routes.length,this.active_routes.sort(),this.sirivm_line_refs=this.sirivm_lines.filter(e=>this.active_routes.indexOf(e.PublishedLineName)!=-1).map(e=>e.LineRef),this.cookieService.set("routes",JSON.stringify(this.active_routes),7);for(let e in this.lines_on_map)this.active_routes.indexOf(e)==-1&&(this.lines_on_map[e].remove(),delete this.lines_on_map[e]);for(let e of this.active_routes)this.getTfLLine(e)}getTfLLine(e){fetch("assets/qsi_"+e+".json").then(r=>r.json()).then(r=>{this.qsi_points[e]=r,console.log(e,r)}),this.http.get("https://api.tfl.gov.uk/Line/"+e+"/Route/Sequence/all").subscribe(r=>{console.log("getTfLLine",e,r);let u=this.tfl_routes_index[e];u.line=r;for(let h of r.lineStrings){let g=r.lineStrings.indexOf(h);h=JSON.parse(h);let y=Cn(h[0]);console.log("tl",y),this.lines_on_map[e]=uu.default.geoJSON(y).addTo(this.map),u.direction||(u.direction=[]),u.direction[g]||(u.direction[g]={}),u.direction[g].length=aa(y,{units:"meters"}),u.direction[g].lineString=y,u.direction[g].stops=[];for(let w of r.stopPointSequences[g].stopPoint){let D=aa(Kl(y.geometry.coordinates[0],xi([w.lon,w.lat]),y),{units:"meters"});w.from_line_start=D/u.direction[g].length,u.direction[g].stops.push(w)}}console.log(u)})}getTfLLinesPredictions(){for(let e of this.active_routes)this.getTfLLinePredictions(e);setTimeout(()=>{this.getTfLLinesPredictions()},5e3)}getTfLLinePredictions(e){this.http.get("https://countdown.api.tfl.gov.uk/interfaces/ura/instant_V1?LineName="+e+"&ReturnList=VehicleId,RegistrationNumber,StopCode2,EstimatedTime,StopPointName,DirectionID,LineName,StopPointType",{responseType:"text"}).subscribe(r=>{let u=JSON.parse("["+r.replaceAll(`
`,",")+"]");this.line_stops_prediction[e]={};let h=0;for(let g of u)if(g[0]==4)h=g[2];else if(g[0]==1){let y=Math.floor((g[8]-h)/1e3);this.line_stops_prediction[e][g[2]]?this.line_stops_prediction[e][g[2]]>y&&(this.line_stops_prediction[e][g[2]]=y):this.line_stops_prediction[e][g[2]]=y}})}};f(s,"\u0275fac",function(r){return new(r||s)(Ge(Nd),Ge(Bd),Ge(kd),Ge(Fd),Ge(lc),Ge(cc))}),f(s,"\u0275cmp",je({type:s,selectors:[["app-disp"]],features:[jn([lc,cc])],decls:12,vars:3,consts:[[1,"p-toolbar-group-start"],[1,"p-toolbar-group-center"],["optionLabel","name","optionValue","name","placeholder","Select Routes","selectionLimit","5","maxSelectedLabels","6","display","chip",3,"ngModelChange","onChange","options","ngModel"],[1,"p-toolbar-group-end"],[2,"width","100%","border-collapse","collapse","height","calc(100vh - 75px)"],[2,"width","50%"],[2,"display","flex","height","calc(100vh - 75px)"],["style","flex: 1 1 0; border-right: #dde solid 1px;",4,"ngFor","ngForOf"],["id","map",1,"map","map_div"],[2,"flex","1 1 0","border-right","#dde solid 1px"],[2,"display","flex"],[2,"flex","1 1 0","text-align","center","font-size","22px","line-height","32px","color","#334","font-weight","700"],[2,"flex","1 1 0","font-size","13px"],["xmlns","http://www.w3.org/2000/svg",2,"height","calc(100vh - 110px)","width","100%","font-size","11px","color","#aaa"],["x1","47%","x2","47%","stroke","#777"],["x1","53%","x2","53%","stroke","#777"],[4,"ngIf"],[4,"ngFor","ngForOf"],["text-anchor","middle","x","50%",1,"terminal_point"],["text-anchor","middle","x","25%",4,"ngIf"],["text-anchor","middle","x","25%"],["cx","47%","r","3"],["text-anchor","end","x","43%",4,"ngIf"],["x1","15%","x2","47%","stroke","#dde"],["text-anchor","start","x","1%","fill","#ccd","font-size","11"],["x","1%",1,"qsi_ewt"],["text-anchor","end","x","43%"],["cx","53%","r","3"],["text-anchor","start","x","57%",4,"ngIf"],["x1","53%","x2","85%","stroke","#dde"],["text-anchor","end","x","99%","fill","#ccd","font-size","11"],["x","85%",1,"qsi_ewt"],["text-anchor","start","x","57%"],["x1","36%","x2","47%","stroke","#ccd"],["fill","#fff","stroke-width","2"],["transform","rotate(45)","d","M 0 -6 C 6 -6 6 0 6 0 L 6 6 L 0 6 C -6 6 -6 0 -6 0 C -6 -6 0 -6 0 -6"],["text-anchor","end","x","35%"],["x","36%","stroke","#7f7",1,"headway_dir0"],["text-anchor","middle","x","38.75%"],["x1","53%","x2","64%","stroke","#ccd"],["transform","rotate(225)","d","M 0 -6 C 6 -6 6 0 6 0 L 6 6 L 0 6 C -6 6 -6 0 -6 0 C -6 -6 0 -6 0 -6"],["text-anchor","start","x","65%"],["x","59%","stroke","#7f7",1,"headway_dir0"],["text-anchor","middle","x","61.75%"]],template:function(r,u){r&1&&(H(0,"p-toolbar"),ye(1,"div",0),H(2,"div",1)(3,"p-multiSelect",2),Sa("ngModelChange",function(g){return Ia(u.active_routes,g)||(u.active_routes=g),g}),Oe("onChange",function(){return u.changeActiveRoutes()}),U()(),ye(4,"div",3),U(),H(5,"table",4)(6,"tr")(7,"td",5)(8,"div",6),K(9,cS,18,8,"div",7),U()(),H(10,"td"),ye(11,"div",8),U()()()),r&2&&(S(3),I("options",u.tfl_routes),Ca("ngModel",u.active_routes),S(6),I("ngForOf",u.active_routes))},dependencies:[jo,un,zd,Hd,wd,M_,Pd],styles:[".map_div[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 75px);cursor:default}.map-vehicle-icon[_ngcontent-%COMP%]{display:block}"]}));let i=s;return i})();var Il=(()=>{let s=class s extends Dt{};f(s,"\u0275fac",(()=>{let e;return function(u){return(e||(e=Ot(s)))(u||s)}})()),f(s,"\u0275cmp",je({type:s,selectors:[["ChevronRightIcon"]],standalone:!0,features:[Lt,Pt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(r,u){r&1&&(ut(),H(0,"svg",0),ye(1,"path",1),U()),r&2&&(Re(u.getClassNames()),ne("aria-label",u.ariaLabel)("aria-hidden",u.ariaHidden)("role",u.role))},encapsulation:2}));let i=s;return i})();var P_=(()=>{let s=class s{};f(s,"\u0275fac",function(r){return new(r||s)}),f(s,"\u0275mod",Vt({type:s})),f(s,"\u0275inj",At({imports:[kt,Il,Qo,wt]}));let i=s;return i})();var pS=["container"],hS=["focusInput"],dS=["multiIn"],fS=["multiContainer"],mS=["ddBtn"],gS=["items"],_S=["scroller"],yS=["overlay"],vS=i=>({"p-autocomplete-token":!0,"p-focus":i}),D_=i=>({$implicit:i}),yp=i=>({height:i}),R_=(i,s)=>({$implicit:i,options:s}),xS=i=>({options:i}),bS=()=>({}),wS=(i,s,o)=>({"p-highlight":i,"p-focus":s,"p-disabled":o}),CS=(i,s)=>({$implicit:i,index:s});function IS(i,s){if(i&1){let o=We();H(0,"input",20,3),Oe("input",function(r){te(o);let u=T();return ie(u.onInput(r))})("keydown",function(r){te(o);let u=T();return ie(u.onKeyDown(r))})("change",function(r){te(o);let u=T();return ie(u.onInputChange(r))})("focus",function(r){te(o);let u=T();return ie(u.onInputFocus(r))})("blur",function(r){te(o);let u=T();return ie(u.onInputBlur(r))})("paste",function(r){te(o);let u=T();return ie(u.onInputPaste(r))})("keyup",function(r){te(o);let u=T();return ie(u.onInputKeyUp(r))}),U()}if(i&2){let o,e=T();Re(e.inputStyleClass),I("autofocus",e.autofocus)("ngClass",e.inputClass)("ngStyle",e.inputStyle)("type",e.type)("autocomplete",e.autocomplete)("required",e.required)("name",e.name)("tabindex",e.disabled?-1:e.tabindex)("readonly",e.readonly)("disabled",e.disabled),ne("value",e.inputValue())("id",e.inputId)("placeholder",e.placeholder)("size",e.size)("maxlength",e.maxlength)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-required",e.required)("aria-expanded",(o=e.overlayVisible)!==null&&o!==void 0?o:!1)("aria-controls",e.overlayVisible?e.id+"_list":null)("aria-activedescendant",e.focused?e.focusedOptionId:void 0)}}function SS(i,s){if(i&1){let o=We();H(0,"TimesIcon",23),Oe("click",function(){te(o);let r=T(2);return ie(r.clear())}),U()}i&2&&(I("styleClass","p-autocomplete-clear-icon"),ne("aria-hidden",!0))}function TS(i,s){}function ES(i,s){i&1&&K(0,TS,0,0,"ng-template")}function MS(i,s){if(i&1){let o=We();H(0,"span",24),Oe("click",function(){te(o);let r=T(2);return ie(r.clear())}),K(1,ES,1,0,null,17),U()}if(i&2){let o=T(2);ne("aria-hidden",!0),S(),I("ngTemplateOutlet",o.clearIconTemplate)}}function OS(i,s){if(i&1&&(Fe(0),K(1,SS,1,2,"TimesIcon",21)(2,MS,2,2,"span",22),Ne()),i&2){let o=T();S(),I("ngIf",!o.clearIconTemplate),S(),I("ngIf",o.clearIconTemplate)}}function LS(i,s){i&1&&it(0)}function PS(i,s){if(i&1&&(H(0,"span",35),Xe(1),U()),i&2){let o=T().$implicit,e=T(2);S(),It(e.getMultipleLabel(o))}}function kS(i,s){i&1&&ye(0,"TimesCircleIcon",36),i&2&&(I("styleClass","p-autocomplete-token-icon"),ne("aria-hidden",!0))}function DS(i,s){}function RS(i,s){i&1&&K(0,DS,0,0,"ng-template")}function FS(i,s){if(i&1&&(H(0,"span",37),K(1,RS,1,0,null,17),U()),i&2){let o=T(3);ne("aria-hidden",!0),S(),I("ngTemplateOutlet",o.removeIconTemplate)}}function NS(i,s){if(i&1){let o=We();H(0,"li",29,5),K(2,LS,1,0,"ng-container",30)(3,PS,2,1,"span",31),H(4,"span",32),Oe("click",function(r){let u=te(o).index,h=T(2);return ie(h.readonly?"":h.removeOption(r,u))}),K(5,kS,1,2,"TimesCircleIcon",33)(6,FS,2,2,"span",34),U()()}if(i&2){let o=s.$implicit,e=s.index,r=T(2);I("ngClass",nt(11,vS,r.focusedMultipleOptionIndex()===e)),ne("id",r.id+"_multiple_option_"+e)("aria-label",r.getOptionLabel(o))("aria-setsize",r.modelValue().length)("aria-posinset",e+1)("aria-selected",!0),S(2),I("ngTemplateOutlet",r.selectedItemTemplate)("ngTemplateOutletContext",nt(13,D_,o)),S(),I("ngIf",!r.selectedItemTemplate),S(2),I("ngIf",!r.removeIconTemplate),S(),I("ngIf",r.removeIconTemplate)}}function AS(i,s){if(i&1){let o=We();H(0,"ul",25,4),Oe("focus",function(r){te(o);let u=T();return ie(u.onMultipleContainerFocus(r))})("blur",function(r){te(o);let u=T();return ie(u.onMultipleContainerBlur(r))})("keydown",function(r){te(o);let u=T();return ie(u.onMultipleContainerKeyDown(r))}),K(2,NS,7,15,"li",26),H(3,"li",27)(4,"input",28,3),Oe("input",function(r){te(o);let u=T();return ie(u.onInput(r))})("keydown",function(r){te(o);let u=T();return ie(u.onKeyDown(r))})("change",function(r){te(o);let u=T();return ie(u.onInputChange(r))})("focus",function(r){te(o);let u=T();return ie(u.onInputFocus(r))})("blur",function(r){te(o);let u=T();return ie(u.onInputBlur(r))})("paste",function(r){te(o);let u=T();return ie(u.onInputPaste(r))})("keyup",function(r){te(o);let u=T();return ie(u.onInputKeyUp(r))}),U()()()}if(i&2){let o,e=T();I("ngClass",e.multiContainerClass)("tabindex",-1),ne("aria-orientation","horizontal")("aria-activedescendant",e.focused?e.focusedMultipleOptionId:void 0),S(2),I("ngForOf",e.modelValue()),S(2),Re(e.inputStyleClass),I("autofocus",e.autofocus)("ngClass",e.inputClass)("ngStyle",e.inputStyle)("autocomplete",e.autocomplete)("required",e.required)("tabindex",e.disabled?-1:e.tabindex)("readonly",e.readonly)("disabled",e.disabled),ne("type",e.type)("id",e.inputId)("name",e.name)("placeholder",e.filled?null:e.placeholder)("size",e.size)("maxlength",e.maxlength)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-required",e.required)("aria-expanded",(o=e.overlayVisible)!==null&&o!==void 0?o:!1)("aria-controls",e.overlayVisible?e.id+"_list":null)("aria-activedescendant",e.focused?e.focusedOptionId:void 0)}}function VS(i,s){i&1&&ye(0,"SpinnerIcon",40),i&2&&(I("styleClass","p-autocomplete-loader")("spin",!0),ne("aria-hidden",!0))}function BS(i,s){}function zS(i,s){i&1&&K(0,BS,0,0,"ng-template")}function HS(i,s){if(i&1&&(H(0,"span",41),K(1,zS,1,0,null,17),U()),i&2){let o=T(2);ne("aria-hidden",!0),S(),I("ngTemplateOutlet",o.loadingIconTemplate)}}function qS(i,s){if(i&1&&(Fe(0),K(1,VS,1,3,"SpinnerIcon",38)(2,HS,2,2,"span",39),Ne()),i&2){let o=T();S(),I("ngIf",!o.loadingIconTemplate),S(),I("ngIf",o.loadingIconTemplate)}}function GS(i,s){if(i&1&&ye(0,"span",44),i&2){let o=T(2);I("ngClass",o.dropdownIcon),ne("aria-hidden",!0)}}function US(i,s){i&1&&ye(0,"ChevronDownIcon")}function KS(i,s){}function ZS(i,s){i&1&&K(0,KS,0,0,"ng-template")}function YS(i,s){if(i&1&&(Fe(0),K(1,US,1,0,"ChevronDownIcon",12)(2,ZS,1,0,null,17),Ne()),i&2){let o=T(2);S(),I("ngIf",!o.dropdownIconTemplate),S(),I("ngTemplateOutlet",o.dropdownIconTemplate)}}function jS(i,s){if(i&1){let o=We();H(0,"button",42,6),Oe("click",function(r){te(o);let u=T();return ie(u.handleDropdownClick(r))}),K(2,GS,1,2,"span",43)(3,YS,3,2,"ng-container",12),U()}if(i&2){let o=T();I("disabled",o.disabled),ne("aria-label",o.dropdownAriaLabel)("tabindex",o.tabindex),S(2),I("ngIf",o.dropdownIcon),S(),I("ngIf",!o.dropdownIcon)}}function WS(i,s){i&1&&it(0)}function XS(i,s){i&1&&it(0)}function $S(i,s){if(i&1&&K(0,XS,1,0,"ng-container",30),i&2){let o=s.$implicit,e=s.options;T(2);let r=Zi(14);I("ngTemplateOutlet",r)("ngTemplateOutletContext",Hi(2,R_,o,e))}}function QS(i,s){i&1&&it(0)}function JS(i,s){if(i&1&&K(0,QS,1,0,"ng-container",30),i&2){let o=s.options,e=T(3);I("ngTemplateOutlet",e.loaderTemplate)("ngTemplateOutletContext",nt(2,xS,o))}}function eT(i,s){i&1&&(Fe(0),K(1,JS,1,4,"ng-template",47),Ne())}function tT(i,s){if(i&1){let o=We();H(0,"p-scroller",45,7),Oe("onLazyLoad",function(r){te(o);let u=T();return ie(u.onLazyLoad.emit(r))}),K(2,$S,1,5,"ng-template",46)(3,eT,2,0,"ng-container",12),U()}if(i&2){let o=T();Va(nt(8,yp,o.scrollHeight)),I("items",o.visibleOptions())("itemSize",o.virtualScrollItemSize||o._itemSize)("autoSize",!0)("lazy",o.lazy)("options",o.virtualScrollOptions),S(3),I("ngIf",o.loaderTemplate)}}function iT(i,s){i&1&&it(0)}function nT(i,s){if(i&1&&(Fe(0),K(1,iT,1,0,"ng-container",30),Ne()),i&2){let o=T(),e=Zi(14);S(),I("ngTemplateOutlet",e)("ngTemplateOutletContext",Hi(3,R_,o.visibleOptions(),Yo(2,bS)))}}function rT(i,s){if(i&1&&(H(0,"span"),Xe(1),U()),i&2){let o=T(2).$implicit,e=T(2);S(),It(e.getOptionGroupLabel(o.optionGroup))}}function oT(i,s){i&1&&it(0)}function sT(i,s){if(i&1&&(Fe(0),H(1,"li",51),K(2,rT,2,1,"span",12)(3,oT,1,0,"ng-container",30),U(),Ne()),i&2){let o=T(),e=o.$implicit,r=o.index,u=T().options,h=T();S(),I("ngStyle",nt(5,yp,u.itemSize+"px")),ne("id",h.id+"_"+h.getOptionIndex(r,u)),S(),I("ngIf",!h.groupTemplate),S(),I("ngTemplateOutlet",h.groupTemplate)("ngTemplateOutletContext",nt(7,D_,e.optionGroup))}}function aT(i,s){if(i&1&&(H(0,"span"),Xe(1),U()),i&2){let o=T(2).$implicit,e=T(2);S(),It(e.getOptionLabel(o))}}function lT(i,s){i&1&&it(0)}function uT(i,s){if(i&1){let o=We();Fe(0),H(1,"li",52),Oe("click",function(r){te(o);let u=T().$implicit,h=T(2);return ie(h.onOptionSelect(r,u))})("mouseenter",function(r){te(o);let u=T().index,h=T().options,g=T();return ie(g.onOptionMouseEnter(r,g.getOptionIndex(u,h)))}),K(2,aT,2,1,"span",12)(3,lT,1,0,"ng-container",30),U(),Ne()}if(i&2){let o=T(),e=o.$implicit,r=o.index,u=T().options,h=T();S(),I("ngStyle",nt(12,yp,u.itemSize+"px"))("ngClass",Vn(14,wS,h.isSelected(e),h.focusedOptionIndex()===h.getOptionIndex(r,u),h.isOptionDisabled(e))),ne("id",h.id+"_"+h.getOptionIndex(r,u))("aria-label",h.getOptionLabel(e))("aria-selected",h.isSelected(e))("aria-disabled",h.isOptionDisabled(e))("data-p-focused",h.focusedOptionIndex()===h.getOptionIndex(r,u))("aria-setsize",h.ariaSetSize)("aria-posinset",h.getAriaPosInset(h.getOptionIndex(r,u))),S(),I("ngIf",!h.itemTemplate),S(),I("ngTemplateOutlet",h.itemTemplate)("ngTemplateOutletContext",Hi(18,CS,e,u.getOptions?u.getOptions(r):r))}}function cT(i,s){if(i&1&&K(0,sT,4,9,"ng-container",12)(1,uT,4,21,"ng-container",12),i&2){let o=s.$implicit,e=T(2);I("ngIf",e.isOptionGroup(o)),S(),I("ngIf",!e.isOptionGroup(o))}}function pT(i,s){if(i&1&&(Fe(0),Xe(1),Ne()),i&2){let o=T(3);S(),Wi(" ",o.searchResultMessageText," ")}}function hT(i,s){i&1&&it(0,null,9)}function dT(i,s){if(i&1&&(H(0,"li",53),K(1,pT,2,1,"ng-container",54)(2,hT,2,0,"ng-container",17),U()),i&2){let o=T().options,e=T();I("ngStyle",nt(4,yp,o.itemSize+"px")),S(),I("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),S(),I("ngTemplateOutlet",e.emptyTemplate)}}function fT(i,s){if(i&1&&(H(0,"ul",48,8),K(2,cT,2,2,"ng-template",49)(3,dT,3,6,"li",50),U()),i&2){let o=s.$implicit,e=s.options,r=T();Va(e.contentStyle),I("ngClass",e.contentStyleClass),ne("id",r.id+"_list")("aria-label",r.listLabel),S(2),I("ngForOf",o),S(),I("ngIf",!o||o&&o.length===0&&r.showEmptyMessage)}}function mT(i,s){i&1&&it(0)}var gT={provide:Er,useExisting:Ir(()=>_T),multi:!0},_T=(()=>{let s=class s{constructor(e,r,u,h,g,y,w){f(this,"document");f(this,"el");f(this,"renderer");f(this,"cd");f(this,"config");f(this,"overlayService");f(this,"zone");f(this,"minLength",1);f(this,"delay",300);f(this,"style");f(this,"panelStyle");f(this,"styleClass");f(this,"panelStyleClass");f(this,"inputStyle");f(this,"inputId");f(this,"inputStyleClass");f(this,"placeholder");f(this,"readonly");f(this,"disabled");f(this,"scrollHeight","200px");f(this,"lazy",!1);f(this,"virtualScroll");f(this,"virtualScrollItemSize");f(this,"virtualScrollOptions");f(this,"maxlength");f(this,"name");f(this,"required");f(this,"size");f(this,"appendTo");f(this,"autoHighlight");f(this,"forceSelection");f(this,"type","text");f(this,"autoZIndex",!0);f(this,"baseZIndex",0);f(this,"ariaLabel");f(this,"dropdownAriaLabel");f(this,"ariaLabelledBy");f(this,"dropdownIcon");f(this,"unique",!0);f(this,"group");f(this,"completeOnFocus",!1);f(this,"showClear",!1);f(this,"field");f(this,"dropdown");f(this,"showEmptyMessage",!0);f(this,"dropdownMode","blank");f(this,"multiple");f(this,"tabindex");f(this,"dataKey");f(this,"emptyMessage");f(this,"showTransitionOptions",".12s cubic-bezier(0, 0, 0.2, 1)");f(this,"hideTransitionOptions",".1s linear");f(this,"autofocus");f(this,"autocomplete","off");f(this,"optionGroupChildren","items");f(this,"optionGroupLabel","label");f(this,"overlayOptions");f(this,"optionLabel");f(this,"optionValue");f(this,"id");f(this,"searchMessage");f(this,"emptySelectionMessage");f(this,"selectionMessage");f(this,"autoOptionFocus",!1);f(this,"selectOnFocus");f(this,"searchLocale");f(this,"optionDisabled");f(this,"focusOnHover");f(this,"variant","outlined");f(this,"completeMethod",new qe);f(this,"onSelect",new qe);f(this,"onUnselect",new qe);f(this,"onFocus",new qe);f(this,"onBlur",new qe);f(this,"onDropdownClick",new qe);f(this,"onClear",new qe);f(this,"onKeyUp",new qe);f(this,"onShow",new qe);f(this,"onHide",new qe);f(this,"onLazyLoad",new qe);f(this,"containerEL");f(this,"inputEL");f(this,"multiInputEl");f(this,"multiContainerEL");f(this,"dropdownButton");f(this,"itemsViewChild");f(this,"scroller");f(this,"overlayViewChild");f(this,"templates");f(this,"_itemSize");f(this,"itemsWrapper");f(this,"itemTemplate");f(this,"emptyTemplate");f(this,"headerTemplate");f(this,"footerTemplate");f(this,"selectedItemTemplate");f(this,"groupTemplate");f(this,"loaderTemplate");f(this,"removeIconTemplate");f(this,"loadingIconTemplate");f(this,"clearIconTemplate");f(this,"dropdownIconTemplate");f(this,"value");f(this,"_suggestions",Pr(null));f(this,"onModelChange",()=>{});f(this,"onModelTouched",()=>{});f(this,"timeout");f(this,"overlayVisible");f(this,"suggestionsUpdated");f(this,"highlightOption");f(this,"highlightOptionChanged");f(this,"focused",!1);f(this,"_filled");f(this,"loading");f(this,"scrollHandler");f(this,"listId");f(this,"searchTimeout");f(this,"dirty",!1);f(this,"modelValue",Pr(null));f(this,"focusedMultipleOptionIndex",Pr(-1));f(this,"focusedOptionIndex",Pr(-1));f(this,"visibleOptions",Es(()=>this.group?this.flatOptions(this._suggestions()):this._suggestions()||[]));f(this,"inputValue",Es(()=>{let e=this.modelValue(),r=this.getSelectedOption(e);if(e)if(typeof e=="object"||this.optionValue){let u=this.getOptionLabel(r);return u??e}else return e;else return""}));this.document=e,this.el=r,this.renderer=u,this.cd=h,this.config=g,this.overlayService=y,this.zone=w,Fl(()=>{this.filled=Ve.isNotEmpty(this.modelValue())})}get suggestions(){return this._suggestions()}set suggestions(e){this._suggestions.set(e),this.handleSuggestionsChange()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get filled(){return this._filled}set filled(e){this._filled=e}get focusedMultipleOptionId(){return this.focusedMultipleOptionIndex()!==-1?`${this.id}_multiple_option_${this.focusedMultipleOptionIndex()}`:null}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}get containerClass(){return{"p-autocomplete p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-focus":this.focused,"p-autocomplete-dd":this.dropdown,"p-autocomplete-multiple":this.multiple,"p-inputwrapper-focus":this.focused,"p-overlay-open":this.overlayVisible}}get multiContainerClass(){return{"p-autocomplete-multiple-container p-component p-inputtext":!0,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"}}get panelClass(){return{"p-autocomplete-panel p-component":!0,"p-input-filled":this.config.inputStyle()==="filled","p-ripple-disabled":this.config.ripple===!1}}get panelStyles(){return Cr({"max-height":this.virtualScroll?"auto":this.scrollHeight},this.panelStyle)}get inputClass(){return{"p-autocomplete-input p-inputtext p-component":!this.multiple,"p-autocomplete-dd-input":this.dropdown,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"}}get searchResultMessageText(){return Ve.isNotEmpty(this.visibleOptions())&&this.overlayVisible?this.searchMessageText.replaceAll("{0}",this.visibleOptions().length):this.emptySearchMessageText}get searchMessageText(){return this.searchMessage||this.config.translation.searchMessage||""}get emptySearchMessageText(){return this.emptyMessage||this.config.translation.emptySearchMessage||""}get selectionMessageText(){return this.selectionMessage||this.config.translation.selectionMessage||""}get emptySelectionMessageText(){return this.emptySelectionMessage||this.config.translation.emptySelectionMessage||""}get selectedMessageText(){return this.hasSelectedOption()?this.selectionMessageText.replaceAll("{0}",this.multiple?this.modelValue().length:"1"):this.emptySelectionMessageText}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}get listLabel(){return this.config.getTranslation(Wn.ARIA).listLabel}get virtualScrollerDisabled(){return!this.virtualScroll}get optionValueSelected(){return typeof this.modelValue()=="string"&&this.optionValue}ngOnInit(){this.id=this.id||cn(),this.cd.detectChanges()}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlayViewChild&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1),this.suggestionsUpdated=!1})}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"removetokenicon":this.removeIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}handleSuggestionsChange(){if(this.loading){this._suggestions().length>0||this.showEmptyMessage?this.show():this.emptyTemplate?this.show():this.hide();let e=this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(e),this.suggestionsUpdated=!0,this.loading=!1,this.cd.markForCheck()}}flatOptions(e){return(e||[]).reduce((r,u,h)=>{r.push({optionGroup:u,group:!0,index:h});let g=this.getOptionGroupChildren(u);return g&&g.forEach(y=>r.push(y)),r},[])}isOptionGroup(e){return this.optionGroupLabel&&e.optionGroup&&e.group}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findLastOptionIndex(){return Ve.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}findFirstFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findLastFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let r=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(u=>this.isValidOption(u)):-1;return r>-1?r+e+1:e}findPrevOptionIndex(e){let r=e>0?Ve.findLastIndex(this.visibleOptions().slice(0,e),u=>this.isValidOption(u)):-1;return r>-1?r:e}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionDisabled(e){return this.optionDisabled?Ve.resolveFieldData(e,this.optionDisabled):!1}isSelected(e){return this.multiple?this.unique?this.modelValue()?.find(r=>Ve.equals(r,this.getOptionValue(e),this.equalityKey())):!1:Ve.equals(this.modelValue(),this.getOptionValue(e),this.equalityKey())}isOptionMatched(e,r){return this.isValidOption(e)&&this.getOptionLabel(e).toLocaleLowerCase(this.searchLocale)===r.toLocaleLowerCase(this.searchLocale)}isInputClicked(e){return e.target===this.inputEL.nativeElement}isDropdownClicked(e){return this.dropdownButton?.nativeElement?e.target===this.dropdownButton.nativeElement||this.dropdownButton.nativeElement.contains(e.target):!1}equalityKey(){return this.dataKey}onContainerClick(e){this.disabled||this.loading||this.isInputClicked(e)||this.isDropdownClicked(e)||(!this.overlayViewChild||!this.overlayViewChild.overlayViewChild?.nativeElement.contains(e.target))&&ge.focus(this.inputEL.nativeElement)}handleDropdownClick(e){let r;this.overlayVisible?this.hide(!0):(ge.focus(this.inputEL.nativeElement),r=this.inputEL.nativeElement.value,this.dropdownMode==="blank"?this.search(e,"","dropdown"):this.dropdownMode==="current"&&this.search(e,r,"dropdown")),this.onDropdownClick.emit({originalEvent:e,query:r})}onInput(e){this.searchTimeout&&clearTimeout(this.searchTimeout);let r=e.target.value;this.maxlength!==null&&(r=r.split("").slice(0,this.maxlength).join("")),!this.multiple&&!this.forceSelection&&this.updateModel(r),r.length===0&&!this.multiple&&!this.completeOnFocus?(this.onClear.emit(),this.hide()):r.length>=this.minLength?(this.focusedOptionIndex.set(-1),this.searchTimeout=setTimeout(()=>{this.search(e,r,"input")},this.delay)):this.hide()}onInputChange(e){if(this.forceSelection){let r=!1;if(this.visibleOptions()){let u=this.visibleOptions().find(h=>this.isOptionMatched(h,this.inputEL.nativeElement.value||""));u!==void 0&&(r=!0,!this.isSelected(u)&&this.onOptionSelect(e,u))}r||(this.inputEL.nativeElement.value="",!this.multiple&&this.updateModel(null))}}onInputFocus(e){if(this.disabled)return;!this.dirty&&this.completeOnFocus&&(this.search(e,e.target.value,"focus"),this.show()),this.dirty=!0,this.focused=!0;let r=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(r),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(e)}onMultipleContainerFocus(e){this.disabled||(this.focused=!0)}onMultipleContainerBlur(e){this.focusedMultipleOptionIndex.set(-1),this.focused=!1}onMultipleContainerKeyDown(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"ArrowLeft":this.onArrowLeftKeyOnMultiple(e);break;case"ArrowRight":this.onArrowRightKeyOnMultiple(e);break;case"Backspace":this.onBackspaceKeyOnMultiple(e);break;default:break}}onInputBlur(e){this.dirty=!1,this.focused=!1,this.focusedOptionIndex.set(-1),this.onModelTouched(),this.onBlur.emit(e)}onInputPaste(e){this.onKeyDown(e)}onInputKeyUp(e){this.onKeyUp.emit(e)}onKeyDown(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e);break;case"ShiftLeft":case"ShiftRight":break;default:break}}onArrowDownKey(e){if(!this.overlayVisible)return;let r=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),e.preventDefault(),e.stopPropagation()}onArrowUpKey(e){if(this.overlayVisible)if(e.altKey)this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide(),e.preventDefault();else{let r=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),e.preventDefault(),e.stopPropagation()}}onArrowLeftKey(e){let r=e.currentTarget;this.focusedOptionIndex.set(-1),this.multiple&&(Ve.isEmpty(r.value)&&this.hasSelectedOption()?(ge.focus(this.multiContainerEL.nativeElement),this.focusedMultipleOptionIndex.set(this.modelValue().length)):e.stopPropagation())}onArrowRightKey(e){this.focusedOptionIndex.set(-1),this.multiple&&e.stopPropagation()}onHomeKey(e){let{currentTarget:r}=e,u=r.value.length;r.setSelectionRange(0,e.shiftKey?u:0),this.focusedOptionIndex.set(-1),e.preventDefault()}onEndKey(e){let{currentTarget:r}=e,u=r.value.length;r.setSelectionRange(e.shiftKey?0:u,u),this.focusedOptionIndex.set(-1),e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onEnterKey(e){this.overlayVisible?(this.focusedOptionIndex()!==-1&&(this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),e.preventDefault()),this.hide()):this.onArrowDownKey(e)}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onTabKey(e){this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide()}onBackspaceKey(e){if(this.multiple){if(Ve.isNotEmpty(this.modelValue())&&!this.inputEL.nativeElement.value){let r=this.modelValue()[this.modelValue().length-1],u=this.modelValue().slice(0,-1);this.updateModel(u),this.onUnselect.emit({originalEvent:e,value:r})}e.stopPropagation()}!this.multiple&&this.showClear&&this.findSelectedOptionIndex()!=-1&&this.clear()}onArrowLeftKeyOnMultiple(e){let r=this.focusedMultipleOptionIndex()<1?0:this.focusedMultipleOptionIndex()-1;this.focusedMultipleOptionIndex.set(r)}onArrowRightKeyOnMultiple(e){let r=this.focusedMultipleOptionIndex();r++,this.focusedMultipleOptionIndex.set(r),r>this.modelValue().length-1&&(this.focusedMultipleOptionIndex.set(-1),ge.focus(this.inputEL.nativeElement))}onBackspaceKeyOnMultiple(e){this.focusedMultipleOptionIndex()!==-1&&this.removeOption(e,this.focusedMultipleOptionIndex())}onOptionSelect(e,r,u=!0){let h=this.getOptionValue(r);this.multiple?(this.inputEL.nativeElement.value="",this.isSelected(r)||this.updateModel([...this.modelValue()||[],h])):this.updateModel(h),this.onSelect.emit({originalEvent:e,value:r}),u&&this.hide(!0)}onOptionMouseEnter(e,r){this.focusOnHover&&this.changeFocusedOptionIndex(e,r)}search(e,r,u){r!=null&&(u==="input"&&r.trim().length<this.minLength||(this.loading=!0,this.completeMethod.emit({originalEvent:e,query:r})))}removeOption(e,r){e.stopPropagation();let u=this.modelValue()[r],h=this.modelValue().filter((g,y)=>y!==r).map(g=>this.getOptionValue(g));this.updateModel(h),this.onUnselect.emit({originalEvent:e,value:u}),ge.focus(this.inputEL.nativeElement)}updateModel(e){this.value=e,this.modelValue.set(e),this.onModelChange(e),this.updateInputValue(),this.cd.markForCheck()}updateInputValue(){this.inputEL&&this.inputEL.nativeElement&&(this.multiple?this.inputEL.nativeElement.value="":this.inputEL.nativeElement.value=this.inputValue())}autoUpdateModel(){if((this.selectOnFocus||this.autoHighlight)&&this.autoOptionFocus&&!this.hasSelectedOption()){let e=this.findFirstFocusedOptionIndex();this.focusedOptionIndex.set(e),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)}}scrollInView(e=-1){let r=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let u=ge.findSingle(this.itemsViewChild.nativeElement,`li[id="${r}"]`);u?u.scrollIntoView&&u.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}changeFocusedOptionIndex(e,r){this.focusedOptionIndex()!==r&&(this.focusedOptionIndex.set(r),this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions()[r],!1))}show(e=!1){this.dirty=!0,this.overlayVisible=!0;let r=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(r),e&&ge.focus(this.inputEL.nativeElement),e&&ge.focus(this.inputEL.nativeElement),this.onShow.emit(),this.cd.markForCheck()}hide(e=!1){let r=()=>{this.dirty=e,this.overlayVisible=!1,this.focusedOptionIndex.set(-1),e&&ge.focus(this.inputEL.nativeElement),this.onHide.emit(),this.cd.markForCheck()};this.virtualScroll&&this.scroller.onScrollChange(event),setTimeout(()=>{r()},0)}clear(){this.updateModel(null),this.inputEL.nativeElement.value="",this.onClear.emit()}writeValue(e){this.value=e,this.modelValue.set(e),this.updateInputValue(),this.cd.markForCheck()}hasSelectedOption(){return Ve.isNotEmpty(this.modelValue())}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(r=>this.isOptionGroup(r)).length:e)+1}getOptionLabel(e){return this.field||this.optionLabel?Ve.resolveFieldData(e,this.field||this.optionLabel):e&&e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?Ve.resolveFieldData(e,this.optionValue):e}getOptionIndex(e,r){return this.virtualScrollerDisabled?e:r&&r.getItemOptions(e).index}getOptionGroupLabel(e){return this.optionGroupLabel?Ve.resolveFieldData(e,this.optionGroupLabel):e&&e.label!=null?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?Ve.resolveFieldData(e,this.optionGroupChildren):e.items}getSelectedOption(e){return this.optionValue?(this.suggestions||[]).find(r=>Ve.resolveFieldData(r,this.optionValue)===e):e}getMultipleLabel(e){let r=this.getSelectedOption(e);return this.getOptionLabel(r)}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onOverlayAnimationStart(e){if(e.toState==="visible"&&(this.itemsWrapper=ge.findSingle(this.overlayViewChild.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-autocomplete-panel"),this.virtualScroll&&(this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.scroller.viewInit()),this.visibleOptions()&&this.visibleOptions().length))if(this.virtualScroll){let r=this.modelValue()?this.focusedOptionIndex():-1;r!==-1&&this.scroller?.scrollToIndex(r)}else{let r=ge.findSingle(this.itemsWrapper,".p-autocomplete-item.p-highlight");r&&r.scrollIntoView({block:"nearest",inline:"center"})}}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}};f(s,"\u0275fac",function(r){return new(r||s)(Ge(ds),Ge(Sr),Ge(yo),Ge(Xi),Ge(so),Ge(za),Ge(ps))}),f(s,"\u0275cmp",je({type:s,selectors:[["p-autoComplete"]],contentQueries:function(r,u,h){if(r&1&&Gi(h,Pi,4),r&2){let g;Je(g=et())&&(u.templates=g)}},viewQuery:function(r,u){if(r&1&&(Ct(pS,5),Ct(hS,5),Ct(dS,5),Ct(fS,5),Ct(mS,5),Ct(gS,5),Ct(_S,5),Ct(yS,5)),r&2){let h;Je(h=et())&&(u.containerEL=h.first),Je(h=et())&&(u.inputEL=h.first),Je(h=et())&&(u.multiInputEl=h.first),Je(h=et())&&(u.multiContainerEL=h.first),Je(h=et())&&(u.dropdownButton=h.first),Je(h=et())&&(u.itemsViewChild=h.first),Je(h=et())&&(u.scroller=h.first),Je(h=et())&&(u.overlayViewChild=h.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(r,u){r&2&&ko("p-inputwrapper-filled",u.filled)("p-inputwrapper-focus",u.focused&&!u.disabled||u.autofocus||u.overlayVisible)("p-autocomplete-clearable",u.showClear&&!u.disabled)},inputs:{minLength:[2,"minLength","minLength",Mt],delay:[2,"delay","delay",Mt],style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:[2,"readonly","readonly",we],disabled:[2,"disabled","disabled",we],scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",we],virtualScroll:[2,"virtualScroll","virtualScroll",we],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",Mt],virtualScrollOptions:"virtualScrollOptions",maxlength:[2,"maxlength","maxlength",e=>Mt(e,null)],name:"name",required:[2,"required","required",we],size:[2,"size","size",Mt],appendTo:"appendTo",autoHighlight:[2,"autoHighlight","autoHighlight",we],forceSelection:[2,"forceSelection","forceSelection",we],type:"type",autoZIndex:[2,"autoZIndex","autoZIndex",we],baseZIndex:[2,"baseZIndex","baseZIndex",Mt],ariaLabel:"ariaLabel",dropdownAriaLabel:"dropdownAriaLabel",ariaLabelledBy:"ariaLabelledBy",dropdownIcon:"dropdownIcon",unique:[2,"unique","unique",we],group:[2,"group","group",we],completeOnFocus:[2,"completeOnFocus","completeOnFocus",we],showClear:[2,"showClear","showClear",we],field:"field",dropdown:[2,"dropdown","dropdown",we],showEmptyMessage:[2,"showEmptyMessage","showEmptyMessage",we],dropdownMode:"dropdownMode",multiple:[2,"multiple","multiple",we],tabindex:[2,"tabindex","tabindex",Mt],dataKey:"dataKey",emptyMessage:"emptyMessage",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:[2,"autofocus","autofocus",we],autocomplete:"autocomplete",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",overlayOptions:"overlayOptions",suggestions:"suggestions",itemSize:"itemSize",optionLabel:"optionLabel",optionValue:"optionValue",id:"id",searchMessage:"searchMessage",emptySelectionMessage:"emptySelectionMessage",selectionMessage:"selectionMessage",autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",we],selectOnFocus:[2,"selectOnFocus","selectOnFocus",we],searchLocale:[2,"searchLocale","searchLocale",we],optionDisabled:"optionDisabled",focusOnHover:[2,"focusOnHover","focusOnHover",we],variant:"variant"},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide",onLazyLoad:"onLazyLoad"},features:[jn([gT]),gn],decls:18,vars:24,consts:[["container",""],["overlay",""],["buildInItems",""],["focusInput",""],["multiContainer",""],["token",""],["ddBtn",""],["scroller",""],["items",""],["empty",""],[3,"click","ngClass","ngStyle"],["pAutoFocus","","aria-autocomplete","list","role","combobox",3,"autofocus","ngClass","ngStyle","class","type","autocomplete","required","name","tabindex","readonly","disabled","input","keydown","change","focus","blur","paste","keyup",4,"ngIf"],[4,"ngIf"],["role","listbox",3,"ngClass","tabindex","focus","blur","keydown",4,"ngIf"],["type","button","pButton","","class","p-autocomplete-dropdown p-button-icon-only","pRipple","",3,"disabled","click",4,"ngIf"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","showTransitionOptions","hideTransitionOptions"],[3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["role","status","aria-live","polite",1,"p-hidden-accessible"],["pAutoFocus","","aria-autocomplete","list","role","combobox",3,"input","keydown","change","focus","blur","paste","keyup","autofocus","ngClass","ngStyle","type","autocomplete","required","name","tabindex","readonly","disabled"],[3,"styleClass","click",4,"ngIf"],["class","p-autocomplete-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-autocomplete-clear-icon",3,"click"],["role","listbox",3,"focus","blur","keydown","ngClass","tabindex"],["role","option",3,"ngClass",4,"ngFor","ngForOf"],["role","option",1,"p-autocomplete-input-token"],["pAutoFocus","","role","combobox","aria-autocomplete","list",3,"input","keydown","change","focus","blur","paste","keyup","autofocus","ngClass","ngStyle","autocomplete","required","tabindex","readonly","disabled"],["role","option",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-autocomplete-token-label",4,"ngIf"],[1,"p-autocomplete-token-icon",3,"click"],[3,"styleClass",4,"ngIf"],["class","p-autocomplete-token-icon",4,"ngIf"],[1,"p-autocomplete-token-label"],[3,"styleClass"],[1,"p-autocomplete-token-icon"],[3,"styleClass","spin",4,"ngIf"],["class","p-autocomplete-loader pi-spin ",4,"ngIf"],[3,"styleClass","spin"],[1,"p-autocomplete-loader","pi-spin"],["type","button","pButton","","pRipple","",1,"p-autocomplete-dropdown","p-button-icon-only",3,"click","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-autocomplete-items",3,"ngClass"],["ngFor","",3,"ngForOf"],["class","p-autocomplete-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-autocomplete-item-group",3,"ngStyle"],["pRipple","","role","option",1,"p-autocomplete-item",3,"click","mouseenter","ngStyle","ngClass"],["role","option",1,"p-autocomplete-empty-message",3,"ngStyle"],[4,"ngIf","ngIfElse"]],template:function(r,u){if(r&1){let h=We();H(0,"div",10,0),Oe("click",function(y){return te(h),ie(u.onContainerClick(y))}),K(2,IS,2,23,"input",11)(3,OS,3,2,"ng-container",12)(4,AS,6,27,"ul",13)(5,qS,3,2,"ng-container",12)(6,jS,4,5,"button",14),H(7,"p-overlay",15,1),Sa("visibleChange",function(y){return te(h),Ia(u.overlayVisible,y)||(u.overlayVisible=y),ie(y)}),Oe("onAnimationStart",function(y){return te(h),ie(u.onOverlayAnimationStart(y))})("onHide",function(){return te(h),ie(u.hide())}),H(9,"div",16),K(10,WS,1,0,"ng-container",17)(11,tT,4,10,"p-scroller",18)(12,nT,2,6,"ng-container",12)(13,fT,4,7,"ng-template",null,2,Tr)(15,mT,1,0,"ng-container",17),U(),H(16,"span",19),Xe(17),U()()()}r&2&&(Re(u.styleClass),I("ngClass",u.containerClass)("ngStyle",u.style),S(2),I("ngIf",!u.multiple),S(),I("ngIf",u.filled&&!u.disabled&&u.showClear&&!u.loading),S(),I("ngIf",u.multiple),S(),I("ngIf",u.loading),S(),I("ngIf",u.dropdown),S(),Ca("visible",u.overlayVisible),I("options",u.overlayOptions)("target","@parent")("appendTo",u.appendTo)("showTransitionOptions",u.showTransitionOptions)("hideTransitionOptions",u.hideTransitionOptions),S(2),Re(u.panelStyleClass),I("ngClass",u.panelClass)("ngStyle",u.panelStyles),S(),I("ngTemplateOutlet",u.headerTemplate),S(),I("ngIf",u.virtualScroll),S(),I("ngIf",!u.virtualScroll),S(3),I("ngTemplateOutlet",u.footerTemplate),S(2),Wi(" ",u.selectedMessageText," "))},dependencies:()=>[xn,jo,un,wn,bn,Cl,Pi,Vl,ms,au,Xr,Al,Ha,or,Qo],styles:[`@layer primeng{.p-autocomplete{display:inline-flex;position:relative}.p-autocomplete-loader{position:absolute;top:50%;margin-top:-.5rem}.p-autocomplete-dd .p-autocomplete-input{flex:1 1 auto;width:1%}.p-autocomplete-dd .p-autocomplete-input,.p-autocomplete-dd .p-autocomplete-multiple-container{border-top-right-radius:0;border-bottom-right-radius:0}.p-autocomplete-dd .p-autocomplete-dropdown{border-top-left-radius:0;border-bottom-left-radius:0}.p-autocomplete-panel{overflow:auto}.p-autocomplete-items{margin:0;padding:0;list-style-type:none}.p-autocomplete-item{cursor:pointer;white-space:nowrap;position:relative;overflow:hidden}.p-autocomplete-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-autocomplete-token{width:fit-content;cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-autocomplete-token-icon{display:flex;cursor:pointer}.p-autocomplete-input-token{flex:1 1 auto;display:inline-flex}.p-autocomplete-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-autocomplete{display:flex}.p-fluid .p-autocomplete-dd .p-autocomplete-input{width:1%}.p-autocomplete-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-autocomplete-clearable{position:relative}}
`],encapsulation:2,changeDetection:0}));let i=s;return i})(),F_=(()=>{let s=class s{};f(s,"\u0275fac",function(r){return new(r||s)}),f(s,"\u0275mod",Vt({type:s})),f(s,"\u0275inj",At({imports:[kt,La,Ga,Us,wt,Wr,Os,kr,Al,Ha,or,Qo,La,wt,Os,kr]}));let i=s;return i})();var yT=["input"],vT=(i,s,o,e)=>({"p-checkbox p-component":!0,"p-checkbox-checked":i,"p-checkbox-disabled":s,"p-checkbox-focused":o,"p-variant-filled":e}),xT=(i,s,o)=>({"p-highlight":i,"p-disabled":s,"p-focus":o}),bT=(i,s,o)=>({"p-checkbox-label":!0,"p-checkbox-label-active":i,"p-disabled":s,"p-checkbox-label-focus":o});function wT(i,s){if(i&1&&ye(0,"span",10),i&2){let o=T(3);I("ngClass",o.checkboxIcon),ne("data-pc-section","icon")}}function CT(i,s){i&1&&ye(0,"CheckIcon",11),i&2&&(I("styleClass","p-checkbox-icon"),ne("data-pc-section","icon"))}function IT(i,s){if(i&1&&(Fe(0),K(1,wT,1,2,"span",8)(2,CT,1,2,"CheckIcon",9),Ne()),i&2){let o=T(2);S(),I("ngIf",o.checkboxIcon),S(),I("ngIf",!o.checkboxIcon)}}function ST(i,s){}function TT(i,s){i&1&&K(0,ST,0,0,"ng-template")}function ET(i,s){if(i&1&&(H(0,"span",12),K(1,TT,1,0,null,13),U()),i&2){let o=T(2);ne("data-pc-section","icon"),S(),I("ngTemplateOutlet",o.checkboxIconTemplate)}}function MT(i,s){if(i&1&&(Fe(0),K(1,IT,3,2,"ng-container",5)(2,ET,2,2,"span",7),Ne()),i&2){let o=T();S(),I("ngIf",!o.checkboxIconTemplate),S(),I("ngIf",o.checkboxIconTemplate)}}function OT(i,s){if(i&1){let o=We();H(0,"label",14),Oe("click",function(r){te(o);let u=T(),h=Zi(3);return ie(u.onClick(r,h,!0))}),Xe(1),U()}if(i&2){let o=T();Re(o.labelStyleClass),I("ngClass",Vn(6,bT,o.checked(),o.disabled,o.focused)),ne("for",o.inputId)("data-pc-section","label"),S(),Wi(" ",o.label,"")}}var LT={provide:Er,useExisting:Ir(()=>PT),multi:!0},PT=(()=>{let s=class s{constructor(e,r,u){f(this,"cd");f(this,"injector");f(this,"config");f(this,"value");f(this,"name");f(this,"disabled");f(this,"binary");f(this,"label");f(this,"ariaLabelledBy");f(this,"ariaLabel");f(this,"tabindex");f(this,"inputId");f(this,"style");f(this,"styleClass");f(this,"labelStyleClass");f(this,"formControl");f(this,"checkboxIcon");f(this,"readonly");f(this,"required");f(this,"autofocus");f(this,"trueValue",!0);f(this,"falseValue",!1);f(this,"variant","outlined");f(this,"onChange",new qe);f(this,"onFocus",new qe);f(this,"onBlur",new qe);f(this,"inputViewChild");f(this,"templates");f(this,"checkboxIconTemplate");f(this,"model");f(this,"onModelChange",()=>{});f(this,"onModelTouched",()=>{});f(this,"focused",!1);this.cd=e,this.injector=r,this.config=u}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"icon":this.checkboxIconTemplate=e.template;break}})}onClick(e,r,u){e.preventDefault(),!(this.disabled||this.readonly)&&(this.updateModel(e),u&&r.focus())}updateModel(e){let r,u=this.injector.get(pc,null,{optional:!0,self:!0}),h=u&&!this.formControl?u.value:this.model;this.binary?(r=this.checked()?this.falseValue:this.trueValue,this.model=r,this.onModelChange(r)):(this.checked()?r=h.filter(g=>!Ve.equals(g,this.value)):r=h?[...h,this.value]:[this.value],this.onModelChange(r),this.model=r,this.formControl&&this.formControl.setValue(r)),this.onChange.emit({checked:r,originalEvent:e})}handleChange(e){this.readonly||this.updateModel(e)}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(e){this.model=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){setTimeout(()=>{this.disabled=e,this.cd.markForCheck()})}checked(){return this.binary?this.model===this.trueValue:Ve.contains(this.value,this.model)}};f(s,"\u0275fac",function(r){return new(r||s)(Ge(Xi),Ge(oc),Ge(so))}),f(s,"\u0275cmp",je({type:s,selectors:[["p-checkbox"]],contentQueries:function(r,u,h){if(r&1&&Gi(h,Pi,4),r&2){let g;Je(g=et())&&(u.templates=g)}},viewQuery:function(r,u){if(r&1&&Ct(yT,5),r&2){let h;Je(h=et())&&(u.inputViewChild=h.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:[2,"disabled","disabled",we],binary:[2,"binary","binary",we],label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:[2,"tabindex","tabindex",Mt],inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:[2,"readonly","readonly",we],required:[2,"required","required",we],autofocus:[2,"autofocus","autofocus",we],trueValue:"trueValue",falseValue:"falseValue",variant:"variant"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[jn([LT]),gn],decls:7,vars:37,consts:[["input",""],[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","pAutoFocus","",3,"change","focus","blur","value","checked","disabled","readonly","autofocus"],[1,"p-checkbox-box",3,"click","ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"click","ngClass"]],template:function(r,u){if(r&1){let h=We();H(0,"div",1)(1,"div",2)(2,"input",3,0),Oe("change",function(y){return te(h),ie(u.handleChange(y))})("focus",function(y){return te(h),ie(u.onInputFocus(y))})("blur",function(y){return te(h),ie(u.onInputBlur(y))}),U()(),H(4,"div",4),Oe("click",function(y){te(h);let w=Zi(3);return ie(u.onClick(y,w,!0))}),K(5,MT,3,2,"ng-container",5),U()(),K(6,OT,2,10,"label",6)}r&2&&(Re(u.styleClass),I("ngStyle",u.style)("ngClass",Ip(28,vT,u.checked(),u.disabled,u.focused,u.variant==="filled"||u.config.inputStyle()==="filled")),ne("data-pc-name","checkbox")("data-pc-section","root"),S(),ne("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),S(),I("value",u.value)("checked",u.checked())("disabled",u.disabled)("readonly",u.readonly)("autofocus",u.autofocus),ne("id",u.inputId)("name",u.name)("tabindex",u.tabindex)("required",u.required)("aria-labelledby",u.ariaLabelledBy)("aria-label",u.ariaLabel)("aria-checked",u.checked())("data-pc-section","hiddenInput"),S(2),I("ngClass",Vn(33,xT,u.checked(),u.disabled,u.focused)),ne("data-p-highlight",u.checked())("data-p-disabled",u.disabled)("data-p-focused",u.focused)("data-pc-section","input"),S(),I("ngIf",u.checked()),S(),I("ngIf",u.label))},dependencies:()=>[xn,un,wn,bn,Xr,vo],styles:[`@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}
`],encapsulation:2,changeDetection:0}));let i=s;return i})(),N_=(()=>{let s=class s{};f(s,"\u0275fac",function(r){return new(r||s)}),f(s,"\u0275mod",Vt({type:s})),f(s,"\u0275inj",At({imports:[kt,kr,vo,wt]}));let i=s;return i})();var Cd=(()=>{let s=class s extends Dt{};f(s,"\u0275fac",(()=>{let e;return function(u){return(e||(e=Ot(s)))(u||s)}})()),f(s,"\u0275cmp",je({type:s,selectors:[["BlankIcon"]],standalone:!0,features:[Lt,Pt],decls:2,vars:0,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg","v-bind","pti()"],["width","1","height","1","fill","currentColor","fill-opacity","0"]],template:function(r,u){r&1&&(ut(),H(0,"svg",0),ye(1,"rect",1),U())},encapsulation:2}));let i=s;return i})();var Wu=i=>({height:i}),kT=(i,s,o)=>({"p-dropdown-item":!0,"p-highlight":i,"p-disabled":s,"p-focus":o}),Id=i=>({$implicit:i});function DT(i,s){i&1&&ye(0,"CheckIcon",4),i&2&&I("styleClass","p-dropdown-check-icon")}function RT(i,s){i&1&&ye(0,"BlankIcon",4),i&2&&I("styleClass","p-dropdown-blank-icon")}function FT(i,s){if(i&1&&(Fe(0),K(1,DT,1,1,"CheckIcon",3)(2,RT,1,1,"BlankIcon",3),Ne()),i&2){let o=T();S(),I("ngIf",o.selected),S(),I("ngIf",!o.selected)}}function NT(i,s){if(i&1&&(H(0,"span"),Xe(1),U()),i&2){let o,e=T();S(),It((o=e.label)!==null&&o!==void 0?o:"empty")}}function AT(i,s){i&1&&it(0)}var VT=["container"],BT=["filter"],zT=["focusInput"],HT=["editableInput"],qT=["items"],GT=["scroller"],UT=["overlay"],KT=["firstHiddenFocusableEl"],ZT=["lastHiddenFocusableEl"],YT=i=>({"max-height":i}),A_=i=>({options:i}),jT=i=>({"p-variant-filled":i}),V_=(i,s)=>({$implicit:i,options:s}),WT=()=>({});function XT(i,s){if(i&1&&(Fe(0),Xe(1),Ne()),i&2){let o=T(2);S(),It(o.label()==="p-emptylabel"?"\xA0":o.label())}}function $T(i,s){if(i&1&&it(0,25),i&2){let o=T(2);I("ngTemplateOutlet",o.selectedItemTemplate)("ngTemplateOutletContext",nt(2,Id,o.selectedOption))}}function QT(i,s){if(i&1&&(H(0,"span"),Xe(1),U()),i&2){let o=T(3);S(),It(o.label()==="p-emptylabel"?"\xA0":o.label())}}function JT(i,s){if(i&1&&K(0,QT,2,1,"span",18),i&2){let o=T(2);I("ngIf",o.isSelectedOptionEmpty())}}function eE(i,s){if(i&1){let o=We();H(0,"span",23,3),Oe("focus",function(r){te(o);let u=T();return ie(u.onInputFocus(r))})("blur",function(r){te(o);let u=T();return ie(u.onInputBlur(r))})("keydown",function(r){te(o);let u=T();return ie(u.onKeyDown(r))}),K(2,XT,2,1,"ng-container",20)(3,$T,1,4,"ng-container",24)(4,JT,1,1,"ng-template",null,4,Tr),U()}if(i&2){let o,e=Zi(5),r=T();I("ngClass",r.inputClass)("pTooltip",r.tooltip)("tooltipPosition",r.tooltipPosition)("positionStyle",r.tooltipPositionStyle)("tooltipStyleClass",r.tooltipStyleClass)("autofocus",r.autofocus),ne("aria-disabled",r.disabled)("id",r.inputId)("aria-label",r.ariaLabel||(r.label()==="p-emptylabel"?void 0:r.label()))("aria-labelledby",r.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",(o=r.overlayVisible)!==null&&o!==void 0?o:!1)("aria-controls",r.overlayVisible?r.id+"_list":null)("tabindex",r.disabled?-1:r.tabindex)("aria-activedescendant",r.focused?r.focusedOptionId:void 0)("aria-required",r.required)("required",r.required),S(2),I("ngIf",!r.selectedItemTemplate)("ngIfElse",e),S(),I("ngIf",r.selectedItemTemplate&&!r.isSelectedOptionEmpty())}}function tE(i,s){if(i&1){let o=We();H(0,"input",26,5),Oe("input",function(r){te(o);let u=T();return ie(u.onEditableInput(r))})("keydown",function(r){te(o);let u=T();return ie(u.onKeyDown(r))})("focus",function(r){te(o);let u=T();return ie(u.onInputFocus(r))})("blur",function(r){te(o);let u=T();return ie(u.onInputBlur(r))}),U()}if(i&2){let o=T();I("ngClass",o.inputClass)("disabled",o.disabled)("autofocus",o.autofocus),ne("id",o.inputId)("maxlength",o.maxlength)("placeholder",o.modelValue()===void 0||o.modelValue()===null?o.placeholder():void 0)("aria-label",o.ariaLabel||(o.label()==="p-emptylabel"?void 0:o.label()))("aria-activedescendant",o.focused?o.focusedOptionId:void 0)}}function iE(i,s){if(i&1){let o=We();H(0,"TimesIcon",29),Oe("click",function(r){te(o);let u=T(2);return ie(u.clear(r))}),U()}i&2&&(I("styleClass","p-dropdown-clear-icon"),ne("data-pc-section","clearicon"))}function nE(i,s){}function rE(i,s){i&1&&K(0,nE,0,0,"ng-template")}function oE(i,s){if(i&1){let o=We();H(0,"span",30),Oe("click",function(r){te(o);let u=T(2);return ie(u.clear(r))}),K(1,rE,1,0,null,31),U()}if(i&2){let o=T(2);ne("data-pc-section","clearicon"),S(),I("ngTemplateOutlet",o.clearIconTemplate)}}function sE(i,s){if(i&1&&(Fe(0),K(1,iE,1,2,"TimesIcon",27)(2,oE,2,2,"span",28),Ne()),i&2){let o=T();S(),I("ngIf",!o.clearIconTemplate),S(),I("ngIf",o.clearIconTemplate)}}function aE(i,s){i&1&&it(0)}function lE(i,s){if(i&1&&(Fe(0),K(1,aE,1,0,"ng-container",31),Ne()),i&2){let o=T(2);S(),I("ngTemplateOutlet",o.loadingIconTemplate)}}function uE(i,s){if(i&1&&ye(0,"span",34),i&2){let o=T(3);I("ngClass","p-dropdown-trigger-icon pi-spin "+o.loadingIcon)}}function cE(i,s){i&1&&ye(0,"span",35),i&2&&Re("p-dropdown-trigger-icon pi pi-spinner pi-spin")}function pE(i,s){if(i&1&&(Fe(0),K(1,uE,1,1,"span",32)(2,cE,1,2,"span",33),Ne()),i&2){let o=T(2);S(),I("ngIf",o.loadingIcon),S(),I("ngIf",!o.loadingIcon)}}function hE(i,s){if(i&1&&(Fe(0),K(1,lE,2,1,"ng-container",18)(2,pE,3,2,"ng-container",18),Ne()),i&2){let o=T();S(),I("ngIf",o.loadingIconTemplate),S(),I("ngIf",!o.loadingIconTemplate)}}function dE(i,s){if(i&1&&ye(0,"span",39),i&2){let o=T(3);I("ngClass",o.dropdownIcon)}}function fE(i,s){i&1&&ye(0,"ChevronDownIcon",40),i&2&&I("styleClass","p-dropdown-trigger-icon")}function mE(i,s){if(i&1&&(Fe(0),K(1,dE,1,1,"span",37)(2,fE,1,1,"ChevronDownIcon",38),Ne()),i&2){let o=T(2);S(),I("ngIf",o.dropdownIcon),S(),I("ngIf",!o.dropdownIcon)}}function gE(i,s){}function _E(i,s){i&1&&K(0,gE,0,0,"ng-template")}function yE(i,s){if(i&1&&(H(0,"span",41),K(1,_E,1,0,null,31),U()),i&2){let o=T(2);S(),I("ngTemplateOutlet",o.dropdownIconTemplate)}}function vE(i,s){if(i&1&&K(0,mE,3,2,"ng-container",18)(1,yE,2,1,"span",36),i&2){let o=T();I("ngIf",!o.dropdownIconTemplate),S(),I("ngIf",o.dropdownIconTemplate)}}function xE(i,s){i&1&&it(0)}function bE(i,s){i&1&&it(0)}function wE(i,s){if(i&1&&(Fe(0),K(1,bE,1,0,"ng-container",48),Ne()),i&2){let o=T(3);S(),I("ngTemplateOutlet",o.filterTemplate)("ngTemplateOutletContext",nt(2,A_,o.filterOptions))}}function CE(i,s){i&1&&ye(0,"SearchIcon",40),i&2&&I("styleClass","p-dropdown-filter-icon")}function IE(i,s){}function SE(i,s){i&1&&K(0,IE,0,0,"ng-template")}function TE(i,s){if(i&1&&(H(0,"span",52),K(1,SE,1,0,null,31),U()),i&2){let o=T(4);S(),I("ngTemplateOutlet",o.filterIconTemplate)}}function EE(i,s){if(i&1){let o=We();H(0,"div",49)(1,"input",50,10),Oe("input",function(r){te(o);let u=T(3);return ie(u.onFilterInputChange(r))})("keydown",function(r){te(o);let u=T(3);return ie(u.onFilterKeyDown(r))})("blur",function(r){te(o);let u=T(3);return ie(u.onFilterBlur(r))}),U(),K(3,CE,1,1,"SearchIcon",38)(4,TE,2,1,"span",51),U()}if(i&2){let o=T(3);S(),I("value",o._filterValue()||"")("ngClass",nt(8,jT,o.variant==="filled"||o.config.inputStyle()==="filled")),ne("placeholder",o.filterPlaceholder)("aria-owns",o.id+"_list")("aria-label",o.ariaFilterLabel)("aria-activedescendant",o.focusedOptionId),S(2),I("ngIf",!o.filterIconTemplate),S(),I("ngIf",o.filterIconTemplate)}}function ME(i,s){if(i&1){let o=We();H(0,"div",47),Oe("click",function(r){return te(o),ie(r.stopPropagation())}),K(1,wE,2,4,"ng-container",20)(2,EE,5,10,"ng-template",null,9,Tr),U()}if(i&2){let o=Zi(3),e=T(2);S(),I("ngIf",e.filterTemplate)("ngIfElse",o)}}function OE(i,s){i&1&&it(0)}function LE(i,s){if(i&1&&K(0,OE,1,0,"ng-container",48),i&2){let o=s.$implicit,e=s.options;T(2);let r=Zi(9);I("ngTemplateOutlet",r)("ngTemplateOutletContext",Hi(2,V_,o,e))}}function PE(i,s){i&1&&it(0)}function kE(i,s){if(i&1&&K(0,PE,1,0,"ng-container",48),i&2){let o=s.options,e=T(4);I("ngTemplateOutlet",e.loaderTemplate)("ngTemplateOutletContext",nt(2,A_,o))}}function DE(i,s){i&1&&(Fe(0),K(1,kE,1,4,"ng-template",54),Ne())}function RE(i,s){if(i&1){let o=We();H(0,"p-scroller",53,11),Oe("onLazyLoad",function(r){te(o);let u=T(2);return ie(u.onLazyLoad.emit(r))}),K(2,LE,1,5,"ng-template",22)(3,DE,2,0,"ng-container",18),U()}if(i&2){let o=T(2);Va(nt(8,Wu,o.scrollHeight)),I("items",o.visibleOptions())("itemSize",o.virtualScrollItemSize||o._itemSize)("autoSize",!0)("lazy",o.lazy)("options",o.virtualScrollOptions),S(3),I("ngIf",o.loaderTemplate)}}function FE(i,s){i&1&&it(0)}function NE(i,s){if(i&1&&(Fe(0),K(1,FE,1,0,"ng-container",48),Ne()),i&2){T();let o=Zi(9),e=T();S(),I("ngTemplateOutlet",o)("ngTemplateOutletContext",Hi(3,V_,e.visibleOptions(),Yo(2,WT)))}}function AE(i,s){if(i&1&&(H(0,"span"),Xe(1),U()),i&2){let o=T(2).$implicit,e=T(3);S(),It(e.getOptionGroupLabel(o.optionGroup))}}function VE(i,s){i&1&&it(0)}function BE(i,s){if(i&1&&(Fe(0),H(1,"li",58),K(2,AE,2,1,"span",18)(3,VE,1,0,"ng-container",48),U(),Ne()),i&2){let o=T(),e=o.$implicit,r=o.index,u=T().options,h=T(2);S(),I("ngStyle",nt(5,Wu,u.itemSize+"px")),ne("id",h.id+"_"+h.getOptionIndex(r,u)),S(),I("ngIf",!h.groupTemplate),S(),I("ngTemplateOutlet",h.groupTemplate)("ngTemplateOutletContext",nt(7,Id,e.optionGroup))}}function zE(i,s){if(i&1){let o=We();Fe(0),H(1,"p-dropdownItem",59),Oe("onClick",function(r){te(o);let u=T().$implicit,h=T(3);return ie(h.onOptionSelect(r,u))})("onMouseEnter",function(r){te(o);let u=T().index,h=T().options,g=T(2);return ie(g.onOptionMouseEnter(r,g.getOptionIndex(u,h)))}),U(),Ne()}if(i&2){let o=T(),e=o.$implicit,r=o.index,u=T().options,h=T(2);S(),I("id",h.id+"_"+h.getOptionIndex(r,u))("option",e)("checkmark",h.checkmark)("selected",h.isSelected(e))("label",h.getOptionLabel(e))("disabled",h.isOptionDisabled(e))("template",h.itemTemplate)("focused",h.focusedOptionIndex()===h.getOptionIndex(r,u))("ariaPosInset",h.getAriaPosInset(h.getOptionIndex(r,u)))("ariaSetSize",h.ariaSetSize)}}function HE(i,s){if(i&1&&K(0,BE,4,9,"ng-container",18)(1,zE,2,10,"ng-container",18),i&2){let o=s.$implicit,e=T(3);I("ngIf",e.isOptionGroup(o)),S(),I("ngIf",!e.isOptionGroup(o))}}function qE(i,s){if(i&1&&(Fe(0),Xe(1),Ne()),i&2){let o=T(4);S(),Wi(" ",o.emptyFilterMessageLabel," ")}}function GE(i,s){i&1&&it(0,null,13)}function UE(i,s){if(i&1&&(H(0,"li",60),K(1,qE,2,1,"ng-container",20)(2,GE,2,0,"ng-container",31),U()),i&2){let o=T().options,e=T(2);I("ngStyle",nt(4,Wu,o.itemSize+"px")),S(),I("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),S(),I("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function KE(i,s){if(i&1&&(Fe(0),Xe(1),Ne()),i&2){let o=T(4);S(),Wi(" ",o.emptyMessageLabel," ")}}function ZE(i,s){i&1&&it(0,null,14)}function YE(i,s){if(i&1&&(H(0,"li",60),K(1,KE,2,1,"ng-container",20)(2,ZE,2,0,"ng-container",31),U()),i&2){let o=T().options,e=T(2);I("ngStyle",nt(4,Wu,o.itemSize+"px")),S(),I("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),S(),I("ngTemplateOutlet",e.emptyTemplate)}}function jE(i,s){if(i&1&&(H(0,"ul",55,12),K(2,HE,2,2,"ng-template",56)(3,UE,3,6,"li",57)(4,YE,3,6,"li",57),U()),i&2){let o=s.$implicit,e=s.options,r=T(2);I("ngClass",e.contentStyleClass)("ngStyle",e.contentStyle),ne("id",r.id+"_list")("aria-label",r.listLabel),S(2),I("ngForOf",o),S(),I("ngIf",r.filterValue&&r.isEmpty()),S(),I("ngIf",!r.filterValue&&r.isEmpty())}}function WE(i,s){i&1&&it(0)}function XE(i,s){if(i&1){let o=We();H(0,"div",42)(1,"span",43,6),Oe("focus",function(r){te(o);let u=T();return ie(u.onFirstHiddenFocus(r))}),U(),K(3,xE,1,0,"ng-container",31)(4,ME,4,2,"div",44),H(5,"div",45),K(6,RE,4,10,"p-scroller",46)(7,NE,2,6,"ng-container",18)(8,jE,5,7,"ng-template",null,7,Tr),U(),K(10,WE,1,0,"ng-container",31),H(11,"span",43,8),Oe("focus",function(r){te(o);let u=T();return ie(u.onLastHiddenFocus(r))}),U()()}if(i&2){let o=T();Re(o.panelStyleClass),I("ngClass","p-dropdown-panel p-component")("ngStyle",o.panelStyle),S(),ne("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),S(2),I("ngTemplateOutlet",o.headerTemplate),S(),I("ngIf",o.filter),S(),I("ngStyle",nt(16,YT,o.virtualScroll?"auto":o.scrollHeight||"auto")),S(),I("ngIf",o.virtualScroll),S(),I("ngIf",!o.virtualScroll),S(3),I("ngTemplateOutlet",o.footerTemplate),S(),ne("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var $E={provide:Er,useExisting:Ir(()=>JE),multi:!0},QE=(()=>{let s=class s{constructor(){f(this,"id");f(this,"option");f(this,"selected");f(this,"focused");f(this,"label");f(this,"disabled");f(this,"visible");f(this,"itemSize");f(this,"ariaPosInset");f(this,"ariaSetSize");f(this,"template");f(this,"checkmark");f(this,"onClick",new qe);f(this,"onMouseEnter",new qe)}ngOnInit(){}onOptionClick(e){this.onClick.emit(e)}onOptionMouseEnter(e){this.onMouseEnter.emit(e)}};f(s,"\u0275fac",function(r){return new(r||s)}),f(s,"\u0275cmp",je({type:s,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:[2,"selected","selected",we],focused:[2,"focused","focused",we],label:"label",disabled:[2,"disabled","disabled",we],visible:[2,"visible","visible",we],itemSize:[2,"itemSize","itemSize",Mt],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkmark:[2,"checkmark","checkmark",we]},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[gn],decls:4,vars:22,consts:[["role","option","pRipple","",3,"click","mouseenter","id","ngStyle","ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(r,u){r&1&&(H(0,"li",0),Oe("click",function(g){return u.onOptionClick(g)})("mouseenter",function(g){return u.onOptionMouseEnter(g)}),K(1,FT,3,2,"ng-container",1)(2,NT,2,1,"span",1)(3,AT,1,0,"ng-container",2),U()),r&2&&(I("id",u.id)("ngStyle",nt(14,Wu,u.itemSize+"px"))("ngClass",Vn(16,kT,u.selected,u.disabled,u.focused)),ne("aria-label",u.label)("aria-setsize",u.ariaSetSize)("aria-posinset",u.ariaPosInset)("aria-selected",u.selected)("data-p-focused",u.focused)("data-p-highlight",u.selected)("data-p-disabled",u.disabled),S(),I("ngIf",u.checkmark),S(),I("ngIf",!u.template),S(),I("ngTemplateOutlet",u.template)("ngTemplateOutletContext",nt(20,Id,u.option)))},dependencies:()=>[xn,un,wn,bn,ms,Cd,vo],encapsulation:2}));let i=s;return i})(),JE=(()=>{let s=class s{constructor(e,r,u,h,g,y){f(this,"el");f(this,"renderer");f(this,"cd");f(this,"zone");f(this,"filterService");f(this,"config");f(this,"id");f(this,"scrollHeight","200px");f(this,"filter");f(this,"name");f(this,"style");f(this,"panelStyle");f(this,"styleClass");f(this,"panelStyleClass");f(this,"readonly");f(this,"required");f(this,"editable");f(this,"appendTo");f(this,"tabindex",0);f(this,"loadingIcon");f(this,"filterPlaceholder");f(this,"filterLocale");f(this,"variant","outlined");f(this,"inputId");f(this,"dataKey");f(this,"filterBy");f(this,"filterFields");f(this,"autofocus");f(this,"resetFilterOnHide",!1);f(this,"checkmark",!1);f(this,"dropdownIcon");f(this,"loading",!1);f(this,"optionLabel");f(this,"optionValue");f(this,"optionDisabled");f(this,"optionGroupLabel","label");f(this,"optionGroupChildren","items");f(this,"autoDisplayFirst",!0);f(this,"group");f(this,"showClear");f(this,"emptyFilterMessage","");f(this,"emptyMessage","");f(this,"lazy",!1);f(this,"virtualScroll");f(this,"virtualScrollItemSize");f(this,"virtualScrollOptions");f(this,"overlayOptions");f(this,"ariaFilterLabel");f(this,"ariaLabel");f(this,"ariaLabelledBy");f(this,"filterMatchMode","contains");f(this,"maxlength");f(this,"tooltip","");f(this,"tooltipPosition","right");f(this,"tooltipPositionStyle","absolute");f(this,"tooltipStyleClass");f(this,"focusOnHover",!1);f(this,"selectOnFocus",!1);f(this,"autoOptionFocus",!0);f(this,"autofocusFilter",!0);f(this,"_itemSize");f(this,"_autoZIndex");f(this,"_baseZIndex");f(this,"_showTransitionOptions");f(this,"_hideTransitionOptions");f(this,"onChange",new qe);f(this,"onFilter",new qe);f(this,"onFocus",new qe);f(this,"onBlur",new qe);f(this,"onClick",new qe);f(this,"onShow",new qe);f(this,"onHide",new qe);f(this,"onClear",new qe);f(this,"onLazyLoad",new qe);f(this,"containerViewChild");f(this,"filterViewChild");f(this,"focusInputViewChild");f(this,"editableInputViewChild");f(this,"itemsViewChild");f(this,"scroller");f(this,"overlayViewChild");f(this,"firstHiddenFocusableElementOnOverlay");f(this,"lastHiddenFocusableElementOnOverlay");f(this,"templates");f(this,"_disabled");f(this,"itemsWrapper");f(this,"itemTemplate");f(this,"groupTemplate");f(this,"loaderTemplate");f(this,"selectedItemTemplate");f(this,"headerTemplate");f(this,"filterTemplate");f(this,"footerTemplate");f(this,"emptyFilterTemplate");f(this,"emptyTemplate");f(this,"dropdownIconTemplate");f(this,"loadingIconTemplate");f(this,"clearIconTemplate");f(this,"filterIconTemplate");f(this,"filterOptions");f(this,"_options",Pr(null));f(this,"_placeholder",Pr(void 0));f(this,"modelValue",Pr(null));f(this,"value");f(this,"onModelChange",()=>{});f(this,"onModelTouched",()=>{});f(this,"hover");f(this,"focused");f(this,"overlayVisible");f(this,"optionsChanged");f(this,"panel");f(this,"dimensionsUpdated");f(this,"hoveredItem");f(this,"selectedOptionUpdated");f(this,"_filterValue",Pr(null));f(this,"searchValue");f(this,"searchIndex");f(this,"searchTimeout");f(this,"previousSearchChar");f(this,"currentSearchChar");f(this,"preventModelTouched");f(this,"focusedOptionIndex",Pr(-1));f(this,"labelId");f(this,"listId");f(this,"clicked",Pr(!1));f(this,"visibleOptions",Es(()=>{let e=this.getAllVisibleAndNonVisibleOptions();if(this._filterValue()){let u=!(this.filterBy||this.optionLabel)&&!this.filterFields&&!this.optionValue?this.options.filter(h=>h.label?h.label.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1:h.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1):this.filterService.filter(e,this.searchFields(),this._filterValue().trim(),this.filterMatchMode,this.filterLocale);if(this.group){let h=this.options||[],g=[];return h.forEach(y=>{let D=this.getOptionGroupChildren(y).filter(N=>u.includes(N));D.length>0&&g.push(Ts(Cr({},y),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...D]}))}),this.flatOptions(g)}return u}return e}));f(this,"label",Es(()=>{let e=this.getAllVisibleAndNonVisibleOptions(),r=e.findIndex(u=>this.isOptionValueEqualsModelValue(u));return r!==-1?this.getOptionLabel(e[r]):this.placeholder()||"p-emptylabel"}));f(this,"filled",Es(()=>typeof this.modelValue()=="string"?!!this.modelValue():this.label()!=="p-emptylabel"&&this.modelValue()!==void 0&&this.modelValue()!==null));f(this,"selectedOption");f(this,"editableInputValue",Es(()=>this.getOptionLabel(this.selectedOption)||this.modelValue()||""));this.el=e,this.renderer=r,this.cd=u,this.zone=h,this.filterService=g,this.config=y,Fl(()=>{let w=this.modelValue(),D=this.visibleOptions();if(D&&Ve.isNotEmpty(D)){let N=this.findSelectedOptionIndex();(N!==-1||w===void 0||typeof w=="string"&&w.length===0||this.isModelValueNotSet()||this.editable)&&(this.selectedOption=D[N])}Ve.isEmpty(D)&&(w===void 0||this.isModelValueNotSet())&&Ve.isNotEmpty(this.selectedOption)&&(this.selectedOption=null),w!==void 0&&this.editable&&this.updateEditableLabel(),this.cd.markForCheck()})}set placeholder(e){this._placeholder.set(e)}get placeholder(){return this._placeholder.asReadonly()}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get filterValue(){return this._filterValue()}set filterValue(e){setTimeout(()=>{this._filterValue.set(e)})}get options(){return this._options()}set options(e){Ve.deepEquals(e,this._options())||this._options.set(e)}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Wn.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Wn.EMPTY_FILTER_MESSAGE)}get isVisibleClearIcon(){return this.modelValue()!=null&&this.hasSelectedOption()&&this.showClear&&!this.disabled}get listLabel(){return this.config.getTranslation(Wn.ARIA).listLabel}get containerClass(){return{"p-dropdown p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-dropdown-clearable":this.showClear&&!this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue()!==void 0&&this.modelValue()!==null&&!this.modelValue().length,"p-inputwrapper-focus":this.focused||this.overlayVisible,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled","p-dropdown-open":this.overlayVisible}}get inputClass(){let e=this.label();return{"p-dropdown-label p-inputtext":!0,"p-placeholder":this.placeholder()&&e===this.placeholder(),"p-dropdown-label-empty":!this.editable&&!this.selectedItemTemplate&&(e==null||e==="p-emptylabel"||e.length===0)}}get panelClass(){return{"p-dropdown-panel p-component":!0,"p-input-filled":this.config.inputStyle()==="filled","p-ripple-disabled":this.config.ripple===!1}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}isModelValueNotSet(){return this.modelValue()===null&&!this.isOptionValueEqualsModelValue(this.selectedOption)}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}ngOnInit(){this.id=this.id||cn(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let e=ge.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,"li.p-highlight");e&&ge.scrollInView(this.itemsWrapper,e),this.selectedOptionUpdated=!1}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}flatOptions(e){return(e||[]).reduce((r,u,h)=>{r.push({optionGroup:u,group:!0,index:h});let g=this.getOptionGroupChildren(u);return g&&g.forEach(y=>r.push(y)),r},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&(this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex()),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)),this.autoDisplayFirst&&(this.modelValue()===null||this.modelValue()===void 0)&&!this.placeholder()){let e=this.findFirstOptionIndex();this.onOptionSelect(null,this.visibleOptions()[e],!1,!0)}}onOptionSelect(e,r,u=!0,h=!1){if(!this.isSelected(r)){let g=this.getOptionValue(r);this.updateModel(g,e),this.focusedOptionIndex.set(this.findSelectedOptionIndex()),h===!1&&this.onChange.emit({originalEvent:e,value:g})}u&&this.hide(!0)}onOptionMouseEnter(e,r){this.focusOnHover&&this.changeFocusedOptionIndex(e,r)}updateModel(e,r){this.value=e,this.onModelChange(e),this.modelValue.set(e),this.selectedOptionUpdated=!0}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.allowModelChange()&&this.onModelChange(e),this.modelValue.set(this.value),this.updateEditableLabel(),this.cd.markForCheck()}allowModelChange(){return this.autoDisplayFirst&&!this.placeholder()&&(this.modelValue()===void 0||this.modelValue()===null)&&!this.editable&&this.options&&this.options.length}isSelectedOptionEmpty(){return Ve.isEmpty(this.selectedOption)}isSelected(e){return this.isValidOption(e)&&this.isOptionValueEqualsModelValue(e)}isOptionValueEqualsModelValue(e){return Ve.equals(this.modelValue(),this.getOptionValue(e),this.equalityKey())}ngAfterViewInit(){this.editable&&this.updateEditableLabel(),this.updatePlaceHolderForFloatingLabel()}updatePlaceHolderForFloatingLabel(){if(this._placeholder()!==null&&this._placeholder()!==void 0)return;let e=this.el.nativeElement.parentElement,r=e?.classList.contains("p-float-label");if(e&&r&&!this.selectedOption){let u=e.querySelector("label");u&&this._placeholder.set(u.textContent)}}updateEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value=this.getOptionLabel(this.selectedOption)||this.modelValue()||"")}clearEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value="")}getOptionIndex(e,r){return this.virtualScrollerDisabled?e:r&&r.getItemOptions(e).index}getOptionLabel(e){return this.optionLabel!==void 0&&this.optionLabel!==null?Ve.resolveFieldData(e,this.optionLabel):e&&e.label!==void 0?e.label:e}getOptionValue(e){return this.optionValue&&this.optionValue!==null?Ve.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}isOptionDisabled(e){return this.getOptionValue(this.modelValue())===this.getOptionValue(e)||this.getOptionLabel(this.modelValue()===this.getOptionLabel(e))&&e.disabled===!1?!1:this.optionDisabled?Ve.resolveFieldData(e,this.optionDisabled):e&&e.disabled!==void 0?e.disabled:!1}getOptionGroupLabel(e){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null?Ve.resolveFieldData(e,this.optionGroupLabel):e&&e.label!==void 0?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren!==void 0&&this.optionGroupChildren!==null?Ve.resolveFieldData(e,this.optionGroupChildren):e.items}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(r=>this.isOptionGroup(r)).length:e)+1}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}resetFilter(){this._filterValue.set(null),this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onContainerClick(e){this.disabled||this.readonly||this.loading||(this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),!(e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]'))&&((!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.onClick.emit(e),this.clicked.set(!0),this.cd.detectChanges()))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}onEditableInput(e){let r=e.target.value;this.searchValue="",!this.searchOptions(e,r)&&this.focusedOptionIndex.set(-1),this.onModelChange(r),this.updateModel(r,e),setTimeout(()=>{this.onChange.emit({originalEvent:e,value:r})},1),!this.overlayVisible&&Ve.isNotEmpty(r)&&this.show()}show(e){this.overlayVisible=!0;let r=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex();this.focusedOptionIndex.set(r),e&&ge.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(e){if(e.toState==="visible"){if(this.itemsWrapper=ge.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){let r=this.modelValue()?this.focusedOptionIndex():-1;r!==-1&&this.scroller?.scrollToIndex(r)}else{let r=ge.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");r&&r.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&!this.editable&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e)}e.toState==="void"&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(e))}hide(e){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.clicked.set(!1),this.searchValue="",this.overlayOptions?.mode==="modal"&&ge.unblockBodyScroll(),this.filter&&this.resetFilterOnHide&&this.resetFilter(),e&&(this.focusInputViewChild&&setTimeout(()=>{ge.focus(this.focusInputViewChild?.nativeElement)}),this.editable&&this.editableInputViewChild&&setTimeout(()=>{ge.focus(this.editableInputViewChild?.nativeElement)})),this.cd.markForCheck()}onInputFocus(e){if(this.disabled)return;this.focused=!0;let r=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(r),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onMouseDown(e){e.preventDefault()}onKeyDown(e,r){if(!(this.disabled||this.readonly||this.loading)){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Delete":this.onDeleteKey(e);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,r);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!e.metaKey&&Ve.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked.set(!1)}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e,!0);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break;default:break}}onFilterBlur(e){this.focusedOptionIndex.set(-1)}onArrowDownKey(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{let r=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,r)}e.preventDefault(),e.stopPropagation()}changeFocusedOptionIndex(e,r){if(this.focusedOptionIndex()!==r&&(this.focusedOptionIndex.set(r),this.scrollInView(),this.selectOnFocus)){let u=this.visibleOptions()[r];this.onOptionSelect(e,u,!1)}}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(e=-1){let r=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let u=ge.findSingle(this.itemsViewChild.nativeElement,`li[id="${r}"]`);u?u.scrollIntoView&&u.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}hasSelectedOption(){return this.modelValue()!==void 0}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}equalityKey(){return this.optionValue?null:this.dataKey}findFirstFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let r=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(u=>this.isValidOption(u)):-1;return r>-1?r+e+1:e}findPrevOptionIndex(e){let r=e>0?Ve.findLastIndex(this.visibleOptions().slice(0,e),u=>this.isValidOption(u)):-1;return r>-1?r:e}findLastOptionIndex(){return Ve.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}findLastFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}isValidOption(e){return e!=null&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionGroup(e){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null&&e.optionGroup!==void 0&&e.optionGroup!==null&&e.group}onArrowUpKey(e,r=!1){if(e.altKey&&!r){if(this.focusedOptionIndex()!==-1){let u=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,u)}this.overlayVisible&&this.hide()}else{let u=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,u),!this.overlayVisible&&this.show()}e.preventDefault(),e.stopPropagation()}onArrowLeftKey(e,r=!1){r&&this.focusedOptionIndex.set(-1)}onDeleteKey(e){this.showClear&&(this.clear(e),e.preventDefault())}onHomeKey(e,r=!1){if(r){let u=e.currentTarget;e.shiftKey?u.setSelectionRange(0,u.value.length):(u.setSelectionRange(0,0),this.focusedOptionIndex.set(-1))}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onEndKey(e,r=!1){if(r){let u=e.currentTarget;if(e.shiftKey)u.setSelectionRange(0,u.value.length);else{let h=u.value.length;u.setSelectionRange(h,h),this.focusedOptionIndex.set(-1)}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onSpaceKey(e,r=!1){!this.editable&&!r&&this.onEnterKey(e)}onEnterKey(e,r=!1){if(!this.overlayVisible)this.focusedOptionIndex.set(-1),this.onArrowDownKey(e);else{if(this.focusedOptionIndex()!==-1){let u=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,u)}!r&&this.hide()}e.preventDefault()}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onTabKey(e,r=!1){if(!r)if(this.overlayVisible&&this.hasFocusableElements())ge.focus(e.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),e.preventDefault();else{if(this.focusedOptionIndex()!==-1&&this.overlayVisible){let u=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,u)}this.overlayVisible&&this.hide(this.filter)}e.stopPropagation()}onFirstHiddenFocus(e){let r=e.relatedTarget===this.focusInputViewChild?.nativeElement?ge.getFirstFocusableElement(this.overlayViewChild.el?.nativeElement,":not(.p-hidden-focusable)"):this.focusInputViewChild?.nativeElement;ge.focus(r)}onLastHiddenFocus(e){let r=e.relatedTarget===this.focusInputViewChild?.nativeElement?ge.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;ge.focus(r)}hasFocusableElements(){return ge.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"]):not([class="p-dropdown-items-wrapper"])').length>0}onBackspaceKey(e,r=!1){r&&!this.overlayVisible&&this.show()}searchFields(){return this.filterBy?.split(",")||this.filterFields||[this.optionLabel]}searchOptions(e,r){this.searchValue=(this.searchValue||"")+r;let u=-1,h=!1;return this.focusedOptionIndex()!==-1?(u=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(g=>this.isOptionMatched(g)),u=u===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(g=>this.isOptionMatched(g)):u+this.focusedOptionIndex()):u=this.visibleOptions().findIndex(g=>this.isOptionMatched(g)),u!==-1&&(h=!0),u===-1&&this.focusedOptionIndex()===-1&&(u=this.findFirstFocusedOptionIndex()),u!==-1&&this.changeFocusedOptionIndex(e,u),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),h}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}onFilterInputChange(e){let r=e.target.value;this._filterValue.set(r),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()}),this.cd.markForCheck()}applyFocus(){this.editable?ge.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():ge.focus(this.focusInputViewChild?.nativeElement)}focus(){this.applyFocus()}clear(e){this.updateModel(null,e),this.clearEditableLabel(),this.onModelTouched(),this.onChange.emit({originalEvent:e,value:this.value}),this.onClear.emit(e),this.resetFilter()}};f(s,"\u0275fac",function(r){return new(r||s)(Ge(Sr),Ge(yo),Ge(Xi),Ge(ps),Ge(uc),Ge(so))}),f(s,"\u0275cmp",je({type:s,selectors:[["p-dropdown"]],contentQueries:function(r,u,h){if(r&1&&Gi(h,Pi,4),r&2){let g;Je(g=et())&&(u.templates=g)}},viewQuery:function(r,u){if(r&1&&(Ct(VT,5),Ct(BT,5),Ct(zT,5),Ct(HT,5),Ct(qT,5),Ct(GT,5),Ct(UT,5),Ct(KT,5),Ct(ZT,5)),r&2){let h;Je(h=et())&&(u.containerViewChild=h.first),Je(h=et())&&(u.filterViewChild=h.first),Je(h=et())&&(u.focusInputViewChild=h.first),Je(h=et())&&(u.editableInputViewChild=h.first),Je(h=et())&&(u.itemsViewChild=h.first),Je(h=et())&&(u.scroller=h.first),Je(h=et())&&(u.overlayViewChild=h.first),Je(h=et())&&(u.firstHiddenFocusableElementOnOverlay=h.first),Je(h=et())&&(u.lastHiddenFocusableElementOnOverlay=h.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(r,u){r&2&&ko("p-inputwrapper-filled",u.filled())("p-inputwrapper-focus",u.focused||u.overlayVisible)},inputs:{id:"id",scrollHeight:"scrollHeight",filter:[2,"filter","filter",we],name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:[2,"readonly","readonly",we],required:[2,"required","required",we],editable:[2,"editable","editable",we],appendTo:"appendTo",tabindex:[2,"tabindex","tabindex",Mt],placeholder:"placeholder",loadingIcon:"loadingIcon",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",variant:"variant",inputId:"inputId",dataKey:"dataKey",filterBy:"filterBy",filterFields:"filterFields",autofocus:[2,"autofocus","autofocus",we],resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",we],checkmark:[2,"checkmark","checkmark",we],dropdownIcon:"dropdownIcon",loading:[2,"loading","loading",we],optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:[2,"autoDisplayFirst","autoDisplayFirst",we],group:[2,"group","group",we],showClear:[2,"showClear","showClear",we],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:[2,"lazy","lazy",we],virtualScroll:[2,"virtualScroll","virtualScroll",we],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",Mt],virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:[2,"maxlength","maxlength",Mt],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",focusOnHover:[2,"focusOnHover","focusOnHover",we],selectOnFocus:[2,"selectOnFocus","selectOnFocus",we],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",we],autofocusFilter:[2,"autofocusFilter","autofocusFilter",we],disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterValue:"filterValue",options:"options"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[jn([$E]),gn],decls:12,vars:20,consts:[["container",""],["elseBlock",""],["overlay",""],["focusInput",""],["defaultPlaceholder",""],["editableInput",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["filter",""],["scroller",""],["items",""],["emptyFilter",""],["empty",""],[3,"click","ngClass","ngStyle"],["role","combobox","pAutoFocus","",3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus","focus","blur","keydown",4,"ngIf"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"ngClass","disabled","autofocus","input","keydown","focus","blur",4,"ngIf"],[4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger",3,"mousedown"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],["role","combobox","pAutoFocus","",3,"focus","blur","keydown","ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"input","keydown","focus","blur","ngClass","disabled","autofocus"],[3,"styleClass","click",4,"ngIf"],["class","p-dropdown-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-dropdown-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-dropdown-trigger-icon",4,"ngIf"],["class","p-dropdown-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-dropdown-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-dropdown-header",3,"click",4,"ngIf"],["tabindex","0",1,"p-dropdown-items-wrapper",3,"ngStyle"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[1,"p-dropdown-header",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-dropdown-filter-container"],["type","text","role","searchbox","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"input","keydown","blur","value","ngClass"],["class","p-dropdown-filter-icon",4,"ngIf"],[1,"p-dropdown-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-dropdown-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-dropdown-item-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","checkmark","selected","label","disabled","template","focused","ariaPosInset","ariaSetSize"],["role","option",1,"p-dropdown-empty-message",3,"ngStyle"]],template:function(r,u){if(r&1){let h=We();H(0,"div",15,0),Oe("click",function(y){return te(h),ie(u.onContainerClick(y))}),K(2,eE,6,20,"span",16)(3,tE,2,8,"input",17)(4,sE,3,2,"ng-container",18),H(5,"div",19),Oe("mousedown",function(y){return te(h),ie(u.onMouseDown(y))}),K(6,hE,3,2,"ng-container",20)(7,vE,2,2,"ng-template",null,1,Tr),U(),H(9,"p-overlay",21,2),Sa("visibleChange",function(y){return te(h),Ia(u.overlayVisible,y)||(u.overlayVisible=y),ie(y)}),Oe("onAnimationStart",function(y){return te(h),ie(u.onOverlayAnimationStart(y))})("onHide",function(){return te(h),ie(u.hide())}),K(11,XE,13,18,"ng-template",22),U()()}if(r&2){let h,g=Zi(8);Re(u.styleClass),I("ngClass",u.containerClass)("ngStyle",u.style),ne("id",u.id),S(2),I("ngIf",!u.editable),S(),I("ngIf",u.editable),S(),I("ngIf",u.isVisibleClearIcon),S(),ne("aria-expanded",(h=u.overlayVisible)!==null&&h!==void 0?h:!1)("data-pc-section","trigger"),S(),I("ngIf",u.loading)("ngIfElse",g),S(3),Ca("visible",u.overlayVisible),I("options",u.overlayOptions)("target","@parent")("appendTo",u.appendTo)("autoZIndex",u.autoZIndex)("baseZIndex",u.baseZIndex)("showTransitionOptions",u.showTransitionOptions)("hideTransitionOptions",u.hideTransitionOptions)}},dependencies:()=>[xn,jo,un,wn,bn,Cl,Pi,fc,au,Xr,or,Qo,lu,QE],styles:[`@layer primeng{.p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;opacity:0}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-item-group{cursor:auto}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}.p-float-label .p-dropdown .p-placeholder{opacity:0}}
`],encapsulation:2,changeDetection:0}));let i=s;return i})(),Sl=(()=>{let s=class s{};f(s,"\u0275fac",function(r){return new(r||s)}),f(s,"\u0275mod",Vt({type:s})),f(s,"\u0275inj",At({imports:[kt,La,wt,qa,Wr,Os,kr,or,Qo,lu,Cd,vo,La,wt,Os]}));let i=s;return i})();var Sd=(()=>{let s=class s extends Dt{};f(s,"\u0275fac",(()=>{let e;return function(u){return(e||(e=Ot(s)))(u||s)}})()),f(s,"\u0275cmp",je({type:s,selectors:[["AngleUpIcon"]],standalone:!0,features:[Lt,Pt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z","fill","currentColor"]],template:function(r,u){r&1&&(ut(),H(0,"svg",0),ye(1,"path",1),U()),r&2&&(Re(u.getClassNames()),ne("aria-label",u.ariaLabel)("aria-hidden",u.ariaHidden)("role",u.role))},encapsulation:2}));let i=s;return i})();var e3=["input"],t3=(i,s,o)=>({"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":i,"p-inputnumber-buttons-horizontal":s,"p-inputnumber-buttons-vertical":o}),B_=()=>({"p-inputnumber-button p-inputnumber-button-up":!0}),z_=()=>({"p-inputnumber-button p-inputnumber-button-down":!0});function i3(i,s){if(i&1){let o=We();H(0,"TimesIcon",8),Oe("click",function(){te(o);let r=T(2);return ie(r.clear())}),U()}i&2&&(I("ngClass","p-inputnumber-clear-icon"),ne("data-pc-section","clearIcon"))}function n3(i,s){}function r3(i,s){i&1&&K(0,n3,0,0,"ng-template")}function o3(i,s){if(i&1){let o=We();H(0,"span",9),Oe("click",function(){te(o);let r=T(2);return ie(r.clear())}),K(1,r3,1,0,null,10),U()}if(i&2){let o=T(2);ne("data-pc-section","clearIcon"),S(),I("ngTemplateOutlet",o.clearIconTemplate)}}function s3(i,s){if(i&1&&(Fe(0),K(1,i3,1,2,"TimesIcon",6)(2,o3,2,2,"span",7),Ne()),i&2){let o=T();S(),I("ngIf",!o.clearIconTemplate),S(),I("ngIf",o.clearIconTemplate)}}function a3(i,s){if(i&1&&ye(0,"span",14),i&2){let o=T(2);I("ngClass",o.incrementButtonIcon),ne("data-pc-section","incrementbuttonicon")}}function l3(i,s){i&1&&ye(0,"AngleUpIcon"),i&2&&ne("data-pc-section","incrementbuttonicon")}function u3(i,s){}function c3(i,s){i&1&&K(0,u3,0,0,"ng-template")}function p3(i,s){if(i&1&&(Fe(0),K(1,l3,1,1,"AngleUpIcon",3)(2,c3,1,0,null,10),Ne()),i&2){let o=T(2);S(),I("ngIf",!o.incrementButtonIconTemplate),S(),I("ngTemplateOutlet",o.incrementButtonIconTemplate)}}function h3(i,s){if(i&1&&ye(0,"span",14),i&2){let o=T(2);I("ngClass",o.decrementButtonIcon),ne("data-pc-section","decrementbuttonicon")}}function d3(i,s){i&1&&ye(0,"AngleDownIcon"),i&2&&ne("data-pc-section","decrementbuttonicon")}function f3(i,s){}function m3(i,s){i&1&&K(0,f3,0,0,"ng-template")}function g3(i,s){if(i&1&&(Fe(0),K(1,d3,1,1,"AngleDownIcon",3)(2,m3,1,0,null,10),Ne()),i&2){let o=T(2);S(),I("ngIf",!o.decrementButtonIconTemplate),S(),I("ngTemplateOutlet",o.decrementButtonIconTemplate)}}function _3(i,s){if(i&1){let o=We();H(0,"span",11)(1,"button",12),Oe("mousedown",function(r){te(o);let u=T();return ie(u.onUpButtonMouseDown(r))})("mouseup",function(){te(o);let r=T();return ie(r.onUpButtonMouseUp())})("mouseleave",function(){te(o);let r=T();return ie(r.onUpButtonMouseLeave())})("keydown",function(r){te(o);let u=T();return ie(u.onUpButtonKeyDown(r))})("keyup",function(){te(o);let r=T();return ie(r.onUpButtonKeyUp())}),K(2,a3,1,2,"span",13)(3,p3,3,2,"ng-container",3),U(),H(4,"button",12),Oe("mousedown",function(r){te(o);let u=T();return ie(u.onDownButtonMouseDown(r))})("mouseup",function(){te(o);let r=T();return ie(r.onDownButtonMouseUp())})("mouseleave",function(){te(o);let r=T();return ie(r.onDownButtonMouseLeave())})("keydown",function(r){te(o);let u=T();return ie(u.onDownButtonKeyDown(r))})("keyup",function(){te(o);let r=T();return ie(r.onDownButtonKeyUp())}),K(5,h3,1,2,"span",13)(6,g3,3,2,"ng-container",3),U()()}if(i&2){let o=T();ne("data-pc-section","buttonGroup"),S(),Re(o.incrementButtonClass),I("ngClass",Yo(17,B_))("disabled",o.disabled),ne("aria-hidden",!0)("data-pc-section","incrementbutton"),S(),I("ngIf",o.incrementButtonIcon),S(),I("ngIf",!o.incrementButtonIcon),S(),Re(o.decrementButtonClass),I("ngClass",Yo(18,z_))("disabled",o.disabled),ne("aria-hidden",!0)("data-pc-section",o.decrementbutton),S(),I("ngIf",o.decrementButtonIcon),S(),I("ngIf",!o.decrementButtonIcon)}}function y3(i,s){if(i&1&&ye(0,"span",14),i&2){let o=T(2);I("ngClass",o.incrementButtonIcon),ne("data-pc-section","incrementbuttonicon")}}function v3(i,s){i&1&&ye(0,"AngleUpIcon"),i&2&&ne("data-pc-section","incrementbuttonicon")}function x3(i,s){}function b3(i,s){i&1&&K(0,x3,0,0,"ng-template")}function w3(i,s){if(i&1&&(Fe(0),K(1,v3,1,1,"AngleUpIcon",3)(2,b3,1,0,null,10),Ne()),i&2){let o=T(2);S(),I("ngIf",!o.incrementButtonIconTemplate),S(),I("ngTemplateOutlet",o.incrementButtonIconTemplate)}}function C3(i,s){if(i&1){let o=We();H(0,"button",12),Oe("mousedown",function(r){te(o);let u=T();return ie(u.onUpButtonMouseDown(r))})("mouseup",function(){te(o);let r=T();return ie(r.onUpButtonMouseUp())})("mouseleave",function(){te(o);let r=T();return ie(r.onUpButtonMouseLeave())})("keydown",function(r){te(o);let u=T();return ie(u.onUpButtonKeyDown(r))})("keyup",function(){te(o);let r=T();return ie(r.onUpButtonKeyUp())}),K(1,y3,1,2,"span",13)(2,w3,3,2,"ng-container",3),U()}if(i&2){let o=T();Re(o.incrementButtonClass),I("ngClass",Yo(8,B_))("disabled",o.disabled),ne("aria-hidden",!0)("data-pc-section","incrementbutton"),S(),I("ngIf",o.incrementButtonIcon),S(),I("ngIf",!o.incrementButtonIcon)}}function I3(i,s){if(i&1&&ye(0,"span",14),i&2){let o=T(2);I("ngClass",o.decrementButtonIcon),ne("data-pc-section","decrementbuttonicon")}}function S3(i,s){i&1&&ye(0,"AngleDownIcon"),i&2&&ne("data-pc-section","decrementbuttonicon")}function T3(i,s){}function E3(i,s){i&1&&K(0,T3,0,0,"ng-template")}function M3(i,s){if(i&1&&(Fe(0),K(1,S3,1,1,"AngleDownIcon",3)(2,E3,1,0,null,10),Ne()),i&2){let o=T(2);S(),I("ngIf",!o.decrementButtonIconTemplate),S(),I("ngTemplateOutlet",o.decrementButtonIconTemplate)}}function O3(i,s){if(i&1){let o=We();H(0,"button",12),Oe("mousedown",function(r){te(o);let u=T();return ie(u.onDownButtonMouseDown(r))})("mouseup",function(){te(o);let r=T();return ie(r.onDownButtonMouseUp())})("mouseleave",function(){te(o);let r=T();return ie(r.onDownButtonMouseLeave())})("keydown",function(r){te(o);let u=T();return ie(u.onDownButtonKeyDown(r))})("keyup",function(){te(o);let r=T();return ie(r.onDownButtonKeyUp())}),K(1,I3,1,2,"span",13)(2,M3,3,2,"ng-container",3),U()}if(i&2){let o=T();Re(o.decrementButtonClass),I("ngClass",Yo(8,z_))("disabled",o.disabled),ne("aria-hidden",!0)("data-pc-section","decrementbutton"),S(),I("ngIf",o.decrementButtonIcon),S(),I("ngIf",!o.decrementButtonIcon)}}var L3={provide:Er,useExisting:Ir(()=>P3),multi:!0},P3=(()=>{let s=class s{constructor(e,r,u,h,g){f(this,"document");f(this,"el");f(this,"cd");f(this,"injector");f(this,"config");f(this,"showButtons",!1);f(this,"format",!0);f(this,"buttonLayout","stacked");f(this,"inputId");f(this,"styleClass");f(this,"style");f(this,"placeholder");f(this,"size");f(this,"maxlength");f(this,"tabindex");f(this,"title");f(this,"ariaLabelledBy");f(this,"ariaLabel");f(this,"ariaRequired");f(this,"name");f(this,"required");f(this,"autocomplete");f(this,"min");f(this,"max");f(this,"incrementButtonClass");f(this,"decrementButtonClass");f(this,"incrementButtonIcon");f(this,"decrementButtonIcon");f(this,"readonly",!1);f(this,"step",1);f(this,"allowEmpty",!0);f(this,"locale");f(this,"localeMatcher");f(this,"mode","decimal");f(this,"currency");f(this,"currencyDisplay");f(this,"useGrouping",!0);f(this,"variant","outlined");f(this,"minFractionDigits");f(this,"maxFractionDigits");f(this,"prefix");f(this,"suffix");f(this,"inputStyle");f(this,"inputStyleClass");f(this,"showClear",!1);f(this,"autofocus");f(this,"onInput",new qe);f(this,"onFocus",new qe);f(this,"onBlur",new qe);f(this,"onKeyDown",new qe);f(this,"onClear",new qe);f(this,"input");f(this,"templates");f(this,"clearIconTemplate");f(this,"incrementButtonIconTemplate");f(this,"decrementButtonIconTemplate");f(this,"value");f(this,"onModelChange",()=>{});f(this,"onModelTouched",()=>{});f(this,"focused");f(this,"initialized");f(this,"groupChar","");f(this,"prefixChar","");f(this,"suffixChar","");f(this,"isSpecialChar");f(this,"timer");f(this,"lastValue");f(this,"_numeral");f(this,"numberFormat");f(this,"_decimal");f(this,"_decimalChar");f(this,"_group");f(this,"_minusSign");f(this,"_currency");f(this,"_prefix");f(this,"_suffix");f(this,"_index");f(this,"_disabled");f(this,"ngControl",null);this.document=e,this.el=r,this.cd=u,this.injector=h,this.config=g}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}ngOnChanges(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(u=>!!e[u])&&this.updateConstructParser()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"clearicon":this.clearIconTemplate=e.template;break;case"incrementbuttonicon":this.incrementButtonIconTemplate=e.template;break;case"decrementbuttonicon":this.decrementButtonIconTemplate=e.template;break}})}ngOnInit(){this.ngControl=this.injector.get(pc,null,{optional:!0}),this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits??void 0,maximumFractionDigits:this.maxFractionDigits??void 0}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());let e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),r=new Map(e.map((u,h)=>[u,h]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._decimalChar=this.getDecimalChar(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=u=>r.get(u)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){let e=this.getDecimalChar();return new RegExp(`[${e}]`,"g")}getDecimalChar(){return new Intl.NumberFormat(this.locale,Ts(Cr({},this.getOptions()),{useGrouping:!1})).format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}getGroupingExpression(){let e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){let e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){let e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{let e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{let e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}get isBlurUpdateOnMode(){return this.ngControl?.control?.updateOn==="blur"}formatValue(e){if(e!=null){if(e==="-")return e;if(this.format){let u=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&e!=this.prefix&&(u=this.prefix+u),this.suffix&&e!=this.suffix&&(u=u+this.suffix),u}return e.toString()}return""}parseValue(e){let r=new RegExp(this._suffix,""),u=new RegExp(this._prefix,""),h=new RegExp(this._currency,""),g=e.replace(r,"").replace(u,"").trim().replace(/\s/g,"").replace(h,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(g){if(g==="-")return g;let y=+g;return isNaN(y)?null:y}return null}repeat(e,r,u){if(this.readonly)return;let h=r||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,u)},h),this.spin(e,u)}spin(e,r){let u=this.step*r,h=this.parseValue(this.input?.nativeElement.value)||0,g=this.validateValue(h+u);this.maxlength&&this.maxlength<this.formatValue(g).length||(this.updateInput(g,null,"spin",null),this.updateModel(e,g),this.handleOnInput(e,h,g))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(e){if(e.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault())}onUpButtonMouseUp(){this.disabled||this.clearTimer()}onUpButtonMouseLeave(){this.disabled||this.clearTimer()}onUpButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonMouseDown(e){if(e.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault())}onDownButtonMouseUp(){this.disabled||this.clearTimer()}onDownButtonMouseLeave(){this.disabled||this.clearTimer()}onDownButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,-1)}onUserInput(e){this.readonly||(this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey){this.isSpecialChar=!0;return}let r=e.target.selectionStart,u=e.target.selectionEnd,h=e.target.value,g=null;switch(e.altKey&&e.preventDefault(),e.key){case"ArrowUp":this.spin(e,1),e.preventDefault();break;case"ArrowDown":this.spin(e,-1),e.preventDefault();break;case"ArrowLeft":for(let y=r;y<=h.length;y++){let w=y===0?0:y-1;if(this.isNumeralChar(h.charAt(w))){this.input.nativeElement.setSelectionRange(y,y);break}}break;case"ArrowRight":for(let y=u;y>=0;y--)if(this.isNumeralChar(h.charAt(y))){this.input.nativeElement.setSelectionRange(y,y);break}break;case"Tab":case"Enter":g=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(g),this.input.nativeElement.setAttribute("aria-valuenow",g),this.updateModel(e,g);break;case"Backspace":{if(e.preventDefault(),r===u){if(r==1&&this.prefix||r==h.length&&this.suffix)break;let y=h.charAt(r-1),{decimalCharIndex:w,decimalCharIndexWithoutPrefix:D}=this.getDecimalCharIndexes(h);if(this.isNumeralChar(y)){let N=this.getDecimalLength(h);if(this._group.test(y))this._group.lastIndex=0,g=h.slice(0,r-2)+h.slice(r-1);else if(this._decimal.test(y))this._decimal.lastIndex=0,N?this.input?.nativeElement.setSelectionRange(r-1,r-1):g=h.slice(0,r-1)+h.slice(r);else if(w>0&&r>w){let A=this.isDecimalMode()&&(this.minFractionDigits||0)<N?"":"0";g=h.slice(0,r-1)+A+h.slice(r)}else D===1?(g=h.slice(0,r-1)+"0"+h.slice(r),g=this.parseValue(g)>0?g:""):g=h.slice(0,r-1)+h.slice(r)}else this.mode==="currency"&&y.search(this._currency)!=-1&&(g=h.slice(1));this.updateValue(e,g,null,"delete-single")}else g=this.deleteRange(h,r,u),this.updateValue(e,g,null,"delete-range");break}case"Delete":if(e.preventDefault(),r===u){if(r==0&&this.prefix||r==h.length-1&&this.suffix)break;let y=h.charAt(r),{decimalCharIndex:w,decimalCharIndexWithoutPrefix:D}=this.getDecimalCharIndexes(h);if(this.isNumeralChar(y)){let N=this.getDecimalLength(h);if(this._group.test(y))this._group.lastIndex=0,g=h.slice(0,r)+h.slice(r+2);else if(this._decimal.test(y))this._decimal.lastIndex=0,N?this.input?.nativeElement.setSelectionRange(r+1,r+1):g=h.slice(0,r)+h.slice(r+1);else if(w>0&&r>w){let A=this.isDecimalMode()&&(this.minFractionDigits||0)<N?"":"0";g=h.slice(0,r)+A+h.slice(r+1)}else D===1?(g=h.slice(0,r)+"0"+h.slice(r+1),g=this.parseValue(g)>0?g:""):g=h.slice(0,r)+h.slice(r+1)}this.updateValue(e,g,null,"delete-back-single")}else g=this.deleteRange(h,r,u),this.updateValue(e,g,null,"delete-range");break;case"Home":this.min&&(this.updateModel(e,this.min),e.preventDefault());break;case"End":this.max&&(this.updateModel(e,this.max),e.preventDefault());break;default:break}this.onKeyDown.emit(e)}onInputKeyPress(e){if(this.readonly)return;let r=e.which||e.keyCode,u=String.fromCharCode(r),h=this.isDecimalSign(u),g=this.isMinusSign(u);r!=13&&e.preventDefault(),!h&&e.code==="NumpadDecimal"&&(h=!0,u=this._decimalChar,r=u.charCodeAt(0));let y=this.parseValue(this.input.nativeElement.value+u),w=y!=null?y.toString():"";if(this.maxlength&&this.getSelectedText()?.length==this.maxlength){this.insert(e,u,{isDecimalSign:h,isMinusSign:g});return}this.maxlength&&w.length>this.maxlength||(48<=r&&r<=57||g||h)&&this.insert(e,u,{isDecimalSign:h,isMinusSign:g})}getSelectedText(){return window?.getSelection()?.toString().replaceAll(/[^0-9']/g,"")||""}onPaste(e){if(!this.disabled&&!this.readonly){e.preventDefault();let r=(e.clipboardData||this.document.defaultView.clipboardData).getData("Text");if(r){this.maxlength&&(r=r.toString().substring(0,this.maxlength));let u=this.parseValue(r);u!=null&&this.insert(e,u.toString())}}}allowMinusSign(){return this.min==null||this.min<0}isMinusSign(e){return this._minusSign.test(e)||e==="-"?(this._minusSign.lastIndex=0,!0):!1}isDecimalSign(e){return this._decimal.test(e)?(this._decimal.lastIndex=0,!0):!1}isDecimalMode(){return this.mode==="decimal"}getDecimalCharIndexes(e){let r=e.search(this._decimal);this._decimal.lastIndex=0;let h=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:r,decimalCharIndexWithoutPrefix:h}}getCharIndexes(e){let r=e.search(this._decimal);this._decimal.lastIndex=0;let u=e.search(this._minusSign);this._minusSign.lastIndex=0;let h=e.search(this._suffix);this._suffix.lastIndex=0;let g=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:r,minusCharIndex:u,suffixCharIndex:h,currencyCharIndex:g}}insert(e,r,u={isDecimalSign:!1,isMinusSign:!1}){let h=r.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&h!==-1)return;let g=this.input?.nativeElement.selectionStart,y=this.input?.nativeElement.selectionEnd,w=this.input?.nativeElement.value.trim(),{decimalCharIndex:D,minusCharIndex:N,suffixCharIndex:A,currencyCharIndex:Y}=this.getCharIndexes(w),X;if(u.isMinusSign)g===0&&(X=w,(N===-1||y!==0)&&(X=this.insertText(w,r,0,y)),this.updateValue(e,X,r,"insert"));else if(u.isDecimalSign)D>0&&g===D?this.updateValue(e,w,r,"insert"):D>g&&D<y?(X=this.insertText(w,r,g,y),this.updateValue(e,X,r,"insert")):D===-1&&this.maxFractionDigits&&(X=this.insertText(w,r,g,y),this.updateValue(e,X,r,"insert"));else{let j=this.numberFormat.resolvedOptions().maximumFractionDigits,E=g!==y?"range-insert":"insert";if(D>0&&g>D){if(g+r.length-(D+1)<=j){let O=Y>=g?Y-1:A>=g?A:w.length;X=w.slice(0,g)+r+w.slice(g+r.length,O)+w.slice(O),this.updateValue(e,X,r,E)}}else X=this.insertText(w,r,g,y),this.updateValue(e,X,r,E)}}insertText(e,r,u,h){if((r==="."?r:r.split(".")).length===2){let y=e.slice(u,h).search(this._decimal);return this._decimal.lastIndex=0,y>0?e.slice(0,u)+this.formatValue(r)+e.slice(h):e||this.formatValue(r)}else return h-u===e.length?this.formatValue(r):u===0?r+e.slice(h):h===e.length?e.slice(0,u)+r:e.slice(0,u)+r+e.slice(h)}deleteRange(e,r,u){let h;return u-r===e.length?h="":r===0?h=e.slice(u):u===e.length?h=e.slice(0,r):h=e.slice(0,r)+e.slice(u),h}initCursor(){let e=this.input?.nativeElement.selectionStart,r=this.input?.nativeElement.selectionEnd,u=this.input?.nativeElement.value,h=u.length,g=null,y=(this.prefixChar||"").length;u=u.replace(this._prefix,""),(e===r||e!==0||r<y)&&(e-=y);let w=u.charAt(e);if(this.isNumeralChar(w))return e+y;let D=e-1;for(;D>=0;)if(w=u.charAt(D),this.isNumeralChar(w)){g=D+y;break}else D--;if(g!==null)this.input?.nativeElement.setSelectionRange(g+1,g+1);else{for(D=e;D<h;)if(w=u.charAt(D),this.isNumeralChar(w)){g=D+y;break}else D++;g!==null&&this.input?.nativeElement.setSelectionRange(g,g)}return g||0}onInputClick(){let e=this.input?.nativeElement.value;!this.readonly&&e!==ge.getSelection()&&this.initCursor()}isNumeralChar(e){return e.length===1&&(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))?(this.resetRegex(),!0):!1}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,r,u,h){let g=this.input?.nativeElement.value,y=null;r!=null&&(y=this.parseValue(r),y=!y&&!this.allowEmpty?0:y,this.updateInput(y,u,h,r),this.handleOnInput(e,g,y))}handleOnInput(e,r,u){this.isValueChanged(r,u)&&(this.input.nativeElement.value=this.formatValue(u),this.input?.nativeElement.setAttribute("aria-valuenow",u),!this.isBlurUpdateOnMode&&this.updateModel(e,u),this.onInput.emit({originalEvent:e,value:u,formattedValue:r}))}isValueChanged(e,r){if(r===null&&e!==null)return!0;if(r!=null){let u=typeof e=="string"?this.parseValue(e):e;return r!==u}return!1}validateValue(e){return e==="-"||e==null?null:this.min!=null&&e<this.min?this.min:this.max!=null&&e>this.max?this.max:e}updateInput(e,r,u,h){r=r||"";let g=this.input?.nativeElement.value,y=this.formatValue(e),w=g.length;if(y!==h&&(y=this.concatValues(y,h)),w===0){this.input.nativeElement.value=y,this.input.nativeElement.setSelectionRange(0,0);let N=this.initCursor()+r.length;this.input.nativeElement.setSelectionRange(N,N)}else{let D=this.input.nativeElement.selectionStart,N=this.input.nativeElement.selectionEnd;if(this.maxlength&&y.length>this.maxlength&&(y=y.slice(0,this.maxlength),D=Math.min(D,this.maxlength),N=Math.min(N,this.maxlength)),this.maxlength&&this.maxlength<y.length)return;this.input.nativeElement.value=y;let A=y.length;if(u==="range-insert"){let Y=this.parseValue((g||"").slice(0,D)),j=(Y!==null?Y.toString():"").split("").join(`(${this.groupChar})?`),E=new RegExp(j,"g");E.test(y);let O=r.split("").join(`(${this.groupChar})?`),F=new RegExp(O,"g");F.test(y.slice(E.lastIndex)),N=E.lastIndex+F.lastIndex,this.input.nativeElement.setSelectionRange(N,N)}else if(A===w)u==="insert"||u==="delete-back-single"?this.input.nativeElement.setSelectionRange(N+1,N+1):u==="delete-single"?this.input.nativeElement.setSelectionRange(N-1,N-1):(u==="delete-range"||u==="spin")&&this.input.nativeElement.setSelectionRange(N,N);else if(u==="delete-back-single"){let Y=g.charAt(N-1),X=g.charAt(N),j=w-A,E=this._group.test(X);E&&j===1?N+=1:!E&&this.isNumeralChar(Y)&&(N+=-1*j+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(N,N)}else if(g==="-"&&u==="insert"){this.input.nativeElement.setSelectionRange(0,0);let X=this.initCursor()+r.length+1;this.input.nativeElement.setSelectionRange(X,X)}else N=N+(A-w),this.input.nativeElement.setSelectionRange(N,N)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,r){if(e&&r){let u=r.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?u!==-1?e:e.replace(this.suffixChar,"").split(this._decimal)[0]+r.replace(this.suffixChar,"").slice(u)+this.suffixChar:u!==-1?e.split(this._decimal)[0]+r.slice(u):e}return e}getDecimalLength(e){if(e){let r=e.split(this._decimal);if(r.length===2)return r[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let r=this.validateValue(this.parseValue(this.input.nativeElement.value)),u=r?.toString();this.input.nativeElement.value=this.formatValue(u),this.input.nativeElement.setAttribute("aria-valuenow",u),this.updateModel(e,r),this.onBlur.emit(e)}formattedValue(){let e=!this.value&&!this.allowEmpty?0:this.value;return this.formatValue(e)}updateModel(e,r){this.value!==r&&(this.value=r,this.isBlurUpdateOnMode&&this.focused?this.isBlurUpdateOnMode&&this.onModelChange(r):this.onModelChange(r)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return this.value!=null&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}};f(s,"\u0275fac",function(r){return new(r||s)(Ge(ds),Ge(Sr),Ge(Xi),Ge(oc),Ge(so))}),f(s,"\u0275cmp",je({type:s,selectors:[["p-inputNumber"]],contentQueries:function(r,u,h){if(r&1&&Gi(h,Pi,4),r&2){let g;Je(g=et())&&(u.templates=g)}},viewQuery:function(r,u){if(r&1&&Ct(e3,5),r&2){let h;Je(h=et())&&(u.input=h.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(r,u){r&2&&ko("p-inputwrapper-filled",u.filled)("p-inputwrapper-focus",u.focused)("p-inputnumber-clearable",u.showClear&&u.buttonLayout!="vertical")},inputs:{showButtons:[2,"showButtons","showButtons",we],format:[2,"format","format",we],buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:[2,"size","size",Mt],maxlength:[2,"maxlength","maxlength",Mt],tabindex:[2,"tabindex","tabindex",Mt],title:"title",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",ariaRequired:[2,"ariaRequired","ariaRequired",we],name:"name",required:[2,"required","required",we],autocomplete:"autocomplete",min:[2,"min","min",Mt],max:[2,"max","max",Mt],incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:[2,"readonly","readonly",we],step:[2,"step","step",Mt],allowEmpty:[2,"allowEmpty","allowEmpty",we],locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:[2,"useGrouping","useGrouping",we],variant:"variant",minFractionDigits:[2,"minFractionDigits","minFractionDigits",e=>Mt(e,null)],maxFractionDigits:[2,"maxFractionDigits","maxFractionDigits",e=>Mt(e,null)],prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:[2,"showClear","showClear",we],autofocus:[2,"autofocus","autofocus",we],disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[jn([L3]),gn,Rl],decls:7,vars:43,consts:[["input",""],[3,"ngClass","ngStyle"],["pInputText","","role","spinbutton","inputmode","decimal","pAutoFocus","",3,"input","keydown","keypress","paste","click","focus","blur","ngClass","ngStyle","value","disabled","readonly","autofocus"],[4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","","class","p-button-icon-only","tabindex","-1",3,"ngClass","class","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["class","p-inputnumber-clear-icon",3,"click",4,"ngIf"],[3,"click","ngClass"],[1,"p-inputnumber-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[1,"p-inputnumber-button-group"],["type","button","pButton","","tabindex","-1",1,"p-button-icon-only",3,"mousedown","mouseup","mouseleave","keydown","keyup","ngClass","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(r,u){if(r&1){let h=We();H(0,"span",1)(1,"input",2,0),Oe("input",function(y){return te(h),ie(u.onUserInput(y))})("keydown",function(y){return te(h),ie(u.onInputKeyDown(y))})("keypress",function(y){return te(h),ie(u.onInputKeyPress(y))})("paste",function(y){return te(h),ie(u.onPaste(y))})("click",function(){return te(h),ie(u.onInputClick())})("focus",function(y){return te(h),ie(u.onInputFocus(y))})("blur",function(y){return te(h),ie(u.onInputBlur(y))}),U(),K(3,s3,3,2,"ng-container",3)(4,_3,7,19,"span",4)(5,C3,3,9,"button",5)(6,O3,3,9,"button",5),U()}r&2&&(Re(u.styleClass),I("ngClass",Vn(39,t3,u.showButtons&&u.buttonLayout==="stacked",u.showButtons&&u.buttonLayout==="horizontal",u.showButtons&&u.buttonLayout==="vertical"))("ngStyle",u.style),ne("data-pc-name","inputnumber")("data-pc-section","root"),S(),Re(u.inputStyleClass),ko("p-variant-filled",u.variant==="filled"||u.config.inputStyle()==="filled"),I("ngClass","p-inputnumber-input")("ngStyle",u.inputStyle)("value",u.formattedValue())("disabled",u.disabled)("readonly",u.readonly)("autofocus",u.autofocus),ne("id",u.inputId)("variant",u.variant)("aria-valuemin",u.min)("aria-valuemax",u.max)("aria-valuenow",u.value)("placeholder",u.placeholder)("aria-label",u.ariaLabel)("aria-labelledby",u.ariaLabelledBy)("title",u.title)("size",u.size)("name",u.name)("autocomplete",u.autocomplete)("maxlength",u.maxlength)("tabindex",u.tabindex)("aria-required",u.ariaRequired)("required",u.required)("min",u.min)("max",u.max)("data-pc-section","input"),S(2),I("ngIf",u.buttonLayout!="vertical"&&u.showClear&&u.value),S(),I("ngIf",u.showButtons&&u.buttonLayout==="stacked"),S(),I("ngIf",u.showButtons&&u.buttonLayout!=="stacked"),S(),I("ngIf",u.showButtons&&u.buttonLayout!=="stacked"))},dependencies:()=>[xn,un,wn,bn,Ud,Vl,Xr,or,Sd,Lp],styles:[`@layer primeng{p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}}
`],encapsulation:2,changeDetection:0}));let i=s;return i})(),Tl=(()=>{let s=class s{};f(s,"\u0275fac",function(r){return new(r||s)}),f(s,"\u0275mod",Vt({type:s})),f(s,"\u0275inj",At({imports:[kt,Ga,Us,kr,or,Sd,Lp,wt]}));let i=s;return i})();var H_=(()=>{let s=class s{};f(s,"\u0275fac",function(r){return new(r||s)}),f(s,"\u0275mod",Vt({type:s})),f(s,"\u0275inj",At({imports:[kt]}));let i=s;return i})();var D3=["container"],R3=(i,s,o)=>({"p-highlight":i,"p-disabled":s,"p-button-icon-only":o}),F3=(i,s)=>({$implicit:i,index:s});function N3(i,s){if(i&1&&ye(0,"span",8),i&2){let o=T(2).$implicit;Re(o.icon),I("ngClass","p-button-icon p-button-icon-left"),ne("data-pc-section","icon")}}function A3(i,s){if(i&1&&(Fe(0),K(1,N3,1,4,"span",6),H(2,"span",7),Xe(3),U(),Ne()),i&2){let o=T().$implicit,e=T();S(),I("ngIf",o.icon),S(),ne("data-pc-section","label"),S(),It(e.getOptionLabel(o))}}function V3(i,s){i&1&&it(0)}function B3(i,s){if(i&1&&K(0,V3,1,0,"ng-container",9),i&2){let o=T(),e=o.$implicit,r=o.index,u=T();I("ngTemplateOutlet",u.selectButtonTemplate)("ngTemplateOutletContext",Hi(2,F3,e,r))}}function z3(i,s){if(i&1){let o=We();H(0,"div",4),Oe("click",function(r){let u=te(o),h=u.$implicit,g=u.index,y=T();return ie(y.onOptionSelect(r,h,g))})("keydown",function(r){let u=te(o),h=u.$implicit,g=u.index,y=T();return ie(y.onKeyDown(r,h,g))})("focus",function(r){let u=te(o).index,h=T();return ie(h.onFocus(r,u))})("blur",function(){te(o);let r=T();return ie(r.onBlur())}),K(1,A3,4,3,"ng-container",5)(2,B3,1,5,"ng-template",null,1,Tr),U()}if(i&2){let o=s.$implicit,e=s.index,r=Zi(3),u=T();Re(o.styleClass),I("role",u.multiple?"checkbox":"radio")("ngClass",Vn(14,R3,u.isSelected(o),u.disabled||u.isOptionDisabled(o),o.icon&&!u.getOptionLabel(o)))("autofocus",u.autofocus),ne("tabindex",e===u.focusedIndex&&!u.disabled?"0":"-1")("aria-label",o.label)("aria-checked",u.isSelected(o))("aria-disabled",u.optionDisabled)("title",o.title)("aria-labelledby",u.getOptionLabel(o))("data-pc-section","button"),S(),I("ngIf",!u.itemTemplate)("ngIfElse",r)}}var H3={provide:Er,useExisting:Ir(()=>q3),multi:!0},q3=(()=>{let s=class s{constructor(e){f(this,"cd");f(this,"options");f(this,"optionLabel");f(this,"optionValue");f(this,"optionDisabled");f(this,"unselectable",!1);f(this,"tabindex",0);f(this,"multiple");f(this,"allowEmpty",!0);f(this,"style");f(this,"styleClass");f(this,"ariaLabelledBy");f(this,"disabled");f(this,"dataKey");f(this,"autofocus");f(this,"onOptionClick",new qe);f(this,"onChange",new qe);f(this,"container");f(this,"itemTemplate");f(this,"value");f(this,"onModelChange",()=>{});f(this,"onModelTouched",()=>{});f(this,"focusedIndex",0);this.cd=e}get selectButtonTemplate(){return this.itemTemplate?.template}get equalityKey(){return this.optionValue?null:this.dataKey}getOptionLabel(e){return this.optionLabel?Ve.resolveFieldData(e,this.optionLabel):e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?Ve.resolveFieldData(e,this.optionValue):this.optionLabel||e.value===void 0?e:e.value}isOptionDisabled(e){return this.optionDisabled?Ve.resolveFieldData(e,this.optionDisabled):e.disabled!==void 0?e.disabled:!1}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onOptionSelect(e,r,u){if(this.disabled||this.isOptionDisabled(r))return;let h=this.isSelected(r);if(h&&this.unselectable)return;let g=this.getOptionValue(r),y;if(this.multiple)h?y=this.value.filter(w=>!Ve.equals(w,g,this.equalityKey)):y=this.value?[...this.value,g]:[g];else{if(h&&!this.allowEmpty)return;y=h?null:g}this.focusedIndex=u,this.value=y,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.onOptionClick.emit({originalEvent:e,option:r,index:u})}onKeyDown(e,r,u){switch(e.code){case"Space":{this.onOptionSelect(e,r,u),e.preventDefault();break}case"ArrowDown":case"ArrowRight":{this.changeTabIndexes(e,"next"),e.preventDefault();break}case"ArrowUp":case"ArrowLeft":{this.changeTabIndexes(e,"prev"),e.preventDefault();break}default:break}}changeTabIndexes(e,r){let u,h;for(let g=0;g<=this.container.nativeElement.children.length-1;g++)this.container.nativeElement.children[g].getAttribute("tabindex")==="0"&&(u={elem:this.container.nativeElement.children[g],index:g});r==="prev"?u.index===0?h=this.container.nativeElement.children.length-1:h=u.index-1:u.index===this.container.nativeElement.children.length-1?h=0:h=u.index+1,this.focusedIndex=h,this.container.nativeElement.children[h].focus()}onFocus(e,r){this.focusedIndex=r}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(r=>!Ve.equals(r,this.getOptionValue(e),this.dataKey))}isSelected(e){let r=!1,u=this.getOptionValue(e);if(this.multiple){if(this.value&&Array.isArray(this.value)){for(let h of this.value)if(Ve.equals(h,u,this.dataKey)){r=!0;break}}}else r=Ve.equals(this.getOptionValue(e),this.value,this.equalityKey);return r}};f(s,"\u0275fac",function(r){return new(r||s)(Ge(Xi))}),f(s,"\u0275cmp",je({type:s,selectors:[["p-selectButton"]],contentQueries:function(r,u,h){if(r&1&&Gi(h,Pi,5),r&2){let g;Je(g=et())&&(u.itemTemplate=g.first)}},viewQuery:function(r,u){if(r&1&&Ct(D3,5),r&2){let h;Je(h=et())&&(u.container=h.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",unselectable:[2,"unselectable","unselectable",we],tabindex:[2,"tabindex","tabindex",Mt],multiple:[2,"multiple","multiple",we],allowEmpty:[2,"allowEmpty","allowEmpty",we],style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",we],dataKey:"dataKey",autofocus:[2,"autofocus","autofocus",we]},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[jn([H3]),gn],decls:3,vars:8,consts:[["container",""],["customcontent",""],["role","group",3,"ngClass","ngStyle"],["pRipple","","class","p-button p-component","pAutoFocus","",3,"role","class","ngClass","autofocus","click","keydown","focus","blur",4,"ngFor","ngForOf"],["pRipple","","pAutoFocus","",1,"p-button","p-component",3,"click","keydown","focus","blur","role","ngClass","autofocus"],[4,"ngIf","ngIfElse"],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,u){r&1&&(H(0,"div",2,0),K(2,z3,4,18,"div",3),U()),r&2&&(Re(u.styleClass),I("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",u.style),ne("aria-labelledby",u.ariaLabelledBy)("data-pc-name","selectbutton")("data-pc-section","root"),S(2),I("ngForOf",u.options))},dependencies:[xn,jo,un,wn,bn,ms,Xr],styles:[`@layer primeng{.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default;pointer-events:none}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-button-group .p-button{margin:0}.p-button-group .p-button:focus,.p-button-group p-button:focus .p-button,.p-buttonset .p-button:focus,.p-buttonset p-button:focus .p-button{position:relative;z-index:1}.p-button-group .p-button:not(:last-child),.p-button-group .p-button:not(:last-child):hover,.p-button-group p-button:not(:last-child) .p-button,.p-button-group p-button:not(:last-child) .p-button:hover,.p-buttonset .p-button:not(:last-child),.p-buttonset .p-button:not(:last-child):hover,.p-buttonset p-button:not(:last-child) .p-button,.p-buttonset p-button:not(:last-child) .p-button:hover{border-right:0 none}.p-button-group .p-button:not(:first-of-type):not(:last-of-type),.p-button-group p-button:not(:first-of-type):not(:last-of-type) .p-button,.p-buttonset .p-button:not(:first-of-type):not(:last-of-type),.p-buttonset p-button:not(:first-of-type):not(:last-of-type) .p-button{border-radius:0}.p-button-group .p-button:first-of-type:not(:only-of-type),.p-button-group p-button:first-of-type:not(:only-of-type) .p-button,.p-buttonset .p-button:first-of-type:not(:only-of-type),.p-buttonset p-button:first-of-type:not(:only-of-type) .p-button{border-top-right-radius:0;border-bottom-right-radius:0}.p-button-group .p-button:last-of-type:not(:only-of-type),.p-button-group p-button:last-of-type:not(:only-of-type) .p-button,.p-buttonset .p-button:last-of-type:not(:only-of-type),.p-buttonset p-button:last-of-type:not(:only-of-type) .p-button{border-top-left-radius:0;border-bottom-left-radius:0}p-button[iconpos=right] spinnericon{order:1}}
`],encapsulation:2,changeDetection:0}));let i=s;return i})(),vp=(()=>{let s=class s{};f(s,"\u0275fac",function(r){return new(r||s)}),f(s,"\u0275mod",Vt({type:s})),f(s,"\u0275inj",At({imports:[kt,Wr,wt,kr,wt]}));let i=s;return i})();var q_=(()=>{let s=class s{};f(s,"\u0275fac",function(r){return new(r||s)}),f(s,"\u0275mod",Vt({type:s})),f(s,"\u0275inj",At({imports:[kt,wt]}));let i=s;return i})();var Xu=(()=>{let s=class s extends Dt{};f(s,"\u0275fac",(()=>{let e;return function(u){return(e||(e=Ot(s)))(u||s)}})()),f(s,"\u0275cmp",je({type:s,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[Lt,Pt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(r,u){r&1&&(ut(),H(0,"svg",0),ye(1,"path",1),U()),r&2&&(Re(u.getClassNames()),ne("aria-label",u.ariaLabel)("aria-hidden",u.ariaHidden)("role",u.role))},encapsulation:2}));let i=s;return i})();var G_=(()=>{let s=class s{};f(s,"\u0275fac",function(r){return new(r||s)}),f(s,"\u0275mod",Vt({type:s})),f(s,"\u0275inj",At({imports:[kt,wt,qa,Wr,or,Xu,Il,wt]}));let i=s;return i})();var Td=(()=>{let s=class s extends Dt{};f(s,"\u0275fac",(()=>{let e;return function(u){return(e||(e=Ot(s)))(u||s)}})()),f(s,"\u0275cmp",je({type:s,selectors:[["ChevronUpIcon"]],standalone:!0,features:[Lt,Pt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z","fill","currentColor"]],template:function(r,u){r&1&&(ut(),H(0,"svg",0),ye(1,"path",1),U()),r&2&&(Re(u.getClassNames()),ne("aria-label",u.ariaLabel)("aria-hidden",u.ariaHidden)("role",u.role))},encapsulation:2}));let i=s;return i})();var Ed=(()=>{let s=class s extends Dt{};f(s,"\u0275fac",(()=>{let e;return function(u){return(e||(e=Ot(s)))(u||s)}})()),f(s,"\u0275cmp",je({type:s,selectors:[["CalendarIcon"]],standalone:!0,features:[Lt,Pt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.7838 1.51351H9.83783V0.567568C9.83783 0.417039 9.77804 0.272676 9.6716 0.166237C9.56516 0.0597971 9.42079 0 9.27027 0C9.11974 0 8.97538 0.0597971 8.86894 0.166237C8.7625 0.272676 8.7027 0.417039 8.7027 0.567568V1.51351H5.29729V0.567568C5.29729 0.417039 5.2375 0.272676 5.13106 0.166237C5.02462 0.0597971 4.88025 0 4.72973 0C4.5792 0 4.43484 0.0597971 4.3284 0.166237C4.22196 0.272676 4.16216 0.417039 4.16216 0.567568V1.51351H3.21621C2.66428 1.51351 2.13494 1.73277 1.74467 2.12305C1.35439 2.51333 1.13513 3.04266 1.13513 3.59459V11.9189C1.13513 12.4709 1.35439 13.0002 1.74467 13.3905C2.13494 13.7807 2.66428 14 3.21621 14H10.7838C11.3357 14 11.865 13.7807 12.2553 13.3905C12.6456 13.0002 12.8649 12.4709 12.8649 11.9189V3.59459C12.8649 3.04266 12.6456 2.51333 12.2553 2.12305C11.865 1.73277 11.3357 1.51351 10.7838 1.51351ZM3.21621 2.64865H4.16216V3.59459C4.16216 3.74512 4.22196 3.88949 4.3284 3.99593C4.43484 4.10237 4.5792 4.16216 4.72973 4.16216C4.88025 4.16216 5.02462 4.10237 5.13106 3.99593C5.2375 3.88949 5.29729 3.74512 5.29729 3.59459V2.64865H8.7027V3.59459C8.7027 3.74512 8.7625 3.88949 8.86894 3.99593C8.97538 4.10237 9.11974 4.16216 9.27027 4.16216C9.42079 4.16216 9.56516 4.10237 9.6716 3.99593C9.77804 3.88949 9.83783 3.74512 9.83783 3.59459V2.64865H10.7838C11.0347 2.64865 11.2753 2.74831 11.4527 2.92571C11.6301 3.10311 11.7297 3.34371 11.7297 3.59459V5.67568H2.27027V3.59459C2.27027 3.34371 2.36993 3.10311 2.54733 2.92571C2.72473 2.74831 2.96533 2.64865 3.21621 2.64865ZM10.7838 12.8649H3.21621C2.96533 12.8649 2.72473 12.7652 2.54733 12.5878C2.36993 12.4104 2.27027 12.1698 2.27027 11.9189V6.81081H11.7297V11.9189C11.7297 12.1698 11.6301 12.4104 11.4527 12.5878C11.2753 12.7652 11.0347 12.8649 10.7838 12.8649Z","fill","currentColor"]],template:function(r,u){r&1&&(ut(),H(0,"svg",0),ye(1,"path",1),U()),r&2&&(Re(u.getClassNames()),ne("aria-label",u.ariaLabel)("aria-hidden",u.ariaHidden)("role",u.role))},encapsulation:2}));let i=s;return i})();var G3=["container"],U3=["inputfield"],K3=["contentWrapper"],Z3=[[["p-header"]],[["p-footer"]]],Y3=["p-header","p-footer"],j3=(i,s,o,e,r)=>({"p-calendar":!0,"p-input-icon-right":i,"p-calendar-w-btn":s,"p-calendar-timeonly":o,"p-calendar-disabled":e,"p-focus":r}),W3=i=>({clickCallBack:i}),X3=i=>({"p-datepicker-icon":i}),$3=(i,s,o,e,r,u)=>({"p-datepicker p-component":!0,"p-datepicker-inline":i,"p-disabled":s,"p-datepicker-timeonly":o,"p-datepicker-multiple-month":e,"p-datepicker-monthpicker":r,"p-datepicker-touch-ui":u}),U_=(i,s)=>({showTransitionParams:i,hideTransitionParams:s}),Q3=i=>({value:"visibleTouchUI",params:i}),J3=i=>({value:"visible",params:i}),Md=i=>({$implicit:i}),eM=(i,s)=>({"p-datepicker-other-month":i,"p-datepicker-today":s}),tM=(i,s)=>({"p-highlight p-datepicker-current-day":i,"p-disabled":s}),Z_=(i,s)=>({"p-highlight":i,"p-disabled":s}),K_=i=>[i];function iM(i,s){if(i&1){let o=We();H(0,"TimesIcon",11),Oe("click",function(){te(o);let r=T(3);return ie(r.clear())}),U()}i&2&&I("styleClass","p-calendar-clear-icon")}function nM(i,s){}function rM(i,s){i&1&&K(0,nM,0,0,"ng-template")}function oM(i,s){if(i&1){let o=We();H(0,"span",12),Oe("click",function(){te(o);let r=T(3);return ie(r.clear())}),K(1,rM,1,0,null,13),U()}if(i&2){let o=T(3);S(),I("ngTemplateOutlet",o.clearIconTemplate)}}function sM(i,s){if(i&1&&(Fe(0),K(1,iM,1,1,"TimesIcon",9)(2,oM,2,1,"span",10),Ne()),i&2){let o=T(2);S(),I("ngIf",!o.clearIconTemplate),S(),I("ngIf",o.clearIconTemplate)}}function aM(i,s){if(i&1&&ye(0,"span",16),i&2){let o=T(3);I("ngClass",o.icon)}}function lM(i,s){i&1&&ye(0,"CalendarIcon")}function uM(i,s){}function cM(i,s){i&1&&K(0,uM,0,0,"ng-template")}function pM(i,s){if(i&1&&(Fe(0),K(1,lM,1,0,"CalendarIcon",7)(2,cM,1,0,null,13),Ne()),i&2){let o=T(3);S(),I("ngIf",!o.triggerIconTemplate),S(),I("ngTemplateOutlet",o.triggerIconTemplate)}}function hM(i,s){if(i&1){let o=We();H(0,"button",14),Oe("click",function(r){te(o),T();let u=Zi(1),h=T();return ie(h.onButtonClick(r,u))}),K(1,aM,1,1,"span",15)(2,pM,3,2,"ng-container",7),U()}if(i&2){let o,e=T(2);I("disabled",e.disabled),ne("aria-label",e.iconButtonAriaLabel)("aria-expanded",(o=e.overlayVisible)!==null&&o!==void 0?o:!1)("aria-controls",e.overlayVisible?e.panelId:null),S(),I("ngIf",e.icon),S(),I("ngIf",!e.icon)}}function dM(i,s){if(i&1){let o=We();H(0,"CalendarIcon",19),Oe("click",function(r){te(o);let u=T(3);return ie(u.onButtonClick(r))}),U()}if(i&2){let o=T(3);I("ngClass",nt(1,X3,o.showOnFocus))}}function fM(i,s){i&1&&it(0)}function mM(i,s){if(i&1&&(Fe(0),K(1,dM,1,3,"CalendarIcon",17)(2,fM,1,0,"ng-container",18),Ne()),i&2){let o=T(2);S(),I("ngIf",!o.inputIconTemplate),S(),I("ngTemplateOutlet",o.inputIconTemplate)("ngTemplateOutletContext",nt(3,W3,o.onButtonClick.bind(o)))}}function gM(i,s){if(i&1){let o=We();H(0,"input",6,1),Oe("focus",function(r){te(o);let u=T();return ie(u.onInputFocus(r))})("keydown",function(r){te(o);let u=T();return ie(u.onInputKeydown(r))})("click",function(){te(o);let r=T();return ie(r.onInputClick())})("blur",function(r){te(o);let u=T();return ie(u.onInputBlur(r))})("input",function(r){te(o);let u=T();return ie(u.onUserInput(r))}),U(),K(2,sM,3,2,"ng-container",7)(3,hM,3,6,"button",8)(4,mM,3,5,"ng-container",7)}if(i&2){let o,e=T();Re(e.inputStyleClass),I("value",e.inputFieldValue)("readonly",e.readonlyInput)("ngStyle",e.inputStyle)("placeholder",e.placeholder||"")("disabled",e.disabled)("ngClass",e.inputClass)("autofocus",e.autofocus),ne("id",e.inputId)("name",e.name)("required",e.required)("aria-required",e.required)("aria-expanded",(o=e.overlayVisible)!==null&&o!==void 0?o:!1)("aria-controls",e.overlayVisible?e.panelId:null)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("tabindex",e.tabindex)("inputmode",e.touchUI?"off":null),S(2),I("ngIf",e.showClear&&!e.disabled&&e.value!=null),S(),I("ngIf",e.showIcon&&e.iconDisplay==="button"),S(),I("ngIf",e.iconDisplay==="input"&&e.showIcon)}}function _M(i,s){i&1&&it(0)}function yM(i,s){i&1&&ye(0,"ChevronLeftIcon",40),i&2&&I("styleClass","p-datepicker-prev-icon")}function vM(i,s){}function xM(i,s){i&1&&K(0,vM,0,0,"ng-template")}function bM(i,s){if(i&1&&(H(0,"span",41),K(1,xM,1,0,null,13),U()),i&2){let o=T(5);S(),I("ngTemplateOutlet",o.previousIconTemplate)}}function wM(i,s){if(i&1){let o=We();H(0,"button",38),Oe("keydown",function(r){te(o);let u=T(4);return ie(u.onContainerButtonKeydown(r))})("click",function(r){te(o);let u=T(4);return ie(u.onPrevButtonClick(r))}),K(1,yM,1,1,"ChevronLeftIcon",35)(2,bM,2,1,"span",39),U()}if(i&2){let o=T(4);ne("aria-label",o.prevIconAriaLabel),S(),I("ngIf",!o.previousIconTemplate),S(),I("ngIf",o.previousIconTemplate)}}function CM(i,s){if(i&1){let o=We();H(0,"button",42),Oe("click",function(r){te(o);let u=T(4);return ie(u.switchToMonthView(r))})("keydown",function(r){te(o);let u=T(4);return ie(u.onContainerButtonKeydown(r))}),Xe(1),U()}if(i&2){let o=T().$implicit,e=T(3);I("disabled",e.switchViewButtonDisabled()),ne("aria-label",e.getTranslation("chooseMonth")),S(),Wi(" ",e.getMonthName(o.month)," ")}}function IM(i,s){if(i&1){let o=We();H(0,"button",43),Oe("click",function(r){te(o);let u=T(4);return ie(u.switchToYearView(r))})("keydown",function(r){te(o);let u=T(4);return ie(u.onContainerButtonKeydown(r))}),Xe(1),U()}if(i&2){let o=T().$implicit,e=T(3);I("disabled",e.switchViewButtonDisabled()),ne("aria-label",e.getTranslation("chooseYear")),S(),Wi(" ",e.getYear(o)," ")}}function SM(i,s){if(i&1&&(Fe(0),Xe(1),Ne()),i&2){let o=T(5);S(),Ld("",o.yearPickerValues()[0]," - ",o.yearPickerValues()[o.yearPickerValues().length-1],"")}}function TM(i,s){i&1&&it(0)}function EM(i,s){if(i&1&&(H(0,"span",44),K(1,SM,2,2,"ng-container",7)(2,TM,1,0,"ng-container",18),U()),i&2){let o=T(4);S(),I("ngIf",!o.decadeTemplate),S(),I("ngTemplateOutlet",o.decadeTemplate)("ngTemplateOutletContext",nt(3,Md,o.yearPickerValues))}}function MM(i,s){i&1&&ye(0,"ChevronRightIcon",40),i&2&&I("styleClass","p-datepicker-next-icon")}function OM(i,s){}function LM(i,s){i&1&&K(0,OM,0,0,"ng-template")}function PM(i,s){if(i&1&&(H(0,"span",45),K(1,LM,1,0,null,13),U()),i&2){let o=T(4);S(),I("ngTemplateOutlet",o.nextIconTemplate)}}function kM(i,s){if(i&1&&(H(0,"th",51)(1,"span"),Xe(2),U()()),i&2){let o=T(5);S(2),It(o.getTranslation("weekHeader"))}}function DM(i,s){if(i&1&&(H(0,"th",52)(1,"span"),Xe(2),U()()),i&2){let o=s.$implicit;S(2),It(o)}}function RM(i,s){if(i&1&&(H(0,"td",55)(1,"span",56),Xe(2),U()()),i&2){let o=T().index,e=T(2).$implicit;S(2),Wi(" ",e.weekNumbers[o]," ")}}function FM(i,s){if(i&1&&(Fe(0),Xe(1),Ne()),i&2){let o=T(2).$implicit;S(),It(o.day)}}function NM(i,s){i&1&&it(0)}function AM(i,s){if(i&1&&(Fe(0),K(1,NM,1,0,"ng-container",18),Ne()),i&2){let o=T(2).$implicit,e=T(6);S(),I("ngTemplateOutlet",e.dateTemplate)("ngTemplateOutletContext",nt(2,Md,o))}}function VM(i,s){i&1&&it(0)}function BM(i,s){if(i&1&&(Fe(0),K(1,VM,1,0,"ng-container",18),Ne()),i&2){let o=T(2).$implicit,e=T(6);S(),I("ngTemplateOutlet",e.disabledDateTemplate)("ngTemplateOutletContext",nt(2,Md,o))}}function zM(i,s){if(i&1&&(H(0,"div",59),Xe(1),U()),i&2){let o=T(2).$implicit;S(),Wi(" ",o.day," ")}}function HM(i,s){if(i&1){let o=We();Fe(0),H(1,"span",57),Oe("click",function(r){te(o);let u=T().$implicit,h=T(6);return ie(h.onDateSelect(r,u))})("keydown",function(r){te(o);let u=T().$implicit,h=T(3).index,g=T(3);return ie(g.onDateCellKeydown(r,u,h))}),K(2,FM,2,1,"ng-container",7)(3,AM,2,4,"ng-container",7)(4,BM,2,4,"ng-container",7),U(),K(5,zM,2,1,"div",58),Ne()}if(i&2){let o=T().$implicit,e=T(6);S(),I("ngClass",Hi(6,tM,e.isSelected(o)&&o.selectable,!o.selectable)),ne("data-date",e.formatDateKey(e.formatDateMetaToDate(o))),S(),I("ngIf",!e.dateTemplate&&(o.selectable||!e.disabledDateTemplate)),S(),I("ngIf",o.selectable||!e.disabledDateTemplate),S(),I("ngIf",!o.selectable),S(),I("ngIf",e.isSelected(o))}}function qM(i,s){if(i&1&&(H(0,"td",16),K(1,HM,6,9,"ng-container",7),U()),i&2){let o=s.$implicit,e=T(6);I("ngClass",Hi(3,eM,o.otherMonth,o.today)),ne("aria-label",o.day),S(),I("ngIf",o.otherMonth?e.showOtherMonths:!0)}}function GM(i,s){if(i&1&&(H(0,"tr"),K(1,RM,3,1,"td",53)(2,qM,2,6,"td",54),U()),i&2){let o=s.$implicit,e=T(5);S(),I("ngIf",e.showWeek),S(),I("ngForOf",o)}}function UM(i,s){if(i&1&&(H(0,"div",46)(1,"table",47)(2,"thead")(3,"tr"),K(4,kM,3,1,"th",48)(5,DM,3,1,"th",49),U()(),H(6,"tbody"),K(7,GM,3,2,"tr",50),U()()()),i&2){let o=T().$implicit,e=T(3);S(4),I("ngIf",e.showWeek),S(),I("ngForOf",e.weekDays),S(2),I("ngForOf",o.dates)}}function KM(i,s){if(i&1){let o=We();H(0,"div",27)(1,"div",28),K(2,wM,3,3,"button",29),H(3,"div",30),K(4,CM,2,3,"button",31)(5,IM,2,3,"button",32)(6,EM,3,5,"span",33),U(),H(7,"button",34),Oe("keydown",function(r){te(o);let u=T(3);return ie(u.onContainerButtonKeydown(r))})("click",function(r){te(o);let u=T(3);return ie(u.onNextButtonClick(r))}),K(8,MM,1,1,"ChevronRightIcon",35)(9,PM,2,1,"span",36),U()(),K(10,UM,8,3,"div",37),U()}if(i&2){let o=s.index,e=T(3);S(2),I("ngIf",o===0),S(2),I("ngIf",e.currentView==="date"),S(),I("ngIf",e.currentView!=="year"),S(),I("ngIf",e.currentView==="year"),S(),Cp("display",e.numberOfMonths===1||o===e.numberOfMonths-1?"inline-flex":"none"),ne("aria-label",e.nextIconAriaLabel),S(),I("ngIf",!e.nextIconTemplate),S(),I("ngIf",e.nextIconTemplate),S(),I("ngIf",e.currentView==="date")}}function ZM(i,s){if(i&1&&(H(0,"div",59),Xe(1),U()),i&2){let o=T().$implicit;S(),Wi(" ",o," ")}}function YM(i,s){if(i&1){let o=We();H(0,"span",62),Oe("click",function(r){let u=te(o).index,h=T(4);return ie(h.onMonthSelect(r,u))})("keydown",function(r){let u=te(o).index,h=T(4);return ie(h.onMonthCellKeydown(r,u))}),Xe(1),K(2,ZM,2,1,"div",58),U()}if(i&2){let o=s.$implicit,e=s.index,r=T(4);I("ngClass",Hi(3,Z_,r.isMonthSelected(e),r.isMonthDisabled(e))),S(),Wi(" ",o," "),S(),I("ngIf",r.isMonthSelected(e))}}function jM(i,s){if(i&1&&(H(0,"div",60),K(1,YM,3,6,"span",61),U()),i&2){let o=T(3);S(),I("ngForOf",o.monthPickerValues())}}function WM(i,s){if(i&1&&(H(0,"div",59),Xe(1),U()),i&2){let o=T().$implicit;S(),Wi(" ",o," ")}}function XM(i,s){if(i&1){let o=We();H(0,"span",65),Oe("click",function(r){let u=te(o).$implicit,h=T(4);return ie(h.onYearSelect(r,u))})("keydown",function(r){let u=te(o).$implicit,h=T(4);return ie(h.onYearCellKeydown(r,u))}),Xe(1),K(2,WM,2,1,"div",58),U()}if(i&2){let o=s.$implicit,e=T(4);I("ngClass",Hi(3,Z_,e.isYearSelected(o),e.isYearDisabled(o))),S(),Wi(" ",o," "),S(),I("ngIf",e.isYearSelected(o))}}function $M(i,s){if(i&1&&(H(0,"div",63),K(1,XM,3,6,"span",64),U()),i&2){let o=T(3);S(),I("ngForOf",o.yearPickerValues())}}function QM(i,s){if(i&1&&(Fe(0),H(1,"div",23),K(2,KM,11,10,"div",24),U(),K(3,jM,2,1,"div",25)(4,$M,2,1,"div",26),Ne()),i&2){let o=T(2);S(2),I("ngForOf",o.months),S(),I("ngIf",o.currentView==="month"),S(),I("ngIf",o.currentView==="year")}}function JM(i,s){i&1&&ye(0,"ChevronUpIcon")}function eO(i,s){}function tO(i,s){i&1&&K(0,eO,0,0,"ng-template")}function iO(i,s){i&1&&(Fe(0),Xe(1,"0"),Ne())}function nO(i,s){i&1&&ye(0,"ChevronDownIcon")}function rO(i,s){}function oO(i,s){i&1&&K(0,rO,0,0,"ng-template")}function sO(i,s){i&1&&ye(0,"ChevronUpIcon")}function aO(i,s){}function lO(i,s){i&1&&K(0,aO,0,0,"ng-template")}function uO(i,s){i&1&&(Fe(0),Xe(1,"0"),Ne())}function cO(i,s){i&1&&ye(0,"ChevronDownIcon")}function pO(i,s){}function hO(i,s){i&1&&K(0,pO,0,0,"ng-template")}function dO(i,s){if(i&1&&(H(0,"div",69)(1,"span"),Xe(2),U()()),i&2){let o=T(3);S(2),It(o.timeSeparator)}}function fO(i,s){i&1&&ye(0,"ChevronUpIcon")}function mO(i,s){}function gO(i,s){i&1&&K(0,mO,0,0,"ng-template")}function _O(i,s){i&1&&(Fe(0),Xe(1,"0"),Ne())}function yO(i,s){i&1&&ye(0,"ChevronDownIcon")}function vO(i,s){}function xO(i,s){i&1&&K(0,vO,0,0,"ng-template")}function bO(i,s){if(i&1){let o=We();H(0,"div",74)(1,"button",68),Oe("keydown",function(r){te(o);let u=T(3);return ie(u.onContainerButtonKeydown(r))})("keydown.enter",function(r){te(o);let u=T(3);return ie(u.incrementSecond(r))})("keydown.space",function(r){te(o);let u=T(3);return ie(u.incrementSecond(r))})("mousedown",function(r){te(o);let u=T(3);return ie(u.onTimePickerElementMouseDown(r,2,1))})("mouseup",function(r){te(o);let u=T(3);return ie(u.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){te(o);let u=T(3);return ie(u.onTimePickerElementMouseUp(r))})("keyup.space",function(r){te(o);let u=T(3);return ie(u.onTimePickerElementMouseUp(r))})("mouseleave",function(){te(o);let r=T(3);return ie(r.onTimePickerElementMouseLeave())}),K(2,fO,1,0,"ChevronUpIcon",7)(3,gO,1,0,null,13),U(),H(4,"span"),K(5,_O,2,0,"ng-container",7),Xe(6),U(),H(7,"button",68),Oe("keydown",function(r){te(o);let u=T(3);return ie(u.onContainerButtonKeydown(r))})("keydown.enter",function(r){te(o);let u=T(3);return ie(u.decrementSecond(r))})("keydown.space",function(r){te(o);let u=T(3);return ie(u.decrementSecond(r))})("mousedown",function(r){te(o);let u=T(3);return ie(u.onTimePickerElementMouseDown(r,2,-1))})("mouseup",function(r){te(o);let u=T(3);return ie(u.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){te(o);let u=T(3);return ie(u.onTimePickerElementMouseUp(r))})("keyup.space",function(r){te(o);let u=T(3);return ie(u.onTimePickerElementMouseUp(r))})("mouseleave",function(){te(o);let r=T(3);return ie(r.onTimePickerElementMouseLeave())}),K(8,yO,1,0,"ChevronDownIcon",7)(9,xO,1,0,null,13),U()()}if(i&2){let o=T(3);S(),ne("aria-label",o.getTranslation("nextSecond")),S(),I("ngIf",!o.incrementIconTemplate),S(),I("ngTemplateOutlet",o.incrementIconTemplate),S(2),I("ngIf",o.currentSecond<10),S(),It(o.currentSecond),S(),ne("aria-label",o.getTranslation("prevSecond")),S(),I("ngIf",!o.decrementIconTemplate),S(),I("ngTemplateOutlet",o.decrementIconTemplate)}}function wO(i,s){i&1&&ye(0,"ChevronUpIcon")}function CO(i,s){}function IO(i,s){i&1&&K(0,CO,0,0,"ng-template")}function SO(i,s){i&1&&ye(0,"ChevronDownIcon")}function TO(i,s){}function EO(i,s){i&1&&K(0,TO,0,0,"ng-template")}function MO(i,s){if(i&1){let o=We();H(0,"div",75)(1,"button",76),Oe("keydown",function(r){te(o);let u=T(3);return ie(u.onContainerButtonKeydown(r))})("click",function(r){te(o);let u=T(3);return ie(u.toggleAMPM(r))})("keydown.enter",function(r){te(o);let u=T(3);return ie(u.toggleAMPM(r))}),K(2,wO,1,0,"ChevronUpIcon",7)(3,IO,1,0,null,13),U(),H(4,"span"),Xe(5),U(),H(6,"button",76),Oe("keydown",function(r){te(o);let u=T(3);return ie(u.onContainerButtonKeydown(r))})("click",function(r){te(o);let u=T(3);return ie(u.toggleAMPM(r))})("keydown.enter",function(r){te(o);let u=T(3);return ie(u.toggleAMPM(r))}),K(7,SO,1,0,"ChevronDownIcon",7)(8,EO,1,0,null,13),U()()}if(i&2){let o=T(3);S(),ne("aria-label",o.getTranslation("am")),S(),I("ngIf",!o.incrementIconTemplate),S(),I("ngTemplateOutlet",o.incrementIconTemplate),S(2),It(o.pm?"PM":"AM"),S(),ne("aria-label",o.getTranslation("pm")),S(),I("ngIf",!o.decrementIconTemplate),S(),I("ngTemplateOutlet",o.decrementIconTemplate)}}function OO(i,s){if(i&1){let o=We();H(0,"div",66)(1,"div",67)(2,"button",68),Oe("keydown",function(r){te(o);let u=T(2);return ie(u.onContainerButtonKeydown(r))})("keydown.enter",function(r){te(o);let u=T(2);return ie(u.incrementHour(r))})("keydown.space",function(r){te(o);let u=T(2);return ie(u.incrementHour(r))})("mousedown",function(r){te(o);let u=T(2);return ie(u.onTimePickerElementMouseDown(r,0,1))})("mouseup",function(r){te(o);let u=T(2);return ie(u.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){te(o);let u=T(2);return ie(u.onTimePickerElementMouseUp(r))})("keyup.space",function(r){te(o);let u=T(2);return ie(u.onTimePickerElementMouseUp(r))})("mouseleave",function(){te(o);let r=T(2);return ie(r.onTimePickerElementMouseLeave())}),K(3,JM,1,0,"ChevronUpIcon",7)(4,tO,1,0,null,13),U(),H(5,"span"),K(6,iO,2,0,"ng-container",7),Xe(7),U(),H(8,"button",68),Oe("keydown",function(r){te(o);let u=T(2);return ie(u.onContainerButtonKeydown(r))})("keydown.enter",function(r){te(o);let u=T(2);return ie(u.decrementHour(r))})("keydown.space",function(r){te(o);let u=T(2);return ie(u.decrementHour(r))})("mousedown",function(r){te(o);let u=T(2);return ie(u.onTimePickerElementMouseDown(r,0,-1))})("mouseup",function(r){te(o);let u=T(2);return ie(u.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){te(o);let u=T(2);return ie(u.onTimePickerElementMouseUp(r))})("keyup.space",function(r){te(o);let u=T(2);return ie(u.onTimePickerElementMouseUp(r))})("mouseleave",function(){te(o);let r=T(2);return ie(r.onTimePickerElementMouseLeave())}),K(9,nO,1,0,"ChevronDownIcon",7)(10,oO,1,0,null,13),U()(),H(11,"div",69)(12,"span"),Xe(13),U()(),H(14,"div",70)(15,"button",68),Oe("keydown",function(r){te(o);let u=T(2);return ie(u.onContainerButtonKeydown(r))})("keydown.enter",function(r){te(o);let u=T(2);return ie(u.incrementMinute(r))})("keydown.space",function(r){te(o);let u=T(2);return ie(u.incrementMinute(r))})("mousedown",function(r){te(o);let u=T(2);return ie(u.onTimePickerElementMouseDown(r,1,1))})("mouseup",function(r){te(o);let u=T(2);return ie(u.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){te(o);let u=T(2);return ie(u.onTimePickerElementMouseUp(r))})("keyup.space",function(r){te(o);let u=T(2);return ie(u.onTimePickerElementMouseUp(r))})("mouseleave",function(){te(o);let r=T(2);return ie(r.onTimePickerElementMouseLeave())}),K(16,sO,1,0,"ChevronUpIcon",7)(17,lO,1,0,null,13),U(),H(18,"span"),K(19,uO,2,0,"ng-container",7),Xe(20),U(),H(21,"button",68),Oe("keydown",function(r){te(o);let u=T(2);return ie(u.onContainerButtonKeydown(r))})("keydown.enter",function(r){te(o);let u=T(2);return ie(u.decrementMinute(r))})("keydown.space",function(r){te(o);let u=T(2);return ie(u.decrementMinute(r))})("mousedown",function(r){te(o);let u=T(2);return ie(u.onTimePickerElementMouseDown(r,1,-1))})("mouseup",function(r){te(o);let u=T(2);return ie(u.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){te(o);let u=T(2);return ie(u.onTimePickerElementMouseUp(r))})("keyup.space",function(r){te(o);let u=T(2);return ie(u.onTimePickerElementMouseUp(r))})("mouseleave",function(){te(o);let r=T(2);return ie(r.onTimePickerElementMouseLeave())}),K(22,cO,1,0,"ChevronDownIcon",7)(23,hO,1,0,null,13),U()(),K(24,dO,3,1,"div",71)(25,bO,10,8,"div",72)(26,MO,9,7,"div",73),U()}if(i&2){let o=T(2);S(2),ne("aria-label",o.getTranslation("nextHour")),S(),I("ngIf",!o.incrementIconTemplate),S(),I("ngTemplateOutlet",o.incrementIconTemplate),S(2),I("ngIf",o.currentHour<10),S(),It(o.currentHour),S(),ne("aria-label",o.getTranslation("prevHour")),S(),I("ngIf",!o.decrementIconTemplate),S(),I("ngTemplateOutlet",o.decrementIconTemplate),S(3),It(o.timeSeparator),S(2),ne("aria-label",o.getTranslation("nextMinute")),S(),I("ngIf",!o.incrementIconTemplate),S(),I("ngTemplateOutlet",o.incrementIconTemplate),S(2),I("ngIf",o.currentMinute<10),S(),It(o.currentMinute),S(),ne("aria-label",o.getTranslation("prevMinute")),S(),I("ngIf",!o.decrementIconTemplate),S(),I("ngTemplateOutlet",o.decrementIconTemplate),S(),I("ngIf",o.showSeconds),S(),I("ngIf",o.showSeconds),S(),I("ngIf",o.hourFormat=="12")}}function LO(i,s){if(i&1){let o=We();H(0,"div",77)(1,"button",78),Oe("keydown",function(r){te(o);let u=T(2);return ie(u.onContainerButtonKeydown(r))})("click",function(r){te(o);let u=T(2);return ie(u.onTodayButtonClick(r))}),U(),H(2,"button",78),Oe("keydown",function(r){te(o);let u=T(2);return ie(u.onContainerButtonKeydown(r))})("click",function(r){te(o);let u=T(2);return ie(u.onClearButtonClick(r))}),U()()}if(i&2){let o=T(2);S(),I("label",o.getTranslation("today"))("ngClass",nt(4,K_,o.todayButtonStyleClass)),S(),I("label",o.getTranslation("clear"))("ngClass",nt(6,K_,o.clearButtonStyleClass))}}function PO(i,s){i&1&&it(0)}function kO(i,s){if(i&1){let o=We();H(0,"div",20,2),Oe("@overlayAnimation.start",function(r){te(o);let u=T();return ie(u.onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){te(o);let u=T();return ie(u.onOverlayAnimationDone(r))})("click",function(r){te(o);let u=T();return ie(u.onOverlayClick(r))}),Do(2),K(3,_M,1,0,"ng-container",13)(4,QM,5,3,"ng-container",7)(5,OO,27,20,"div",21)(6,LO,3,8,"div",22),Do(7,1),K(8,PO,1,0,"ng-container",13),U()}if(i&2){let o=T();Re(o.panelStyleClass),I("ngStyle",o.panelStyle)("ngClass",ac(15,$3,o.inline,o.disabled,o.timeOnly,o.numberOfMonths>1,o.view==="month",o.touchUI))("@overlayAnimation",o.touchUI?nt(25,Q3,Hi(22,U_,o.showTransitionOptions,o.hideTransitionOptions)):nt(30,J3,Hi(27,U_,o.showTransitionOptions,o.hideTransitionOptions)))("@.disabled",o.inline===!0),ne("id",o.panelId)("aria-label",o.getTranslation("chooseDate"))("role",o.inline?null:"dialog")("aria-modal",o.inline?null:"true"),S(3),I("ngTemplateOutlet",o.headerTemplate),S(),I("ngIf",!o.timeOnly),S(),I("ngIf",(o.showTime||o.timeOnly)&&o.currentView==="date"),S(),I("ngIf",o.showButtonBar),S(2),I("ngTemplateOutlet",o.footerTemplate)}}var DO={provide:Er,useExisting:Ir(()=>RO),multi:!0},RO=(()=>{let s=class s{constructor(e,r,u,h,g,y,w){f(this,"document");f(this,"el");f(this,"renderer");f(this,"cd");f(this,"zone");f(this,"config");f(this,"overlayService");f(this,"iconDisplay","button");f(this,"style");f(this,"styleClass");f(this,"inputStyle");f(this,"inputId");f(this,"name");f(this,"inputStyleClass");f(this,"placeholder");f(this,"ariaLabelledBy");f(this,"ariaLabel");f(this,"iconAriaLabel");f(this,"disabled");f(this,"dateFormat");f(this,"multipleSeparator",",");f(this,"rangeSeparator","-");f(this,"inline",!1);f(this,"showOtherMonths",!0);f(this,"selectOtherMonths");f(this,"showIcon");f(this,"icon");f(this,"appendTo");f(this,"readonlyInput");f(this,"shortYearCutoff","+10");f(this,"monthNavigator");f(this,"yearNavigator");f(this,"hourFormat","24");f(this,"timeOnly");f(this,"stepYearPicker",10);f(this,"stepHour",1);f(this,"stepMinute",1);f(this,"stepSecond",1);f(this,"showSeconds",!1);f(this,"required");f(this,"showOnFocus",!0);f(this,"showWeek",!1);f(this,"startWeekFromFirstDayOfYear",!1);f(this,"showClear",!1);f(this,"dataType","date");f(this,"selectionMode","single");f(this,"maxDateCount");f(this,"showButtonBar");f(this,"todayButtonStyleClass","p-button-text");f(this,"clearButtonStyleClass","p-button-text");f(this,"autofocus");f(this,"autoZIndex",!0);f(this,"baseZIndex",0);f(this,"panelStyleClass");f(this,"panelStyle");f(this,"keepInvalid",!1);f(this,"hideOnDateTimeSelect",!0);f(this,"touchUI");f(this,"timeSeparator",":");f(this,"focusTrap",!0);f(this,"showTransitionOptions",".12s cubic-bezier(0, 0, 0.2, 1)");f(this,"hideTransitionOptions",".1s linear");f(this,"tabindex");f(this,"variant","outlined");f(this,"onFocus",new qe);f(this,"onBlur",new qe);f(this,"onClose",new qe);f(this,"onSelect",new qe);f(this,"onClear",new qe);f(this,"onInput",new qe);f(this,"onTodayClick",new qe);f(this,"onClearClick",new qe);f(this,"onMonthChange",new qe);f(this,"onYearChange",new qe);f(this,"onClickOutside",new qe);f(this,"onShow",new qe);f(this,"templates");f(this,"containerViewChild");f(this,"inputfieldViewChild");f(this,"contentViewChild");f(this,"value");f(this,"dates");f(this,"months");f(this,"weekDays");f(this,"currentMonth");f(this,"currentYear");f(this,"currentHour");f(this,"currentMinute");f(this,"currentSecond");f(this,"pm");f(this,"mask");f(this,"maskClickListener");f(this,"overlay");f(this,"responsiveStyleElement");f(this,"overlayVisible");f(this,"onModelChange",()=>{});f(this,"onModelTouched",()=>{});f(this,"calendarElement");f(this,"timePickerTimer");f(this,"documentClickListener");f(this,"animationEndListener");f(this,"ticksTo1970");f(this,"yearOptions");f(this,"focus");f(this,"isKeydown");f(this,"filled");f(this,"inputFieldValue",null);f(this,"_minDate");f(this,"_maxDate");f(this,"_showTime");f(this,"_yearRange");f(this,"preventDocumentListener");f(this,"dateTemplate");f(this,"headerTemplate");f(this,"footerTemplate");f(this,"disabledDateTemplate");f(this,"decadeTemplate");f(this,"previousIconTemplate");f(this,"nextIconTemplate");f(this,"triggerIconTemplate");f(this,"clearIconTemplate");f(this,"decrementIconTemplate");f(this,"incrementIconTemplate");f(this,"inputIconTemplate");f(this,"_disabledDates");f(this,"_disabledDays");f(this,"selectElement");f(this,"todayElement");f(this,"focusElement");f(this,"scrollHandler");f(this,"documentResizeListener");f(this,"navigationState",null);f(this,"isMonthNavigate");f(this,"initialized");f(this,"translationSubscription");f(this,"_locale");f(this,"_responsiveOptions");f(this,"currentView");f(this,"attributeSelector");f(this,"panelId");f(this,"_numberOfMonths",1);f(this,"_firstDayOfWeek");f(this,"_view","date");f(this,"preventFocus");f(this,"_defaultDate");f(this,"_focusKey",null);f(this,"window");this.document=e,this.el=r,this.renderer=u,this.cd=h,this.zone=g,this.config=y,this.overlayService=w,this.window=this.document.defaultView}get minDate(){return this._minDate}set minDate(e){this._minDate=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){let r=e.split(":"),u=parseInt(r[0]),h=parseInt(r[1]);this.populateYearOptions(u,h)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,this.currentHour===void 0&&this.initTime(this.value||new Date),this.updateInputfield()}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(e){this._responsiveOptions=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(e){this._numberOfMonths=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){this._firstDayOfWeek=e,this.createWeekDays()}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}get view(){return this._view}set view(e){this._view=e,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){let r=e||new Date;this.currentMonth=r.getMonth(),this.currentYear=r.getFullYear(),this.initTime(r),this.createMonths(this.currentMonth,this.currentYear)}}get inputClass(){return{"p-inputtext p-component":!0,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"}}set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):!this.focus&&!this.inline&&this.initFocusableCell())}get locale(){return this._locale}get iconButtonAriaLabel(){return this.iconAriaLabel?this.iconAriaLabel:this.getTranslation("chooseDate")}get prevIconAriaLabel(){return this.currentView==="year"?this.getTranslation("prevDecade"):this.currentView==="month"?this.getTranslation("prevYear"):this.getTranslation("prevMonth")}get nextIconAriaLabel(){return this.currentView==="year"?this.getTranslation("nextDecade"):this.currentView==="month"?this.getTranslation("nextYear"):this.getTranslation("nextMonth")}ngOnInit(){this.attributeSelector=cn(),this.panelId=this.attributeSelector+"_panel";let e=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.yearOptions=[],this.currentView=this.view,this.view==="date"&&(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=(1969*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays(),this.cd.markForCheck()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":this.dateTemplate=e.template;break;case"decade":this.decadeTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"inputicon":this.inputIconTemplate=e.template;break;case"previousicon":this.previousIconTemplate=e.template;break;case"nexticon":this.nextIconTemplate=e.template;break;case"triggericon":this.triggerIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"decrementicon":this.decrementIconTemplate=e.template;break;case"incrementicon":this.incrementIconTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.dateTemplate=e.template;break}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),!this.disabled&&!this.inline&&(this.initFocusableCell(),this.numberOfMonths===1&&this.contentViewChild&&this.contentViewChild.nativeElement&&(this.contentViewChild.nativeElement.style.width=ge.getOuterWidth(this.containerViewChild?.nativeElement)+"px")))}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,r){this.yearOptions=[];for(let u=e;u<=r;u++)this.yearOptions.push(u)}createWeekDays(){this.weekDays=[];let e=this.getFirstDateOfWeek(),r=this.getTranslation(Wn.DAY_NAMES_MIN);for(let u=0;u<7;u++)this.weekDays.push(r[e]),e=e==6?0:++e}monthPickerValues(){let e=[];for(let r=0;r<=11;r++)e.push(this.config.getTranslation("monthNamesShort")[r]);return e}yearPickerValues(){let e=[],r=this.currentYear-this.currentYear%this.stepYearPicker;for(let u=0;u<this.stepYearPicker;u++)e.push(r+u);return e}createMonths(e,r){this.months=this.months=[];for(let u=0;u<this.numberOfMonths;u++){let h=e+u,g=r;h>11&&(h=h%11-1,g=r+1),this.months.push(this.createMonth(h,g))}}getWeekNumber(e){let r=new Date(e.getTime());if(this.startWeekFromFirstDayOfYear){let h=+this.getFirstDateOfWeek();r.setDate(r.getDate()+6+h-r.getDay())}else r.setDate(r.getDate()+4-(r.getDay()||7));let u=r.getTime();return r.setMonth(0),r.setDate(1),Math.floor(Math.round((u-r.getTime())/864e5)/7)+1}createMonth(e,r){let u=[],h=this.getFirstDayOfMonthIndex(e,r),g=this.getDaysCountInMonth(e,r),y=this.getDaysCountInPrevMonth(e,r),w=1,D=new Date,N=[],A=Math.ceil((g+h)/7);for(let Y=0;Y<A;Y++){let X=[];if(Y==0){for(let E=y-h+1;E<=y;E++){let O=this.getPreviousMonthAndYear(e,r);X.push({day:E,month:O.month,year:O.year,otherMonth:!0,today:this.isToday(D,E,O.month,O.year),selectable:this.isSelectable(E,O.month,O.year,!0)})}let j=7-X.length;for(let E=0;E<j;E++)X.push({day:w,month:e,year:r,today:this.isToday(D,w,e,r),selectable:this.isSelectable(w,e,r,!1)}),w++}else for(let j=0;j<7;j++){if(w>g){let E=this.getNextMonthAndYear(e,r);X.push({day:w-g,month:E.month,year:E.year,otherMonth:!0,today:this.isToday(D,w-g,E.month,E.year),selectable:this.isSelectable(w-g,E.month,E.year,!0)})}else X.push({day:w,month:e,year:r,today:this.isToday(D,w,e,r),selectable:this.isSelectable(w,e,r,!1)});w++}this.showWeek&&N.push(this.getWeekNumber(new Date(X[0].year,X[0].month,X[0].day))),u.push(X)}return{month:e,year:r,dates:u,weekNumbers:N}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){if(this.disabled){e.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.decrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===0?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}navForward(e){if(this.disabled){e.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.incrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===11?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}decrementYear(){this.currentYear--;let e=this.yearOptions;if(this.yearNavigator&&this.currentYear<e[0]){let r=e[e.length-1]-e[0];this.populateYearOptions(e[0]-r,e[e.length-1]-r)}}decrementYearPickerStep(){this.currentYear=this.currentYear-this.stepYearPicker}incrementYearPickerStep(){this.currentYear=this.currentYear+this.stepYearPicker}incrementYear(){this.currentYear++;let e=this.yearOptions;if(this.yearNavigator&&this.currentYear>e[e.length-1]){let r=e[e.length-1]-e[0];this.populateYearOptions(e[0]+r,e[e.length-1]+r)}}switchToMonthView(e){this.setCurrentView("month"),e.preventDefault()}switchToYearView(e){this.setCurrentView("year"),e.preventDefault()}onDateSelect(e,r){if(this.disabled||!r.selectable){e.preventDefault();return}this.isMultipleSelection()&&this.isSelected(r)?(this.value=this.value.filter((u,h)=>!this.isDateEquals(u,r)),this.value.length===0&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(r)&&this.selectDate(r),this.hideOnDateTimeSelect&&(this.isSingleSelection()||this.isRangeSelection()&&this.value[1])&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()}shouldSelectDate(e){return this.isMultipleSelection()&&this.maxDateCount!=null?this.maxDateCount>(this.value?this.value.length:0):!0}onMonthSelect(e,r){this.view==="month"?this.onDateSelect(e,{year:this.currentYear,month:r,day:1,selectable:!0}):(this.currentMonth=r,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(e,r){this.view==="year"?this.onDateSelect(e,{year:r,month:0,day:1,selectable:!0}):(this.currentYear=r,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let e="";if(this.value){if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let r=0;r<this.value.length;r++){let u=this.formatDateTime(this.value[r]);e+=u,r!==this.value.length-1&&(e+=this.multipleSeparator+" ")}else if(this.isRangeSelection()&&this.value&&this.value.length){let r=this.value[0],u=this.value[1];e=this.formatDateTime(r),u&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(u))}}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let r=this.keepInvalid?e:null,u=this.isValidDateForTimeConstraints(e);return this.isValidDate(e)?this.timeOnly?r=this.formatTime(e):(r=this.formatDate(e,this.getDateFormat()),this.showTime&&(r+=" "+this.formatTime(e))):this.dataType==="string"&&(r=e),r=u?r:"",r}formatDateMetaToDate(e){return new Date(e.year,e.month,e.day)}formatDateKey(e){return`${e.getFullYear()}-${e.getMonth()}-${e.getDate()}`}setCurrentHourPM(e){this.hourFormat=="12"?(this.pm=e>11,e>=12?this.currentHour=e==12?12:e-12:this.currentHour=e==0?12:e):this.currentHour=e}setCurrentView(e){this.currentView=e,this.cd.detectChanges(),this.alignOverlay()}selectDate(e){let r=this.formatDateMetaToDate(e);if(this.showTime&&(this.hourFormat=="12"?this.currentHour===12?r.setHours(this.pm?12:0):r.setHours(this.pm?this.currentHour+12:this.currentHour):r.setHours(this.currentHour),r.setMinutes(this.currentMinute),r.setSeconds(this.currentSecond)),this.minDate&&this.minDate>r&&(r=this.minDate,this.setCurrentHourPM(r.getHours()),this.currentMinute=r.getMinutes(),this.currentSecond=r.getSeconds()),this.maxDate&&this.maxDate<r&&(r=this.maxDate,this.setCurrentHourPM(r.getHours()),this.currentMinute=r.getMinutes(),this.currentSecond=r.getSeconds()),this.isSingleSelection())this.updateModel(r);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,r]:[r]);else if(this.isRangeSelection())if(this.value&&this.value.length){let u=this.value[0],h=this.value[1];!h&&r.getTime()>=u.getTime()?h=r:(u=r,h=null),this.updateModel([u,h])}else this.updateModel([r,null]);this.onSelect.emit(r)}updateModel(e){if(this.value=e,this.dataType=="date")this.onModelChange(this.value);else if(this.dataType=="string")if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let r=null;Array.isArray(this.value)&&(r=this.value.map(u=>this.formatDateTime(u))),this.onModelChange(r)}}getFirstDayOfMonthIndex(e,r){let u=new Date;u.setDate(1),u.setMonth(e),u.setFullYear(r);let h=u.getDay()+this.getSundayIndex();return h>=7?h-7:h}getDaysCountInMonth(e,r){return 32-this.daylightSavingAdjust(new Date(r,e,32)).getDate()}getDaysCountInPrevMonth(e,r){let u=this.getPreviousMonthAndYear(e,r);return this.getDaysCountInMonth(u.month,u.year)}getPreviousMonthAndYear(e,r){let u,h;return e===0?(u=11,h=r-1):(u=e-1,h=r),{month:u,year:h}}getNextMonthAndYear(e,r){let u,h;return e===11?(u=0,h=r+1):(u=e+1,h=r),{month:u,year:h}}getSundayIndex(){let e=this.getFirstDateOfWeek();return e>0?7-e:0}isSelected(e){if(this.value){if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let r=!1;for(let u of this.value)if(r=this.isDateEquals(u,e),r)break;return r}else if(this.isRangeSelection())return this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e)}else return!1}isComparable(){return this.value!=null&&typeof this.value!="string"}isMonthSelected(e){if(this.isComparable()&&!this.isMultipleSelection()){let[r,u]=this.isRangeSelection()?this.value:[this.value,this.value],h=new Date(this.currentYear,e,1);return h>=r&&h<=(u??r)}return!1}isMonthDisabled(e,r){let u=r??this.currentYear;for(let h=1;h<this.getDaysCountInMonth(e,u)+1;h++)if(this.isSelectable(h,e,u,!1))return!1;return!0}isYearDisabled(e){return Array(12).fill(0).every((r,u)=>this.isMonthDisabled(u,e))}isYearSelected(e){if(this.isComparable()){let r=this.isRangeSelection()?this.value[0]:this.value;return this.isMultipleSelection()?!1:r.getFullYear()===e}return!1}isDateEquals(e,r){return e&&Ve.isDate(e)?e.getDate()===r.day&&e.getMonth()===r.month&&e.getFullYear()===r.year:!1}isDateBetween(e,r,u){let h=!1;if(Ve.isDate(e)&&Ve.isDate(r)){let g=this.formatDateMetaToDate(u);return e.getTime()<=g.getTime()&&r.getTime()>=g.getTime()}return h}isSingleSelection(){return this.selectionMode==="single"}isRangeSelection(){return this.selectionMode==="range"}isMultipleSelection(){return this.selectionMode==="multiple"}isToday(e,r,u,h){return e.getDate()===r&&e.getMonth()===u&&e.getFullYear()===h}isSelectable(e,r,u,h){let g=!0,y=!0,w=!0,D=!0;return h&&!this.selectOtherMonths?!1:(this.minDate&&(this.minDate.getFullYear()>u||this.minDate.getFullYear()===u&&this.currentView!="year"&&(this.minDate.getMonth()>r||this.minDate.getMonth()===r&&this.minDate.getDate()>e))&&(g=!1),this.maxDate&&(this.maxDate.getFullYear()<u||this.maxDate.getFullYear()===u&&(this.maxDate.getMonth()<r||this.maxDate.getMonth()===r&&this.maxDate.getDate()<e))&&(y=!1),this.disabledDates&&(w=!this.isDateDisabled(e,r,u)),this.disabledDays&&(D=!this.isDayDisabled(e,r,u)),g&&y&&w&&D)}isDateDisabled(e,r,u){if(this.disabledDates){for(let h of this.disabledDates)if(h.getFullYear()===u&&h.getMonth()===r&&h.getDate()===e)return!0}return!1}isDayDisabled(e,r,u){if(this.disabledDays){let g=new Date(u,r,e).getDay();return this.disabledDays.indexOf(g)!==-1}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,r=this.inputfieldViewChild?.nativeElement){this.overlayVisible?this.hideOverlay():(r.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}getMonthName(e){return this.config.getTranslation("monthNames")[e]}getYear(e){return this.currentView==="month"?this.currentYear:e.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:if(this.inline||this.trapFocus(e),this.inline){let r=ge.findSingle(this.containerViewChild?.nativeElement,".p-datepicker-header"),u=e.target;if(this.timeOnly)return;u==r.children[r?.children?.length-1]&&this.initFocusableCell()}break;case 27:this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break;default:break}}onInputKeydown(e){this.isKeydown=!0,e.keyCode===40&&this.contentViewChild?this.trapFocus(e):e.keyCode===27?this.overlayVisible&&(this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault()):e.keyCode===13?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):e.keyCode===9&&this.contentViewChild&&(ge.getFocusableElements(this.contentViewChild.nativeElement).forEach(r=>r.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,r,u){let h=e.currentTarget,g=h.parentElement,y=this.formatDateMetaToDate(r);switch(e.which){case 40:{h.tabIndex="-1";let j=ge.index(g),E=g.parentElement.nextElementSibling;if(E){let O=E.children[j].children[0];ge.hasClass(O,"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(E.children[j].children[0].tabIndex="0",E.children[j].children[0].focus())}else this.navigationState={backward:!1},this.navForward(e);e.preventDefault();break}case 38:{h.tabIndex="-1";let j=ge.index(g),E=g.parentElement.previousElementSibling;if(E){let O=E.children[j].children[0];ge.hasClass(O,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(O.tabIndex="0",O.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{h.tabIndex="-1";let j=g.previousElementSibling;if(j){let E=j.children[0];ge.hasClass(E,"p-disabled")||ge.hasClass(E.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,u):(E.tabIndex="0",E.focus())}else this.navigateToMonth(!0,u);e.preventDefault();break}case 39:{h.tabIndex="-1";let j=g.nextElementSibling;if(j){let E=j.children[0];ge.hasClass(E,"p-disabled")?this.navigateToMonth(!1,u):(E.tabIndex="0",E.focus())}else this.navigateToMonth(!1,u);e.preventDefault();break}case 13:case 32:{this.onDateSelect(e,r),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.inline||this.trapFocus(e);break}case 33:{h.tabIndex="-1";let j=new Date(y.getFullYear(),y.getMonth()-1,y.getDate()),E=this.formatDateKey(j);this.navigateToMonth(!0,u,`span[data-date='${E}']:not(.p-disabled):not(.p-ink)`),e.preventDefault();break}case 34:{h.tabIndex="-1";let j=new Date(y.getFullYear(),y.getMonth()+1,y.getDate()),E=this.formatDateKey(j);this.navigateToMonth(!1,u,`span[data-date='${E}']:not(.p-disabled):not(.p-ink)`),e.preventDefault();break}case 36:h.tabIndex="-1";let w=new Date(y.getFullYear(),y.getMonth(),1),D=this.formatDateKey(w),N=ge.findSingle(h.offsetParent,`span[data-date='${D}']:not(.p-disabled):not(.p-ink)`);N&&(N.tabIndex="0",N.focus()),e.preventDefault();break;case 35:h.tabIndex="-1";let A=new Date(y.getFullYear(),y.getMonth()+1,0),Y=this.formatDateKey(A),X=ge.findSingle(h.offsetParent,`span[data-date='${Y}']:not(.p-disabled):not(.p-ink)`);A&&(X.tabIndex="0",X.focus()),e.preventDefault();break;default:break}}onMonthCellKeydown(e,r){let u=e.currentTarget;switch(e.which){case 38:case 40:{u.tabIndex="-1";var h=u.parentElement.children,g=ge.index(u);let y=h[e.which===40?g+3:g-3];y&&(y.tabIndex="0",y.focus()),e.preventDefault();break}case 37:{u.tabIndex="-1";let y=u.previousElementSibling;y?(y.tabIndex="0",y.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{u.tabIndex="-1";let y=u.nextElementSibling;y?(y.tabIndex="0",y.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:{this.onMonthSelect(e,r),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.inline||this.trapFocus(e);break}default:break}}onYearCellKeydown(e,r){let u=e.currentTarget;switch(e.which){case 38:case 40:{u.tabIndex="-1";var h=u.parentElement.children,g=ge.index(u);let y=h[e.which===40?g+2:g-2];y&&(y.tabIndex="0",y.focus()),e.preventDefault();break}case 37:{u.tabIndex="-1";let y=u.previousElementSibling;y?(y.tabIndex="0",y.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{u.tabIndex="-1";let y=u.nextElementSibling;y?(y.tabIndex="0",y.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:{this.onYearSelect(e,r),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.trapFocus(e);break}default:break}}navigateToMonth(e,r,u){if(e)if(this.numberOfMonths===1||r===0)this.navigationState={backward:!0},this._focusKey=u,this.navBackward(event);else{let h=this.contentViewChild.nativeElement.children[r-1];if(u){let g=ge.findSingle(h,u);g.tabIndex="0",g.focus()}else{let g=ge.find(h,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),y=g[g.length-1];y.tabIndex="0",y.focus()}}else if(this.numberOfMonths===1||r===this.numberOfMonths-1)this.navigationState={backward:!1},this._focusKey=u,this.navForward(event);else{let h=this.contentViewChild.nativeElement.children[r+1];if(u){let g=ge.findSingle(h,u);g.tabIndex="0",g.focus()}else{let g=ge.findSingle(h,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");g.tabIndex="0",g.focus()}}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?ge.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():ge.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let r;this.currentView==="month"?r=ge.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?r=ge.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):r=ge.find(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),r&&r.length>0&&(e=r[r.length-1])}else this.currentView==="month"?e=ge.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?e=ge.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):e=ge.findSingle(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null,this._focusKey=null}else this.initFocusableCell();this.alignOverlay()}initFocusableCell(){let e=this.contentViewChild?.nativeElement,r;if(this.currentView==="month"){let u=ge.find(e,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),h=ge.findSingle(e,".p-monthpicker .p-monthpicker-month.p-highlight");u.forEach(g=>g.tabIndex=-1),r=h||u[0],u.length===0&&ge.find(e,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(y=>y.tabIndex=-1)}else if(this.currentView==="year"){let u=ge.find(e,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),h=ge.findSingle(e,".p-yearpicker .p-yearpicker-year.p-highlight");u.forEach(g=>g.tabIndex=-1),r=h||u[0],u.length===0&&ge.find(e,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(y=>y.tabIndex=-1)}else if(r=ge.findSingle(e,"span.p-highlight"),!r){let u=ge.findSingle(e,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");u?r=u:r=ge.findSingle(e,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}r&&(r.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{this.disabled||r.focus()},1),this.preventFocus=!1)}trapFocus(e){let r=ge.getFocusableElements(this.contentViewChild.nativeElement);if(r&&r.length>0)if(!r[0].ownerDocument.activeElement)r[0].focus();else{let u=r.indexOf(r[0].ownerDocument.activeElement);if(e.shiftKey)if(u==-1||u===0)if(this.focusTrap)r[r.length-1].focus();else{if(u===-1)return this.hideOverlay();if(u===0)return}else r[u-1].focus();else if(u==-1)if(this.timeOnly)r[0].focus();else{let h=0;for(let g=0;g<r.length;g++)r[g].tagName==="SPAN"&&(h=g);r[h].focus()}else if(u===r.length-1){if(!this.focusTrap&&u!=-1)return this.hideOverlay();r[0].focus()}else r[u+1].focus()}e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}convertTo24Hour(e,r){return this.hourFormat=="12"?e===12?r?12:0:r?e+12:e:e}constrainTime(e,r,u,h){let g=[e,r,u],y,w=this.value,D=this.convertTo24Hour(e,h),N=this.isRangeSelection(),A=this.isMultipleSelection();(N||A)&&(this.value||(this.value=[new Date,new Date]),N&&(w=this.value[1]||this.value[0]),A&&(w=this.value[this.value.length-1]));let X=w?w.toDateString():null,j=this.minDate&&X&&this.minDate.toDateString()===X,E=this.maxDate&&X&&this.maxDate.toDateString()===X;switch(j&&(y=this.minDate.getHours()>=12),!0){case(j&&y&&this.minDate.getHours()===12&&this.minDate.getHours()>D):g[0]=11;case(j&&this.minDate.getHours()===D&&this.minDate.getMinutes()>r):g[1]=this.minDate.getMinutes();case(j&&this.minDate.getHours()===D&&this.minDate.getMinutes()===r&&this.minDate.getSeconds()>u):g[2]=this.minDate.getSeconds();break;case(j&&!y&&this.minDate.getHours()-1===D&&this.minDate.getHours()>D):g[0]=11,this.pm=!0;case(j&&this.minDate.getHours()===D&&this.minDate.getMinutes()>r):g[1]=this.minDate.getMinutes();case(j&&this.minDate.getHours()===D&&this.minDate.getMinutes()===r&&this.minDate.getSeconds()>u):g[2]=this.minDate.getSeconds();break;case(j&&y&&this.minDate.getHours()>D&&D!==12):this.setCurrentHourPM(this.minDate.getHours()),g[0]=this.currentHour;case(j&&this.minDate.getHours()===D&&this.minDate.getMinutes()>r):g[1]=this.minDate.getMinutes();case(j&&this.minDate.getHours()===D&&this.minDate.getMinutes()===r&&this.minDate.getSeconds()>u):g[2]=this.minDate.getSeconds();break;case(j&&this.minDate.getHours()>D):g[0]=this.minDate.getHours();case(j&&this.minDate.getHours()===D&&this.minDate.getMinutes()>r):g[1]=this.minDate.getMinutes();case(j&&this.minDate.getHours()===D&&this.minDate.getMinutes()===r&&this.minDate.getSeconds()>u):g[2]=this.minDate.getSeconds();break;case(E&&this.maxDate.getHours()<D):g[0]=this.maxDate.getHours();case(E&&this.maxDate.getHours()===D&&this.maxDate.getMinutes()<r):g[1]=this.maxDate.getMinutes();case(E&&this.maxDate.getHours()===D&&this.maxDate.getMinutes()===r&&this.maxDate.getSeconds()<u):g[2]=this.maxDate.getSeconds();break}return g}incrementHour(e){let r=this.currentHour??0,u=(this.currentHour??0)+this.stepHour,h=this.pm;this.hourFormat=="24"?u=u>=24?u-24:u:this.hourFormat=="12"&&(r<12&&u>11&&(h=!this.pm),u=u>=13?u-12:u),this.toggleAMPMIfNotMinDate(h),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(u,this.currentMinute,this.currentSecond,h),e.preventDefault()}toggleAMPMIfNotMinDate(e){let r=this.value;(this.selectionMode=="range"||this.selectionMode=="multiple")&&Array.isArray(r)&&r.length>0&&(r=r[r.length-1]);let u=r?r.toDateString():null;this.minDate&&u&&this.minDate.toDateString()===u&&this.minDate.getHours()>=12?this.pm=!0:this.pm=e}onTimePickerElementMouseDown(e,r,u){this.disabled||(this.repeat(e,null,r,u),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,r,u,h){let g=r||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,u,h),this.cd.markForCheck()},g),u){case 0:h===1?this.incrementHour(e):this.decrementHour(e);break;case 1:h===1?this.incrementMinute(e):this.decrementMinute(e);break;case 2:h===1?this.incrementSecond(e):this.decrementSecond(e);break}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let r=(this.currentHour??0)-this.stepHour,u=this.pm;this.hourFormat=="24"?r=r<0?24+r:r:this.hourFormat=="12"&&(this.currentHour===12&&(u=!this.pm),r=r<=0?12+r:r),this.toggleAMPMIfNotMinDate(u),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(r,this.currentMinute,this.currentSecond,u),e.preventDefault()}incrementMinute(e){let r=(this.currentMinute??0)+this.stepMinute;r=r>59?r-60:r,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,r,this.currentSecond,this.pm),e.preventDefault()}decrementMinute(e){let r=(this.currentMinute??0)-this.stepMinute;r=r<0?60+r:r,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,r,this.currentSecond,this.pm),e.preventDefault()}incrementSecond(e){let r=this.currentSecond+this.stepSecond;r=r>59?r-60:r,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,r,this.pm),e.preventDefault()}decrementSecond(e){let r=this.currentSecond-this.stepSecond;r=r<0?60+r:r,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,r,this.pm),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,this.hourFormat=="12"?this.currentHour===12?e.setHours(this.pm?12:0):e.setHours(this.pm?this.currentHour+12:this.currentHour):e.setHours(this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(this.value[1]?e=[this.value[0],e]:e=[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){let r=!this.pm;this.pm=r,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,this.currentSecond,r),this.updateTime(),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let r=e.target.value;try{let u=this.parseValueFromString(r);this.isValidSelection(u)?(this.updateModel(u),this.updateUI()):this.keepInvalid&&this.updateModel(u)}catch{let h=this.keepInvalid?r:null;this.updateModel(h)}this.filled=r!=null&&r.length,this.onInput.emit(e)}isValidSelection(e){if(this.isSingleSelection())return this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1);let r=e.every(u=>this.isSelectable(u.getDate(),u.getMonth(),u.getFullYear(),!1));return r&&this.isRangeSelection()&&(r=e.length===1||e.length>1&&e[1]>=e[0]),r}parseValueFromString(e){if(!e||e.trim().length===0)return null;let r;if(this.isSingleSelection())r=this.parseDateTime(e);else if(this.isMultipleSelection()){let u=e.split(this.multipleSeparator);r=[];for(let h of u)r.push(this.parseDateTime(h.trim()))}else if(this.isRangeSelection()){let u=e.split(" "+this.rangeSeparator+" ");r=[];for(let h=0;h<u.length;h++)r[h]=this.parseDateTime(u[h].trim())}return r}parseDateTime(e){let r,u=e.split(" ");if(this.timeOnly)r=new Date,this.populateTime(r,u[0],u[1]);else{let h=this.getDateFormat();if(this.showTime){let g=this.hourFormat=="12"?u.pop():null,y=u.pop();r=this.parseDate(u.join(" "),h),this.populateTime(r,y,g)}else r=this.parseDate(e,h)}return r}populateTime(e,r,u){if(this.hourFormat=="12"&&!u)throw"Invalid Time";this.pm=u==="PM"||u==="pm";let h=this.parseTime(r);e.setHours(h.hour),e.setMinutes(h.minute),e.setSeconds(h.second)}isValidDate(e){return Ve.isDate(e)&&Ve.isNotEmpty(e)}updateUI(){let e=this.value;Array.isArray(e)&&(e=e[1]||e[0]);let r=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:e&&this.isValidDate(e)?e:new Date;this.currentMonth=r.getMonth(),this.currentYear=r.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(r.getHours()),this.currentMinute=r.getMinutes(),this.currentSecond=r.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild?.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.overlay?.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?Ta.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):Ta.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e);break}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&Ta.clear(e.element);break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.overlay):ge.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?(this.view==="date"?(this.overlay.style.width||(this.overlay.style.width=ge.getOuterWidth(this.overlay)+"px"),this.overlay.style.minWidth||(this.overlay.style.minWidth=ge.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px")):this.overlay.style.width||(this.overlay.style.width=ge.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px"),ge.absolutePosition(this.overlay,this.inputfieldViewChild?.nativeElement)):ge.relativePosition(this.overlay,this.inputfieldViewChild?.nativeElement))}enableModality(e){!this.mask&&this.touchUI&&(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(e.style.zIndex)-1)),ge.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",u=>{this.disableModality(),this.overlayVisible=!1}),this.renderer.appendChild(this.document.body,this.mask),ge.blockBodyScroll())}disableModality(){this.mask&&(ge.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener||(this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyMask.bind(this))))}destroyMask(){if(!this.mask)return;this.renderer.removeChild(this.document.body,this.mask);let e=this.document.body.children,r;for(let u=0;u<e.length;u++){let h=e[u];if(ge.hasClass(h,"p-datepicker-mask-scrollblocker")){r=!0;break}}r||ge.unblockBodyScroll(),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}writeValue(e){if(this.value=e,this.value&&typeof this.value=="string")try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=e)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(Wn.FIRST_DAY_OF_WEEK)}formatDate(e,r){if(!e)return"";let u,h=N=>{let A=u+1<r.length&&r.charAt(u+1)===N;return A&&u++,A},g=(N,A,Y)=>{let X=""+A;if(h(N))for(;X.length<Y;)X="0"+X;return X},y=(N,A,Y,X)=>h(N)?X[A]:Y[A],w="",D=!1;if(e)for(u=0;u<r.length;u++)if(D)r.charAt(u)==="'"&&!h("'")?D=!1:w+=r.charAt(u);else switch(r.charAt(u)){case"d":w+=g("d",e.getDate(),2);break;case"D":w+=y("D",e.getDay(),this.getTranslation(Wn.DAY_NAMES_SHORT),this.getTranslation(Wn.DAY_NAMES));break;case"o":w+=g("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":w+=g("m",e.getMonth()+1,2);break;case"M":w+=y("M",e.getMonth(),this.getTranslation(Wn.MONTH_NAMES_SHORT),this.getTranslation(Wn.MONTH_NAMES));break;case"y":w+=h("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":w+=e.getTime();break;case"!":w+=e.getTime()*1e4+this.ticksTo1970;break;case"'":h("'")?w+="'":D=!0;break;default:w+=r.charAt(u)}return w}formatTime(e){if(!e)return"";let r="",u=e.getHours(),h=e.getMinutes(),g=e.getSeconds();return this.hourFormat=="12"&&u>11&&u!=12&&(u-=12),this.hourFormat=="12"?r+=u===0?12:u<10?"0"+u:u:r+=u<10?"0"+u:u,r+=":",r+=h<10?"0"+h:h,this.showSeconds&&(r+=":",r+=g<10?"0"+g:g),this.hourFormat=="12"&&(r+=e.getHours()>11?" PM":" AM"),r}parseTime(e){let r=e.split(":"),u=this.showSeconds?3:2;if(r.length!==u)throw"Invalid time";let h=parseInt(r[0]),g=parseInt(r[1]),y=this.showSeconds?parseInt(r[2]):null;if(isNaN(h)||isNaN(g)||h>23||g>59||this.hourFormat=="12"&&h>12||this.showSeconds&&(isNaN(y)||y>59))throw"Invalid time";return this.hourFormat=="12"&&(h!==12&&this.pm?h+=12:!this.pm&&h===12&&(h-=12)),{hour:h,minute:g,second:y}}parseDate(e,r){if(r==null||e==null)throw"Invalid arguments";if(e=typeof e=="object"?e.toString():e+"",e==="")return null;let u,h,g,y=0,w=typeof this.shortYearCutoff!="string"?this.shortYearCutoff:new Date().getFullYear()%100+parseInt(this.shortYearCutoff,10),D=-1,N=-1,A=-1,Y=-1,X=!1,j,E=Z=>{let ee=u+1<r.length&&r.charAt(u+1)===Z;return ee&&u++,ee},O=Z=>{let ee=E(Z),re=Z==="@"?14:Z==="!"?20:Z==="y"&&ee?4:Z==="o"?3:2,se=Z==="y"?re:1,B=new RegExp("^\\d{"+se+","+re+"}"),_e=e.substring(y).match(B);if(!_e)throw"Missing number at position "+y;return y+=_e[0].length,parseInt(_e[0],10)},F=(Z,ee,re)=>{let se=-1,B=E(Z)?re:ee,_e=[];for(let Te=0;Te<B.length;Te++)_e.push([Te,B[Te]]);_e.sort((Te,Pe)=>-(Te[1].length-Pe[1].length));for(let Te=0;Te<_e.length;Te++){let Pe=_e[Te][1];if(e.substr(y,Pe.length).toLowerCase()===Pe.toLowerCase()){se=_e[Te][0],y+=Pe.length;break}}if(se!==-1)return se+1;throw"Unknown name at position "+y},R=()=>{if(e.charAt(y)!==r.charAt(u))throw"Unexpected literal at position "+y;y++};for(this.view==="month"&&(A=1),u=0;u<r.length;u++)if(X)r.charAt(u)==="'"&&!E("'")?X=!1:R();else switch(r.charAt(u)){case"d":A=O("d");break;case"D":F("D",this.getTranslation(Wn.DAY_NAMES_SHORT),this.getTranslation(Wn.DAY_NAMES));break;case"o":Y=O("o");break;case"m":N=O("m");break;case"M":N=F("M",this.getTranslation(Wn.MONTH_NAMES_SHORT),this.getTranslation(Wn.MONTH_NAMES));break;case"y":D=O("y");break;case"@":j=new Date(O("@")),D=j.getFullYear(),N=j.getMonth()+1,A=j.getDate();break;case"!":j=new Date((O("!")-this.ticksTo1970)/1e4),D=j.getFullYear(),N=j.getMonth()+1,A=j.getDate();break;case"'":E("'")?R():X=!0;break;default:R()}if(y<e.length&&(g=e.substr(y),!/^\s+/.test(g)))throw"Extra/unparsed characters found in date: "+g;if(D===-1?D=new Date().getFullYear():D<100&&(D+=new Date().getFullYear()-new Date().getFullYear()%100+(D<=w?0:-100)),Y>-1){N=1,A=Y;do{if(h=this.getDaysCountInMonth(D,N-1),A<=h)break;N++,A-=h}while(!0)}if(this.view==="year"&&(N=N===-1?1:N,A=A===-1?1:A),j=this.daylightSavingAdjust(new Date(D,N-1,A)),j.getFullYear()!==D||j.getMonth()+1!==N||j.getDate()!==A)throw"Invalid date";return j}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&this.inputFieldValue!=""}isValidDateForTimeConstraints(e){return this.keepInvalid?!0:(!this.minDate||e>=this.minDate)&&(!this.maxDate||e<=this.maxDate)}onTodayButtonClick(e){let r=new Date,u={day:r.getDate(),month:r.getMonth(),year:r.getFullYear(),otherMonth:r.getMonth()!==this.currentMonth||r.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.createMonths(r.getMonth(),r.getFullYear()),this.onDateSelect(e,u),this.onTodayClick.emit(r)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",ge.setAttribute(this.responsiveStyleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.body,this.responsiveStyleElement));let e="";if(this.responsiveOptions){let r=[...this.responsiveOptions].filter(u=>!!(u.breakpoint&&u.numMonths)).sort((u,h)=>-1*u.breakpoint.localeCompare(h.breakpoint,void 0,{numeric:!0}));for(let u=0;u<r.length;u++){let{breakpoint:h,numMonths:g}=r[u],y=`
                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${g}) .p-datepicker-next {
                            display: inline-flex !important;
                        }
                    `;for(let w=g;w<this.numberOfMonths;w++)y+=`
                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${w+1}) {
                                display: none !important;
                            }
                        `;e+=`
                        @media screen and (max-width: ${h}) {
                            ${y}
                        }
                    `}}this.responsiveStyleElement.innerHTML=e}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{let e=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(e,"mousedown",r=>{this.isOutsideClicked(r)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(r),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new hc(this.containerViewChild?.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return ge.hasClass(e.target,"p-datepicker-prev")||ge.hasClass(e.target,"p-datepicker-prev-icon")||ge.hasClass(e.target,"p-datepicker-next")||ge.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!ge.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&Ta.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}};f(s,"\u0275fac",function(r){return new(r||s)(Ge(ds),Ge(Sr),Ge(yo),Ge(Xi),Ge(ps),Ge(so),Ge(za))}),f(s,"\u0275cmp",je({type:s,selectors:[["p-calendar"]],contentQueries:function(r,u,h){if(r&1&&Gi(h,Pi,4),r&2){let g;Je(g=et())&&(u.templates=g)}},viewQuery:function(r,u){if(r&1&&(Ct(G3,5),Ct(U3,5),Ct(K3,5)),r&2){let h;Je(h=et())&&(u.containerViewChild=h.first),Je(h=et())&&(u.inputfieldViewChild=h.first),Je(h=et())&&(u.content=h.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(r,u){r&2&&ko("p-inputwrapper-filled",u.filled)("p-inputwrapper-focus",u.focus)("p-calendar-clearable",u.showClear&&!u.disabled)},inputs:{iconDisplay:"iconDisplay",style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",iconAriaLabel:"iconAriaLabel",disabled:[2,"disabled","disabled",we],dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:[2,"inline","inline",we],showOtherMonths:[2,"showOtherMonths","showOtherMonths",we],selectOtherMonths:[2,"selectOtherMonths","selectOtherMonths",we],showIcon:[2,"showIcon","showIcon",we],icon:"icon",appendTo:"appendTo",readonlyInput:[2,"readonlyInput","readonlyInput",we],shortYearCutoff:"shortYearCutoff",monthNavigator:[2,"monthNavigator","monthNavigator",we],yearNavigator:[2,"yearNavigator","yearNavigator",we],hourFormat:"hourFormat",timeOnly:[2,"timeOnly","timeOnly",we],stepYearPicker:[2,"stepYearPicker","stepYearPicker",Mt],stepHour:[2,"stepHour","stepHour",Mt],stepMinute:[2,"stepMinute","stepMinute",Mt],stepSecond:[2,"stepSecond","stepSecond",Mt],showSeconds:[2,"showSeconds","showSeconds",we],required:[2,"required","required",we],showOnFocus:[2,"showOnFocus","showOnFocus",we],showWeek:[2,"showWeek","showWeek",we],startWeekFromFirstDayOfYear:"startWeekFromFirstDayOfYear",showClear:[2,"showClear","showClear",we],dataType:"dataType",selectionMode:"selectionMode",maxDateCount:[2,"maxDateCount","maxDateCount",Mt],showButtonBar:[2,"showButtonBar","showButtonBar",we],todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autofocus:[2,"autofocus","autofocus",we],autoZIndex:[2,"autoZIndex","autoZIndex",we],baseZIndex:[2,"baseZIndex","baseZIndex",Mt],panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:[2,"keepInvalid","keepInvalid",we],hideOnDateTimeSelect:[2,"hideOnDateTimeSelect","hideOnDateTimeSelect",we],touchUI:[2,"touchUI","touchUI",we],timeSeparator:"timeSeparator",focusTrap:[2,"focusTrap","focusTrap",we],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:[2,"tabindex","tabindex",Mt],variant:"variant",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale",view:"view",defaultDate:"defaultDate"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[jn([DO]),gn],ngContentSelectors:Y3,decls:4,vars:12,consts:[["container",""],["inputfield",""],["contentWrapper",""],[3,"ngClass","ngStyle"],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","role","combobox","aria-autocomplete","none","aria-haspopup","dialog","autocomplete","off","pAutoFocus","",3,"focus","keydown","click","blur","input","value","readonly","ngStyle","placeholder","disabled","ngClass","autofocus"],[4,"ngIf"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","class","p-datepicker-trigger p-button-icon-only","tabindex","0",3,"disabled","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-calendar-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-calendar-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger","p-button-icon-only",3,"click","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","click",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","ngClass"],[3,"click","ngStyle","ngClass"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[3,"styleClass",4,"ngIf"],["class","p-datepicker-next-icon",4,"ngIf"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],["class","p-datepicker-prev-icon",4,"ngIf"],[3,"styleClass"],[1,"p-datepicker-prev-icon"],["type","button",1,"p-datepicker-month","p-link",3,"click","keydown","disabled"],["type","button",1,"p-datepicker-year","p-link",3,"click","keydown","disabled"],[1,"p-datepicker-decade"],[1,"p-datepicker-next-icon"],[1,"p-datepicker-calendar-container"],["role","grid",1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],["draggable","false","pRipple","",3,"click","keydown","ngClass"],["class","p-hidden-accessible","aria-live","polite",4,"ngIf"],["aria-live","polite",1,"p-hidden-accessible"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"click","keydown","ngClass"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"click","keydown","ngClass"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"keydown","click","label","ngClass"]],template:function(r,u){r&1&&(hs(Z3),H(0,"span",3,0),K(2,gM,5,22,"ng-template",4)(3,kO,9,32,"div",5),U()),r&2&&(Re(u.styleClass),I("ngClass",Sp(6,j3,u.showIcon&&u.iconDisplay==="input",u.showIcon&&u.iconDisplay==="button",u.timeOnly,u.disabled,u.focus||u.overlayVisible))("ngStyle",u.style),S(2),I("ngIf",!u.inline),S(),I("ngIf",u.inline||u.overlayVisible))},dependencies:()=>[xn,jo,un,wn,bn,Vl,ms,Xu,Il,Td,Qo,or,Ed,Xr],styles:[`@layer primeng{.p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%;text-overflow:ellipsis}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-datepicker-icon{pointer-events:none}.p-calendar-clearable{position:relative}}
`],encapsulation:2,data:{animation:[vu("overlayAnimation",[Gd("visibleTouchUI",fs({transform:"translate(-50%,-50%)",opacity:1})),Ea("void => visible",[fs({opacity:0,transform:"scaleY(0.8)"}),Gs("{{showTransitionParams}}",fs({opacity:1,transform:"*"}))]),Ea("visible => void",[Gs("{{hideTransitionParams}}",fs({opacity:0}))]),Ea("void => visibleTouchUI",[fs({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),Gs("{{showTransitionParams}}")]),Ea("visibleTouchUI => void",[Gs("{{hideTransitionParams}}",fs({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}));let i=s;return i})(),Y_=(()=>{let s=class s{};f(s,"\u0275fac",function(r){return new(r||s)}),f(s,"\u0275mod",Vt({type:s})),f(s,"\u0275inj",At({imports:[kt,Us,wt,Wr,Xu,Il,Td,Qo,or,Ed,kr,Us,wt]}));let i=s;return i})();var j_=(()=>{let s=class s extends Dt{constructor(){super(...arguments);f(this,"pathId")}ngOnInit(){this.pathId="url(#"+cn()+")"}};f(s,"\u0275fac",(()=>{let r;return function(h){return(r||(r=Ot(s)))(h||s)}})()),f(s,"\u0275cmp",je({type:s,selectors:[["ArrowDownIcon"]],standalone:!0,features:[Lt,Pt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.99994 14C6.91097 14.0004 6.82281 13.983 6.74064 13.9489C6.65843 13.9148 6.58387 13.8646 6.52133 13.8013L1.10198 8.38193C0.982318 8.25351 0.917175 8.08367 0.920272 7.90817C0.923368 7.73267 0.994462 7.56523 1.11858 7.44111C1.24269 7.317 1.41014 7.2459 1.58563 7.2428C1.76113 7.23971 1.93098 7.30485 2.0594 7.42451L6.32263 11.6877V0.677419C6.32263 0.497756 6.394 0.325452 6.52104 0.198411C6.64808 0.0713706 6.82039 0 7.00005 0C7.17971 0 7.35202 0.0713706 7.47906 0.198411C7.6061 0.325452 7.67747 0.497756 7.67747 0.677419V11.6877L11.9407 7.42451C12.0691 7.30485 12.2389 7.23971 12.4144 7.2428C12.5899 7.2459 12.7574 7.317 12.8815 7.44111C13.0056 7.56523 13.0767 7.73267 13.0798 7.90817C13.0829 8.08367 13.0178 8.25351 12.8981 8.38193L7.47875 13.8013C7.41621 13.8646 7.34164 13.9148 7.25944 13.9489C7.17727 13.983 7.08912 14.0004 7.00015 14C7.00012 14 7.00009 14 7.00005 14C7.00001 14 6.99998 14 6.99994 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(u,h){u&1&&(ut(),H(0,"svg",0)(1,"g"),ye(2,"path",1),U(),H(3,"defs")(4,"clipPath",2),ye(5,"rect",3),U()()()),u&2&&(Re(h.getClassNames()),ne("aria-label",h.ariaLabel)("aria-hidden",h.ariaHidden)("role",h.role),S(),ne("clip-path",h.pathId),S(3),I("id",h.pathId))},encapsulation:2}));let i=s;return i})();var W_=(()=>{let s=class s extends Dt{constructor(){super(...arguments);f(this,"pathId")}ngOnInit(){this.pathId="url(#"+cn()+")"}};f(s,"\u0275fac",(()=>{let r;return function(h){return(r||(r=Ot(s)))(h||s)}})()),f(s,"\u0275cmp",je({type:s,selectors:[["ArrowUpIcon"]],standalone:!0,features:[Lt,Pt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.51551 13.799C6.64205 13.9255 6.813 13.9977 6.99193 14C7.17087 13.9977 7.34182 13.9255 7.46835 13.799C7.59489 13.6725 7.66701 13.5015 7.66935 13.3226V2.31233L11.9326 6.57554C11.9951 6.63887 12.0697 6.68907 12.1519 6.72319C12.2341 6.75731 12.3223 6.77467 12.4113 6.77425C12.5003 6.77467 12.5885 6.75731 12.6707 6.72319C12.7529 6.68907 12.8274 6.63887 12.89 6.57554C13.0168 6.44853 13.0881 6.27635 13.0881 6.09683C13.0881 5.91732 13.0168 5.74514 12.89 5.61812L7.48846 0.216594C7.48274 0.210436 7.4769 0.204374 7.47094 0.198411C7.3439 0.0713707 7.1716 0 6.99193 0C6.81227 0 6.63997 0.0713707 6.51293 0.198411C6.50704 0.204296 6.50128 0.210278 6.49563 0.216354L1.09386 5.61812C0.974201 5.74654 0.909057 5.91639 0.912154 6.09189C0.91525 6.26738 0.986345 6.43483 1.11046 6.55894C1.23457 6.68306 1.40202 6.75415 1.57752 6.75725C1.75302 6.76035 1.92286 6.6952 2.05128 6.57554L6.31451 2.31231V13.3226C6.31685 13.5015 6.38898 13.6725 6.51551 13.799Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(u,h){u&1&&(ut(),H(0,"svg",0)(1,"g"),ye(2,"path",1),U(),H(3,"defs")(4,"clipPath",2),ye(5,"rect",3),U()()()),u&2&&(Re(h.getClassNames()),ne("aria-label",h.ariaLabel)("aria-hidden",h.ariaHidden)("role",h.role),S(),ne("clip-path",h.pathId),S(3),I("id",h.pathId))},encapsulation:2}));let i=s;return i})();var X_=(()=>{let s=class s extends Dt{constructor(){super(...arguments);f(this,"pathId")}ngOnInit(){this.pathId="url(#"+cn()+")"}};f(s,"\u0275fac",(()=>{let r;return function(h){return(r||(r=Ot(s)))(h||s)}})()),f(s,"\u0275cmp",je({type:s,selectors:[["FilterIcon"]],standalone:!0,features:[Lt,Pt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.64708 14H5.35296C5.18981 13.9979 5.03395 13.9321 4.91858 13.8167C4.8032 13.7014 4.73745 13.5455 4.73531 13.3824V7L0.329431 0.98C0.259794 0.889466 0.217389 0.780968 0.20718 0.667208C0.19697 0.553448 0.219379 0.439133 0.271783 0.337647C0.324282 0.236453 0.403423 0.151519 0.500663 0.0920138C0.597903 0.0325088 0.709548 0.000692754 0.823548 0H13.1765C13.2905 0.000692754 13.4021 0.0325088 13.4994 0.0920138C13.5966 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7826 0.780968 13.7402 0.889466 13.6706 0.98L9.26472 7V13.3824C9.26259 13.5455 9.19683 13.7014 9.08146 13.8167C8.96609 13.9321 8.81022 13.9979 8.64708 14ZM5.97061 12.7647H8.02943V6.79412C8.02878 6.66289 8.07229 6.53527 8.15296 6.43177L11.9412 1.23529H2.05884L5.86355 6.43177C5.94422 6.53527 5.98773 6.66289 5.98708 6.79412L5.97061 12.7647Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(u,h){u&1&&(ut(),H(0,"svg",0)(1,"g"),ye(2,"path",1),U(),H(3,"defs")(4,"clipPath",2),ye(5,"rect",3),U()()()),u&2&&(Re(h.getClassNames()),ne("aria-label",h.ariaLabel)("aria-hidden",h.ariaHidden)("role",h.role),S(),ne("clip-path",h.pathId),S(3),I("id",h.pathId))},encapsulation:2}));let i=s;return i})();var $_=(()=>{let s=class s extends Dt{constructor(){super(...arguments);f(this,"pathId")}ngOnInit(){this.pathId="url(#"+cn()+")"}};f(s,"\u0275fac",(()=>{let r;return function(h){return(r||(r=Ot(s)))(h||s)}})()),f(s,"\u0275cmp",je({type:s,selectors:[["FilterSlashIcon"]],standalone:!0,features:[Lt,Pt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.4994 0.0920138C13.5967 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7827 0.780968 13.7403 0.889466 13.6707 0.98L11.406 4.06823C11.3099 4.19928 11.1656 4.28679 11.005 4.3115C10.8444 4.33621 10.6805 4.2961 10.5495 4.2C10.4184 4.1039 10.3309 3.95967 10.3062 3.79905C10.2815 3.63843 10.3216 3.47458 10.4177 3.34353L11.9412 1.23529H7.41184C7.24803 1.23529 7.09093 1.17022 6.97509 1.05439C6.85926 0.938558 6.79419 0.781457 6.79419 0.617647C6.79419 0.453837 6.85926 0.296736 6.97509 0.180905C7.09093 0.0650733 7.24803 0 7.41184 0H13.1765C13.2905 0.000692754 13.4022 0.0325088 13.4994 0.0920138ZM4.20008 0.181168H4.24126L13.2013 9.03411C13.3169 9.14992 13.3819 9.3069 13.3819 9.47058C13.3819 9.63426 13.3169 9.79124 13.2013 9.90705C13.1445 9.96517 13.0766 10.0112 13.0016 10.0423C12.9266 10.0735 12.846 10.0891 12.7648 10.0882C12.6836 10.0886 12.6032 10.0728 12.5283 10.0417C12.4533 10.0106 12.3853 9.96479 12.3283 9.90705L9.3142 6.92587L9.26479 6.99999V13.3823C9.26265 13.5455 9.19689 13.7014 9.08152 13.8167C8.96615 13.9321 8.81029 13.9979 8.64714 14H5.35302C5.18987 13.9979 5.03401 13.9321 4.91864 13.8167C4.80327 13.7014 4.73751 13.5455 4.73537 13.3823V6.99999L0.329492 1.02117C0.259855 0.930634 0.21745 0.822137 0.207241 0.708376C0.197031 0.594616 0.21944 0.480301 0.271844 0.378815C0.324343 0.277621 0.403484 0.192687 0.500724 0.133182C0.597964 0.073677 0.709609 0.041861 0.823609 0.0411682H3.86243C3.92448 0.0461551 3.9855 0.060022 4.04361 0.0823446C4.10037 0.10735 4.15311 0.140655 4.20008 0.181168ZM8.02949 6.79411C8.02884 6.66289 8.07235 6.53526 8.15302 6.43176L8.42478 6.05293L3.55773 1.23529H2.0589L5.84714 6.43176C5.92781 6.53526 5.97132 6.66289 5.97067 6.79411V12.7647H8.02949V6.79411Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(u,h){u&1&&(ut(),H(0,"svg",0)(1,"g"),ye(2,"path",1),U(),H(3,"defs")(4,"clipPath",2),ye(5,"rect",3),U()()()),u&2&&(Re(h.getClassNames()),ne("aria-label",h.ariaLabel)("aria-hidden",h.ariaHidden)("role",h.role),S(),ne("clip-path",h.pathId),S(3),I("id",h.pathId))},encapsulation:2}));let i=s;return i})();var Q_=(()=>{let s=class s extends Dt{constructor(){super(...arguments);f(this,"pathId")}ngOnInit(){this.pathId="url(#"+cn()+")"}};f(s,"\u0275fac",(()=>{let r;return function(h){return(r||(r=Ot(s)))(h||s)}})()),f(s,"\u0275cmp",je({type:s,selectors:[["PlusIcon"]],standalone:!0,features:[Lt,Pt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(u,h){u&1&&(ut(),H(0,"svg",0)(1,"g"),ye(2,"path",1),U(),H(3,"defs")(4,"clipPath",2),ye(5,"rect",3),U()()()),u&2&&(Re(h.getClassNames()),ne("aria-label",h.ariaLabel)("aria-hidden",h.ariaHidden)("role",h.role),S(),ne("clip-path",h.pathId),S(3),I("id",h.pathId))},encapsulation:2}));let i=s;return i})();var J_=(()=>{let s=class s extends Dt{constructor(){super(...arguments);f(this,"pathId")}ngOnInit(){this.pathId="url(#"+cn()+")"}};f(s,"\u0275fac",(()=>{let r;return function(h){return(r||(r=Ot(s)))(h||s)}})()),f(s,"\u0275cmp",je({type:s,selectors:[["SortAltIcon"]],standalone:!0,features:[Lt,Pt],decls:9,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.64515 3.61291C5.47353 3.61291 5.30192 3.54968 5.16644 3.4142L3.38708 1.63484L1.60773 3.4142C1.34579 3.67613 0.912244 3.67613 0.650309 3.4142C0.388374 3.15226 0.388374 2.71871 0.650309 2.45678L2.90837 0.198712C3.17031 -0.0632236 3.60386 -0.0632236 3.86579 0.198712L6.12386 2.45678C6.38579 2.71871 6.38579 3.15226 6.12386 3.4142C5.98837 3.54968 5.81676 3.61291 5.64515 3.61291Z","fill","currentColor"],["d","M3.38714 14C3.01681 14 2.70972 13.6929 2.70972 13.3226V0.677419C2.70972 0.307097 3.01681 0 3.38714 0C3.75746 0 4.06456 0.307097 4.06456 0.677419V13.3226C4.06456 13.6929 3.75746 14 3.38714 14Z","fill","currentColor"],["d","M10.6129 14C10.4413 14 10.2697 13.9368 10.1342 13.8013L7.87611 11.5432C7.61418 11.2813 7.61418 10.8477 7.87611 10.5858C8.13805 10.3239 8.5716 10.3239 8.83353 10.5858L10.6129 12.3652L12.3922 10.5858C12.6542 10.3239 13.0877 10.3239 13.3497 10.5858C13.6116 10.8477 13.6116 11.2813 13.3497 11.5432L11.0916 13.8013C10.9561 13.9368 10.7845 14 10.6129 14Z","fill","currentColor"],["d","M10.6129 14C10.2426 14 9.93552 13.6929 9.93552 13.3226V0.677419C9.93552 0.307097 10.2426 0 10.6129 0C10.9833 0 11.2904 0.307097 11.2904 0.677419V13.3226C11.2904 13.6929 10.9832 14 10.6129 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(u,h){u&1&&(ut(),H(0,"svg",0)(1,"g"),ye(2,"path",1)(3,"path",2)(4,"path",3)(5,"path",4),U(),H(6,"defs")(7,"clipPath",5),ye(8,"rect",6),U()()()),u&2&&(Re(h.getClassNames()),ne("aria-label",h.ariaLabel)("aria-hidden",h.ariaHidden)("role",h.role),S(),ne("clip-path",h.pathId),S(6),I("id",h.pathId))},encapsulation:2}));let i=s;return i})();var ey=(()=>{let s=class s extends Dt{constructor(){super(...arguments);f(this,"pathId")}ngOnInit(){this.pathId="url(#"+cn()+")"}};f(s,"\u0275fac",(()=>{let r;return function(h){return(r||(r=Ot(s)))(h||s)}})()),f(s,"\u0275cmp",je({type:s,selectors:[["SortAmountDownIcon"]],standalone:!0,features:[Lt,Pt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.93953 10.5858L3.83759 11.6877V0.677419C3.83759 0.307097 3.53049 0 3.16017 0C2.78985 0 2.48275 0.307097 2.48275 0.677419V11.6877L1.38082 10.5858C1.11888 10.3239 0.685331 10.3239 0.423396 10.5858C0.16146 10.8477 0.16146 11.2813 0.423396 11.5432L2.68146 13.8013C2.74469 13.8645 2.81694 13.9097 2.89823 13.9458C2.97952 13.9819 3.06985 14 3.16017 14C3.25049 14 3.33178 13.9819 3.42211 13.9458C3.5034 13.9097 3.57565 13.8645 3.63888 13.8013L5.89694 11.5432C6.15888 11.2813 6.15888 10.8477 5.89694 10.5858C5.63501 10.3239 5.20146 10.3239 4.93953 10.5858ZM13.0957 0H7.22468C6.85436 0 6.54726 0.307097 6.54726 0.677419C6.54726 1.04774 6.85436 1.35484 7.22468 1.35484H13.0957C13.466 1.35484 13.7731 1.04774 13.7731 0.677419C13.7731 0.307097 13.466 0 13.0957 0ZM7.22468 5.41935H9.48275C9.85307 5.41935 10.1602 5.72645 10.1602 6.09677C10.1602 6.4671 9.85307 6.77419 9.48275 6.77419H7.22468C6.85436 6.77419 6.54726 6.4671 6.54726 6.09677C6.54726 5.72645 6.85436 5.41935 7.22468 5.41935ZM7.6763 8.12903H7.22468C6.85436 8.12903 6.54726 8.43613 6.54726 8.80645C6.54726 9.17677 6.85436 9.48387 7.22468 9.48387H7.6763C8.04662 9.48387 8.35372 9.17677 8.35372 8.80645C8.35372 8.43613 8.04662 8.12903 7.6763 8.12903ZM7.22468 2.70968H11.2892C11.6595 2.70968 11.9666 3.01677 11.9666 3.3871C11.9666 3.75742 11.6595 4.06452 11.2892 4.06452H7.22468C6.85436 4.06452 6.54726 3.75742 6.54726 3.3871C6.54726 3.01677 6.85436 2.70968 7.22468 2.70968Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(u,h){u&1&&(ut(),H(0,"svg",0)(1,"g"),ye(2,"path",1),U(),H(3,"defs")(4,"clipPath",2),ye(5,"rect",3),U()()()),u&2&&(Re(h.getClassNames()),ne("aria-label",h.ariaLabel)("aria-hidden",h.ariaHidden)("role",h.role),S(),ne("clip-path",h.pathId),S(3),I("id",h.pathId))},encapsulation:2}));let i=s;return i})();var ty=(()=>{let s=class s extends Dt{constructor(){super(...arguments);f(this,"pathId")}ngOnInit(){this.pathId="url(#"+cn()+")"}};f(s,"\u0275fac",(()=>{let r;return function(h){return(r||(r=Ot(s)))(h||s)}})()),f(s,"\u0275cmp",je({type:s,selectors:[["SortAmountUpAltIcon"]],standalone:!0,features:[Lt,Pt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.63435 0.19871C3.57113 0.135484 3.49887 0.0903226 3.41758 0.0541935C3.255 -0.0180645 3.06532 -0.0180645 2.90274 0.0541935C2.82145 0.0903226 2.74919 0.135484 2.68597 0.19871L0.427901 2.45677C0.165965 2.71871 0.165965 3.15226 0.427901 3.41419C0.689836 3.67613 1.12338 3.67613 1.38532 3.41419L2.48726 2.31226V13.3226C2.48726 13.6929 2.79435 14 3.16467 14C3.535 14 3.84209 13.6929 3.84209 13.3226V2.31226L4.94403 3.41419C5.07951 3.54968 5.25113 3.6129 5.42274 3.6129C5.59435 3.6129 5.76597 3.54968 5.90145 3.41419C6.16338 3.15226 6.16338 2.71871 5.90145 2.45677L3.64338 0.19871H3.63435ZM13.7685 13.3226C13.7685 12.9523 13.4615 12.6452 13.0911 12.6452H7.22016C6.84984 12.6452 6.54274 12.9523 6.54274 13.3226C6.54274 13.6929 6.84984 14 7.22016 14H13.0911C13.4615 14 13.7685 13.6929 13.7685 13.3226ZM7.22016 8.58064C6.84984 8.58064 6.54274 8.27355 6.54274 7.90323C6.54274 7.5329 6.84984 7.22581 7.22016 7.22581H9.47823C9.84855 7.22581 10.1556 7.5329 10.1556 7.90323C10.1556 8.27355 9.84855 8.58064 9.47823 8.58064H7.22016ZM7.22016 5.87097H7.67177C8.0421 5.87097 8.34919 5.56387 8.34919 5.19355C8.34919 4.82323 8.0421 4.51613 7.67177 4.51613H7.22016C6.84984 4.51613 6.54274 4.82323 6.54274 5.19355C6.54274 5.56387 6.84984 5.87097 7.22016 5.87097ZM11.2847 11.2903H7.22016C6.84984 11.2903 6.54274 10.9832 6.54274 10.6129C6.54274 10.2426 6.84984 9.93548 7.22016 9.93548H11.2847C11.655 9.93548 11.9621 10.2426 11.9621 10.6129C11.9621 10.9832 11.655 11.2903 11.2847 11.2903Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(u,h){u&1&&(ut(),H(0,"svg",0)(1,"g"),ye(2,"path",1),U(),H(3,"defs")(4,"clipPath",2),ye(5,"rect",3),U()()()),u&2&&(Re(h.getClassNames()),ne("aria-label",h.ariaLabel)("aria-hidden",h.ariaHidden)("role",h.role),S(),ne("clip-path",h.pathId),S(3),I("id",h.pathId))},encapsulation:2}));let i=s;return i})();var iy=(()=>{let s=class s extends Dt{constructor(){super(...arguments);f(this,"pathId")}ngOnInit(){this.pathId="url(#"+cn()+")"}};f(s,"\u0275fac",(()=>{let r;return function(h){return(r||(r=Ot(s)))(h||s)}})()),f(s,"\u0275cmp",je({type:s,selectors:[["TrashIcon"]],standalone:!0,features:[Lt,Pt],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.44802 13.9955H10.552C10.8056 14.0129 11.06 13.9797 11.3006 13.898C11.5412 13.8163 11.7632 13.6877 11.9537 13.5196C12.1442 13.3515 12.2995 13.1473 12.4104 12.9188C12.5213 12.6903 12.5858 12.442 12.6 12.1884V4.36041H13.4C13.5591 4.36041 13.7117 4.29722 13.8243 4.18476C13.9368 4.07229 14 3.91976 14 3.76071C14 3.60166 13.9368 3.44912 13.8243 3.33666C13.7117 3.22419 13.5591 3.16101 13.4 3.16101H12.0537C12.0203 3.1557 11.9863 3.15299 11.952 3.15299C11.9178 3.15299 11.8838 3.1557 11.8503 3.16101H11.2285C11.2421 3.10893 11.2487 3.05513 11.248 3.00106V1.80966C11.2171 1.30262 10.9871 0.828306 10.608 0.48989C10.229 0.151475 9.73159 -0.0236625 9.22402 0.00257442H4.77602C4.27251 -0.0171866 3.78126 0.160868 3.40746 0.498617C3.03365 0.836366 2.807 1.30697 2.77602 1.80966V3.00106C2.77602 3.0556 2.78346 3.10936 2.79776 3.16101H0.6C0.521207 3.16101 0.443185 3.17652 0.37039 3.20666C0.297595 3.2368 0.231451 3.28097 0.175736 3.33666C0.120021 3.39235 0.0758251 3.45846 0.0456722 3.53121C0.0155194 3.60397 0 3.68196 0 3.76071C0 3.83946 0.0155194 3.91744 0.0456722 3.9902C0.0758251 4.06296 0.120021 4.12907 0.175736 4.18476C0.231451 4.24045 0.297595 4.28462 0.37039 4.31476C0.443185 4.3449 0.521207 4.36041 0.6 4.36041H1.40002V12.1884C1.41426 12.442 1.47871 12.6903 1.58965 12.9188C1.7006 13.1473 1.85582 13.3515 2.04633 13.5196C2.23683 13.6877 2.45882 13.8163 2.69944 13.898C2.94005 13.9797 3.1945 14.0129 3.44802 13.9955ZM2.60002 4.36041H11.304V12.1884C11.304 12.5163 10.952 12.7961 10.504 12.7961H3.40002C2.97602 12.7961 2.60002 12.5163 2.60002 12.1884V4.36041ZM3.95429 3.16101C3.96859 3.10936 3.97602 3.0556 3.97602 3.00106V1.80966C3.97602 1.48183 4.33602 1.20197 4.77602 1.20197H9.24802C9.66403 1.20197 10.048 1.48183 10.048 1.80966V3.00106C10.0473 3.05515 10.054 3.10896 10.0678 3.16101H3.95429ZM5.57571 10.997C5.41731 10.995 5.26597 10.9311 5.15395 10.8191C5.04193 10.7071 4.97808 10.5558 4.97601 10.3973V6.77517C4.97601 6.61612 5.0392 6.46359 5.15166 6.35112C5.26413 6.23866 5.41666 6.17548 5.57571 6.17548C5.73476 6.17548 5.8873 6.23866 5.99976 6.35112C6.11223 6.46359 6.17541 6.61612 6.17541 6.77517V10.3894C6.17647 10.4688 6.16174 10.5476 6.13208 10.6213C6.10241 10.695 6.05841 10.762 6.00261 10.8186C5.94682 10.8751 5.88035 10.92 5.80707 10.9506C5.73378 10.9813 5.65514 10.9971 5.57571 10.997ZM7.99968 10.8214C8.11215 10.9339 8.26468 10.997 8.42373 10.997C8.58351 10.9949 8.73604 10.93 8.84828 10.8163C8.96052 10.7025 9.02345 10.5491 9.02343 10.3894V6.77517C9.02343 6.61612 8.96025 6.46359 8.84778 6.35112C8.73532 6.23866 8.58278 6.17548 8.42373 6.17548C8.26468 6.17548 8.11215 6.23866 7.99968 6.35112C7.88722 6.46359 7.82404 6.61612 7.82404 6.77517V10.3973C7.82404 10.5564 7.88722 10.7089 7.99968 10.8214Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(u,h){u&1&&(ut(),H(0,"svg",0)(1,"g"),ye(2,"path",1),U(),H(3,"defs")(4,"clipPath",2),ye(5,"rect",3),U()()()),u&2&&(Re(h.getClassNames()),ne("aria-label",h.ariaLabel)("aria-hidden",h.ariaHidden)("role",h.role),S(),ne("clip-path",h.pathId),S(3),I("id",h.pathId))},encapsulation:2}));let i=s;return i})();var ny=(()=>{let s=class s extends Dt{};f(s,"\u0275fac",(()=>{let e;return function(u){return(e||(e=Ot(s)))(u||s)}})()),f(s,"\u0275cmp",je({type:s,selectors:[["AngleDoubleLeftIcon"]],standalone:!0,features:[Lt,Pt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M5.71602 11.164C5.80782 11.2021 5.9063 11.2215 6.00569 11.221C6.20216 11.2301 6.39427 11.1612 6.54025 11.0294C6.68191 10.8875 6.76148 10.6953 6.76148 10.4948C6.76148 10.2943 6.68191 10.1021 6.54025 9.96024L3.51441 6.9344L6.54025 3.90855C6.624 3.76126 6.65587 3.59011 6.63076 3.42254C6.60564 3.25498 6.525 3.10069 6.40175 2.98442C6.2785 2.86815 6.11978 2.79662 5.95104 2.7813C5.78229 2.76598 5.61329 2.80776 5.47112 2.89994L1.97123 6.39983C1.82957 6.54167 1.75 6.73393 1.75 6.9344C1.75 7.13486 1.82957 7.32712 1.97123 7.46896L5.47112 10.9991C5.54096 11.0698 5.62422 11.1259 5.71602 11.164ZM11.0488 10.9689C11.1775 11.1156 11.3585 11.2061 11.5531 11.221C11.7477 11.2061 11.9288 11.1156 12.0574 10.9689C12.1815 10.8302 12.25 10.6506 12.25 10.4645C12.25 10.2785 12.1815 10.0989 12.0574 9.96024L9.03158 6.93439L12.0574 3.90855C12.1248 3.76739 12.1468 3.60881 12.1204 3.45463C12.0939 3.30045 12.0203 3.15826 11.9097 3.04765C11.7991 2.93703 11.6569 2.86343 11.5027 2.83698C11.3486 2.81053 11.19 2.83252 11.0488 2.89994L7.51865 6.36957C7.37699 6.51141 7.29742 6.70367 7.29742 6.90414C7.29742 7.1046 7.37699 7.29686 7.51865 7.4387L11.0488 10.9689Z","fill","currentColor"]],template:function(r,u){r&1&&(ut(),H(0,"svg",0),ye(1,"path",1),U()),r&2&&(Re(u.getClassNames()),ne("aria-label",u.ariaLabel)("aria-hidden",u.ariaHidden)("role",u.role))},encapsulation:2}));let i=s;return i})();var ry=(()=>{let s=class s extends Dt{};f(s,"\u0275fac",(()=>{let e;return function(u){return(e||(e=Ot(s)))(u||s)}})()),f(s,"\u0275cmp",je({type:s,selectors:[["AngleDoubleRightIcon"]],standalone:!0,features:[Lt,Pt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7.68757 11.1451C7.7791 11.1831 7.8773 11.2024 7.9764 11.2019C8.07769 11.1985 8.17721 11.1745 8.26886 11.1312C8.36052 11.088 8.44238 11.0265 8.50943 10.9505L12.0294 7.49085C12.1707 7.34942 12.25 7.15771 12.25 6.95782C12.25 6.75794 12.1707 6.56622 12.0294 6.42479L8.50943 2.90479C8.37014 2.82159 8.20774 2.78551 8.04633 2.80192C7.88491 2.81833 7.73309 2.88635 7.6134 2.99588C7.4937 3.10541 7.41252 3.25061 7.38189 3.40994C7.35126 3.56927 7.37282 3.73423 7.44337 3.88033L10.4605 6.89748L7.44337 9.91463C7.30212 10.0561 7.22278 10.2478 7.22278 10.4477C7.22278 10.6475 7.30212 10.8393 7.44337 10.9807C7.51301 11.0512 7.59603 11.1071 7.68757 11.1451ZM1.94207 10.9505C2.07037 11.0968 2.25089 11.1871 2.44493 11.2019C2.63898 11.1871 2.81949 11.0968 2.94779 10.9505L6.46779 7.49085C6.60905 7.34942 6.68839 7.15771 6.68839 6.95782C6.68839 6.75793 6.60905 6.56622 6.46779 6.42479L2.94779 2.90479C2.80704 2.83757 2.6489 2.81563 2.49517 2.84201C2.34143 2.86839 2.19965 2.94178 2.08936 3.05207C1.97906 3.16237 1.90567 3.30415 1.8793 3.45788C1.85292 3.61162 1.87485 3.76975 1.94207 3.9105L4.95922 6.92765L1.94207 9.9448C1.81838 10.0831 1.75 10.2621 1.75 10.4477C1.75 10.6332 1.81838 10.8122 1.94207 10.9505Z","fill","currentColor"]],template:function(r,u){r&1&&(ut(),H(0,"svg",0),ye(1,"path",1),U()),r&2&&(Re(u.getClassNames()),ne("aria-label",u.ariaLabel)("aria-hidden",u.ariaHidden)("role",u.role))},encapsulation:2}));let i=s;return i})();var oy=(()=>{let s=class s extends Dt{};f(s,"\u0275fac",(()=>{let e;return function(u){return(e||(e=Ot(s)))(u||s)}})()),f(s,"\u0275cmp",je({type:s,selectors:[["AngleLeftIcon"]],standalone:!0,features:[Lt,Pt],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.75 11.185C8.65146 11.1854 8.55381 11.1662 8.4628 11.1284C8.37179 11.0906 8.28924 11.0351 8.22 10.965L4.72 7.46496C4.57955 7.32433 4.50066 7.13371 4.50066 6.93496C4.50066 6.73621 4.57955 6.54558 4.72 6.40496L8.22 2.93496C8.36095 2.84357 8.52851 2.80215 8.69582 2.81733C8.86312 2.83252 9.02048 2.90344 9.14268 3.01872C9.26487 3.134 9.34483 3.28696 9.36973 3.4531C9.39463 3.61924 9.36303 3.78892 9.28 3.93496L6.28 6.93496L9.28 9.93496C9.42045 10.0756 9.49934 10.2662 9.49934 10.465C9.49934 10.6637 9.42045 10.8543 9.28 10.995C9.13526 11.1257 8.9448 11.1939 8.75 11.185Z","fill","currentColor"]],template:function(r,u){r&1&&(ut(),H(0,"svg",0),ye(1,"path",1),U()),r&2&&(Re(u.getClassNames()),ne("aria-label",u.ariaLabel)("aria-hidden",u.ariaHidden)("role",u.role))},encapsulation:2}));let i=s;return i})();var sy=(()=>{let s=class s{};f(s,"\u0275fac",function(r){return new(r||s)}),f(s,"\u0275mod",Vt({type:s})),f(s,"\u0275inj",At({imports:[kt,Sl,Tl,ll,wt,Wr,ny,ry,oy,Zd,Sl,Tl,ll,wt]}));let i=s;return i})();var FO=(i,s,o)=>({"p-checkbox p-component":!0,"p-checkbox-disabled":i,"p-checkbox-focused":s,"p-variant-filled":o}),NO=(i,s,o)=>({"p-highlight":i,"p-disabled":s,"p-focus":o}),AO=(i,s,o)=>({"p-checkbox-label-active":i,"p-disabled":s,"p-checkbox-label-focus":o});function VO(i,s){if(i&1&&ye(0,"span",8),i&2){let o=T(2);I("ngClass",o.checkboxTrueIcon),ne("data-pc-section","checkIcon")}}function BO(i,s){i&1&&ye(0,"CheckIcon",11),i&2&&(I("styleClass","p-checkbox-icon"),ne("data-pc-section","checkIcon"))}function zO(i,s){}function HO(i,s){i&1&&K(0,zO,0,0,"ng-template")}function qO(i,s){if(i&1&&(H(0,"span",12),K(1,HO,1,0,null,13),U()),i&2){let o=T(3);ne("data-pc-section","checkIcon"),S(),I("ngTemplateOutlet",o.checkIconTemplate)}}function GO(i,s){if(i&1&&(Fe(0),K(1,BO,1,2,"CheckIcon",9)(2,qO,2,2,"span",10),Ne()),i&2){let o=T(2);S(),I("ngIf",!o.checkIconTemplate),S(),I("ngIf",o.checkIconTemplate)}}function UO(i,s){if(i&1&&(Fe(0),K(1,VO,1,2,"span",7)(2,GO,3,2,"ng-container",5),Ne()),i&2){let o=T();S(),I("ngIf",o.checkboxTrueIcon),S(),I("ngIf",!o.checkboxTrueIcon)}}function KO(i,s){if(i&1&&ye(0,"span",8),i&2){let o=T(2);I("ngClass",o.checkboxFalseIcon),ne("data-pc-section","uncheckIcon")}}function ZO(i,s){i&1&&ye(0,"TimesIcon",11),i&2&&(I("styleClass","p-checkbox-icon"),ne("data-pc-section","uncheckIcon"))}function YO(i,s){}function jO(i,s){i&1&&K(0,YO,0,0,"ng-template")}function WO(i,s){if(i&1&&(H(0,"span",12),K(1,jO,1,0,null,13),U()),i&2){let o=T(3);ne("data-pc-section","uncheckIcon"),S(),I("ngTemplateOutlet",o.uncheckIconTemplate)}}function XO(i,s){if(i&1&&(Fe(0),K(1,ZO,1,2,"TimesIcon",9)(2,WO,2,2,"span",10),Ne()),i&2){let o=T(2);S(),I("ngIf",!o.uncheckIconTemplate),S(),I("ngIf",o.uncheckIconTemplate)}}function $O(i,s){if(i&1&&(Fe(0),K(1,KO,1,2,"span",7)(2,XO,3,2,"ng-container",5),Ne()),i&2){let o=T();S(),I("ngIf",o.checkboxFalseIcon),S(),I("ngIf",!o.checkboxFalseIcon)}}function QO(i,s){if(i&1){let o=We();H(0,"label",14),Oe("click",function(r){te(o);let u=T(),h=Zi(3);return ie(u.onClick(r,h))}),Xe(1),U()}if(i&2){let o=T();I("ngClass",Vn(3,AO,o.value!=null,o.disabled,o.focused)),ne("for",o.inputId),S(),It(o.label)}}var JO={provide:Er,useExisting:Ir(()=>eL),multi:!0},eL=(()=>{let s=class s{constructor(e,r){f(this,"cd");f(this,"config");f(this,"disabled");f(this,"name");f(this,"ariaLabel");f(this,"ariaLabelledBy");f(this,"variant","outlined");f(this,"tabindex");f(this,"inputId");f(this,"style");f(this,"styleClass");f(this,"label");f(this,"readonly");f(this,"checkboxTrueIcon");f(this,"checkboxFalseIcon");f(this,"autofocus");f(this,"onChange",new qe);f(this,"templates");f(this,"checkIconTemplate");f(this,"uncheckIconTemplate");f(this,"focused");f(this,"value");f(this,"onModelChange",()=>{});f(this,"onModelTouched",()=>{});this.cd=e,this.config=r}onClick(e,r){!this.disabled&&!this.readonly&&(this.toggle(e),this.focused=!0,r.focus())}onKeyDown(e){e.key==="Enter"&&(this.toggle(e),e.preventDefault())}toggle(e){this.value==null||this.value==null?this.value=!0:this.value==!0?this.value=!1:this.value==!1&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"checkicon":this.checkIconTemplate=e.template;break;case"uncheckicon":this.uncheckIconTemplate=e.template;break}})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}writeValue(e){this.value=e,this.cd.markForCheck()}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}};f(s,"\u0275fac",function(r){return new(r||s)(Ge(Xi),Ge(so))}),f(s,"\u0275cmp",je({type:s,selectors:[["p-triStateCheckbox"]],contentQueries:function(r,u,h){if(r&1&&Gi(h,Pi,4),r&2){let g;Je(g=et())&&(u.templates=g)}},hostAttrs:[1,"p-element"],inputs:{disabled:[2,"disabled","disabled",we],name:"name",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",variant:"variant",tabindex:[2,"tabindex","tabindex",Mt],inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:[2,"readonly","readonly",we],checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon",autofocus:[2,"autofocus","autofocus",we]},outputs:{onChange:"onChange"},features:[jn([JO]),gn],decls:8,vars:28,consts:[["input",""],[3,"click","ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","inputmode","none","pAutoFocus","",3,"keydown","focus","blur","name","readonly","disabled","autofocus"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[1,"p-checkbox-label",3,"click","ngClass"]],template:function(r,u){if(r&1){let h=We();H(0,"div",1),Oe("click",function(y){te(h);let w=Zi(3);return ie(u.onClick(y,w))}),H(1,"div",2)(2,"input",3,0),Oe("keydown",function(y){return te(h),ie(u.onKeyDown(y))})("focus",function(){return te(h),ie(u.onFocus())})("blur",function(){return te(h),ie(u.onBlur())}),U()(),H(4,"div",4),K(5,UO,3,2,"ng-container",5)(6,$O,3,2,"ng-container",5),U()(),K(7,QO,2,7,"label",6)}r&2&&(Re(u.styleClass),I("ngStyle",u.style)("ngClass",Vn(20,FO,u.disabled,u.focused,u.variant==="filled"||u.config.inputStyle()==="filled")),ne("data-pc-name","tristatecheckbox")("data-pc-section","root"),S(2),I("name",u.name)("readonly",u.readonly)("disabled",u.disabled)("autofocus",u.autofocus),ne("id",u.inputId)("tabindex",u.tabindex)("aria-labelledby",u.ariaLabelledBy)("aria-label",u.ariaLabel)("data-pc-section","hiddenInput"),S(2),I("ngClass",Vn(24,NO,u.value!=null,u.disabled,u.focused)),ne("aria-checked",u.value===!0),S(),I("ngIf",u.value===!0),S(),I("ngIf",u.value===!1),S(),I("ngIf",u.label))},dependencies:()=>[xn,un,wn,bn,Xr,vo,or],encapsulation:2,changeDetection:0}));let i=s;return i})(),ay=(()=>{let s=class s{};f(s,"\u0275fac",function(r){return new(r||s)}),f(s,"\u0275mod",Vt({type:s})),f(s,"\u0275inj",At({imports:[kt,wt,kr,vo,or,wt]}));let i=s;return i})();var ly=(()=>{let s=class s{};f(s,"\u0275fac",function(r){return new(r||s)}),f(s,"\u0275mod",Vt({type:s})),f(s,"\u0275inj",At({imports:[kt,sy,Ga,Sl,ll,Us,vp,Y_,Tl,ay,Os,j_,W_,Ha,J_,ty,ey,vo,X_,$_,Q_,iy,wt,Os]}));let i=s;return i})();var tL=(i,s,o)=>({"p-togglebutton p-button p-component":!0,"p-button-icon-only":i,"p-highlight":s,"p-disabled":o}),iL=(i,s)=>({"p-button-icon":!0,"p-button-icon-left":i,"p-button-icon-right":s}),nL=i=>({$implicit:i});function rL(i,s){if(i&1&&ye(0,"span",4),i&2){let o=T(2);Re(o.checked?o.onIcon:o.offIcon),I("ngClass",Hi(4,iL,o.iconPos==="left",o.iconPos==="right")),ne("data-pc-section","icon")}}function oL(i,s){if(i&1&&K(0,rL,1,7,"span",3),i&2){let o=T();I("ngIf",o.onIcon||o.offIcon)}}function sL(i,s){i&1&&it(0)}function aL(i,s){if(i&1&&K(0,sL,1,0,"ng-container",5),i&2){let o=T();I("ngTemplateOutlet",o.iconTemplate)("ngTemplateOutletContext",nt(2,nL,o.checked))}}function lL(i,s){if(i&1&&(H(0,"span",6),Xe(1),U()),i&2){let o=T();ne("data-pc-section","label"),S(),It(o.checked?o.hasOnLabel?o.onLabel:"":o.hasOffLabel?o.offLabel:"")}}var uL={provide:Er,useExisting:Ir(()=>cL),multi:!0},cL=(()=>{let s=class s{constructor(e){f(this,"cd");f(this,"onLabel");f(this,"offLabel");f(this,"onIcon");f(this,"offIcon");f(this,"ariaLabel");f(this,"ariaLabelledBy");f(this,"disabled");f(this,"style");f(this,"styleClass");f(this,"inputId");f(this,"tabindex",0);f(this,"iconPos","left");f(this,"autofocus");f(this,"onChange",new qe);f(this,"templates");f(this,"iconTemplate");f(this,"checked",!1);f(this,"onModelChange",()=>{});f(this,"onModelTouched",()=>{});this.cd=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"icon":this.iconTemplate=e.template;break;default:this.iconTemplate=e.template;break}})}toggle(e){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:e,checked:this.checked}),this.cd.markForCheck())}onKeyDown(e){switch(e.code){case"Enter":this.toggle(e),e.preventDefault();break;case"Space":this.toggle(e),e.preventDefault();break}}onBlur(){this.onModelTouched()}writeValue(e){this.checked=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}};f(s,"\u0275fac",function(r){return new(r||s)(Ge(Xi))}),f(s,"\u0275cmp",je({type:s,selectors:[["p-toggleButton"]],contentQueries:function(r,u,h){if(r&1&&Gi(h,Pi,4),r&2){let g;Je(g=et())&&(u.templates=g)}},hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",we],style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:[2,"tabindex","tabindex",Mt],iconPos:"iconPos",autofocus:[2,"autofocus","autofocus",we]},outputs:{onChange:"onChange"},features:[jn([uL]),gn],decls:4,vars:17,consts:[["role","switch","pRipple","","pAutoFocus","",3,"click","keydown","ngClass","ngStyle","autofocus"],[3,"class","ngClass"],["class","p-button-label",4,"ngIf"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-button-label"]],template:function(r,u){r&1&&(H(0,"div",0),Oe("click",function(g){return u.toggle(g)})("keydown",function(g){return u.onKeyDown(g)}),K(1,oL,1,1,"span",1)(2,aL,1,4,"ng-container")(3,lL,2,2,"span",2),U()),r&2&&(Re(u.styleClass),I("ngClass",Vn(13,tL,u.onIcon&&u.offIcon&&!u.hasOnLabel&&!u.hasOffLabel,u.checked,u.disabled))("ngStyle",u.style)("autofocus",u.autofocus),ne("tabindex",u.disabled?null:u.tabindex)("aria-checked",u.checked)("aria-labelledby",u.ariaLabelledBy)("aria-label",u.ariaLabel)("data-pc-name","togglebutton")("data-pc-section","root"),S(),Od(u.iconTemplate?2:1),S(2),I("ngIf",u.onLabel||u.offLabel))},dependencies:[xn,un,wn,bn,ms,Xr],styles:['@layer primeng{.p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default;pointer-events:none}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus, .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:focus   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus, .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:focus   .p-button[_ngcontent-%COMP%]{position:relative;z-index:1}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child), .p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child):hover, .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%], .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%]:hover, .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child), .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child):hover, .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%]:hover{border-right:0 none}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type)   .p-button[_ngcontent-%COMP%]{border-radius:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}p-button[iconpos=right][_ngcontent-%COMP%]   spinnericon[_ngcontent-%COMP%]{order:1}}'],changeDetection:0}));let i=s;return i})(),uy=(()=>{let s=class s{};f(s,"\u0275fac",function(r){return new(r||s)}),f(s,"\u0275mod",Vt({type:s})),f(s,"\u0275inj",At({imports:[kt,Wr,wt,kr,wt]}));let i=s;return i})();var OJ=Nl([fs({transform:"{{transform}}",opacity:0}),Gs("{{transition}}")]),LJ=Nl([Gs("{{transition}}",fs({transform:"{{transform}}",opacity:0}))]);var cy=(()=>{let s=class s{};f(s,"\u0275fac",function(r){return new(r||s)}),f(s,"\u0275mod",Vt({type:s})),f(s,"\u0275inj",At({imports:[kt,Wr,wt,or,wt]}));let i=s;return i})();var pL=[{path:"",component:L_}],uee=(()=>{let s=class s{};f(s,"\u0275fac",function(r){return new(r||s)}),f(s,"\u0275mod",Vt({type:s})),f(s,"\u0275inj",At({providers:[Dd(Rd())],imports:[Ad.forChild(pL),kt,ll,qd,Jd.forRoot(),F_,P_,Us,N_,Kd,Yd,jd,Wd,Sl,Xd,Tl,H_,Ga,E_,$d,vp,q_,ly,G_,Qd,uy,O_,qa,cy]}));let i=s;return i})();export{uee as DispModule};
